<!DOCTYPE html><html lang="en"><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-140352188-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-140352188-1');</script><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="description" content="The CDN for mobx"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/><meta name="timestamp" content="2024-12-06T12:00:46.077Z"/><link rel="shortcut icon" href="/favicon.ico"/><title>UNPKG - mobx</title><script>window.Promise || document.write('\x3Cscript src="/es6-promise@4.2.5/dist/es6-promise.min.js">\x3C/script>\x3Cscript>ES6Promise.polyfill()\x3C/script>')</script><script>window.fetch || document.write('\x3Cscript src="/whatwg-fetch@3.0.0/dist/fetch.umd.js">\x3C/script>')</script><script>window.__DATA__ = {"packageName":"mobx","packageVersion":"6.13.5","availableVersions":["0.0.0","2.0.0","2.0.1","2.0.2","2.0.3","2.0.4","2.0.5","2.0.6","2.1.0","2.1.1","2.1.2","2.1.3","2.1.4","2.1.5","2.1.6","2.1.7","2.2.0-beta.1","2.2.0","2.2.1","2.2.2","2.3.0","2.3.1","2.3.2","2.3.3","2.3.4-iosfix","2.3.4-iosfix2","2.3.4-iosfix3","2.3.4","2.3.5","2.3.6-albert","2.3.6","2.3.7","2.4.0-alpha1","2.4.0-beta1","2.4.0-fix427","2.4.0-fix441","2.4.0","2.4.1","2.4.2","2.4.3-fix505","2.4.3","2.4.4","2.5.0-alpha1","2.5.0-rc1","2.5.0","2.5.1","2.5.2","2.6.0-fix621","2.6.0","2.6.1","2.6.2","2.6.3","2.6.4","2.6.5","2.7.0-beta","2.7.0","3.0.0-fix-751","3.0.0-rc.1","3.0.0-rc.2","3.0.0","3.0.1-fix734","3.0.1-fix734-2","3.0.1","3.0.2-fix798","3.0.2-fix798-2","3.0.2","3.1.0","3.1.2","3.1.3","3.1.4","3.1.5","3.1.6-fix887","3.1.7","3.1.8-fix874","3.1.8","3.1.9","3.1.10","3.1.11-rollup","3.1.11","3.1.13-fixcra","3.1.14","3.1.15","3.1.16","3.1.17","3.2.0","3.2.1","3.2.2","3.3.0","3.3.1","3.3.2","3.3.3","3.4.0","3.4.1","3.5.1","3.6.0","3.6.1","3.6.2","4.0.0-alpha.1","4.0.0-alpha.2","4.0.0-beta.1","4.0.0-beta.2","4.0.0-beta.3","4.0.0-beta.4","4.0.0","4.0.1","4.0.2-fix-rn","4.0.2","4.1.0","4.1.1","4.2.0","4.2.1","4.3.0","4.3.1","4.3.2","4.4.0","4.4.1","4.4.2","4.5.0","4.5.1","4.5.2","4.6.0","4.7.0","4.8.0","4.9.0","4.9.1","4.9.2","4.9.3","4.9.4","4.10.0","4.11.0","4.12.0","4.13.0","4.13.1","4.14.0","4.14.1","4.15.0","4.15.1","4.15.2","4.15.3","4.15.4","4.15.5","4.15.6","4.15.7","5.0.0-beta.1","5.0.0-beta.2","5.0.0-beta.3","5.0.0-beta.4","5.0.0-beta.5","5.0.0-beta.6","5.0.0-beta.7","5.0.0","5.0.2","5.0.3","5.0.4","5.0.5","5.1.0","5.1.1","5.1.2","5.5.0","5.5.1","5.5.2","5.6.0","5.7.0","5.8.0","5.9.0","5.9.4-special","5.9.4","5.10.0","5.10.1","5.11.0","5.13.0","5.13.1","5.14.0","5.14.1","5.14.2","5.15.0","5.15.1","5.15.2","5.15.3","5.15.4","5.15.5","5.15.6","5.15.7","6.0.0-rc.0","6.0.0-rc.1","6.0.0-rc.2","6.0.0-rc.3","6.0.0-rc.4","6.0.0-rc.5","6.0.0-rc.6","6.0.0-rc.7","6.0.0-rc.8","6.0.0-rc.9","6.0.0-rc.10","6.0.0","6.0.1","6.0.2","6.0.3","6.0.4","6.0.5","6.1.0","6.1.1","6.1.2","6.1.3","6.1.4","6.1.5","6.1.6","6.1.7","6.1.8","6.2.0","6.3.0","6.3.1","6.3.2","6.3.3","6.3.4","6.3.5","6.3.6","6.3.7","6.3.8","6.3.9","6.3.10","6.3.11","6.3.12","6.3.13","6.4.0","6.4.1","6.4.2","6.5.0","6.6.0","6.6.1","6.6.2","6.7.0","6.8.0","6.9.0","6.9.1","6.10.0","6.10.1","6.10.2","6.11.0-pre","6.11.0","6.12.0","6.12.1","6.12.3","6.12.4","6.12.5","6.13.0","6.13.1","6.13.2","6.13.3","6.13.4","6.13.5"],"filename":"/dist/mobx.umd.development.js","target":{"path":"/dist/mobx.umd.development.js","type":"file","details":{"contentType":"application/javascript","integrity":"sha384-58yzp4THySeAI/TRE85Jf73XpFFmxZZcjDlgKh7a/HClm1fQGf9i6sDo3NunsPRC","language":"JavaScript","size":229394,"uri":null,"highlights":["(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">global, factory</span>) </span>{\n","    <span class=\"code-keyword\">typeof</span> exports === <span class=\"code-string\">'object'</span> &amp;&amp; <span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">module</span> !== <span class=\"code-string\">'undefined'</span> ? factory(exports) :\n","    <span class=\"code-keyword\">typeof</span> define === <span class=\"code-string\">'function'</span> &amp;&amp; define.amd ? define([<span class=\"code-string\">'exports'</span>], factory) :\n","    (global = global || self, factory(global.mobx = {}));\n","}(<span class=\"code-keyword\">this</span>, (<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">exports</span>) </span>{ <span class=\"code-string\">'use strict'</span>;\n","\n","    <span class=\"code-keyword\">var</span> niceErrors = {\n","      <span class=\"code-number\">0</span>: <span class=\"code-string\">\"Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'\"</span>,\n","      <span class=\"code-number\">1</span>: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_</span>(<span class=\"code-params\">annotationType, key</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"Cannot apply '\"</span> + annotationType + <span class=\"code-string\">\"' to '\"</span> + key.toString() + <span class=\"code-string\">\"': Field not found.\"</span>;\n","      },\n","      <span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\">      2(prop) {\n</span>","<span class=\"code-comment\">          return `invalid decorator for '${prop.toString()}'`\n</span>","<span class=\"code-comment\">      },\n</span>","<span class=\"code-comment\">      3(prop) {\n</span>","<span class=\"code-comment\">          return `Cannot decorate '${prop.toString()}': action can only be used on properties with a function value.`\n</span>","<span class=\"code-comment\">      },\n</span>","<span class=\"code-comment\">      4(prop) {\n</span>","<span class=\"code-comment\">          return `Cannot decorate '${prop.toString()}': computed can only be used on getter properties.`\n</span>","<span class=\"code-comment\">      },\n</span>","<span class=\"code-comment\">      */</span>\n","      <span class=\"code-number\">5</span>: <span class=\"code-string\">\"'keys()' can only be used on observable objects, arrays, sets and maps\"</span>,\n","      <span class=\"code-number\">6</span>: <span class=\"code-string\">\"'values()' can only be used on observable objects, arrays, sets and maps\"</span>,\n","      <span class=\"code-number\">7</span>: <span class=\"code-string\">\"'entries()' can only be used on observable objects, arrays and maps\"</span>,\n","      <span class=\"code-number\">8</span>: <span class=\"code-string\">\"'set()' can only be used on observable objects, arrays and maps\"</span>,\n","      <span class=\"code-number\">9</span>: <span class=\"code-string\">\"'remove()' can only be used on observable objects, arrays and maps\"</span>,\n","      <span class=\"code-number\">10</span>: <span class=\"code-string\">\"'has()' can only be used on observable objects, arrays and maps\"</span>,\n","      <span class=\"code-number\">11</span>: <span class=\"code-string\">\"'get()' can only be used on observable objects, arrays and maps\"</span>,\n","      <span class=\"code-number\">12</span>: <span class=\"code-string\">\"Invalid annotation\"</span>,\n","      <span class=\"code-number\">13</span>: <span class=\"code-string\">\"Dynamic observable objects cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)\"</span>,\n","      <span class=\"code-number\">14</span>: <span class=\"code-string\">\"Intercept handlers should return nothing or a change object\"</span>,\n","      <span class=\"code-number\">15</span>: <span class=\"code-string\">\"Observable arrays cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)\"</span>,\n","      <span class=\"code-number\">16</span>: <span class=\"code-string\">\"Modification exception: the internal structure of an observable array was changed.\"</span>,\n","      <span class=\"code-number\">17</span>: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_</span>(<span class=\"code-params\">index, length</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"[mobx.array] Index out of bounds, \"</span> + index + <span class=\"code-string\">\" is larger than \"</span> + length;\n","      },\n","      <span class=\"code-number\">18</span>: <span class=\"code-string\">\"mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js\"</span>,\n","      <span class=\"code-number\">19</span>: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_</span>(<span class=\"code-params\">other</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"Cannot initialize from classes that inherit from Map: \"</span> + other.constructor.name;\n","      },\n","      <span class=\"code-number\">20</span>: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_</span>(<span class=\"code-params\">other</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"Cannot initialize map from \"</span> + other;\n","      },\n","      <span class=\"code-number\">21</span>: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_</span>(<span class=\"code-params\">dataStructure</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"Cannot convert to map from '\"</span> + dataStructure + <span class=\"code-string\">\"'\"</span>;\n","      },\n","      <span class=\"code-number\">22</span>: <span class=\"code-string\">\"mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js\"</span>,\n","      <span class=\"code-number\">23</span>: <span class=\"code-string\">\"It is not possible to get index atoms from arrays\"</span>,\n","      <span class=\"code-number\">24</span>: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_</span>(<span class=\"code-params\">thing</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"Cannot obtain administration from \"</span> + thing;\n","      },\n","      <span class=\"code-number\">25</span>: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_</span>(<span class=\"code-params\">property, name</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"the entry '\"</span> + property + <span class=\"code-string\">\"' does not exist in the observable map '\"</span> + name + <span class=\"code-string\">\"'\"</span>;\n","      },\n","      <span class=\"code-number\">26</span>: <span class=\"code-string\">\"please specify a property\"</span>,\n","      <span class=\"code-number\">27</span>: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_</span>(<span class=\"code-params\">property, name</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"no observable property '\"</span> + property.toString() + <span class=\"code-string\">\"' found on the observable object '\"</span> + name + <span class=\"code-string\">\"'\"</span>;\n","      },\n","      <span class=\"code-number\">28</span>: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_</span>(<span class=\"code-params\">thing</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"Cannot obtain atom from \"</span> + thing;\n","      },\n","      <span class=\"code-number\">29</span>: <span class=\"code-string\">\"Expecting some object\"</span>,\n","      <span class=\"code-number\">30</span>: <span class=\"code-string\">\"invalid action stack. did you forget to finish an action?\"</span>,\n","      <span class=\"code-number\">31</span>: <span class=\"code-string\">\"missing option for computed: get\"</span>,\n","      <span class=\"code-number\">32</span>: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_</span>(<span class=\"code-params\">name, derivation</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"Cycle detected in computation \"</span> + name + <span class=\"code-string\">\": \"</span> + derivation;\n","      },\n","      <span class=\"code-number\">33</span>: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_</span>(<span class=\"code-params\">name</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"The setter of computed value '\"</span> + name + <span class=\"code-string\">\"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?\"</span>;\n","      },\n","      <span class=\"code-number\">34</span>: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_</span>(<span class=\"code-params\">name</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"[ComputedValue '\"</span> + name + <span class=\"code-string\">\"'] It is not possible to assign a new value to a computed value.\"</span>;\n","      },\n","      <span class=\"code-number\">35</span>: <span class=\"code-string\">\"There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`\"</span>,\n","      <span class=\"code-number\">36</span>: <span class=\"code-string\">\"isolateGlobalState should be called before MobX is running any reactions\"</span>,\n","      <span class=\"code-number\">37</span>: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_</span>(<span class=\"code-params\">method</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"[mobx] `observableArray.\"</span> + method + <span class=\"code-string\">\"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice().\"</span> + method + <span class=\"code-string\">\"()` instead\"</span>;\n","      },\n","      <span class=\"code-number\">38</span>: <span class=\"code-string\">\"'ownKeys()' can only be used on observable objects\"</span>,\n","      <span class=\"code-number\">39</span>: <span class=\"code-string\">\"'defineProperty()' can only be used on observable objects\"</span>\n","    };\n","    <span class=\"code-keyword\">var</span> errors =  niceErrors ;\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">die</span>(<span class=\"code-params\">error</span>) </span>{\n","      <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> _len = <span class=\"code-built_in\">arguments</span>.length, args = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(_len &gt; <span class=\"code-number\">1</span> ? _len - <span class=\"code-number\">1</span> : <span class=\"code-number\">0</span>), _key = <span class=\"code-number\">1</span>; _key &lt; _len; _key++) {\n","        args[_key - <span class=\"code-number\">1</span>] = <span class=\"code-built_in\">arguments</span>[_key];\n","      }\n","      {\n","        <span class=\"code-keyword\">var</span> e = <span class=\"code-keyword\">typeof</span> error === <span class=\"code-string\">\"string\"</span> ? error : errors[error];\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> e === <span class=\"code-string\">\"function\"</span>) e = e.apply(<span class=\"code-literal\">null</span>, args);\n","        <span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"[MobX] \"</span> + e);\n","      }\n","    }\n","\n","    <span class=\"code-keyword\">var</span> mockGlobal = {};\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getGlobal</span>(<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> globalThis !== <span class=\"code-string\">\"undefined\"</span>) {\n","        <span class=\"code-keyword\">return</span> globalThis;\n","      }\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span> !== <span class=\"code-string\">\"undefined\"</span>) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-built_in\">window</span>;\n","      }\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> global !== <span class=\"code-string\">\"undefined\"</span>) {\n","        <span class=\"code-keyword\">return</span> global;\n","      }\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> self !== <span class=\"code-string\">\"undefined\"</span>) {\n","        <span class=\"code-keyword\">return</span> self;\n","      }\n","      <span class=\"code-keyword\">return</span> mockGlobal;\n","    }\n","\n","    <span class=\"code-comment\">// We shorten anything used &gt; 5 times</span>\n","    <span class=\"code-keyword\">var</span> assign = <span class=\"code-built_in\">Object</span>.assign;\n","    <span class=\"code-keyword\">var</span> getDescriptor = <span class=\"code-built_in\">Object</span>.getOwnPropertyDescriptor;\n","    <span class=\"code-keyword\">var</span> defineProperty = <span class=\"code-built_in\">Object</span>.defineProperty;\n","    <span class=\"code-keyword\">var</span> objectPrototype = <span class=\"code-built_in\">Object</span>.prototype;\n","    <span class=\"code-keyword\">var</span> EMPTY_ARRAY = [];\n","    <span class=\"code-built_in\">Object</span>.freeze(EMPTY_ARRAY);\n","    <span class=\"code-keyword\">var</span> EMPTY_OBJECT = {};\n","    <span class=\"code-built_in\">Object</span>.freeze(EMPTY_OBJECT);\n","    <span class=\"code-keyword\">var</span> hasProxy = <span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Proxy</span> !== <span class=\"code-string\">\"undefined\"</span>;\n","    <span class=\"code-keyword\">var</span> plainObjectString = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-built_in\">Object</span>.toString();\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">assertProxies</span>(<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-keyword\">if</span> (!hasProxy) {\n","        die( <span class=\"code-string\">\"`Proxy` objects are not available in the current environment. Please configure MobX to enable a fallback implementation.`\"</span> );\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">warnAboutProxyRequirement</span>(<span class=\"code-params\">msg</span>) </span>{\n","      <span class=\"code-keyword\">if</span> ( globalState.verifyProxies) {\n","        die(<span class=\"code-string\">\"MobX is currently configured to be able to run in ES5 mode, but in ES5 MobX won't be able to \"</span> + msg);\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getNextId</span>(<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-keyword\">return</span> ++globalState.mobxGuid;\n","    }\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * Makes sure that the provided function is invoked at most once.\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">once</span>(<span class=\"code-params\">func</span>) </span>{\n","      <span class=\"code-keyword\">var</span> invoked = <span class=\"code-literal\">false</span>;\n","      <span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">if</span> (invoked) {\n","          <span class=\"code-keyword\">return</span>;\n","        }\n","        invoked = <span class=\"code-literal\">true</span>;\n","        <span class=\"code-keyword\">return</span> func.apply(<span class=\"code-keyword\">this</span>, <span class=\"code-built_in\">arguments</span>);\n","      };\n","    }\n","    <span class=\"code-keyword\">var</span> noop = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">noop</span>(<span class=\"code-params\"></span>) </span>{};\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isFunction</span>(<span class=\"code-params\">fn</span>) </span>{\n","      <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">typeof</span> fn === <span class=\"code-string\">\"function\"</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isStringish</span>(<span class=\"code-params\">value</span>) </span>{\n","      <span class=\"code-keyword\">var</span> t = <span class=\"code-keyword\">typeof</span> value;\n","      <span class=\"code-keyword\">switch</span> (t) {\n","        <span class=\"code-keyword\">case</span> <span class=\"code-string\">\"string\"</span>:\n","        <span class=\"code-keyword\">case</span> <span class=\"code-string\">\"symbol\"</span>:\n","        <span class=\"code-keyword\">case</span> <span class=\"code-string\">\"number\"</span>:\n","          <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","      }\n","      <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isObject</span>(<span class=\"code-params\">value</span>) </span>{\n","      <span class=\"code-keyword\">return</span> value !== <span class=\"code-literal\">null</span> &amp;&amp; <span class=\"code-keyword\">typeof</span> value === <span class=\"code-string\">\"object\"</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isPlainObject</span>(<span class=\"code-params\">value</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (!isObject(value)) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","      }\n","      <span class=\"code-keyword\">var</span> proto = <span class=\"code-built_in\">Object</span>.getPrototypeOf(value);\n","      <span class=\"code-keyword\">if</span> (proto == <span class=\"code-literal\">null</span>) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","      }\n","      <span class=\"code-keyword\">var</span> protoConstructor = <span class=\"code-built_in\">Object</span>.hasOwnProperty.call(proto, <span class=\"code-string\">\"constructor\"</span>) &amp;&amp; proto.constructor;\n","      <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">typeof</span> protoConstructor === <span class=\"code-string\">\"function\"</span> &amp;&amp; protoConstructor.toString() === plainObjectString;\n","    }\n","    <span class=\"code-comment\">// https://stackoverflow.com/a/37865170</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isGenerator</span>(<span class=\"code-params\">obj</span>) </span>{\n","      <span class=\"code-keyword\">var</span> <span class=\"code-keyword\">constructor</span> = obj == null ? void 0 : obj.<span class=\"code-keyword\">constructor</span>;\n","      if (!<span class=\"code-keyword\">constructor</span>) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","      }\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-string\">\"GeneratorFunction\"</span> === <span class=\"code-keyword\">constructor</span>.name || \"GeneratorFunction\" === <span class=\"code-keyword\">constructor</span>.displayName) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","      }\n","      <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">addHiddenProp</span>(<span class=\"code-params\">object, propName, value</span>) </span>{\n","      defineProperty(object, propName, {\n","        enumerable: <span class=\"code-literal\">false</span>,\n","        writable: <span class=\"code-literal\">true</span>,\n","        configurable: <span class=\"code-literal\">true</span>,\n","        value: value\n","      });\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">addHiddenFinalProp</span>(<span class=\"code-params\">object, propName, value</span>) </span>{\n","      defineProperty(object, propName, {\n","        enumerable: <span class=\"code-literal\">false</span>,\n","        writable: <span class=\"code-literal\">false</span>,\n","        configurable: <span class=\"code-literal\">true</span>,\n","        value: value\n","      });\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createInstanceofPredicate</span>(<span class=\"code-params\">name, theClass</span>) </span>{\n","      <span class=\"code-keyword\">var</span> propName = <span class=\"code-string\">\"isMobX\"</span> + name;\n","      theClass.prototype[propName] = <span class=\"code-literal\">true</span>;\n","      <span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">x</span>) </span>{\n","        <span class=\"code-keyword\">return</span> isObject(x) &amp;&amp; x[propName] === <span class=\"code-literal\">true</span>;\n","      };\n","    }\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * Yields true for both native and observable Map, even across different windows.\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isES6Map</span>(<span class=\"code-params\">thing</span>) </span>{\n","      <span class=\"code-keyword\">return</span> thing != <span class=\"code-literal\">null</span> &amp;&amp; <span class=\"code-built_in\">Object</span>.prototype.toString.call(thing) === <span class=\"code-string\">\"[object Map]\"</span>;\n","    }\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * Makes sure a Map is an instance of non-inherited native or observable Map.\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isPlainES6Map</span>(<span class=\"code-params\">thing</span>) </span>{\n","      <span class=\"code-keyword\">var</span> mapProto = <span class=\"code-built_in\">Object</span>.getPrototypeOf(thing);\n","      <span class=\"code-keyword\">var</span> objectProto = <span class=\"code-built_in\">Object</span>.getPrototypeOf(mapProto);\n","      <span class=\"code-keyword\">var</span> nullProto = <span class=\"code-built_in\">Object</span>.getPrototypeOf(objectProto);\n","      <span class=\"code-keyword\">return</span> nullProto === <span class=\"code-literal\">null</span>;\n","    }\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * Yields true for both native and observable Set, even across different windows.\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isES6Set</span>(<span class=\"code-params\">thing</span>) </span>{\n","      <span class=\"code-keyword\">return</span> thing != <span class=\"code-literal\">null</span> &amp;&amp; <span class=\"code-built_in\">Object</span>.prototype.toString.call(thing) === <span class=\"code-string\">\"[object Set]\"</span>;\n","    }\n","    <span class=\"code-keyword\">var</span> hasGetOwnPropertySymbols = <span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Object</span>.getOwnPropertySymbols !== <span class=\"code-string\">\"undefined\"</span>;\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * Returns the following: own enumerable keys and symbols.\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getPlainObjectKeys</span>(<span class=\"code-params\">object</span>) </span>{\n","      <span class=\"code-keyword\">var</span> keys = <span class=\"code-built_in\">Object</span>.keys(object);\n","      <span class=\"code-comment\">// Not supported in IE, so there are not going to be symbol props anyway...</span>\n","      <span class=\"code-keyword\">if</span> (!hasGetOwnPropertySymbols) {\n","        <span class=\"code-keyword\">return</span> keys;\n","      }\n","      <span class=\"code-keyword\">var</span> symbols = <span class=\"code-built_in\">Object</span>.getOwnPropertySymbols(object);\n","      <span class=\"code-keyword\">if</span> (!symbols.length) {\n","        <span class=\"code-keyword\">return</span> keys;\n","      }\n","      <span class=\"code-keyword\">return</span> [].concat(keys, symbols.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">s</span>) </span>{\n","        <span class=\"code-keyword\">return</span> objectPrototype.propertyIsEnumerable.call(object, s);\n","      }));\n","    }\n","    <span class=\"code-comment\">// From Immer utils</span>\n","    <span class=\"code-comment\">// Returns all own keys, including non-enumerable and symbolic</span>\n","    <span class=\"code-keyword\">var</span> ownKeys = <span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Reflect</span> !== <span class=\"code-string\">\"undefined\"</span> &amp;&amp; <span class=\"code-built_in\">Reflect</span>.ownKeys ? <span class=\"code-built_in\">Reflect</span>.ownKeys : hasGetOwnPropertySymbols ? <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">obj</span>) </span>{\n","      <span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.getOwnPropertyNames(obj).concat(<span class=\"code-built_in\">Object</span>.getOwnPropertySymbols(obj));\n","    } : <span class=\"code-comment\">/* istanbul ignore next */</span><span class=\"code-built_in\">Object</span>.getOwnPropertyNames;\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">stringifyKey</span>(<span class=\"code-params\">key</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> key === <span class=\"code-string\">\"string\"</span>) {\n","        <span class=\"code-keyword\">return</span> key;\n","      }\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> key === <span class=\"code-string\">\"symbol\"</span>) {\n","        <span class=\"code-keyword\">return</span> key.toString();\n","      }\n","      <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">String</span>(key).toString();\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toPrimitive</span>(<span class=\"code-params\">value</span>) </span>{\n","      <span class=\"code-keyword\">return</span> value === <span class=\"code-literal\">null</span> ? <span class=\"code-literal\">null</span> : <span class=\"code-keyword\">typeof</span> value === <span class=\"code-string\">\"object\"</span> ? <span class=\"code-string\">\"\"</span> + value : value;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">hasProp</span>(<span class=\"code-params\">target, prop</span>) </span>{\n","      <span class=\"code-keyword\">return</span> objectPrototype.hasOwnProperty.call(target, prop);\n","    }\n","    <span class=\"code-comment\">// From Immer utils</span>\n","    <span class=\"code-keyword\">var</span> getOwnPropertyDescriptors = <span class=\"code-built_in\">Object</span>.getOwnPropertyDescriptors || <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getOwnPropertyDescriptors</span>(<span class=\"code-params\">target</span>) </span>{\n","      <span class=\"code-comment\">// Polyfill needed for Hermes and IE, see https://github.com/facebook/hermes/issues/274</span>\n","      <span class=\"code-keyword\">var</span> res = {};\n","      <span class=\"code-comment\">// Note: without polyfill for ownKeys, symbols won't be picked up</span>\n","      ownKeys(target).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">key</span>) </span>{\n","        res[key] = getDescriptor(target, key);\n","      });\n","      <span class=\"code-keyword\">return</span> res;\n","    };\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getFlag</span>(<span class=\"code-params\">flags, mask</span>) </span>{\n","      <span class=\"code-keyword\">return</span> !!(flags &amp; mask);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">setFlag</span>(<span class=\"code-params\">flags, mask, newValue</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (newValue) {\n","        flags |= mask;\n","      } <span class=\"code-keyword\">else</span> {\n","        flags &amp;= ~mask;\n","      }\n","      <span class=\"code-keyword\">return</span> flags;\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_arrayLikeToArray</span>(<span class=\"code-params\">r, a</span>) </span>{\n","      (<span class=\"code-literal\">null</span> == a || a &gt; r.length) &amp;&amp; (a = r.length);\n","      <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> e = <span class=\"code-number\">0</span>, n = <span class=\"code-built_in\">Array</span>(a); e &lt; a; e++) n[e] = r[e];\n","      <span class=\"code-keyword\">return</span> n;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_defineProperties</span>(<span class=\"code-params\">e, r</span>) </span>{\n","      <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> t = <span class=\"code-number\">0</span>; t &lt; r.length; t++) {\n","        <span class=\"code-keyword\">var</span> o = r[t];\n","        o.enumerable = o.enumerable || !<span class=\"code-number\">1</span>, o.configurable = !<span class=\"code-number\">0</span>, <span class=\"code-string\">\"value\"</span> <span class=\"code-keyword\">in</span> o &amp;&amp; (o.writable = !<span class=\"code-number\">0</span>), <span class=\"code-built_in\">Object</span>.defineProperty(e, _toPropertyKey(o.key), o);\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_createClass</span>(<span class=\"code-params\">e, r, t</span>) </span>{\n","      <span class=\"code-keyword\">return</span> r &amp;&amp; _defineProperties(e.prototype, r), t &amp;&amp; _defineProperties(e, t), <span class=\"code-built_in\">Object</span>.defineProperty(e, <span class=\"code-string\">\"prototype\"</span>, {\n","        writable: !<span class=\"code-number\">1</span>\n","      }), e;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_createForOfIteratorHelperLoose</span>(<span class=\"code-params\">r, e</span>) </span>{\n","      <span class=\"code-keyword\">var</span> t = <span class=\"code-string\">\"undefined\"</span> != <span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span> &amp;&amp; r[<span class=\"code-built_in\">Symbol</span>.iterator] || r[<span class=\"code-string\">\"@@iterator\"</span>];\n","      <span class=\"code-keyword\">if</span> (t) <span class=\"code-keyword\">return</span> (t = t.call(r)).next.bind(t);\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">Array</span>.isArray(r) || (t = _unsupportedIterableToArray(r)) || e &amp;&amp; r &amp;&amp; <span class=\"code-string\">\"number\"</span> == <span class=\"code-keyword\">typeof</span> r.length) {\n","        t &amp;&amp; (r = t);\n","        <span class=\"code-keyword\">var</span> o = <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          <span class=\"code-keyword\">return</span> o &gt;= r.length ? {\n","            done: !<span class=\"code-number\">0</span>\n","          } : {\n","            done: !<span class=\"code-number\">1</span>,\n","            value: r[o++]\n","          };\n","        };\n","      }\n","      <span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">TypeError</span>(<span class=\"code-string\">\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"</span>);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_extends</span>(<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-keyword\">return</span> _extends = <span class=\"code-built_in\">Object</span>.assign ? <span class=\"code-built_in\">Object</span>.assign.bind() : <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">n</span>) </span>{\n","        <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> e = <span class=\"code-number\">1</span>; e &lt; <span class=\"code-built_in\">arguments</span>.length; e++) {\n","          <span class=\"code-keyword\">var</span> t = <span class=\"code-built_in\">arguments</span>[e];\n","          <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> r <span class=\"code-keyword\">in</span> t) ({}).hasOwnProperty.call(t, r) &amp;&amp; (n[r] = t[r]);\n","        }\n","        <span class=\"code-keyword\">return</span> n;\n","      }, _extends.apply(<span class=\"code-literal\">null</span>, <span class=\"code-built_in\">arguments</span>);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_inheritsLoose</span>(<span class=\"code-params\">t, o</span>) </span>{\n","      t.prototype = <span class=\"code-built_in\">Object</span>.create(o.prototype), t.prototype.constructor = t, _setPrototypeOf(t, o);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_setPrototypeOf</span>(<span class=\"code-params\">t, e</span>) </span>{\n","      <span class=\"code-keyword\">return</span> _setPrototypeOf = <span class=\"code-built_in\">Object</span>.setPrototypeOf ? <span class=\"code-built_in\">Object</span>.setPrototypeOf.bind() : <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">t, e</span>) </span>{\n","        <span class=\"code-keyword\">return</span> t.__proto__ = e, t;\n","      }, _setPrototypeOf(t, e);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_toPrimitive</span>(<span class=\"code-params\">t, r</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-string\">\"object\"</span> != <span class=\"code-keyword\">typeof</span> t || !t) <span class=\"code-keyword\">return</span> t;\n","      <span class=\"code-keyword\">var</span> e = t[<span class=\"code-built_in\">Symbol</span>.toPrimitive];\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> !== e) {\n","        <span class=\"code-keyword\">var</span> i = e.call(t, r || <span class=\"code-string\">\"default\"</span>);\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-string\">\"object\"</span> != <span class=\"code-keyword\">typeof</span> i) <span class=\"code-keyword\">return</span> i;\n","        <span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">TypeError</span>(<span class=\"code-string\">\"@@toPrimitive must return a primitive value.\"</span>);\n","      }\n","      <span class=\"code-keyword\">return</span> (<span class=\"code-string\">\"string\"</span> === r ? <span class=\"code-built_in\">String</span> : <span class=\"code-built_in\">Number</span>)(t);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_toPropertyKey</span>(<span class=\"code-params\">t</span>) </span>{\n","      <span class=\"code-keyword\">var</span> i = _toPrimitive(t, <span class=\"code-string\">\"string\"</span>);\n","      <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"symbol\"</span> == <span class=\"code-keyword\">typeof</span> i ? i : i + <span class=\"code-string\">\"\"</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_unsupportedIterableToArray</span>(<span class=\"code-params\">r, a</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (r) {\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-string\">\"string\"</span> == <span class=\"code-keyword\">typeof</span> r) <span class=\"code-keyword\">return</span> _arrayLikeToArray(r, a);\n","        <span class=\"code-keyword\">var</span> t = {}.toString.call(r).slice(<span class=\"code-number\">8</span>, <span class=\"code-number\">-1</span>);\n","        <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"Object\"</span> === t &amp;&amp; r.constructor &amp;&amp; (t = r.constructor.name), <span class=\"code-string\">\"Map\"</span> === t || <span class=\"code-string\">\"Set\"</span> === t ? <span class=\"code-built_in\">Array</span>.from(r) : <span class=\"code-string\">\"Arguments\"</span> === t || <span class=\"code-regexp\">/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/</span>.test(t) ? _arrayLikeToArray(r, a) : <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","      }\n","    }\n","\n","    <span class=\"code-keyword\">var</span> storedAnnotationsSymbol = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-built_in\">Symbol</span>(<span class=\"code-string\">\"mobx-stored-annotations\"</span>);\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * Creates a function that acts as\n</span>","<span class=\"code-comment\">     * - decorator\n</span>","<span class=\"code-comment\">     * - annotation object\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createDecoratorAnnotation</span>(<span class=\"code-params\">annotation</span>) </span>{\n","      <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">decorator</span>(<span class=\"code-params\">target, property</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (is20223Decorator(property)) {\n","          <span class=\"code-keyword\">return</span> annotation.decorate_20223_(target, property);\n","        } <span class=\"code-keyword\">else</span> {\n","          storeAnnotation(target, property, annotation);\n","        }\n","      }\n","      <span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.assign(decorator, annotation);\n","    }\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * Stores annotation to prototype,\n</span>","<span class=\"code-comment\">     * so it can be inspected later by `makeObservable` called from constructor\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">storeAnnotation</span>(<span class=\"code-params\">prototype, key, annotation</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (!hasProp(prototype, storedAnnotationsSymbol)) {\n","        addHiddenProp(prototype, storedAnnotationsSymbol, _extends({}, prototype[storedAnnotationsSymbol]));\n","      }\n","      <span class=\"code-comment\">// @override must override something</span>\n","      <span class=\"code-keyword\">if</span> ( isOverride(annotation) &amp;&amp; !hasProp(prototype[storedAnnotationsSymbol], key)) {\n","        <span class=\"code-keyword\">var</span> fieldName = prototype.constructor.name + <span class=\"code-string\">\".prototype.\"</span> + key.toString();\n","        die(<span class=\"code-string\">\"'\"</span> + fieldName + <span class=\"code-string\">\"' is decorated with 'override', \"</span> + <span class=\"code-string\">\"but no such decorated member was found on prototype.\"</span>);\n","      }\n","      <span class=\"code-comment\">// Cannot re-decorate</span>\n","      assertNotDecorated(prototype, annotation, key);\n","      <span class=\"code-comment\">// Ignore override</span>\n","      <span class=\"code-keyword\">if</span> (!isOverride(annotation)) {\n","        prototype[storedAnnotationsSymbol][key] = annotation;\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">assertNotDecorated</span>(<span class=\"code-params\">prototype, annotation, key</span>) </span>{\n","      <span class=\"code-keyword\">if</span> ( !isOverride(annotation) &amp;&amp; hasProp(prototype[storedAnnotationsSymbol], key)) {\n","        <span class=\"code-keyword\">var</span> fieldName = prototype.constructor.name + <span class=\"code-string\">\".prototype.\"</span> + key.toString();\n","        <span class=\"code-keyword\">var</span> currentAnnotationType = prototype[storedAnnotationsSymbol][key].annotationType_;\n","        <span class=\"code-keyword\">var</span> requestedAnnotationType = annotation.annotationType_;\n","        die(<span class=\"code-string\">\"Cannot apply '@\"</span> + requestedAnnotationType + <span class=\"code-string\">\"' to '\"</span> + fieldName + <span class=\"code-string\">\"':\"</span> + (<span class=\"code-string\">\"\\nThe field is already decorated with '@\"</span> + currentAnnotationType + <span class=\"code-string\">\"'.\"</span>) + <span class=\"code-string\">\"\\nRe-decorating fields is not allowed.\"</span> + <span class=\"code-string\">\"\\nUse '@override' decorator for methods overridden by subclass.\"</span>);\n","      }\n","    }\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * Collects annotations from prototypes and stores them on target (instance)\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">collectStoredAnnotations</span>(<span class=\"code-params\">target</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (!hasProp(target, storedAnnotationsSymbol)) {\n","        <span class=\"code-comment\">// if (__DEV__ &amp;&amp; !target[storedAnnotationsSymbol]) {</span>\n","        <span class=\"code-comment\">//     die(</span>\n","        <span class=\"code-comment\">//         `No annotations were passed to makeObservable, but no decorated members have been found either`</span>\n","        <span class=\"code-comment\">//     )</span>\n","        <span class=\"code-comment\">// }</span>\n","        <span class=\"code-comment\">// We need a copy as we will remove annotation from the list once it's applied.</span>\n","        addHiddenProp(target, storedAnnotationsSymbol, _extends({}, target[storedAnnotationsSymbol]));\n","      }\n","      <span class=\"code-keyword\">return</span> target[storedAnnotationsSymbol];\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">is20223Decorator</span>(<span class=\"code-params\">context</span>) </span>{\n","      <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">typeof</span> context == <span class=\"code-string\">\"object\"</span> &amp;&amp; <span class=\"code-keyword\">typeof</span> context[<span class=\"code-string\">\"kind\"</span>] == <span class=\"code-string\">\"string\"</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">assert20223DecoratorType</span>(<span class=\"code-params\">context, types</span>) </span>{\n","      <span class=\"code-keyword\">if</span> ( !types.includes(context.kind)) {\n","        die(<span class=\"code-string\">\"The decorator applied to '\"</span> + <span class=\"code-built_in\">String</span>(context.name) + <span class=\"code-string\">\"' cannot be used on a \"</span> + context.kind + <span class=\"code-string\">\" element\"</span>);\n","      }\n","    }\n","\n","    <span class=\"code-keyword\">var</span> $mobx = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-built_in\">Symbol</span>(<span class=\"code-string\">\"mobx administration\"</span>);\n","    <span class=\"code-keyword\">var</span> Atom = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * Create a new atom. For debugging purposes it is recommended to give it a name.\n</span>","<span class=\"code-comment\">       * The onBecomeObserved and onBecomeUnobserved callbacks can be used for resource management.\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Atom</span>(<span class=\"code-params\">name_</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (name_ === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          name_ =  <span class=\"code-string\">\"Atom@\"</span> + getNextId() ;\n","        }\n","        <span class=\"code-keyword\">this</span>.name_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.flags_ = <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.observers_ = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Set</span>();\n","        <span class=\"code-keyword\">this</span>.lastAccessedBy_ = <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.lowestObserverState_ = IDerivationState_.NOT_TRACKING_;\n","        <span class=\"code-comment\">// onBecomeObservedListeners</span>\n","        <span class=\"code-keyword\">this</span>.onBOL = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-comment\">// onBecomeUnobservedListeners</span>\n","        <span class=\"code-keyword\">this</span>.onBUOL = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.name_ = name_;\n","      }\n","      <span class=\"code-comment\">// for effective unobserving. BaseAtom has true, for extra optimization, so its onBecomeUnobserved never gets called, because it's not needed</span>\n","      <span class=\"code-keyword\">var</span> _proto = Atom.prototype;\n","      _proto.onBO = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">onBO</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.onBOL) {\n","          <span class=\"code-keyword\">this</span>.onBOL.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">listener</span>) </span>{\n","            <span class=\"code-keyword\">return</span> listener();\n","          });\n","        }\n","      };\n","      _proto.onBUO = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">onBUO</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.onBUOL) {\n","          <span class=\"code-keyword\">this</span>.onBUOL.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">listener</span>) </span>{\n","            <span class=\"code-keyword\">return</span> listener();\n","          });\n","        }\n","      }\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * Invoke this method to notify mobx that your atom has been used somehow.\n</span>","<span class=\"code-comment\">       * Returns true if there is currently a reactive context.\n</span>","<span class=\"code-comment\">       */</span>;\n","      _proto.reportObserved = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">reportObserved$1</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> reportObserved(<span class=\"code-keyword\">this</span>);\n","      }\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * Invoke this method _after_ this method has changed to signal mobx that all its observers should invalidate.\n</span>","<span class=\"code-comment\">       */</span>;\n","      _proto.reportChanged = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">reportChanged</span>(<span class=\"code-params\"></span>) </span>{\n","        startBatch();\n","        propagateChanged(<span class=\"code-keyword\">this</span>);\n","        endBatch();\n","      };\n","      _proto.toString = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toString</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.name_;\n","      };\n","      <span class=\"code-keyword\">return</span> _createClass(Atom, [{\n","        key: <span class=\"code-string\">\"isBeingObserved\"</span>,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> getFlag(<span class=\"code-keyword\">this</span>.flags_, Atom.isBeingObservedMask_);\n","        },\n","        <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(newValue) {\n","          <span class=\"code-keyword\">this</span>.flags_ = setFlag(<span class=\"code-keyword\">this</span>.flags_, Atom.isBeingObservedMask_, newValue);\n","        }\n","      }, {\n","        key: <span class=\"code-string\">\"isPendingUnobservation\"</span>,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> getFlag(<span class=\"code-keyword\">this</span>.flags_, Atom.isPendingUnobservationMask_);\n","        },\n","        <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(newValue) {\n","          <span class=\"code-keyword\">this</span>.flags_ = setFlag(<span class=\"code-keyword\">this</span>.flags_, Atom.isPendingUnobservationMask_, newValue);\n","        }\n","      }, {\n","        key: <span class=\"code-string\">\"diffValue\"</span>,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> getFlag(<span class=\"code-keyword\">this</span>.flags_, Atom.diffValueMask_) ? <span class=\"code-number\">1</span> : <span class=\"code-number\">0</span>;\n","        },\n","        <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(newValue) {\n","          <span class=\"code-keyword\">this</span>.flags_ = setFlag(<span class=\"code-keyword\">this</span>.flags_, Atom.diffValueMask_, newValue === <span class=\"code-number\">1</span> ? <span class=\"code-literal\">true</span> : <span class=\"code-literal\">false</span>);\n","        }\n","      }]);\n","    }();\n","    Atom.isBeingObservedMask_ = <span class=\"code-number\">1</span>;\n","    Atom.isPendingUnobservationMask_ = <span class=\"code-number\">2</span>;\n","    Atom.diffValueMask_ = <span class=\"code-number\">4</span>;\n","    <span class=\"code-keyword\">var</span> isAtom = <span class=\"code-comment\">/*#__PURE__*/</span>createInstanceofPredicate(<span class=\"code-string\">\"Atom\"</span>, Atom);\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createAtom</span>(<span class=\"code-params\">name, onBecomeObservedHandler, onBecomeUnobservedHandler</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (onBecomeObservedHandler === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","        onBecomeObservedHandler = noop;\n","      }\n","      <span class=\"code-keyword\">if</span> (onBecomeUnobservedHandler === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","        onBecomeUnobservedHandler = noop;\n","      }\n","      <span class=\"code-keyword\">var</span> atom = <span class=\"code-keyword\">new</span> Atom(name);\n","      <span class=\"code-comment\">// default `noop` listener will not initialize the hook Set</span>\n","      <span class=\"code-keyword\">if</span> (onBecomeObservedHandler !== noop) {\n","        onBecomeObserved(atom, onBecomeObservedHandler);\n","      }\n","      <span class=\"code-keyword\">if</span> (onBecomeUnobservedHandler !== noop) {\n","        onBecomeUnobserved(atom, onBecomeUnobservedHandler);\n","      }\n","      <span class=\"code-keyword\">return</span> atom;\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">identityComparer</span>(<span class=\"code-params\">a, b</span>) </span>{\n","      <span class=\"code-keyword\">return</span> a === b;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">structuralComparer</span>(<span class=\"code-params\">a, b</span>) </span>{\n","      <span class=\"code-keyword\">return</span> deepEqual(a, b);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">shallowComparer</span>(<span class=\"code-params\">a, b</span>) </span>{\n","      <span class=\"code-keyword\">return</span> deepEqual(a, b, <span class=\"code-number\">1</span>);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">defaultComparer</span>(<span class=\"code-params\">a, b</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">Object</span>.is) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.is(a, b);\n","      }\n","      <span class=\"code-keyword\">return</span> a === b ? a !== <span class=\"code-number\">0</span> || <span class=\"code-number\">1</span> / a === <span class=\"code-number\">1</span> / b : a !== a &amp;&amp; b !== b;\n","    }\n","    <span class=\"code-keyword\">var</span> comparer = {\n","      identity: identityComparer,\n","      structural: structuralComparer,\n","      <span class=\"code-string\">\"default\"</span>: defaultComparer,\n","      shallow: shallowComparer\n","    };\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">deepEnhancer</span>(<span class=\"code-params\">v, _, name</span>) </span>{\n","      <span class=\"code-comment\">// it is an observable already, done</span>\n","      <span class=\"code-keyword\">if</span> (isObservable(v)) {\n","        <span class=\"code-keyword\">return</span> v;\n","      }\n","      <span class=\"code-comment\">// something that can be converted and mutated?</span>\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">Array</span>.isArray(v)) {\n","        <span class=\"code-keyword\">return</span> observable.array(v, {\n","          name: name\n","        });\n","      }\n","      <span class=\"code-keyword\">if</span> (isPlainObject(v)) {\n","        <span class=\"code-keyword\">return</span> observable.object(v, <span class=\"code-literal\">undefined</span>, {\n","          name: name\n","        });\n","      }\n","      <span class=\"code-keyword\">if</span> (isES6Map(v)) {\n","        <span class=\"code-keyword\">return</span> observable.map(v, {\n","          name: name\n","        });\n","      }\n","      <span class=\"code-keyword\">if</span> (isES6Set(v)) {\n","        <span class=\"code-keyword\">return</span> observable.set(v, {\n","          name: name\n","        });\n","      }\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> v === <span class=\"code-string\">\"function\"</span> &amp;&amp; !isAction(v) &amp;&amp; !isFlow(v)) {\n","        <span class=\"code-keyword\">if</span> (isGenerator(v)) {\n","          <span class=\"code-keyword\">return</span> flow(v);\n","        } <span class=\"code-keyword\">else</span> {\n","          <span class=\"code-keyword\">return</span> autoAction(name, v);\n","        }\n","      }\n","      <span class=\"code-keyword\">return</span> v;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">shallowEnhancer</span>(<span class=\"code-params\">v, _, name</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (v === <span class=\"code-literal\">undefined</span> || v === <span class=\"code-literal\">null</span>) {\n","        <span class=\"code-keyword\">return</span> v;\n","      }\n","      <span class=\"code-keyword\">if</span> (isObservableObject(v) || isObservableArray(v) || isObservableMap(v) || isObservableSet(v)) {\n","        <span class=\"code-keyword\">return</span> v;\n","      }\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">Array</span>.isArray(v)) {\n","        <span class=\"code-keyword\">return</span> observable.array(v, {\n","          name: name,\n","          deep: <span class=\"code-literal\">false</span>\n","        });\n","      }\n","      <span class=\"code-keyword\">if</span> (isPlainObject(v)) {\n","        <span class=\"code-keyword\">return</span> observable.object(v, <span class=\"code-literal\">undefined</span>, {\n","          name: name,\n","          deep: <span class=\"code-literal\">false</span>\n","        });\n","      }\n","      <span class=\"code-keyword\">if</span> (isES6Map(v)) {\n","        <span class=\"code-keyword\">return</span> observable.map(v, {\n","          name: name,\n","          deep: <span class=\"code-literal\">false</span>\n","        });\n","      }\n","      <span class=\"code-keyword\">if</span> (isES6Set(v)) {\n","        <span class=\"code-keyword\">return</span> observable.set(v, {\n","          name: name,\n","          deep: <span class=\"code-literal\">false</span>\n","        });\n","      }\n","      {\n","        die(<span class=\"code-string\">\"The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets\"</span>);\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">referenceEnhancer</span>(<span class=\"code-params\">newValue</span>) </span>{\n","      <span class=\"code-comment\">// never turn into an observable</span>\n","      <span class=\"code-keyword\">return</span> newValue;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">refStructEnhancer</span>(<span class=\"code-params\">v, oldValue</span>) </span>{\n","      <span class=\"code-keyword\">if</span> ( isObservable(v)) {\n","        die(<span class=\"code-string\">\"observable.struct should not be used with observable values\"</span>);\n","      }\n","      <span class=\"code-keyword\">if</span> (deepEqual(v, oldValue)) {\n","        <span class=\"code-keyword\">return</span> oldValue;\n","      }\n","      <span class=\"code-keyword\">return</span> v;\n","    }\n","\n","    <span class=\"code-keyword\">var</span> OVERRIDE = <span class=\"code-string\">\"override\"</span>;\n","    <span class=\"code-keyword\">var</span> override = <span class=\"code-comment\">/*#__PURE__*/</span>createDecoratorAnnotation({\n","      annotationType_: OVERRIDE,\n","      make_: make_,\n","      extend_: extend_,\n","      decorate_20223_: decorate_20223_\n","    });\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isOverride</span>(<span class=\"code-params\">annotation</span>) </span>{\n","      <span class=\"code-keyword\">return</span> annotation.annotationType_ === OVERRIDE;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">make_</span>(<span class=\"code-params\">adm, key</span>) </span>{\n","      <span class=\"code-comment\">// Must not be plain object</span>\n","      <span class=\"code-keyword\">if</span> ( adm.isPlainObject_) {\n","        die(<span class=\"code-string\">\"Cannot apply '\"</span> + <span class=\"code-keyword\">this</span>.annotationType_ + <span class=\"code-string\">\"' to '\"</span> + adm.name_ + <span class=\"code-string\">\".\"</span> + key.toString() + <span class=\"code-string\">\"':\"</span> + (<span class=\"code-string\">\"\\n'\"</span> + <span class=\"code-keyword\">this</span>.annotationType_ + <span class=\"code-string\">\"' cannot be used on plain objects.\"</span>));\n","      }\n","      <span class=\"code-comment\">// Must override something</span>\n","      <span class=\"code-keyword\">if</span> ( !hasProp(adm.appliedAnnotations_, key)) {\n","        die(<span class=\"code-string\">\"'\"</span> + adm.name_ + <span class=\"code-string\">\".\"</span> + key.toString() + <span class=\"code-string\">\"' is annotated with '\"</span> + <span class=\"code-keyword\">this</span>.annotationType_ + <span class=\"code-string\">\"', \"</span> + <span class=\"code-string\">\"but no such annotated member was found on prototype.\"</span>);\n","      }\n","      <span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span> <span class=\"code-comment\">/* MakeResult.Cancel */</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">extend_</span>(<span class=\"code-params\">adm, key, descriptor, proxyTrap</span>) </span>{\n","      die(<span class=\"code-string\">\"'\"</span> + <span class=\"code-keyword\">this</span>.annotationType_ + <span class=\"code-string\">\"' can only be used with 'makeObservable'\"</span>);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">decorate_20223_</span>(<span class=\"code-params\">desc, context</span>) </span>{\n","      <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"'\"</span> + <span class=\"code-keyword\">this</span>.annotationType_ + <span class=\"code-string\">\"' cannot be used with decorators - this is a no-op\"</span>);\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createActionAnnotation</span>(<span class=\"code-params\">name, options</span>) </span>{\n","      <span class=\"code-keyword\">return</span> {\n","        annotationType_: name,\n","        options_: options,\n","        make_: make_$<span class=\"code-number\">1</span>,\n","        extend_: extend_$<span class=\"code-number\">1</span>,\n","        decorate_20223_: decorate_20223_$<span class=\"code-number\">1</span>\n","      };\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">make_$1</span>(<span class=\"code-params\">adm, key, descriptor, source</span>) </span>{\n","      <span class=\"code-keyword\">var</span> _this$options_;\n","      <span class=\"code-comment\">// bound</span>\n","      <span class=\"code-keyword\">if</span> ((_this$options_ = <span class=\"code-keyword\">this</span>.options_) != <span class=\"code-literal\">null</span> &amp;&amp; _this$options_.bound) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.extend_(adm, key, descriptor, <span class=\"code-literal\">false</span>) === <span class=\"code-literal\">null</span> ? <span class=\"code-number\">0</span> <span class=\"code-comment\">/* MakeResult.Cancel */</span> : <span class=\"code-number\">1</span> <span class=\"code-comment\">/* MakeResult.Break */</span>;\n","      }\n","      <span class=\"code-comment\">// own</span>\n","      <span class=\"code-keyword\">if</span> (source === adm.target_) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.extend_(adm, key, descriptor, <span class=\"code-literal\">false</span>) === <span class=\"code-literal\">null</span> ? <span class=\"code-number\">0</span> <span class=\"code-comment\">/* MakeResult.Cancel */</span> : <span class=\"code-number\">2</span> <span class=\"code-comment\">/* MakeResult.Continue */</span>;\n","      }\n","      <span class=\"code-comment\">// prototype</span>\n","      <span class=\"code-keyword\">if</span> (isAction(descriptor.value)) {\n","        <span class=\"code-comment\">// A prototype could have been annotated already by other constructor,</span>\n","        <span class=\"code-comment\">// rest of the proto chain must be annotated already</span>\n","        <span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span> <span class=\"code-comment\">/* MakeResult.Break */</span>;\n","      }\n","      <span class=\"code-keyword\">var</span> actionDescriptor = createActionDescriptor(adm, <span class=\"code-keyword\">this</span>, key, descriptor, <span class=\"code-literal\">false</span>);\n","      defineProperty(source, key, actionDescriptor);\n","      <span class=\"code-keyword\">return</span> <span class=\"code-number\">2</span> <span class=\"code-comment\">/* MakeResult.Continue */</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">extend_$1</span>(<span class=\"code-params\">adm, key, descriptor, proxyTrap</span>) </span>{\n","      <span class=\"code-keyword\">var</span> actionDescriptor = createActionDescriptor(adm, <span class=\"code-keyword\">this</span>, key, descriptor);\n","      <span class=\"code-keyword\">return</span> adm.defineProperty_(key, actionDescriptor, proxyTrap);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">decorate_20223_$1</span>(<span class=\"code-params\">mthd, context</span>) </span>{\n","      {\n","        assert20223DecoratorType(context, [<span class=\"code-string\">\"method\"</span>, <span class=\"code-string\">\"field\"</span>]);\n","      }\n","      <span class=\"code-keyword\">var</span> kind = context.kind,\n","        name = context.name,\n","        addInitializer = context.addInitializer;\n","      <span class=\"code-keyword\">var</span> ann = <span class=\"code-keyword\">this</span>;\n","      <span class=\"code-keyword\">var</span> _createAction = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_createAction</span>(<span class=\"code-params\">m</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _ann$options_$name, _ann$options_, _ann$options_$autoAct, _ann$options_2;\n","        <span class=\"code-keyword\">return</span> createAction((_ann$options_$name = (_ann$options_ = ann.options_) == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : _ann$options_.name) != <span class=\"code-literal\">null</span> ? _ann$options_$name : name.toString(), m, (_ann$options_$autoAct = (_ann$options_2 = ann.options_) == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : _ann$options_2.autoAction) != <span class=\"code-literal\">null</span> ? _ann$options_$autoAct : <span class=\"code-literal\">false</span>);\n","      };\n","      <span class=\"code-keyword\">if</span> (kind == <span class=\"code-string\">\"field\"</span>) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">initMthd</span>) </span>{\n","          <span class=\"code-keyword\">var</span> _ann$options_3;\n","          <span class=\"code-keyword\">var</span> mthd = initMthd;\n","          <span class=\"code-keyword\">if</span> (!isAction(mthd)) {\n","            mthd = _createAction(mthd);\n","          }\n","          <span class=\"code-keyword\">if</span> ((_ann$options_3 = ann.options_) != <span class=\"code-literal\">null</span> &amp;&amp; _ann$options_3.bound) {\n","            mthd = mthd.bind(<span class=\"code-keyword\">this</span>);\n","            mthd.isMobxAction = <span class=\"code-literal\">true</span>;\n","          }\n","          <span class=\"code-keyword\">return</span> mthd;\n","        };\n","      }\n","      <span class=\"code-keyword\">if</span> (kind == <span class=\"code-string\">\"method\"</span>) {\n","        <span class=\"code-keyword\">var</span> _this$options_2;\n","        <span class=\"code-keyword\">if</span> (!isAction(mthd)) {\n","          mthd = _createAction(mthd);\n","        }\n","        <span class=\"code-keyword\">if</span> ((_this$options_2 = <span class=\"code-keyword\">this</span>.options_) != <span class=\"code-literal\">null</span> &amp;&amp; _this$options_2.bound) {\n","          addInitializer(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","            <span class=\"code-keyword\">var</span> self = <span class=\"code-keyword\">this</span>;\n","            <span class=\"code-keyword\">var</span> bound = self[name].bind(self);\n","            bound.isMobxAction = <span class=\"code-literal\">true</span>;\n","            self[name] = bound;\n","          });\n","        }\n","        <span class=\"code-keyword\">return</span> mthd;\n","      }\n","      die(<span class=\"code-string\">\"Cannot apply '\"</span> + ann.annotationType_ + <span class=\"code-string\">\"' to '\"</span> + <span class=\"code-built_in\">String</span>(name) + <span class=\"code-string\">\"' (kind: \"</span> + kind + <span class=\"code-string\">\"):\"</span> + (<span class=\"code-string\">\"\\n'\"</span> + ann.annotationType_ + <span class=\"code-string\">\"' can only be used on properties with a function value.\"</span>));\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">assertActionDescriptor</span>(<span class=\"code-params\">adm, _ref, key, _ref2</span>) </span>{\n","      <span class=\"code-keyword\">var</span> annotationType_ = _ref.annotationType_;\n","      <span class=\"code-keyword\">var</span> value = _ref2.value;\n","      <span class=\"code-keyword\">if</span> ( !isFunction(value)) {\n","        die(<span class=\"code-string\">\"Cannot apply '\"</span> + annotationType_ + <span class=\"code-string\">\"' to '\"</span> + adm.name_ + <span class=\"code-string\">\".\"</span> + key.toString() + <span class=\"code-string\">\"':\"</span> + (<span class=\"code-string\">\"\\n'\"</span> + annotationType_ + <span class=\"code-string\">\"' can only be used on properties with a function value.\"</span>));\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createActionDescriptor</span>(<span class=\"code-params\">adm, annotation, key, descriptor,\n</span></span>","<span class=\"code-function\"><span class=\"code-params\">    <span class=\"code-regexp\">//</span> provides ability to disable safeDescriptors for prototypes\n</span></span>","<span class=\"code-function\"><span class=\"code-params\">    safeDescriptors</span>) </span>{\n","      <span class=\"code-keyword\">var</span> _annotation$options_, _annotation$options_$, _annotation$options_2, _annotation$options_$<span class=\"code-number\">2</span>, _annotation$options_3, _annotation$options_4, _adm$proxy_2;\n","      <span class=\"code-keyword\">if</span> (safeDescriptors === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","        safeDescriptors = globalState.safeDescriptors;\n","      }\n","      assertActionDescriptor(adm, annotation, key, descriptor);\n","      <span class=\"code-keyword\">var</span> value = descriptor.value;\n","      <span class=\"code-keyword\">if</span> ((_annotation$options_ = annotation.options_) != <span class=\"code-literal\">null</span> &amp;&amp; _annotation$options_.bound) {\n","        <span class=\"code-keyword\">var</span> _adm$proxy_;\n","        value = value.bind((_adm$proxy_ = adm.proxy_) != <span class=\"code-literal\">null</span> ? _adm$proxy_ : adm.target_);\n","      }\n","      <span class=\"code-keyword\">return</span> {\n","        value: createAction((_annotation$options_$ = (_annotation$options_2 = annotation.options_) == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : _annotation$options_2.name) != <span class=\"code-literal\">null</span> ? _annotation$options_$ : key.toString(), value, (_annotation$options_$<span class=\"code-number\">2</span> = (_annotation$options_3 = annotation.options_) == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : _annotation$options_3.autoAction) != <span class=\"code-literal\">null</span> ? _annotation$options_$<span class=\"code-number\">2</span> : <span class=\"code-literal\">false</span>,\n","        <span class=\"code-comment\">// https://github.com/mobxjs/mobx/discussions/3140</span>\n","        (_annotation$options_4 = annotation.options_) != <span class=\"code-literal\">null</span> &amp;&amp; _annotation$options_4.bound ? (_adm$proxy_2 = adm.proxy_) != <span class=\"code-literal\">null</span> ? _adm$proxy_2 : adm.target_ : <span class=\"code-literal\">undefined</span>),\n","        <span class=\"code-comment\">// Non-configurable for classes</span>\n","        <span class=\"code-comment\">// prevents accidental field redefinition in subclass</span>\n","        configurable: safeDescriptors ? adm.isPlainObject_ : <span class=\"code-literal\">true</span>,\n","        <span class=\"code-comment\">// https://github.com/mobxjs/mobx/pull/2641#issuecomment-737292058</span>\n","        enumerable: <span class=\"code-literal\">false</span>,\n","        <span class=\"code-comment\">// Non-obsevable, therefore non-writable</span>\n","        <span class=\"code-comment\">// Also prevents rewriting in subclass constructor</span>\n","        writable: safeDescriptors ? <span class=\"code-literal\">false</span> : <span class=\"code-literal\">true</span>\n","      };\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createFlowAnnotation</span>(<span class=\"code-params\">name, options</span>) </span>{\n","      <span class=\"code-keyword\">return</span> {\n","        annotationType_: name,\n","        options_: options,\n","        make_: make_$<span class=\"code-number\">2</span>,\n","        extend_: extend_$<span class=\"code-number\">2</span>,\n","        decorate_20223_: decorate_20223_$<span class=\"code-number\">2</span>\n","      };\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">make_$2</span>(<span class=\"code-params\">adm, key, descriptor, source</span>) </span>{\n","      <span class=\"code-keyword\">var</span> _this$options_;\n","      <span class=\"code-comment\">// own</span>\n","      <span class=\"code-keyword\">if</span> (source === adm.target_) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.extend_(adm, key, descriptor, <span class=\"code-literal\">false</span>) === <span class=\"code-literal\">null</span> ? <span class=\"code-number\">0</span> <span class=\"code-comment\">/* MakeResult.Cancel */</span> : <span class=\"code-number\">2</span> <span class=\"code-comment\">/* MakeResult.Continue */</span>;\n","      }\n","      <span class=\"code-comment\">// prototype</span>\n","      <span class=\"code-comment\">// bound - must annotate protos to support super.flow()</span>\n","      <span class=\"code-keyword\">if</span> ((_this$options_ = <span class=\"code-keyword\">this</span>.options_) != <span class=\"code-literal\">null</span> &amp;&amp; _this$options_.bound &amp;&amp; (!hasProp(adm.target_, key) || !isFlow(adm.target_[key]))) {\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.extend_(adm, key, descriptor, <span class=\"code-literal\">false</span>) === <span class=\"code-literal\">null</span>) {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span> <span class=\"code-comment\">/* MakeResult.Cancel */</span>;\n","        }\n","      }\n","      <span class=\"code-keyword\">if</span> (isFlow(descriptor.value)) {\n","        <span class=\"code-comment\">// A prototype could have been annotated already by other constructor,</span>\n","        <span class=\"code-comment\">// rest of the proto chain must be annotated already</span>\n","        <span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span> <span class=\"code-comment\">/* MakeResult.Break */</span>;\n","      }\n","      <span class=\"code-keyword\">var</span> flowDescriptor = createFlowDescriptor(adm, <span class=\"code-keyword\">this</span>, key, descriptor, <span class=\"code-literal\">false</span>, <span class=\"code-literal\">false</span>);\n","      defineProperty(source, key, flowDescriptor);\n","      <span class=\"code-keyword\">return</span> <span class=\"code-number\">2</span> <span class=\"code-comment\">/* MakeResult.Continue */</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">extend_$2</span>(<span class=\"code-params\">adm, key, descriptor, proxyTrap</span>) </span>{\n","      <span class=\"code-keyword\">var</span> _this$options_2;\n","      <span class=\"code-keyword\">var</span> flowDescriptor = createFlowDescriptor(adm, <span class=\"code-keyword\">this</span>, key, descriptor, (_this$options_2 = <span class=\"code-keyword\">this</span>.options_) == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : _this$options_2.bound);\n","      <span class=\"code-keyword\">return</span> adm.defineProperty_(key, flowDescriptor, proxyTrap);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">decorate_20223_$2</span>(<span class=\"code-params\">mthd, context</span>) </span>{\n","      <span class=\"code-keyword\">var</span> _this$options_3;\n","      {\n","        assert20223DecoratorType(context, [<span class=\"code-string\">\"method\"</span>]);\n","      }\n","      <span class=\"code-keyword\">var</span> name = context.name,\n","        addInitializer = context.addInitializer;\n","      <span class=\"code-keyword\">if</span> (!isFlow(mthd)) {\n","        mthd = flow(mthd);\n","      }\n","      <span class=\"code-keyword\">if</span> ((_this$options_3 = <span class=\"code-keyword\">this</span>.options_) != <span class=\"code-literal\">null</span> &amp;&amp; _this$options_3.bound) {\n","        addInitializer(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          <span class=\"code-keyword\">var</span> self = <span class=\"code-keyword\">this</span>;\n","          <span class=\"code-keyword\">var</span> bound = self[name].bind(self);\n","          bound.isMobXFlow = <span class=\"code-literal\">true</span>;\n","          self[name] = bound;\n","        });\n","      }\n","      <span class=\"code-keyword\">return</span> mthd;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">assertFlowDescriptor</span>(<span class=\"code-params\">adm, _ref, key, _ref2</span>) </span>{\n","      <span class=\"code-keyword\">var</span> annotationType_ = _ref.annotationType_;\n","      <span class=\"code-keyword\">var</span> value = _ref2.value;\n","      <span class=\"code-keyword\">if</span> ( !isFunction(value)) {\n","        die(<span class=\"code-string\">\"Cannot apply '\"</span> + annotationType_ + <span class=\"code-string\">\"' to '\"</span> + adm.name_ + <span class=\"code-string\">\".\"</span> + key.toString() + <span class=\"code-string\">\"':\"</span> + (<span class=\"code-string\">\"\\n'\"</span> + annotationType_ + <span class=\"code-string\">\"' can only be used on properties with a generator function value.\"</span>));\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createFlowDescriptor</span>(<span class=\"code-params\">adm, annotation, key, descriptor, bound,\n</span></span>","<span class=\"code-function\"><span class=\"code-params\">    <span class=\"code-regexp\">//</span> provides ability to disable safeDescriptors for prototypes\n</span></span>","<span class=\"code-function\"><span class=\"code-params\">    safeDescriptors</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (safeDescriptors === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","        safeDescriptors = globalState.safeDescriptors;\n","      }\n","      assertFlowDescriptor(adm, annotation, key, descriptor);\n","      <span class=\"code-keyword\">var</span> value = descriptor.value;\n","      <span class=\"code-comment\">// In case of flow.bound, the descriptor can be from already annotated prototype</span>\n","      <span class=\"code-keyword\">if</span> (!isFlow(value)) {\n","        value = flow(value);\n","      }\n","      <span class=\"code-keyword\">if</span> (bound) {\n","        <span class=\"code-keyword\">var</span> _adm$proxy_;\n","        <span class=\"code-comment\">// We do not keep original function around, so we bind the existing flow</span>\n","        value = value.bind((_adm$proxy_ = adm.proxy_) != <span class=\"code-literal\">null</span> ? _adm$proxy_ : adm.target_);\n","        <span class=\"code-comment\">// This is normally set by `flow`, but `bind` returns new function...</span>\n","        value.isMobXFlow = <span class=\"code-literal\">true</span>;\n","      }\n","      <span class=\"code-keyword\">return</span> {\n","        value: value,\n","        <span class=\"code-comment\">// Non-configurable for classes</span>\n","        <span class=\"code-comment\">// prevents accidental field redefinition in subclass</span>\n","        configurable: safeDescriptors ? adm.isPlainObject_ : <span class=\"code-literal\">true</span>,\n","        <span class=\"code-comment\">// https://github.com/mobxjs/mobx/pull/2641#issuecomment-737292058</span>\n","        enumerable: <span class=\"code-literal\">false</span>,\n","        <span class=\"code-comment\">// Non-obsevable, therefore non-writable</span>\n","        <span class=\"code-comment\">// Also prevents rewriting in subclass constructor</span>\n","        writable: safeDescriptors ? <span class=\"code-literal\">false</span> : <span class=\"code-literal\">true</span>\n","      };\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createComputedAnnotation</span>(<span class=\"code-params\">name, options</span>) </span>{\n","      <span class=\"code-keyword\">return</span> {\n","        annotationType_: name,\n","        options_: options,\n","        make_: make_$<span class=\"code-number\">3</span>,\n","        extend_: extend_$<span class=\"code-number\">3</span>,\n","        decorate_20223_: decorate_20223_$<span class=\"code-number\">3</span>\n","      };\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">make_$3</span>(<span class=\"code-params\">adm, key, descriptor</span>) </span>{\n","      <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.extend_(adm, key, descriptor, <span class=\"code-literal\">false</span>) === <span class=\"code-literal\">null</span> ? <span class=\"code-number\">0</span> <span class=\"code-comment\">/* MakeResult.Cancel */</span> : <span class=\"code-number\">1</span> <span class=\"code-comment\">/* MakeResult.Break */</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">extend_$3</span>(<span class=\"code-params\">adm, key, descriptor, proxyTrap</span>) </span>{\n","      assertComputedDescriptor(adm, <span class=\"code-keyword\">this</span>, key, descriptor);\n","      <span class=\"code-keyword\">return</span> adm.defineComputedProperty_(key, _extends({}, <span class=\"code-keyword\">this</span>.options_, {\n","        <span class=\"code-keyword\">get</span>: descriptor.<span class=\"code-keyword\">get</span>,\n","        <span class=\"code-keyword\">set</span>: descriptor.<span class=\"code-keyword\">set</span>\n","      }), proxyTrap);\n","    }\n","    function decorate_20223_$3(<span class=\"code-keyword\">get</span>, context) {\n","      {\n","        assert20223DecoratorType(context, [<span class=\"code-string\">\"getter\"</span>]);\n","      }\n","      <span class=\"code-keyword\">var</span> ann = <span class=\"code-keyword\">this</span>;\n","      <span class=\"code-keyword\">var</span> key = context.name,\n","        addInitializer = context.addInitializer;\n","      addInitializer(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> adm = asObservableObject(<span class=\"code-keyword\">this</span>)[$mobx];\n","        <span class=\"code-keyword\">var</span> options = _extends({}, ann.options_, {\n","          <span class=\"code-keyword\">get</span>: <span class=\"code-keyword\">get</span>,\n","          context: this\n","        });\n","        options.name || (options.name =  adm.name_ + \".\" + key.toString() );\n","        adm.values_.<span class=\"code-keyword\">set</span>(key, new ComputedValue(options));\n","      });\n","      return function () {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[$mobx].getObservablePropValue_(key);\n","      };\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">assertComputedDescriptor</span>(<span class=\"code-params\">adm, _ref, key, _ref2</span>) </span>{\n","      <span class=\"code-keyword\">var</span> annotationType_ = _ref.annotationType_;\n","      <span class=\"code-keyword\">var</span> <span class=\"code-keyword\">get</span> = _ref2.<span class=\"code-keyword\">get</span>;\n","      if ( !<span class=\"code-keyword\">get</span>) {\n","        die(<span class=\"code-string\">\"Cannot apply '\"</span> + annotationType_ + <span class=\"code-string\">\"' to '\"</span> + adm.name_ + <span class=\"code-string\">\".\"</span> + key.toString() + <span class=\"code-string\">\"':\"</span> + (<span class=\"code-string\">\"\\n'\"</span> + annotationType_ + <span class=\"code-string\">\"' can only be used on getter(+setter) properties.\"</span>));\n","      }\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createObservableAnnotation</span>(<span class=\"code-params\">name, options</span>) </span>{\n","      <span class=\"code-keyword\">return</span> {\n","        annotationType_: name,\n","        options_: options,\n","        make_: make_$<span class=\"code-number\">4</span>,\n","        extend_: extend_$<span class=\"code-number\">4</span>,\n","        decorate_20223_: decorate_20223_$<span class=\"code-number\">4</span>\n","      };\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">make_$4</span>(<span class=\"code-params\">adm, key, descriptor</span>) </span>{\n","      <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.extend_(adm, key, descriptor, <span class=\"code-literal\">false</span>) === <span class=\"code-literal\">null</span> ? <span class=\"code-number\">0</span> <span class=\"code-comment\">/* MakeResult.Cancel */</span> : <span class=\"code-number\">1</span> <span class=\"code-comment\">/* MakeResult.Break */</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">extend_$4</span>(<span class=\"code-params\">adm, key, descriptor, proxyTrap</span>) </span>{\n","      <span class=\"code-keyword\">var</span> _this$options_$enhanc, _this$options_;\n","      assertObservableDescriptor(adm, <span class=\"code-keyword\">this</span>, key, descriptor);\n","      <span class=\"code-keyword\">return</span> adm.defineObservableProperty_(key, descriptor.value, (_this$options_$enhanc = (_this$options_ = <span class=\"code-keyword\">this</span>.options_) == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : _this$options_.enhancer) != <span class=\"code-literal\">null</span> ? _this$options_$enhanc : deepEnhancer, proxyTrap);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">decorate_20223_$4</span>(<span class=\"code-params\">desc, context</span>) </span>{\n","      {\n","        <span class=\"code-keyword\">if</span> (context.kind === <span class=\"code-string\">\"field\"</span>) {\n","          <span class=\"code-keyword\">throw</span> die(<span class=\"code-string\">\"Please use `@observable accessor \"</span> + <span class=\"code-built_in\">String</span>(context.name) + <span class=\"code-string\">\"` instead of `@observable \"</span> + <span class=\"code-built_in\">String</span>(context.name) + <span class=\"code-string\">\"`\"</span>);\n","        }\n","        assert20223DecoratorType(context, [<span class=\"code-string\">\"accessor\"</span>]);\n","      }\n","      <span class=\"code-keyword\">var</span> ann = <span class=\"code-keyword\">this</span>;\n","      <span class=\"code-keyword\">var</span> kind = context.kind,\n","        name = context.name;\n","      <span class=\"code-comment\">// The laziness here is not ideal... It's a workaround to how 2022.3 Decorators are implemented:</span>\n","      <span class=\"code-comment\">//   `addInitializer` callbacks are executed _before_ any accessors are defined (instead of the ideal-for-us right after each).</span>\n","      <span class=\"code-comment\">//   This means that, if we were to do our stuff in an `addInitializer`, we'd attempt to read a private slot</span>\n","      <span class=\"code-comment\">//   before it has been initialized. The runtime doesn't like that and throws a `Cannot read private member</span>\n","      <span class=\"code-comment\">//   from an object whose class did not declare it` error.</span>\n","      <span class=\"code-comment\">// <span class=\"code-doctag\">TODO:</span> it seems that this will not be required anymore in the final version of the spec</span>\n","      <span class=\"code-comment\">// See <span class=\"code-doctag\">TODO:</span> link</span>\n","      <span class=\"code-keyword\">var</span> initializedObjects = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakSet</span>();\n","      <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">initializeObservable</span>(<span class=\"code-params\">target, value</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _ann$options_$enhance, _ann$options_;\n","        <span class=\"code-keyword\">var</span> adm = asObservableObject(target)[$mobx];\n","        <span class=\"code-keyword\">var</span> observable = <span class=\"code-keyword\">new</span> ObservableValue(value, (_ann$options_$enhance = (_ann$options_ = ann.options_) == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : _ann$options_.enhancer) != <span class=\"code-literal\">null</span> ? _ann$options_$enhance : deepEnhancer,  adm.name_ + <span class=\"code-string\">\".\"</span> + name.toString() , <span class=\"code-literal\">false</span>);\n","        adm.values_.set(name, observable);\n","        initializedObjects.add(target);\n","      }\n","      <span class=\"code-keyword\">if</span> (kind == <span class=\"code-string\">\"accessor\"</span>) {\n","        <span class=\"code-keyword\">return</span> {\n","          <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","            <span class=\"code-keyword\">if</span> (!initializedObjects.has(<span class=\"code-keyword\">this</span>)) {\n","              initializeObservable(<span class=\"code-keyword\">this</span>, desc.get.call(<span class=\"code-keyword\">this</span>));\n","            }\n","            <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[$mobx].getObservablePropValue_(name);\n","          },\n","          <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(value) {\n","            <span class=\"code-keyword\">if</span> (!initializedObjects.has(<span class=\"code-keyword\">this</span>)) {\n","              initializeObservable(<span class=\"code-keyword\">this</span>, value);\n","            }\n","            <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[$mobx].setObservablePropValue_(name, value);\n","          },\n","          init: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">init</span>(<span class=\"code-params\">value</span>) </span>{\n","            <span class=\"code-keyword\">if</span> (!initializedObjects.has(<span class=\"code-keyword\">this</span>)) {\n","              initializeObservable(<span class=\"code-keyword\">this</span>, value);\n","            }\n","            <span class=\"code-keyword\">return</span> value;\n","          }\n","        };\n","      }\n","      <span class=\"code-keyword\">return</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">assertObservableDescriptor</span>(<span class=\"code-params\">adm, _ref, key, descriptor</span>) </span>{\n","      <span class=\"code-keyword\">var</span> annotationType_ = _ref.annotationType_;\n","      <span class=\"code-keyword\">if</span> ( !(<span class=\"code-string\">\"value\"</span> <span class=\"code-keyword\">in</span> descriptor)) {\n","        die(<span class=\"code-string\">\"Cannot apply '\"</span> + annotationType_ + <span class=\"code-string\">\"' to '\"</span> + adm.name_ + <span class=\"code-string\">\".\"</span> + key.toString() + <span class=\"code-string\">\"':\"</span> + (<span class=\"code-string\">\"\\n'\"</span> + annotationType_ + <span class=\"code-string\">\"' cannot be used on getter/setter properties\"</span>));\n","      }\n","    }\n","\n","    <span class=\"code-keyword\">var</span> AUTO = <span class=\"code-string\">\"true\"</span>;\n","    <span class=\"code-keyword\">var</span> autoAnnotation = <span class=\"code-comment\">/*#__PURE__*/</span>createAutoAnnotation();\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createAutoAnnotation</span>(<span class=\"code-params\">options</span>) </span>{\n","      <span class=\"code-keyword\">return</span> {\n","        annotationType_: AUTO,\n","        options_: options,\n","        make_: make_$<span class=\"code-number\">5</span>,\n","        extend_: extend_$<span class=\"code-number\">5</span>,\n","        decorate_20223_: decorate_20223_$<span class=\"code-number\">5</span>\n","      };\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">make_$5</span>(<span class=\"code-params\">adm, key, descriptor, source</span>) </span>{\n","      <span class=\"code-keyword\">var</span> _this$options_3, _this$options_4;\n","      <span class=\"code-comment\">// getter -&gt; computed</span>\n","      <span class=\"code-keyword\">if</span> (descriptor.get) {\n","        <span class=\"code-keyword\">return</span> computed.make_(adm, key, descriptor, source);\n","      }\n","      <span class=\"code-comment\">// lone setter -&gt; action setter</span>\n","      <span class=\"code-keyword\">if</span> (descriptor.set) {\n","        <span class=\"code-comment\">// TODO make action applicable to setter and delegate to action.make_</span>\n","        <span class=\"code-keyword\">var</span> <span class=\"code-keyword\">set</span> = createAction(key.toString(), descriptor.<span class=\"code-keyword\">set</span>);\n","        // own\n","        if (source === adm.target_) {\n","          <span class=\"code-keyword\">return</span> adm.defineProperty_(key, {\n","            configurable: globalState.safeDescriptors ? adm.isPlainObject_ : <span class=\"code-literal\">true</span>,\n","            <span class=\"code-keyword\">set</span>: <span class=\"code-keyword\">set</span>\n","          }) === null ? 0 /* MakeResult.Cancel */ : 2 /* MakeResult.Continue */;\n","        }\n","        // proto\n","        defineProperty(source, key, {\n","          configurable: <span class=\"code-literal\">true</span>,\n","          <span class=\"code-keyword\">set</span>: <span class=\"code-keyword\">set</span>\n","        });\n","        return 2 /* MakeResult.Continue */;\n","      }\n","      // function on proto -&gt; autoAction/flow\n","      if (source !== adm.target_ &amp;&amp; typeof descriptor.value === \"function\") {\n","        <span class=\"code-keyword\">var</span> _this$options_2;\n","        <span class=\"code-keyword\">if</span> (isGenerator(descriptor.value)) {\n","          <span class=\"code-keyword\">var</span> _this$options_;\n","          <span class=\"code-keyword\">var</span> flowAnnotation = (_this$options_ = <span class=\"code-keyword\">this</span>.options_) != <span class=\"code-literal\">null</span> &amp;&amp; _this$options_.autoBind ? flow.bound : flow;\n","          <span class=\"code-keyword\">return</span> flowAnnotation.make_(adm, key, descriptor, source);\n","        }\n","        <span class=\"code-keyword\">var</span> actionAnnotation = (_this$options_2 = <span class=\"code-keyword\">this</span>.options_) != <span class=\"code-literal\">null</span> &amp;&amp; _this$options_2.autoBind ? autoAction.bound : autoAction;\n","        <span class=\"code-keyword\">return</span> actionAnnotation.make_(adm, key, descriptor, source);\n","      }\n","      <span class=\"code-comment\">// other -&gt; observable</span>\n","      <span class=\"code-comment\">// Copy props from proto as well, see test:</span>\n","      <span class=\"code-comment\">// \"decorate should work with Object.create\"</span>\n","      <span class=\"code-keyword\">var</span> observableAnnotation = ((_this$options_3 = <span class=\"code-keyword\">this</span>.options_) == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : _this$options_3.deep) === <span class=\"code-literal\">false</span> ? observable.ref : observable;\n","      <span class=\"code-comment\">// if function respect autoBind option</span>\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> descriptor.value === <span class=\"code-string\">\"function\"</span> &amp;&amp; (_this$options_4 = <span class=\"code-keyword\">this</span>.options_) != <span class=\"code-literal\">null</span> &amp;&amp; _this$options_4.autoBind) {\n","        <span class=\"code-keyword\">var</span> _adm$proxy_;\n","        descriptor.value = descriptor.value.bind((_adm$proxy_ = adm.proxy_) != <span class=\"code-literal\">null</span> ? _adm$proxy_ : adm.target_);\n","      }\n","      <span class=\"code-keyword\">return</span> observableAnnotation.make_(adm, key, descriptor, source);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">extend_$5</span>(<span class=\"code-params\">adm, key, descriptor, proxyTrap</span>) </span>{\n","      <span class=\"code-keyword\">var</span> _this$options_5, _this$options_6;\n","      <span class=\"code-comment\">// getter -&gt; computed</span>\n","      <span class=\"code-keyword\">if</span> (descriptor.get) {\n","        <span class=\"code-keyword\">return</span> computed.extend_(adm, key, descriptor, proxyTrap);\n","      }\n","      <span class=\"code-comment\">// lone setter -&gt; action setter</span>\n","      <span class=\"code-keyword\">if</span> (descriptor.set) {\n","        <span class=\"code-comment\">// TODO make action applicable to setter and delegate to action.extend_</span>\n","        <span class=\"code-keyword\">return</span> adm.defineProperty_(key, {\n","          configurable: globalState.safeDescriptors ? adm.isPlainObject_ : <span class=\"code-literal\">true</span>,\n","          <span class=\"code-keyword\">set</span>: createAction(key.toString(), descriptor.<span class=\"code-keyword\">set</span>)\n","        }, proxyTrap);\n","      }\n","      // other -&gt; observable\n","      // if function respect autoBind option\n","      if (typeof descriptor.value === \"function\" &amp;&amp; (_this$options_5 = this.options_) != null &amp;&amp; _this$options_5.autoBind) {\n","        <span class=\"code-keyword\">var</span> _adm$proxy_2;\n","        descriptor.value = descriptor.value.bind((_adm$proxy_2 = adm.proxy_) != <span class=\"code-literal\">null</span> ? _adm$proxy_2 : adm.target_);\n","      }\n","      <span class=\"code-keyword\">var</span> observableAnnotation = ((_this$options_6 = <span class=\"code-keyword\">this</span>.options_) == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : _this$options_6.deep) === <span class=\"code-literal\">false</span> ? observable.ref : observable;\n","      <span class=\"code-keyword\">return</span> observableAnnotation.extend_(adm, key, descriptor, proxyTrap);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">decorate_20223_$5</span>(<span class=\"code-params\">desc, context</span>) </span>{\n","      die(<span class=\"code-string\">\"'\"</span> + <span class=\"code-keyword\">this</span>.annotationType_ + <span class=\"code-string\">\"' cannot be used as a decorator\"</span>);\n","    }\n","\n","    <span class=\"code-keyword\">var</span> OBSERVABLE = <span class=\"code-string\">\"observable\"</span>;\n","    <span class=\"code-keyword\">var</span> OBSERVABLE_REF = <span class=\"code-string\">\"observable.ref\"</span>;\n","    <span class=\"code-keyword\">var</span> OBSERVABLE_SHALLOW = <span class=\"code-string\">\"observable.shallow\"</span>;\n","    <span class=\"code-keyword\">var</span> OBSERVABLE_STRUCT = <span class=\"code-string\">\"observable.struct\"</span>;\n","    <span class=\"code-comment\">// Predefined bags of create observable options, to avoid allocating temporarily option objects</span>\n","    <span class=\"code-comment\">// in the majority of cases</span>\n","    <span class=\"code-keyword\">var</span> defaultCreateObservableOptions = {\n","      deep: <span class=\"code-literal\">true</span>,\n","      name: <span class=\"code-literal\">undefined</span>,\n","      defaultDecorator: <span class=\"code-literal\">undefined</span>,\n","      proxy: <span class=\"code-literal\">true</span>\n","    };\n","    <span class=\"code-built_in\">Object</span>.freeze(defaultCreateObservableOptions);\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">asCreateObservableOptions</span>(<span class=\"code-params\">thing</span>) </span>{\n","      <span class=\"code-keyword\">return</span> thing || defaultCreateObservableOptions;\n","    }\n","    <span class=\"code-keyword\">var</span> observableAnnotation = <span class=\"code-comment\">/*#__PURE__*/</span>createObservableAnnotation(OBSERVABLE);\n","    <span class=\"code-keyword\">var</span> observableRefAnnotation = <span class=\"code-comment\">/*#__PURE__*/</span>createObservableAnnotation(OBSERVABLE_REF, {\n","      enhancer: referenceEnhancer\n","    });\n","    <span class=\"code-keyword\">var</span> observableShallowAnnotation = <span class=\"code-comment\">/*#__PURE__*/</span>createObservableAnnotation(OBSERVABLE_SHALLOW, {\n","      enhancer: shallowEnhancer\n","    });\n","    <span class=\"code-keyword\">var</span> observableStructAnnotation = <span class=\"code-comment\">/*#__PURE__*/</span>createObservableAnnotation(OBSERVABLE_STRUCT, {\n","      enhancer: refStructEnhancer\n","    });\n","    <span class=\"code-keyword\">var</span> observableDecoratorAnnotation = <span class=\"code-comment\">/*#__PURE__*/</span>createDecoratorAnnotation(observableAnnotation);\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getEnhancerFromOptions</span>(<span class=\"code-params\">options</span>) </span>{\n","      <span class=\"code-keyword\">return</span> options.deep === <span class=\"code-literal\">true</span> ? deepEnhancer : options.deep === <span class=\"code-literal\">false</span> ? referenceEnhancer : getEnhancerFromAnnotation(options.defaultDecorator);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getAnnotationFromOptions</span>(<span class=\"code-params\">options</span>) </span>{\n","      <span class=\"code-keyword\">var</span> _options$defaultDecor;\n","      <span class=\"code-keyword\">return</span> options ? (_options$defaultDecor = options.defaultDecorator) != <span class=\"code-literal\">null</span> ? _options$defaultDecor : createAutoAnnotation(options) : <span class=\"code-literal\">undefined</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getEnhancerFromAnnotation</span>(<span class=\"code-params\">annotation</span>) </span>{\n","      <span class=\"code-keyword\">var</span> _annotation$options_$, _annotation$options_;\n","      <span class=\"code-keyword\">return</span> !annotation ? deepEnhancer : (_annotation$options_$ = (_annotation$options_ = annotation.options_) == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : _annotation$options_.enhancer) != <span class=\"code-literal\">null</span> ? _annotation$options_$ : deepEnhancer;\n","    }\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * Turns an object, array or function into a reactive structure.\n</span>","<span class=\"code-comment\">     * @param v the value which should become observable.\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createObservable</span>(<span class=\"code-params\">v, arg2, arg3</span>) </span>{\n","      <span class=\"code-comment\">// @observable someProp; (2022.3 Decorators)</span>\n","      <span class=\"code-keyword\">if</span> (is20223Decorator(arg2)) {\n","        <span class=\"code-keyword\">return</span> observableAnnotation.decorate_20223_(v, arg2);\n","      }\n","      <span class=\"code-comment\">// @observable someProp;</span>\n","      <span class=\"code-keyword\">if</span> (isStringish(arg2)) {\n","        storeAnnotation(v, arg2, observableAnnotation);\n","        <span class=\"code-keyword\">return</span>;\n","      }\n","      <span class=\"code-comment\">// already observable - ignore</span>\n","      <span class=\"code-keyword\">if</span> (isObservable(v)) {\n","        <span class=\"code-keyword\">return</span> v;\n","      }\n","      <span class=\"code-comment\">// plain object</span>\n","      <span class=\"code-keyword\">if</span> (isPlainObject(v)) {\n","        <span class=\"code-keyword\">return</span> observable.object(v, arg2, arg3);\n","      }\n","      <span class=\"code-comment\">// Array</span>\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">Array</span>.isArray(v)) {\n","        <span class=\"code-keyword\">return</span> observable.array(v, arg2);\n","      }\n","      <span class=\"code-comment\">// Map</span>\n","      <span class=\"code-keyword\">if</span> (isES6Map(v)) {\n","        <span class=\"code-keyword\">return</span> observable.map(v, arg2);\n","      }\n","      <span class=\"code-comment\">// Set</span>\n","      <span class=\"code-keyword\">if</span> (isES6Set(v)) {\n","        <span class=\"code-keyword\">return</span> observable.set(v, arg2);\n","      }\n","      <span class=\"code-comment\">// other object - ignore</span>\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> v === <span class=\"code-string\">\"object\"</span> &amp;&amp; v !== <span class=\"code-literal\">null</span>) {\n","        <span class=\"code-keyword\">return</span> v;\n","      }\n","      <span class=\"code-comment\">// anything else</span>\n","      <span class=\"code-keyword\">return</span> observable.box(v, arg2);\n","    }\n","    assign(createObservable, observableDecoratorAnnotation);\n","    <span class=\"code-keyword\">var</span> observableFactories = {\n","      box: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">box</span>(<span class=\"code-params\">value, options</span>) </span>{\n","        <span class=\"code-keyword\">var</span> o = asCreateObservableOptions(options);\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> ObservableValue(value, getEnhancerFromOptions(o), o.name, <span class=\"code-literal\">true</span>, o.equals);\n","      },\n","      array: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">array</span>(<span class=\"code-params\">initialValues, options</span>) </span>{\n","        <span class=\"code-keyword\">var</span> o = asCreateObservableOptions(options);\n","        <span class=\"code-keyword\">return</span> (globalState.useProxies === <span class=\"code-literal\">false</span> || o.proxy === <span class=\"code-literal\">false</span> ? createLegacyArray : createObservableArray)(initialValues, getEnhancerFromOptions(o), o.name);\n","      },\n","      map: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">map</span>(<span class=\"code-params\">initialValues, options</span>) </span>{\n","        <span class=\"code-keyword\">var</span> o = asCreateObservableOptions(options);\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> ObservableMap(initialValues, getEnhancerFromOptions(o), o.name);\n","      },\n","      <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(initialValues, options) {\n","        <span class=\"code-keyword\">var</span> o = asCreateObservableOptions(options);\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> ObservableSet(initialValues, getEnhancerFromOptions(o), o.name);\n","      },\n","      object: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">object</span>(<span class=\"code-params\">props, decorators, options</span>) </span>{\n","        <span class=\"code-keyword\">return</span> initObservable(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          <span class=\"code-keyword\">return</span> extendObservable(globalState.useProxies === <span class=\"code-literal\">false</span> || (options == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : options.proxy) === <span class=\"code-literal\">false</span> ? asObservableObject({}, options) : asDynamicObservableObject({}, options), props, decorators);\n","        });\n","      },\n","      ref: <span class=\"code-comment\">/*#__PURE__*/</span>createDecoratorAnnotation(observableRefAnnotation),\n","      shallow: <span class=\"code-comment\">/*#__PURE__*/</span>createDecoratorAnnotation(observableShallowAnnotation),\n","      deep: observableDecoratorAnnotation,\n","      struct: <span class=\"code-comment\">/*#__PURE__*/</span>createDecoratorAnnotation(observableStructAnnotation)\n","    };\n","    <span class=\"code-comment\">// eslint-disable-next-line</span>\n","    <span class=\"code-keyword\">var</span> observable = <span class=\"code-comment\">/*#__PURE__*/</span>assign(createObservable, observableFactories);\n","\n","    <span class=\"code-keyword\">var</span> COMPUTED = <span class=\"code-string\">\"computed\"</span>;\n","    <span class=\"code-keyword\">var</span> COMPUTED_STRUCT = <span class=\"code-string\">\"computed.struct\"</span>;\n","    <span class=\"code-keyword\">var</span> computedAnnotation = <span class=\"code-comment\">/*#__PURE__*/</span>createComputedAnnotation(COMPUTED);\n","    <span class=\"code-keyword\">var</span> computedStructAnnotation = <span class=\"code-comment\">/*#__PURE__*/</span>createComputedAnnotation(COMPUTED_STRUCT, {\n","      equals: comparer.structural\n","    });\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * Decorator for class properties: @computed get value() { return expr; }.\n</span>","<span class=\"code-comment\">     * For legacy purposes also invokable as ES5 observable created: `computed(() =&gt; expr)`;\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-keyword\">var</span> computed = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">computed</span>(<span class=\"code-params\">arg1, arg2</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (is20223Decorator(arg2)) {\n","        <span class=\"code-comment\">// @computed (2022.3 Decorators)</span>\n","        <span class=\"code-keyword\">return</span> computedAnnotation.decorate_20223_(arg1, arg2);\n","      }\n","      <span class=\"code-keyword\">if</span> (isStringish(arg2)) {\n","        <span class=\"code-comment\">// @computed</span>\n","        <span class=\"code-keyword\">return</span> storeAnnotation(arg1, arg2, computedAnnotation);\n","      }\n","      <span class=\"code-keyword\">if</span> (isPlainObject(arg1)) {\n","        <span class=\"code-comment\">// @computed({ options })</span>\n","        <span class=\"code-keyword\">return</span> createDecoratorAnnotation(createComputedAnnotation(COMPUTED, arg1));\n","      }\n","      <span class=\"code-comment\">// computed(expr, options?)</span>\n","      {\n","        <span class=\"code-keyword\">if</span> (!isFunction(arg1)) {\n","          die(<span class=\"code-string\">\"First argument to `computed` should be an expression.\"</span>);\n","        }\n","        <span class=\"code-keyword\">if</span> (isFunction(arg2)) {\n","          die(<span class=\"code-string\">\"A setter as second argument is no longer supported, use `{ set: fn }` option instead\"</span>);\n","        }\n","      }\n","      <span class=\"code-keyword\">var</span> opts = isPlainObject(arg2) ? arg2 : {};\n","      opts.get = arg1;\n","      opts.name || (opts.name = arg1.name || <span class=\"code-string\">\"\"</span>); <span class=\"code-comment\">/* for generated name */</span>\n","      <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> ComputedValue(opts);\n","    };\n","    <span class=\"code-built_in\">Object</span>.assign(computed, computedAnnotation);\n","    computed.struct = <span class=\"code-comment\">/*#__PURE__*/</span>createDecoratorAnnotation(computedStructAnnotation);\n","\n","    <span class=\"code-keyword\">var</span> _getDescriptor$config, _getDescriptor;\n","    <span class=\"code-comment\">// we don't use globalState for these in order to avoid possible issues with multiple</span>\n","    <span class=\"code-comment\">// mobx versions</span>\n","    <span class=\"code-keyword\">var</span> currentActionId = <span class=\"code-number\">0</span>;\n","    <span class=\"code-keyword\">var</span> nextActionId = <span class=\"code-number\">1</span>;\n","    <span class=\"code-keyword\">var</span> isFunctionNameConfigurable = (_getDescriptor$config = (_getDescriptor = <span class=\"code-comment\">/*#__PURE__*/</span>getDescriptor(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{}, <span class=\"code-string\">\"name\"</span>)) == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : _getDescriptor.configurable) != <span class=\"code-literal\">null</span> ? _getDescriptor$config : <span class=\"code-literal\">false</span>;\n","    <span class=\"code-comment\">// we can safely recycle this object</span>\n","    <span class=\"code-keyword\">var</span> tmpNameDescriptor = {\n","      value: <span class=\"code-string\">\"action\"</span>,\n","      configurable: <span class=\"code-literal\">true</span>,\n","      writable: <span class=\"code-literal\">false</span>,\n","      enumerable: <span class=\"code-literal\">false</span>\n","    };\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createAction</span>(<span class=\"code-params\">actionName, fn, autoAction, ref</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (autoAction === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","        autoAction = <span class=\"code-literal\">false</span>;\n","      }\n","      {\n","        <span class=\"code-keyword\">if</span> (!isFunction(fn)) {\n","          die(<span class=\"code-string\">\"`action` can only be invoked on functions\"</span>);\n","        }\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> actionName !== <span class=\"code-string\">\"string\"</span> || !actionName) {\n","          die(<span class=\"code-string\">\"actions should have valid names, got: '\"</span> + actionName + <span class=\"code-string\">\"'\"</span>);\n","        }\n","      }\n","      <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">res</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> executeAction(actionName, autoAction, fn, ref || <span class=\"code-keyword\">this</span>, <span class=\"code-built_in\">arguments</span>);\n","      }\n","      res.isMobxAction = <span class=\"code-literal\">true</span>;\n","      res.toString = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> fn.toString();\n","      };\n","      <span class=\"code-keyword\">if</span> (isFunctionNameConfigurable) {\n","        tmpNameDescriptor.value = actionName;\n","        defineProperty(res, <span class=\"code-string\">\"name\"</span>, tmpNameDescriptor);\n","      }\n","      <span class=\"code-keyword\">return</span> res;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">executeAction</span>(<span class=\"code-params\">actionName, canRunAsDerivation, fn, scope, args</span>) </span>{\n","      <span class=\"code-keyword\">var</span> runInfo = _startAction(actionName, canRunAsDerivation, scope, args);\n","      <span class=\"code-keyword\">try</span> {\n","        <span class=\"code-keyword\">return</span> fn.apply(scope, args);\n","      } <span class=\"code-keyword\">catch</span> (err) {\n","        runInfo.error_ = err;\n","        <span class=\"code-keyword\">throw</span> err;\n","      } <span class=\"code-keyword\">finally</span> {\n","        _endAction(runInfo);\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_startAction</span>(<span class=\"code-params\">actionName, canRunAsDerivation,\n</span></span>","<span class=\"code-function\"><span class=\"code-params\">    <span class=\"code-regexp\">//</span> true for autoAction\n</span></span>","<span class=\"code-function\"><span class=\"code-params\">    scope, args</span>) </span>{\n","      <span class=\"code-keyword\">var</span> notifySpy_ =  isSpyEnabled() &amp;&amp; !!actionName;\n","      <span class=\"code-keyword\">var</span> startTime_ = <span class=\"code-number\">0</span>;\n","      <span class=\"code-keyword\">if</span> ( notifySpy_) {\n","        startTime_ = <span class=\"code-built_in\">Date</span>.now();\n","        <span class=\"code-keyword\">var</span> flattenedArgs = args ? <span class=\"code-built_in\">Array</span>.from(args) : EMPTY_ARRAY;\n","        spyReportStart({\n","          type: ACTION,\n","          name: actionName,\n","          object: scope,\n","          <span class=\"code-built_in\">arguments</span>: flattenedArgs\n","        });\n","      }\n","      <span class=\"code-keyword\">var</span> prevDerivation_ = globalState.trackingDerivation;\n","      <span class=\"code-keyword\">var</span> runAsAction = !canRunAsDerivation || !prevDerivation_;\n","      startBatch();\n","      <span class=\"code-keyword\">var</span> prevAllowStateChanges_ = globalState.allowStateChanges; <span class=\"code-comment\">// by default preserve previous allow</span>\n","      <span class=\"code-keyword\">if</span> (runAsAction) {\n","        untrackedStart();\n","        prevAllowStateChanges_ = allowStateChangesStart(<span class=\"code-literal\">true</span>);\n","      }\n","      <span class=\"code-keyword\">var</span> prevAllowStateReads_ = allowStateReadsStart(<span class=\"code-literal\">true</span>);\n","      <span class=\"code-keyword\">var</span> runInfo = {\n","        runAsAction_: runAsAction,\n","        prevDerivation_: prevDerivation_,\n","        prevAllowStateChanges_: prevAllowStateChanges_,\n","        prevAllowStateReads_: prevAllowStateReads_,\n","        notifySpy_: notifySpy_,\n","        startTime_: startTime_,\n","        actionId_: nextActionId++,\n","        parentActionId_: currentActionId\n","      };\n","      currentActionId = runInfo.actionId_;\n","      <span class=\"code-keyword\">return</span> runInfo;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_endAction</span>(<span class=\"code-params\">runInfo</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (currentActionId !== runInfo.actionId_) {\n","        die(<span class=\"code-number\">30</span>);\n","      }\n","      currentActionId = runInfo.parentActionId_;\n","      <span class=\"code-keyword\">if</span> (runInfo.error_ !== <span class=\"code-literal\">undefined</span>) {\n","        globalState.suppressReactionErrors = <span class=\"code-literal\">true</span>;\n","      }\n","      allowStateChangesEnd(runInfo.prevAllowStateChanges_);\n","      allowStateReadsEnd(runInfo.prevAllowStateReads_);\n","      endBatch();\n","      <span class=\"code-keyword\">if</span> (runInfo.runAsAction_) {\n","        untrackedEnd(runInfo.prevDerivation_);\n","      }\n","      <span class=\"code-keyword\">if</span> ( runInfo.notifySpy_) {\n","        spyReportEnd({\n","          time: <span class=\"code-built_in\">Date</span>.now() - runInfo.startTime_\n","        });\n","      }\n","      globalState.suppressReactionErrors = <span class=\"code-literal\">false</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">allowStateChanges</span>(<span class=\"code-params\">allowStateChanges, func</span>) </span>{\n","      <span class=\"code-keyword\">var</span> prev = allowStateChangesStart(allowStateChanges);\n","      <span class=\"code-keyword\">try</span> {\n","        <span class=\"code-keyword\">return</span> func();\n","      } <span class=\"code-keyword\">finally</span> {\n","        allowStateChangesEnd(prev);\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">allowStateChangesStart</span>(<span class=\"code-params\">allowStateChanges</span>) </span>{\n","      <span class=\"code-keyword\">var</span> prev = globalState.allowStateChanges;\n","      globalState.allowStateChanges = allowStateChanges;\n","      <span class=\"code-keyword\">return</span> prev;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">allowStateChangesEnd</span>(<span class=\"code-params\">prev</span>) </span>{\n","      globalState.allowStateChanges = prev;\n","    }\n","\n","    <span class=\"code-keyword\">var</span> CREATE = <span class=\"code-string\">\"create\"</span>;\n","    <span class=\"code-keyword\">var</span> ObservableValue = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">_Atom</span>) </span>{\n","      <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ObservableValue</span>(<span class=\"code-params\">value, enhancer, name_, notifySpy, equals</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this;\n","        <span class=\"code-keyword\">if</span> (name_ === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          name_ =  <span class=\"code-string\">\"ObservableValue@\"</span> + getNextId() ;\n","        }\n","        <span class=\"code-keyword\">if</span> (notifySpy === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          notifySpy = <span class=\"code-literal\">true</span>;\n","        }\n","        <span class=\"code-keyword\">if</span> (equals === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          equals = comparer[<span class=\"code-string\">\"default\"</span>];\n","        }\n","        _this = _Atom.call(<span class=\"code-keyword\">this</span>, name_) || <span class=\"code-keyword\">this</span>;\n","        _this.enhancer = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        _this.name_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        _this.equals = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        _this.hasUnreportedChange_ = <span class=\"code-literal\">false</span>;\n","        _this.interceptors_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        _this.changeListeners_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        _this.value_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        _this.dehancer = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        _this.enhancer = enhancer;\n","        _this.name_ = name_;\n","        _this.equals = equals;\n","        _this.value_ = enhancer(value, <span class=\"code-literal\">undefined</span>, name_);\n","        <span class=\"code-keyword\">if</span> ( notifySpy &amp;&amp; isSpyEnabled()) {\n","          <span class=\"code-comment\">// only notify spy if this is a stand-alone observable</span>\n","          spyReport({\n","            type: CREATE,\n","            object: _this,\n","            observableKind: <span class=\"code-string\">\"value\"</span>,\n","            debugObjectName: _this.name_,\n","            newValue: <span class=\"code-string\">\"\"</span> + _this.value_\n","          });\n","        }\n","        <span class=\"code-keyword\">return</span> _this;\n","      }\n","      _inheritsLoose(ObservableValue, _Atom);\n","      <span class=\"code-keyword\">var</span> _proto = ObservableValue.prototype;\n","      _proto.dehanceValue = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">dehanceValue</span>(<span class=\"code-params\">value</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.dehancer !== <span class=\"code-literal\">undefined</span>) {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.dehancer(value);\n","        }\n","        <span class=\"code-keyword\">return</span> value;\n","      };\n","      _proto.set = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">set</span>(<span class=\"code-params\">newValue</span>) </span>{\n","        <span class=\"code-keyword\">var</span> oldValue = <span class=\"code-keyword\">this</span>.value_;\n","        newValue = <span class=\"code-keyword\">this</span>.prepareNewValue_(newValue);\n","        <span class=\"code-keyword\">if</span> (newValue !== globalState.UNCHANGED) {\n","          <span class=\"code-keyword\">var</span> notifySpy = isSpyEnabled();\n","          <span class=\"code-keyword\">if</span> ( notifySpy) {\n","            spyReportStart({\n","              type: UPDATE,\n","              object: <span class=\"code-keyword\">this</span>,\n","              observableKind: <span class=\"code-string\">\"value\"</span>,\n","              debugObjectName: <span class=\"code-keyword\">this</span>.name_,\n","              newValue: newValue,\n","              oldValue: oldValue\n","            });\n","          }\n","          <span class=\"code-keyword\">this</span>.setNewValue_(newValue);\n","          <span class=\"code-keyword\">if</span> ( notifySpy) {\n","            spyReportEnd();\n","          }\n","        }\n","      };\n","      _proto.prepareNewValue_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">prepareNewValue_</span>(<span class=\"code-params\">newValue</span>) </span>{\n","        checkIfStateModificationsAreAllowed(<span class=\"code-keyword\">this</span>);\n","        <span class=\"code-keyword\">if</span> (hasInterceptors(<span class=\"code-keyword\">this</span>)) {\n","          <span class=\"code-keyword\">var</span> change = interceptChange(<span class=\"code-keyword\">this</span>, {\n","            object: <span class=\"code-keyword\">this</span>,\n","            type: UPDATE,\n","            newValue: newValue\n","          });\n","          <span class=\"code-keyword\">if</span> (!change) {\n","            <span class=\"code-keyword\">return</span> globalState.UNCHANGED;\n","          }\n","          newValue = change.newValue;\n","        }\n","        <span class=\"code-comment\">// apply modifier</span>\n","        newValue = <span class=\"code-keyword\">this</span>.enhancer(newValue, <span class=\"code-keyword\">this</span>.value_, <span class=\"code-keyword\">this</span>.name_);\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.equals(<span class=\"code-keyword\">this</span>.value_, newValue) ? globalState.UNCHANGED : newValue;\n","      };\n","      _proto.setNewValue_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">setNewValue_</span>(<span class=\"code-params\">newValue</span>) </span>{\n","        <span class=\"code-keyword\">var</span> oldValue = <span class=\"code-keyword\">this</span>.value_;\n","        <span class=\"code-keyword\">this</span>.value_ = newValue;\n","        <span class=\"code-keyword\">this</span>.reportChanged();\n","        <span class=\"code-keyword\">if</span> (hasListeners(<span class=\"code-keyword\">this</span>)) {\n","          notifyListeners(<span class=\"code-keyword\">this</span>, {\n","            type: UPDATE,\n","            object: <span class=\"code-keyword\">this</span>,\n","            newValue: newValue,\n","            oldValue: oldValue\n","          });\n","        }\n","      };\n","      _proto.get = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">get</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">this</span>.reportObserved();\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.dehanceValue(<span class=\"code-keyword\">this</span>.value_);\n","      };\n","      _proto.intercept_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">intercept_</span>(<span class=\"code-params\">handler</span>) </span>{\n","        <span class=\"code-keyword\">return</span> registerInterceptor(<span class=\"code-keyword\">this</span>, handler);\n","      };\n","      _proto.observe_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">observe_</span>(<span class=\"code-params\">listener, fireImmediately</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (fireImmediately) {\n","          listener({\n","            observableKind: <span class=\"code-string\">\"value\"</span>,\n","            debugObjectName: <span class=\"code-keyword\">this</span>.name_,\n","            object: <span class=\"code-keyword\">this</span>,\n","            type: UPDATE,\n","            newValue: <span class=\"code-keyword\">this</span>.value_,\n","            oldValue: <span class=\"code-literal\">undefined</span>\n","          });\n","        }\n","        <span class=\"code-keyword\">return</span> registerListener(<span class=\"code-keyword\">this</span>, listener);\n","      };\n","      _proto.raw = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">raw</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-comment\">// used by MST ot get undehanced value</span>\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.value_;\n","      };\n","      _proto.toJSON = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toJSON</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.get();\n","      };\n","      _proto.toString = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toString</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.name_ + <span class=\"code-string\">\"[\"</span> + <span class=\"code-keyword\">this</span>.value_ + <span class=\"code-string\">\"]\"</span>;\n","      };\n","      _proto.valueOf = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">valueOf</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> toPrimitive(<span class=\"code-keyword\">this</span>.get());\n","      };\n","      _proto[<span class=\"code-built_in\">Symbol</span>.toPrimitive] = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.valueOf();\n","      };\n","      <span class=\"code-keyword\">return</span> ObservableValue;\n","    }(Atom);\n","    <span class=\"code-keyword\">var</span> isObservableValue = <span class=\"code-comment\">/*#__PURE__*/</span>createInstanceofPredicate(<span class=\"code-string\">\"ObservableValue\"</span>, ObservableValue);\n","\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * A node in the state dependency root that observes other nodes, and can be observed itself.\n</span>","<span class=\"code-comment\">     *\n</span>","<span class=\"code-comment\">     * ComputedValue will remember the result of the computation for the duration of the batch, or\n</span>","<span class=\"code-comment\">     * while being observed.\n</span>","<span class=\"code-comment\">     *\n</span>","<span class=\"code-comment\">     * During this time it will recompute only when one of its direct dependencies changed,\n</span>","<span class=\"code-comment\">     * but only when it is being accessed with `ComputedValue.get()`.\n</span>","<span class=\"code-comment\">     *\n</span>","<span class=\"code-comment\">     * Implementation description:\n</span>","<span class=\"code-comment\">     * 1. First time it's being accessed it will compute and remember result\n</span>","<span class=\"code-comment\">     *    give back remembered result until 2. happens\n</span>","<span class=\"code-comment\">     * 2. First time any deep dependency change, propagate POSSIBLY_STALE to all observers, wait for 3.\n</span>","<span class=\"code-comment\">     * 3. When it's being accessed, recompute if any shallow dependency changed.\n</span>","<span class=\"code-comment\">     *    if result changed: propagate STALE to all observers, that were POSSIBLY_STALE from the last step.\n</span>","<span class=\"code-comment\">     *    go to step 2. either way\n</span>","<span class=\"code-comment\">     *\n</span>","<span class=\"code-comment\">     * If at any point it's outside batch and it isn't observed: reset everything and go to 1.\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-keyword\">var</span> ComputedValue = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * Create a new computed value based on a function expression.\n</span>","<span class=\"code-comment\">       *\n</span>","<span class=\"code-comment\">       * The `name` property is for debug purposes only.\n</span>","<span class=\"code-comment\">       *\n</span>","<span class=\"code-comment\">       * The `equals` property specifies the comparer function to use to determine if a newly produced\n</span>","<span class=\"code-comment\">       * value differs from the previous value. Two comparers are provided in the library; `defaultComparer`\n</span>","<span class=\"code-comment\">       * compares based on identity comparison (===), and `structuralComparer` deeply compares the structure.\n</span>","<span class=\"code-comment\">       * Structural comparison can be convenient if you always produce a new aggregated object and\n</span>","<span class=\"code-comment\">       * don't want to notify observers if it is structurally the same.\n</span>","<span class=\"code-comment\">       * This is useful for working with vectors, mouse coordinates etc.\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ComputedValue</span>(<span class=\"code-params\">options</span>) </span>{\n","        <span class=\"code-keyword\">this</span>.dependenciesState_ = IDerivationState_.NOT_TRACKING_;\n","        <span class=\"code-keyword\">this</span>.observing_ = [];\n","        <span class=\"code-comment\">// nodes we are looking at. Our value depends on these nodes</span>\n","        <span class=\"code-keyword\">this</span>.newObserving_ = <span class=\"code-literal\">null</span>;\n","        <span class=\"code-comment\">// during tracking it's an array with new observed observers</span>\n","        <span class=\"code-keyword\">this</span>.observers_ = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Set</span>();\n","        <span class=\"code-keyword\">this</span>.runId_ = <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.lastAccessedBy_ = <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.lowestObserverState_ = IDerivationState_.UP_TO_DATE_;\n","        <span class=\"code-keyword\">this</span>.unboundDepsCount_ = <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.value_ = <span class=\"code-keyword\">new</span> CaughtException(<span class=\"code-literal\">null</span>);\n","        <span class=\"code-keyword\">this</span>.name_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.triggeredBy_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.flags_ = <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.derivation = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-comment\">// N.B: unminified as it is used by MST</span>\n","        <span class=\"code-keyword\">this</span>.setter_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.isTracing_ = TraceMode.NONE;\n","        <span class=\"code-keyword\">this</span>.scope_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.equals_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.requiresReaction_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.keepAlive_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.onBOL = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.onBUOL = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">if</span> (!options.get) {\n","          die(<span class=\"code-number\">31</span>);\n","        }\n","        <span class=\"code-keyword\">this</span>.derivation = options.get;\n","        <span class=\"code-keyword\">this</span>.name_ = options.name || ( <span class=\"code-string\">\"ComputedValue@\"</span> + getNextId() );\n","        <span class=\"code-keyword\">if</span> (options.set) {\n","          <span class=\"code-keyword\">this</span>.setter_ = createAction( <span class=\"code-keyword\">this</span>.name_ + <span class=\"code-string\">\"-setter\"</span> , options.set);\n","        }\n","        <span class=\"code-keyword\">this</span>.equals_ = options.equals || (options.compareStructural || options.struct ? comparer.structural : comparer[<span class=\"code-string\">\"default\"</span>]);\n","        <span class=\"code-keyword\">this</span>.scope_ = options.context;\n","        <span class=\"code-keyword\">this</span>.requiresReaction_ = options.requiresReaction;\n","        <span class=\"code-keyword\">this</span>.keepAlive_ = !!options.keepAlive;\n","      }\n","      <span class=\"code-keyword\">var</span> _proto = ComputedValue.prototype;\n","      _proto.onBecomeStale_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">onBecomeStale_</span>(<span class=\"code-params\"></span>) </span>{\n","        propagateMaybeChanged(<span class=\"code-keyword\">this</span>);\n","      };\n","      _proto.onBO = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">onBO</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.onBOL) {\n","          <span class=\"code-keyword\">this</span>.onBOL.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">listener</span>) </span>{\n","            <span class=\"code-keyword\">return</span> listener();\n","          });\n","        }\n","      };\n","      _proto.onBUO = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">onBUO</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.onBUOL) {\n","          <span class=\"code-keyword\">this</span>.onBUOL.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">listener</span>) </span>{\n","            <span class=\"code-keyword\">return</span> listener();\n","          });\n","        }\n","      }\n","      <span class=\"code-comment\">// to check for cycles</span>\n","      ;\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * Returns the current value of this computed value.\n</span>","<span class=\"code-comment\">       * Will evaluate its computation first if needed.\n</span>","<span class=\"code-comment\">       */</span>\n","      _proto.get = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">get</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.isComputing) {\n","          die(<span class=\"code-number\">32</span>, <span class=\"code-keyword\">this</span>.name_, <span class=\"code-keyword\">this</span>.derivation);\n","        }\n","        <span class=\"code-keyword\">if</span> (globalState.inBatch === <span class=\"code-number\">0</span> &amp;&amp;\n","        <span class=\"code-comment\">// !globalState.trackingDerivatpion &amp;&amp;</span>\n","        <span class=\"code-keyword\">this</span>.observers_.size === <span class=\"code-number\">0</span> &amp;&amp; !<span class=\"code-keyword\">this</span>.keepAlive_) {\n","          <span class=\"code-keyword\">if</span> (shouldCompute(<span class=\"code-keyword\">this</span>)) {\n","            <span class=\"code-keyword\">this</span>.warnAboutUntrackedRead_();\n","            startBatch(); <span class=\"code-comment\">// See perf test 'computed memoization'</span>\n","            <span class=\"code-keyword\">this</span>.value_ = <span class=\"code-keyword\">this</span>.computeValue_(<span class=\"code-literal\">false</span>);\n","            endBatch();\n","          }\n","        } <span class=\"code-keyword\">else</span> {\n","          reportObserved(<span class=\"code-keyword\">this</span>);\n","          <span class=\"code-keyword\">if</span> (shouldCompute(<span class=\"code-keyword\">this</span>)) {\n","            <span class=\"code-keyword\">var</span> prevTrackingContext = globalState.trackingContext;\n","            <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.keepAlive_ &amp;&amp; !prevTrackingContext) {\n","              globalState.trackingContext = <span class=\"code-keyword\">this</span>;\n","            }\n","            <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.trackAndCompute()) {\n","              propagateChangeConfirmed(<span class=\"code-keyword\">this</span>);\n","            }\n","            globalState.trackingContext = prevTrackingContext;\n","          }\n","        }\n","        <span class=\"code-keyword\">var</span> result = <span class=\"code-keyword\">this</span>.value_;\n","        <span class=\"code-keyword\">if</span> (isCaughtException(result)) {\n","          <span class=\"code-keyword\">throw</span> result.cause;\n","        }\n","        <span class=\"code-keyword\">return</span> result;\n","      };\n","      _proto.set = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">set</span>(<span class=\"code-params\">value</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.setter_) {\n","          <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.isRunningSetter) {\n","            die(<span class=\"code-number\">33</span>, <span class=\"code-keyword\">this</span>.name_);\n","          }\n","          <span class=\"code-keyword\">this</span>.isRunningSetter = <span class=\"code-literal\">true</span>;\n","          <span class=\"code-keyword\">try</span> {\n","            <span class=\"code-keyword\">this</span>.setter_.call(<span class=\"code-keyword\">this</span>.scope_, value);\n","          } <span class=\"code-keyword\">finally</span> {\n","            <span class=\"code-keyword\">this</span>.isRunningSetter = <span class=\"code-literal\">false</span>;\n","          }\n","        } <span class=\"code-keyword\">else</span> {\n","          die(<span class=\"code-number\">34</span>, <span class=\"code-keyword\">this</span>.name_);\n","        }\n","      };\n","      _proto.trackAndCompute = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">trackAndCompute</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-comment\">// N.B: unminified as it is used by MST</span>\n","        <span class=\"code-keyword\">var</span> oldValue = <span class=\"code-keyword\">this</span>.value_;\n","        <span class=\"code-keyword\">var</span> wasSuspended = <span class=\"code-comment\">/* see #1208 */</span><span class=\"code-keyword\">this</span>.dependenciesState_ === IDerivationState_.NOT_TRACKING_;\n","        <span class=\"code-keyword\">var</span> newValue = <span class=\"code-keyword\">this</span>.computeValue_(<span class=\"code-literal\">true</span>);\n","        <span class=\"code-keyword\">var</span> changed = wasSuspended || isCaughtException(oldValue) || isCaughtException(newValue) || !<span class=\"code-keyword\">this</span>.equals_(oldValue, newValue);\n","        <span class=\"code-keyword\">if</span> (changed) {\n","          <span class=\"code-keyword\">this</span>.value_ = newValue;\n","          <span class=\"code-keyword\">if</span> ( isSpyEnabled()) {\n","            spyReport({\n","              observableKind: <span class=\"code-string\">\"computed\"</span>,\n","              debugObjectName: <span class=\"code-keyword\">this</span>.name_,\n","              object: <span class=\"code-keyword\">this</span>.scope_,\n","              type: <span class=\"code-string\">\"update\"</span>,\n","              oldValue: oldValue,\n","              newValue: newValue\n","            });\n","          }\n","        }\n","        <span class=\"code-keyword\">return</span> changed;\n","      };\n","      _proto.computeValue_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">computeValue_</span>(<span class=\"code-params\">track</span>) </span>{\n","        <span class=\"code-keyword\">this</span>.isComputing = <span class=\"code-literal\">true</span>;\n","        <span class=\"code-comment\">// don't allow state changes during computation</span>\n","        <span class=\"code-keyword\">var</span> prev = allowStateChangesStart(<span class=\"code-literal\">false</span>);\n","        <span class=\"code-keyword\">var</span> res;\n","        <span class=\"code-keyword\">if</span> (track) {\n","          res = trackDerivedFunction(<span class=\"code-keyword\">this</span>, <span class=\"code-keyword\">this</span>.derivation, <span class=\"code-keyword\">this</span>.scope_);\n","        } <span class=\"code-keyword\">else</span> {\n","          <span class=\"code-keyword\">if</span> (globalState.disableErrorBoundaries === <span class=\"code-literal\">true</span>) {\n","            res = <span class=\"code-keyword\">this</span>.derivation.call(<span class=\"code-keyword\">this</span>.scope_);\n","          } <span class=\"code-keyword\">else</span> {\n","            <span class=\"code-keyword\">try</span> {\n","              res = <span class=\"code-keyword\">this</span>.derivation.call(<span class=\"code-keyword\">this</span>.scope_);\n","            } <span class=\"code-keyword\">catch</span> (e) {\n","              res = <span class=\"code-keyword\">new</span> CaughtException(e);\n","            }\n","          }\n","        }\n","        allowStateChangesEnd(prev);\n","        <span class=\"code-keyword\">this</span>.isComputing = <span class=\"code-literal\">false</span>;\n","        <span class=\"code-keyword\">return</span> res;\n","      };\n","      _proto.suspend_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">suspend_</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.keepAlive_) {\n","          clearObserving(<span class=\"code-keyword\">this</span>);\n","          <span class=\"code-keyword\">this</span>.value_ = <span class=\"code-literal\">undefined</span>; <span class=\"code-comment\">// don't hold on to computed value!</span>\n","          <span class=\"code-keyword\">if</span> ( <span class=\"code-keyword\">this</span>.isTracing_ !== TraceMode.NONE) {\n","            <span class=\"code-built_in\">console</span>.log(<span class=\"code-string\">\"[mobx.trace] Computed value '\"</span> + <span class=\"code-keyword\">this</span>.name_ + <span class=\"code-string\">\"' was suspended and it will recompute on the next access.\"</span>);\n","          }\n","        }\n","      };\n","      _proto.observe_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">observe_</span>(<span class=\"code-params\">listener, fireImmediately</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-keyword\">var</span> firstTime = <span class=\"code-literal\">true</span>;\n","        <span class=\"code-keyword\">var</span> prevValue = <span class=\"code-literal\">undefined</span>;\n","        <span class=\"code-keyword\">return</span> autorun(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          <span class=\"code-comment\">// <span class=\"code-doctag\">TODO:</span> why is this in a different place than the spyReport() function? in all other observables it's called in the same place</span>\n","          <span class=\"code-keyword\">var</span> newValue = _this.get();\n","          <span class=\"code-keyword\">if</span> (!firstTime || fireImmediately) {\n","            <span class=\"code-keyword\">var</span> prevU = untrackedStart();\n","            listener({\n","              observableKind: <span class=\"code-string\">\"computed\"</span>,\n","              debugObjectName: _this.name_,\n","              type: UPDATE,\n","              object: _this,\n","              newValue: newValue,\n","              oldValue: prevValue\n","            });\n","            untrackedEnd(prevU);\n","          }\n","          firstTime = <span class=\"code-literal\">false</span>;\n","          prevValue = newValue;\n","        });\n","      };\n","      _proto.warnAboutUntrackedRead_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">warnAboutUntrackedRead_</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.isTracing_ !== TraceMode.NONE) {\n","          <span class=\"code-built_in\">console</span>.log(<span class=\"code-string\">\"[mobx.trace] Computed value '\"</span> + <span class=\"code-keyword\">this</span>.name_ + <span class=\"code-string\">\"' is being read outside a reactive context. Doing a full recompute.\"</span>);\n","        }\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.requiresReaction_ === <span class=\"code-string\">\"boolean\"</span> ? <span class=\"code-keyword\">this</span>.requiresReaction_ : globalState.computedRequiresReaction) {\n","          <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"[mobx] Computed value '\"</span> + <span class=\"code-keyword\">this</span>.name_ + <span class=\"code-string\">\"' is being read outside a reactive context. Doing a full recompute.\"</span>);\n","        }\n","      };\n","      _proto.toString = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toString</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.name_ + <span class=\"code-string\">\"[\"</span> + <span class=\"code-keyword\">this</span>.derivation.toString() + <span class=\"code-string\">\"]\"</span>;\n","      };\n","      _proto.valueOf = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">valueOf</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> toPrimitive(<span class=\"code-keyword\">this</span>.get());\n","      };\n","      _proto[<span class=\"code-built_in\">Symbol</span>.toPrimitive] = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.valueOf();\n","      };\n","      <span class=\"code-keyword\">return</span> _createClass(ComputedValue, [{\n","        key: <span class=\"code-string\">\"isComputing\"</span>,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> getFlag(<span class=\"code-keyword\">this</span>.flags_, ComputedValue.isComputingMask_);\n","        },\n","        <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(newValue) {\n","          <span class=\"code-keyword\">this</span>.flags_ = setFlag(<span class=\"code-keyword\">this</span>.flags_, ComputedValue.isComputingMask_, newValue);\n","        }\n","      }, {\n","        key: <span class=\"code-string\">\"isRunningSetter\"</span>,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> getFlag(<span class=\"code-keyword\">this</span>.flags_, ComputedValue.isRunningSetterMask_);\n","        },\n","        <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(newValue) {\n","          <span class=\"code-keyword\">this</span>.flags_ = setFlag(<span class=\"code-keyword\">this</span>.flags_, ComputedValue.isRunningSetterMask_, newValue);\n","        }\n","      }, {\n","        key: <span class=\"code-string\">\"isBeingObserved\"</span>,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> getFlag(<span class=\"code-keyword\">this</span>.flags_, ComputedValue.isBeingObservedMask_);\n","        },\n","        <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(newValue) {\n","          <span class=\"code-keyword\">this</span>.flags_ = setFlag(<span class=\"code-keyword\">this</span>.flags_, ComputedValue.isBeingObservedMask_, newValue);\n","        }\n","      }, {\n","        key: <span class=\"code-string\">\"isPendingUnobservation\"</span>,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> getFlag(<span class=\"code-keyword\">this</span>.flags_, ComputedValue.isPendingUnobservationMask_);\n","        },\n","        <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(newValue) {\n","          <span class=\"code-keyword\">this</span>.flags_ = setFlag(<span class=\"code-keyword\">this</span>.flags_, ComputedValue.isPendingUnobservationMask_, newValue);\n","        }\n","      }, {\n","        key: <span class=\"code-string\">\"diffValue\"</span>,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> getFlag(<span class=\"code-keyword\">this</span>.flags_, ComputedValue.diffValueMask_) ? <span class=\"code-number\">1</span> : <span class=\"code-number\">0</span>;\n","        },\n","        <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(newValue) {\n","          <span class=\"code-keyword\">this</span>.flags_ = setFlag(<span class=\"code-keyword\">this</span>.flags_, ComputedValue.diffValueMask_, newValue === <span class=\"code-number\">1</span> ? <span class=\"code-literal\">true</span> : <span class=\"code-literal\">false</span>);\n","        }\n","      }]);\n","    }();\n","    ComputedValue.isComputingMask_ = <span class=\"code-number\">1</span>;\n","    ComputedValue.isRunningSetterMask_ = <span class=\"code-number\">2</span>;\n","    ComputedValue.isBeingObservedMask_ = <span class=\"code-number\">4</span>;\n","    ComputedValue.isPendingUnobservationMask_ = <span class=\"code-number\">8</span>;\n","    ComputedValue.diffValueMask_ = <span class=\"code-number\">16</span>;\n","    <span class=\"code-keyword\">var</span> isComputedValue = <span class=\"code-comment\">/*#__PURE__*/</span>createInstanceofPredicate(<span class=\"code-string\">\"ComputedValue\"</span>, ComputedValue);\n","\n","    <span class=\"code-keyword\">var</span> IDerivationState_;\n","    (<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">IDerivationState_</span>) </span>{\n","      <span class=\"code-comment\">// before being run or (outside batch and not being observed)</span>\n","      <span class=\"code-comment\">// at this point derivation is not holding any data about dependency tree</span>\n","      IDerivationState_[IDerivationState_[<span class=\"code-string\">\"NOT_TRACKING_\"</span>] = <span class=\"code-number\">-1</span>] = <span class=\"code-string\">\"NOT_TRACKING_\"</span>;\n","      <span class=\"code-comment\">// no shallow dependency changed since last computation</span>\n","      <span class=\"code-comment\">// won't recalculate derivation</span>\n","      <span class=\"code-comment\">// this is what makes mobx fast</span>\n","      IDerivationState_[IDerivationState_[<span class=\"code-string\">\"UP_TO_DATE_\"</span>] = <span class=\"code-number\">0</span>] = <span class=\"code-string\">\"UP_TO_DATE_\"</span>;\n","      <span class=\"code-comment\">// some deep dependency changed, but don't know if shallow dependency changed</span>\n","      <span class=\"code-comment\">// will require to check first if UP_TO_DATE or POSSIBLY_STALE</span>\n","      <span class=\"code-comment\">// currently only ComputedValue will propagate POSSIBLY_STALE</span>\n","      <span class=\"code-comment\">//</span>\n","      <span class=\"code-comment\">// having this state is second big optimization:</span>\n","      <span class=\"code-comment\">// don't have to recompute on every dependency change, but only when it's needed</span>\n","      IDerivationState_[IDerivationState_[<span class=\"code-string\">\"POSSIBLY_STALE_\"</span>] = <span class=\"code-number\">1</span>] = <span class=\"code-string\">\"POSSIBLY_STALE_\"</span>;\n","      <span class=\"code-comment\">// A shallow dependency has changed since last computation and the derivation</span>\n","      <span class=\"code-comment\">// will need to recompute when it's needed next.</span>\n","      IDerivationState_[IDerivationState_[<span class=\"code-string\">\"STALE_\"</span>] = <span class=\"code-number\">2</span>] = <span class=\"code-string\">\"STALE_\"</span>;\n","    })(IDerivationState_ || (IDerivationState_ = {}));\n","    <span class=\"code-keyword\">var</span> TraceMode;\n","    (<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">TraceMode</span>) </span>{\n","      TraceMode[TraceMode[<span class=\"code-string\">\"NONE\"</span>] = <span class=\"code-number\">0</span>] = <span class=\"code-string\">\"NONE\"</span>;\n","      TraceMode[TraceMode[<span class=\"code-string\">\"LOG\"</span>] = <span class=\"code-number\">1</span>] = <span class=\"code-string\">\"LOG\"</span>;\n","      TraceMode[TraceMode[<span class=\"code-string\">\"BREAK\"</span>] = <span class=\"code-number\">2</span>] = <span class=\"code-string\">\"BREAK\"</span>;\n","    })(TraceMode || (TraceMode = {}));\n","    <span class=\"code-keyword\">var</span> CaughtException = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">CaughtException</span>(<span class=\"code-params\">cause</span>) </span>{\n","      <span class=\"code-keyword\">this</span>.cause = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","      <span class=\"code-keyword\">this</span>.cause = cause;\n","      <span class=\"code-comment\">// Empty</span>\n","    };\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isCaughtException</span>(<span class=\"code-params\">e</span>) </span>{\n","      <span class=\"code-keyword\">return</span> e <span class=\"code-keyword\">instanceof</span> CaughtException;\n","    }\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * Finds out whether any dependency of the derivation has actually changed.\n</span>","<span class=\"code-comment\">     * If dependenciesState is 1 then it will recalculate dependencies,\n</span>","<span class=\"code-comment\">     * if any dependency changed it will propagate it by changing dependenciesState to 2.\n</span>","<span class=\"code-comment\">     *\n</span>","<span class=\"code-comment\">     * By iterating over the dependencies in the same order that they were reported and\n</span>","<span class=\"code-comment\">     * stopping on the first change, all the recalculations are only called for ComputedValues\n</span>","<span class=\"code-comment\">     * that will be tracked by derivation. That is because we assume that if the first x\n</span>","<span class=\"code-comment\">     * dependencies of the derivation doesn't change then the derivation should run the same way\n</span>","<span class=\"code-comment\">     * up until accessing x-th dependency.\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">shouldCompute</span>(<span class=\"code-params\">derivation</span>) </span>{\n","      <span class=\"code-keyword\">switch</span> (derivation.dependenciesState_) {\n","        <span class=\"code-keyword\">case</span> IDerivationState_.UP_TO_DATE_:\n","          <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","        <span class=\"code-keyword\">case</span> IDerivationState_.NOT_TRACKING_:\n","        <span class=\"code-keyword\">case</span> IDerivationState_.STALE_:\n","          <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","        <span class=\"code-keyword\">case</span> IDerivationState_.POSSIBLY_STALE_:\n","          {\n","            <span class=\"code-comment\">// state propagation can occur outside of action/reactive context #2195</span>\n","            <span class=\"code-keyword\">var</span> prevAllowStateReads = allowStateReadsStart(<span class=\"code-literal\">true</span>);\n","            <span class=\"code-keyword\">var</span> prevUntracked = untrackedStart(); <span class=\"code-comment\">// no need for those computeds to be reported, they will be picked up in trackDerivedFunction.</span>\n","            <span class=\"code-keyword\">var</span> obs = derivation.observing_,\n","              l = obs.length;\n","            <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>; i &lt; l; i++) {\n","              <span class=\"code-keyword\">var</span> obj = obs[i];\n","              <span class=\"code-keyword\">if</span> (isComputedValue(obj)) {\n","                <span class=\"code-keyword\">if</span> (globalState.disableErrorBoundaries) {\n","                  obj.get();\n","                } <span class=\"code-keyword\">else</span> {\n","                  <span class=\"code-keyword\">try</span> {\n","                    obj.get();\n","                  } <span class=\"code-keyword\">catch</span> (e) {\n","                    <span class=\"code-comment\">// we are not interested in the value *or* exception at this moment, but if there is one, notify all</span>\n","                    untrackedEnd(prevUntracked);\n","                    allowStateReadsEnd(prevAllowStateReads);\n","                    <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","                  }\n","                }\n","                <span class=\"code-comment\">// if ComputedValue `obj` actually changed it will be computed and propagated to its observers.</span>\n","                <span class=\"code-comment\">// and `derivation` is an observer of `obj`</span>\n","                <span class=\"code-comment\">// invariantShouldCompute(derivation)</span>\n","                <span class=\"code-keyword\">if</span> (derivation.dependenciesState_ === IDerivationState_.STALE_) {\n","                  untrackedEnd(prevUntracked);\n","                  allowStateReadsEnd(prevAllowStateReads);\n","                  <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","                }\n","              }\n","            }\n","            changeDependenciesStateTo0(derivation);\n","            untrackedEnd(prevUntracked);\n","            allowStateReadsEnd(prevAllowStateReads);\n","            <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","          }\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isComputingDerivation</span>(<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-keyword\">return</span> globalState.trackingDerivation !== <span class=\"code-literal\">null</span>; <span class=\"code-comment\">// filter out actions inside computations</span>\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">checkIfStateModificationsAreAllowed</span>(<span class=\"code-params\">atom</span>) </span>{\n","      <span class=\"code-keyword\">var</span> hasObservers = atom.observers_.size &gt; <span class=\"code-number\">0</span>;\n","      <span class=\"code-comment\">// Should not be possible to change observed state outside strict mode, except during initialization, see #563</span>\n","      <span class=\"code-keyword\">if</span> (!globalState.allowStateChanges &amp;&amp; (hasObservers || globalState.enforceActions === <span class=\"code-string\">\"always\"</span>)) {\n","        <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"[MobX] \"</span> + (globalState.enforceActions ? <span class=\"code-string\">\"Since strict-mode is enabled, changing (observed) observable values without using an action is not allowed. Tried to modify: \"</span> : <span class=\"code-string\">\"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, a computed value or the render function of a React component? You can wrap side effects in 'runInAction' (or decorate functions with 'action') if needed. Tried to modify: \"</span>) + atom.name_);\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">checkIfStateReadsAreAllowed</span>(<span class=\"code-params\">observable</span>) </span>{\n","      <span class=\"code-keyword\">if</span> ( !globalState.allowStateReads &amp;&amp; globalState.observableRequiresReaction) {\n","        <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"[mobx] Observable '\"</span> + observable.name_ + <span class=\"code-string\">\"' being read outside a reactive context.\"</span>);\n","      }\n","    }\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * Executes the provided function `f` and tracks which observables are being accessed.\n</span>","<span class=\"code-comment\">     * The tracking information is stored on the `derivation` object and the derivation is registered\n</span>","<span class=\"code-comment\">     * as observer of any of the accessed observables.\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">trackDerivedFunction</span>(<span class=\"code-params\">derivation, f, context</span>) </span>{\n","      <span class=\"code-keyword\">var</span> prevAllowStateReads = allowStateReadsStart(<span class=\"code-literal\">true</span>);\n","      changeDependenciesStateTo0(derivation);\n","      <span class=\"code-comment\">// Preallocate array; will be trimmed by bindDependencies.</span>\n","      derivation.newObserving_ = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(\n","      <span class=\"code-comment\">// Reserve constant space for initial dependencies, dynamic space otherwise.</span>\n","      <span class=\"code-comment\">// See https://github.com/mobxjs/mobx/pull/3833</span>\n","      derivation.runId_ === <span class=\"code-number\">0</span> ? <span class=\"code-number\">100</span> : derivation.observing_.length);\n","      derivation.unboundDepsCount_ = <span class=\"code-number\">0</span>;\n","      derivation.runId_ = ++globalState.runId;\n","      <span class=\"code-keyword\">var</span> prevTracking = globalState.trackingDerivation;\n","      globalState.trackingDerivation = derivation;\n","      globalState.inBatch++;\n","      <span class=\"code-keyword\">var</span> result;\n","      <span class=\"code-keyword\">if</span> (globalState.disableErrorBoundaries === <span class=\"code-literal\">true</span>) {\n","        result = f.call(context);\n","      } <span class=\"code-keyword\">else</span> {\n","        <span class=\"code-keyword\">try</span> {\n","          result = f.call(context);\n","        } <span class=\"code-keyword\">catch</span> (e) {\n","          result = <span class=\"code-keyword\">new</span> CaughtException(e);\n","        }\n","      }\n","      globalState.inBatch--;\n","      globalState.trackingDerivation = prevTracking;\n","      bindDependencies(derivation);\n","      warnAboutDerivationWithoutDependencies(derivation);\n","      allowStateReadsEnd(prevAllowStateReads);\n","      <span class=\"code-keyword\">return</span> result;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">warnAboutDerivationWithoutDependencies</span>(<span class=\"code-params\">derivation</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (derivation.observing_.length !== <span class=\"code-number\">0</span>) {\n","        <span class=\"code-keyword\">return</span>;\n","      }\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> derivation.requiresObservable_ === <span class=\"code-string\">\"boolean\"</span> ? derivation.requiresObservable_ : globalState.reactionRequiresObservable) {\n","        <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"[mobx] Derivation '\"</span> + derivation.name_ + <span class=\"code-string\">\"' is created/updated without reading any observable value.\"</span>);\n","      }\n","    }\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * diffs newObserving with observing.\n</span>","<span class=\"code-comment\">     * update observing to be newObserving with unique observables\n</span>","<span class=\"code-comment\">     * notify observers that become observed/unobserved\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">bindDependencies</span>(<span class=\"code-params\">derivation</span>) </span>{\n","      <span class=\"code-comment\">// invariant(derivation.dependenciesState !== IDerivationState.NOT_TRACKING, \"INTERNAL ERROR bindDependencies expects derivation.dependenciesState !== -1\");</span>\n","      <span class=\"code-keyword\">var</span> prevObserving = derivation.observing_;\n","      <span class=\"code-keyword\">var</span> observing = derivation.observing_ = derivation.newObserving_;\n","      <span class=\"code-keyword\">var</span> lowestNewObservingDerivationState = IDerivationState_.UP_TO_DATE_;\n","      <span class=\"code-comment\">// Go through all new observables and check diffValue: (this list can contain duplicates):</span>\n","      <span class=\"code-comment\">//   0: first occurrence, change to 1 and keep it</span>\n","      <span class=\"code-comment\">//   1: extra occurrence, drop it</span>\n","      <span class=\"code-keyword\">var</span> i0 = <span class=\"code-number\">0</span>,\n","        l = derivation.unboundDepsCount_;\n","      <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>; i &lt; l; i++) {\n","        <span class=\"code-keyword\">var</span> dep = observing[i];\n","        <span class=\"code-keyword\">if</span> (dep.diffValue === <span class=\"code-number\">0</span>) {\n","          dep.diffValue = <span class=\"code-number\">1</span>;\n","          <span class=\"code-keyword\">if</span> (i0 !== i) {\n","            observing[i0] = dep;\n","          }\n","          i0++;\n","        }\n","        <span class=\"code-comment\">// Upcast is 'safe' here, because if dep is IObservable, `dependenciesState` will be undefined,</span>\n","        <span class=\"code-comment\">// not hitting the condition</span>\n","        <span class=\"code-keyword\">if</span> (dep.dependenciesState_ &gt; lowestNewObservingDerivationState) {\n","          lowestNewObservingDerivationState = dep.dependenciesState_;\n","        }\n","      }\n","      observing.length = i0;\n","      derivation.newObserving_ = <span class=\"code-literal\">null</span>; <span class=\"code-comment\">// newObserving shouldn't be needed outside tracking (statement moved down to work around FF bug, see #614)</span>\n","      <span class=\"code-comment\">// Go through all old observables and check diffValue: (it is unique after last bindDependencies)</span>\n","      <span class=\"code-comment\">//   0: it's not in new observables, unobserve it</span>\n","      <span class=\"code-comment\">//   1: it keeps being observed, don't want to notify it. change to 0</span>\n","      l = prevObserving.length;\n","      <span class=\"code-keyword\">while</span> (l--) {\n","        <span class=\"code-keyword\">var</span> _dep = prevObserving[l];\n","        <span class=\"code-keyword\">if</span> (_dep.diffValue === <span class=\"code-number\">0</span>) {\n","          removeObserver(_dep, derivation);\n","        }\n","        _dep.diffValue = <span class=\"code-number\">0</span>;\n","      }\n","      <span class=\"code-comment\">// Go through all new observables and check diffValue: (now it should be unique)</span>\n","      <span class=\"code-comment\">//   0: it was set to 0 in last loop. don't need to do anything.</span>\n","      <span class=\"code-comment\">//   1: it wasn't observed, let's observe it. set back to 0</span>\n","      <span class=\"code-keyword\">while</span> (i0--) {\n","        <span class=\"code-keyword\">var</span> _dep2 = observing[i0];\n","        <span class=\"code-keyword\">if</span> (_dep2.diffValue === <span class=\"code-number\">1</span>) {\n","          _dep2.diffValue = <span class=\"code-number\">0</span>;\n","          addObserver(_dep2, derivation);\n","        }\n","      }\n","      <span class=\"code-comment\">// Some new observed derivations may become stale during this derivation computation</span>\n","      <span class=\"code-comment\">// so they have had no chance to propagate staleness (#916)</span>\n","      <span class=\"code-keyword\">if</span> (lowestNewObservingDerivationState !== IDerivationState_.UP_TO_DATE_) {\n","        derivation.dependenciesState_ = lowestNewObservingDerivationState;\n","        derivation.onBecomeStale_();\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">clearObserving</span>(<span class=\"code-params\">derivation</span>) </span>{\n","      <span class=\"code-comment\">// invariant(globalState.inBatch &gt; 0, \"INTERNAL ERROR clearObserving should be called only inside batch\");</span>\n","      <span class=\"code-keyword\">var</span> obs = derivation.observing_;\n","      derivation.observing_ = [];\n","      <span class=\"code-keyword\">var</span> i = obs.length;\n","      <span class=\"code-keyword\">while</span> (i--) {\n","        removeObserver(obs[i], derivation);\n","      }\n","      derivation.dependenciesState_ = IDerivationState_.NOT_TRACKING_;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">untracked</span>(<span class=\"code-params\">action</span>) </span>{\n","      <span class=\"code-keyword\">var</span> prev = untrackedStart();\n","      <span class=\"code-keyword\">try</span> {\n","        <span class=\"code-keyword\">return</span> action();\n","      } <span class=\"code-keyword\">finally</span> {\n","        untrackedEnd(prev);\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">untrackedStart</span>(<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-keyword\">var</span> prev = globalState.trackingDerivation;\n","      globalState.trackingDerivation = <span class=\"code-literal\">null</span>;\n","      <span class=\"code-keyword\">return</span> prev;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">untrackedEnd</span>(<span class=\"code-params\">prev</span>) </span>{\n","      globalState.trackingDerivation = prev;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">allowStateReadsStart</span>(<span class=\"code-params\">allowStateReads</span>) </span>{\n","      <span class=\"code-keyword\">var</span> prev = globalState.allowStateReads;\n","      globalState.allowStateReads = allowStateReads;\n","      <span class=\"code-keyword\">return</span> prev;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">allowStateReadsEnd</span>(<span class=\"code-params\">prev</span>) </span>{\n","      globalState.allowStateReads = prev;\n","    }\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * needed to keep `lowestObserverState` correct. when changing from (2 or 1) to 0\n</span>","<span class=\"code-comment\">     *\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">changeDependenciesStateTo0</span>(<span class=\"code-params\">derivation</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (derivation.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {\n","        <span class=\"code-keyword\">return</span>;\n","      }\n","      derivation.dependenciesState_ = IDerivationState_.UP_TO_DATE_;\n","      <span class=\"code-keyword\">var</span> obs = derivation.observing_;\n","      <span class=\"code-keyword\">var</span> i = obs.length;\n","      <span class=\"code-keyword\">while</span> (i--) {\n","        obs[i].lowestObserverState_ = IDerivationState_.UP_TO_DATE_;\n","      }\n","    }\n","\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * These values will persist if global state is reset\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-keyword\">var</span> persistentKeys = [<span class=\"code-string\">\"mobxGuid\"</span>, <span class=\"code-string\">\"spyListeners\"</span>, <span class=\"code-string\">\"enforceActions\"</span>, <span class=\"code-string\">\"computedRequiresReaction\"</span>, <span class=\"code-string\">\"reactionRequiresObservable\"</span>, <span class=\"code-string\">\"observableRequiresReaction\"</span>, <span class=\"code-string\">\"allowStateReads\"</span>, <span class=\"code-string\">\"disableErrorBoundaries\"</span>, <span class=\"code-string\">\"runId\"</span>, <span class=\"code-string\">\"UNCHANGED\"</span>, <span class=\"code-string\">\"useProxies\"</span>];\n","    <span class=\"code-keyword\">var</span> MobXGlobals = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">MobXGlobals</span>(<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * MobXGlobals version.\n</span>","<span class=\"code-comment\">       * MobX compatiblity with other versions loaded in memory as long as this version matches.\n</span>","<span class=\"code-comment\">       * It indicates that the global state still stores similar information\n</span>","<span class=\"code-comment\">       *\n</span>","<span class=\"code-comment\">       * N.B: this version is unrelated to the package version of MobX, and is only the version of the\n</span>","<span class=\"code-comment\">       * internal state storage of MobX, and can be the same across many different package versions\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.version = <span class=\"code-number\">6</span>;\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * globally unique token to signal unchanged\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.UNCHANGED = {};\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * Currently running derivation\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.trackingDerivation = <span class=\"code-literal\">null</span>;\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * Currently running reaction. This determines if we currently have a reactive context.\n</span>","<span class=\"code-comment\">       * (Tracking derivation is also set for temporal tracking of computed values inside actions,\n</span>","<span class=\"code-comment\">       * but trackingReaction can only be set by a form of Reaction)\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.trackingContext = <span class=\"code-literal\">null</span>;\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * Each time a derivation is tracked, it is assigned a unique run-id\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.runId = <span class=\"code-number\">0</span>;\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * 'guid' for general purpose. Will be persisted amongst resets.\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.mobxGuid = <span class=\"code-number\">0</span>;\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * Are we in a batch block? (and how many of them)\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.inBatch = <span class=\"code-number\">0</span>;\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * Observables that don't have observers anymore, and are about to be\n</span>","<span class=\"code-comment\">       * suspended, unless somebody else accesses it in the same batch\n</span>","<span class=\"code-comment\">       *\n</span>","<span class=\"code-comment\">       * @type {IObservable[]}\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.pendingUnobservations = [];\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * List of scheduled, not yet executed, reactions.\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.pendingReactions = [];\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * Are we currently processing reactions?\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.isRunningReactions = <span class=\"code-literal\">false</span>;\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * Is it allowed to change observables at this point?\n</span>","<span class=\"code-comment\">       * In general, MobX doesn't allow that when running computations and React.render.\n</span>","<span class=\"code-comment\">       * To ensure that those functions stay pure.\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.allowStateChanges = <span class=\"code-literal\">false</span>;\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * Is it allowed to read observables at this point?\n</span>","<span class=\"code-comment\">       * Used to hold the state needed for `observableRequiresReaction`\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.allowStateReads = <span class=\"code-literal\">true</span>;\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * If strict mode is enabled, state changes are by default not allowed\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.enforceActions = <span class=\"code-literal\">true</span>;\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * Spy callbacks\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.spyListeners = [];\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * Globally attached error handlers that react specifically to errors in reactions\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.globalReactionErrorHandlers = [];\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * Warn if computed values are accessed outside a reactive context\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.computedRequiresReaction = <span class=\"code-literal\">false</span>;\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * (Experimental)\n</span>","<span class=\"code-comment\">       * Warn if you try to create to derivation / reactive context without accessing any observable.\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.reactionRequiresObservable = <span class=\"code-literal\">false</span>;\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * (Experimental)\n</span>","<span class=\"code-comment\">       * Warn if observables are accessed outside a reactive context\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.observableRequiresReaction = <span class=\"code-literal\">false</span>;\n","      <span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\">       * Don't catch and rethrow exceptions. This is useful for inspecting the state of\n</span>","<span class=\"code-comment\">       * the stack when an exception occurs while debugging.\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.disableErrorBoundaries = <span class=\"code-literal\">false</span>;\n","      <span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\">       * If true, we are already handling an exception in an action. Any errors in reactions should be suppressed, as\n</span>","<span class=\"code-comment\">       * they are not the cause, see: https://github.com/mobxjs/mobx/issues/1836\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.suppressReactionErrors = <span class=\"code-literal\">false</span>;\n","      <span class=\"code-keyword\">this</span>.useProxies = <span class=\"code-literal\">true</span>;\n","      <span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\">       * print warnings about code that would fail if proxies weren't available\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.verifyProxies = <span class=\"code-literal\">false</span>;\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * False forces all object's descriptors to\n</span>","<span class=\"code-comment\">       * writable: true\n</span>","<span class=\"code-comment\">       * configurable: true\n</span>","<span class=\"code-comment\">       */</span>\n","      <span class=\"code-keyword\">this</span>.safeDescriptors = <span class=\"code-literal\">true</span>;\n","    };\n","    <span class=\"code-keyword\">var</span> canMergeGlobalState = <span class=\"code-literal\">true</span>;\n","    <span class=\"code-keyword\">var</span> isolateCalled = <span class=\"code-literal\">false</span>;\n","    <span class=\"code-keyword\">var</span> globalState = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-keyword\">var</span> global = <span class=\"code-comment\">/*#__PURE__*/</span>getGlobal();\n","      <span class=\"code-keyword\">if</span> (global.__mobxInstanceCount &gt; <span class=\"code-number\">0</span> &amp;&amp; !global.__mobxGlobals) {\n","        canMergeGlobalState = <span class=\"code-literal\">false</span>;\n","      }\n","      <span class=\"code-keyword\">if</span> (global.__mobxGlobals &amp;&amp; global.__mobxGlobals.version !== <span class=\"code-keyword\">new</span> MobXGlobals().version) {\n","        canMergeGlobalState = <span class=\"code-literal\">false</span>;\n","      }\n","      <span class=\"code-keyword\">if</span> (!canMergeGlobalState) {\n","        <span class=\"code-comment\">// Because this is a IIFE we need to let isolateCalled a chance to change</span>\n","        <span class=\"code-comment\">// so we run it after the event loop completed at least 1 iteration</span>\n","        setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          <span class=\"code-keyword\">if</span> (!isolateCalled) {\n","            die(<span class=\"code-number\">35</span>);\n","          }\n","        }, <span class=\"code-number\">1</span>);\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> MobXGlobals();\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (global.__mobxGlobals) {\n","        global.__mobxInstanceCount += <span class=\"code-number\">1</span>;\n","        <span class=\"code-keyword\">if</span> (!global.__mobxGlobals.UNCHANGED) {\n","          global.__mobxGlobals.UNCHANGED = {};\n","        } <span class=\"code-comment\">// make merge backward compatible</span>\n","        <span class=\"code-keyword\">return</span> global.__mobxGlobals;\n","      } <span class=\"code-keyword\">else</span> {\n","        global.__mobxInstanceCount = <span class=\"code-number\">1</span>;\n","        <span class=\"code-keyword\">return</span> global.__mobxGlobals = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-keyword\">new</span> MobXGlobals();\n","      }\n","    }();\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isolateGlobalState</span>(<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-keyword\">if</span> (globalState.pendingReactions.length || globalState.inBatch || globalState.isRunningReactions) {\n","        die(<span class=\"code-number\">36</span>);\n","      }\n","      isolateCalled = <span class=\"code-literal\">true</span>;\n","      <span class=\"code-keyword\">if</span> (canMergeGlobalState) {\n","        <span class=\"code-keyword\">var</span> global = getGlobal();\n","        <span class=\"code-keyword\">if</span> (--global.__mobxInstanceCount === <span class=\"code-number\">0</span>) {\n","          global.__mobxGlobals = <span class=\"code-literal\">undefined</span>;\n","        }\n","        globalState = <span class=\"code-keyword\">new</span> MobXGlobals();\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getGlobalState</span>(<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-keyword\">return</span> globalState;\n","    }\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * For testing purposes only; this will break the internal state of existing observables,\n</span>","<span class=\"code-comment\">     * but can be used to get back at a stable state after throwing errors\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">resetGlobalState</span>(<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-keyword\">var</span> defaultGlobals = <span class=\"code-keyword\">new</span> MobXGlobals();\n","      <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> key <span class=\"code-keyword\">in</span> defaultGlobals) {\n","        <span class=\"code-keyword\">if</span> (persistentKeys.indexOf(key) === <span class=\"code-number\">-1</span>) {\n","          globalState[key] = defaultGlobals[key];\n","        }\n","      }\n","      globalState.allowStateChanges = !globalState.enforceActions;\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">hasObservers</span>(<span class=\"code-params\">observable</span>) </span>{\n","      <span class=\"code-keyword\">return</span> observable.observers_ &amp;&amp; observable.observers_.size &gt; <span class=\"code-number\">0</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getObservers</span>(<span class=\"code-params\">observable</span>) </span>{\n","      <span class=\"code-keyword\">return</span> observable.observers_;\n","    }\n","    <span class=\"code-comment\">// function invariantObservers(observable: IObservable) {</span>\n","    <span class=\"code-comment\">//     const list = observable.observers</span>\n","    <span class=\"code-comment\">//     const map = observable.observersIndexes</span>\n","    <span class=\"code-comment\">//     const l = list.length</span>\n","    <span class=\"code-comment\">//     for (let i = 0; i &lt; l; i++) {</span>\n","    <span class=\"code-comment\">//         const id = list[i].__mapid</span>\n","    <span class=\"code-comment\">//         if (i) {</span>\n","    <span class=\"code-comment\">//             invariant(map[id] === i, \"INTERNAL ERROR maps derivation.__mapid to index in list\") // for performance</span>\n","    <span class=\"code-comment\">//         } else {</span>\n","    <span class=\"code-comment\">//             invariant(!(id in map), \"INTERNAL ERROR observer on index 0 shouldn't be held in map.\") // for performance</span>\n","    <span class=\"code-comment\">//         }</span>\n","    <span class=\"code-comment\">//     }</span>\n","    <span class=\"code-comment\">//     invariant(</span>\n","    <span class=\"code-comment\">//         list.length === 0 || Object.keys(map).length === list.length - 1,</span>\n","    <span class=\"code-comment\">//         \"INTERNAL ERROR there is no junk in map\"</span>\n","    <span class=\"code-comment\">//     )</span>\n","    <span class=\"code-comment\">// }</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">addObserver</span>(<span class=\"code-params\">observable, node</span>) </span>{\n","      <span class=\"code-comment\">// invariant(node.dependenciesState !== -1, \"INTERNAL ERROR, can add only dependenciesState !== -1\");</span>\n","      <span class=\"code-comment\">// invariant(observable._observers.indexOf(node) === -1, \"INTERNAL ERROR add already added node\");</span>\n","      <span class=\"code-comment\">// invariantObservers(observable);</span>\n","      observable.observers_.add(node);\n","      <span class=\"code-keyword\">if</span> (observable.lowestObserverState_ &gt; node.dependenciesState_) {\n","        observable.lowestObserverState_ = node.dependenciesState_;\n","      }\n","      <span class=\"code-comment\">// invariantObservers(observable);</span>\n","      <span class=\"code-comment\">// invariant(observable._observers.indexOf(node) !== -1, \"INTERNAL ERROR didn't add node\");</span>\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">removeObserver</span>(<span class=\"code-params\">observable, node</span>) </span>{\n","      <span class=\"code-comment\">// invariant(globalState.inBatch &gt; 0, \"INTERNAL ERROR, remove should be called only inside batch\");</span>\n","      <span class=\"code-comment\">// invariant(observable._observers.indexOf(node) !== -1, \"INTERNAL ERROR remove already removed node\");</span>\n","      <span class=\"code-comment\">// invariantObservers(observable);</span>\n","      observable.observers_[<span class=\"code-string\">\"delete\"</span>](node);\n","      <span class=\"code-keyword\">if</span> (observable.observers_.size === <span class=\"code-number\">0</span>) {\n","        <span class=\"code-comment\">// deleting last observer</span>\n","        queueForUnobservation(observable);\n","      }\n","      <span class=\"code-comment\">// invariantObservers(observable);</span>\n","      <span class=\"code-comment\">// invariant(observable._observers.indexOf(node) === -1, \"INTERNAL ERROR remove already removed node2\");</span>\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">queueForUnobservation</span>(<span class=\"code-params\">observable</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (observable.isPendingUnobservation === <span class=\"code-literal\">false</span>) {\n","        <span class=\"code-comment\">// invariant(observable._observers.length === 0, \"INTERNAL ERROR, should only queue for unobservation unobserved observables\");</span>\n","        observable.isPendingUnobservation = <span class=\"code-literal\">true</span>;\n","        globalState.pendingUnobservations.push(observable);\n","      }\n","    }\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * Batch starts a transaction, at least for purposes of memoizing ComputedValues when nothing else does.\n</span>","<span class=\"code-comment\">     * During a batch `onBecomeUnobserved` will be called at most once per observable.\n</span>","<span class=\"code-comment\">     * Avoids unnecessary recalculations.\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">startBatch</span>(<span class=\"code-params\"></span>) </span>{\n","      globalState.inBatch++;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">endBatch</span>(<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-keyword\">if</span> (--globalState.inBatch === <span class=\"code-number\">0</span>) {\n","        runReactions();\n","        <span class=\"code-comment\">// the batch is actually about to finish, all unobserving should happen here.</span>\n","        <span class=\"code-keyword\">var</span> list = globalState.pendingUnobservations;\n","        <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>; i &lt; list.length; i++) {\n","          <span class=\"code-keyword\">var</span> observable = list[i];\n","          observable.isPendingUnobservation = <span class=\"code-literal\">false</span>;\n","          <span class=\"code-keyword\">if</span> (observable.observers_.size === <span class=\"code-number\">0</span>) {\n","            <span class=\"code-keyword\">if</span> (observable.isBeingObserved) {\n","              <span class=\"code-comment\">// if this observable had reactive observers, trigger the hooks</span>\n","              observable.isBeingObserved = <span class=\"code-literal\">false</span>;\n","              observable.onBUO();\n","            }\n","            <span class=\"code-keyword\">if</span> (observable <span class=\"code-keyword\">instanceof</span> ComputedValue) {\n","              <span class=\"code-comment\">// computed values are automatically teared down when the last observer leaves</span>\n","              <span class=\"code-comment\">// this process happens recursively, this computed might be the last observabe of another, etc..</span>\n","              observable.suspend_();\n","            }\n","          }\n","        }\n","        globalState.pendingUnobservations = [];\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">reportObserved</span>(<span class=\"code-params\">observable</span>) </span>{\n","      checkIfStateReadsAreAllowed(observable);\n","      <span class=\"code-keyword\">var</span> derivation = globalState.trackingDerivation;\n","      <span class=\"code-keyword\">if</span> (derivation !== <span class=\"code-literal\">null</span>) {\n","        <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">         * Simple optimization, give each derivation run an unique id (runId)\n</span>","<span class=\"code-comment\">         * Check if last time this observable was accessed the same runId is used\n</span>","<span class=\"code-comment\">         * if this is the case, the relation is already known\n</span>","<span class=\"code-comment\">         */</span>\n","        <span class=\"code-keyword\">if</span> (derivation.runId_ !== observable.lastAccessedBy_) {\n","          observable.lastAccessedBy_ = derivation.runId_;\n","          <span class=\"code-comment\">// Tried storing newObserving, or observing, or both as Set, but performance didn't come close...</span>\n","          derivation.newObserving_[derivation.unboundDepsCount_++] = observable;\n","          <span class=\"code-keyword\">if</span> (!observable.isBeingObserved &amp;&amp; globalState.trackingContext) {\n","            observable.isBeingObserved = <span class=\"code-literal\">true</span>;\n","            observable.onBO();\n","          }\n","        }\n","        <span class=\"code-keyword\">return</span> observable.isBeingObserved;\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (observable.observers_.size === <span class=\"code-number\">0</span> &amp;&amp; globalState.inBatch &gt; <span class=\"code-number\">0</span>) {\n","        queueForUnobservation(observable);\n","      }\n","      <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","    }\n","    <span class=\"code-comment\">// function invariantLOS(observable: IObservable, msg: string) {</span>\n","    <span class=\"code-comment\">//     // it's expensive so better not run it in produciton. but temporarily helpful for testing</span>\n","    <span class=\"code-comment\">//     const min = getObservers(observable).reduce((a, b) =&gt; Math.min(a, b.dependenciesState), 2)</span>\n","    <span class=\"code-comment\">//     if (min &gt;= observable.lowestObserverState) return // &lt;- the only assumption about `lowestObserverState`</span>\n","    <span class=\"code-comment\">//     throw new Error(</span>\n","    <span class=\"code-comment\">//         \"lowestObserverState is wrong for \" +</span>\n","    <span class=\"code-comment\">//             msg +</span>\n","    <span class=\"code-comment\">//             \" because \" +</span>\n","    <span class=\"code-comment\">//             min +</span>\n","    <span class=\"code-comment\">//             \" &lt; \" +</span>\n","    <span class=\"code-comment\">//             observable.lowestObserverState</span>\n","    <span class=\"code-comment\">//     )</span>\n","    <span class=\"code-comment\">// }</span>\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * <span class=\"code-doctag\">NOTE:</span> current propagation mechanism will in case of self reruning autoruns behave unexpectedly\n</span>","<span class=\"code-comment\">     * It will propagate changes to observers from previous run\n</span>","<span class=\"code-comment\">     * It's hard or maybe impossible (with reasonable perf) to get it right with current approach\n</span>","<span class=\"code-comment\">     * Hopefully self reruning autoruns aren't a feature people should depend on\n</span>","<span class=\"code-comment\">     * Also most basic use cases should be ok\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-comment\">// Called by Atom when its value changes</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">propagateChanged</span>(<span class=\"code-params\">observable</span>) </span>{\n","      <span class=\"code-comment\">// invariantLOS(observable, \"changed start\");</span>\n","      <span class=\"code-keyword\">if</span> (observable.lowestObserverState_ === IDerivationState_.STALE_) {\n","        <span class=\"code-keyword\">return</span>;\n","      }\n","      observable.lowestObserverState_ = IDerivationState_.STALE_;\n","      <span class=\"code-comment\">// Ideally we use for..of here, but the downcompiled version is really slow...</span>\n","      observable.observers_.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">d</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (d.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {\n","          <span class=\"code-keyword\">if</span> ( d.isTracing_ !== TraceMode.NONE) {\n","            logTraceInfo(d, observable);\n","          }\n","          d.onBecomeStale_();\n","        }\n","        d.dependenciesState_ = IDerivationState_.STALE_;\n","      });\n","      <span class=\"code-comment\">// invariantLOS(observable, \"changed end\");</span>\n","    }\n","    <span class=\"code-comment\">// Called by ComputedValue when it recalculate and its value changed</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">propagateChangeConfirmed</span>(<span class=\"code-params\">observable</span>) </span>{\n","      <span class=\"code-comment\">// invariantLOS(observable, \"confirmed start\");</span>\n","      <span class=\"code-keyword\">if</span> (observable.lowestObserverState_ === IDerivationState_.STALE_) {\n","        <span class=\"code-keyword\">return</span>;\n","      }\n","      observable.lowestObserverState_ = IDerivationState_.STALE_;\n","      observable.observers_.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">d</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (d.dependenciesState_ === IDerivationState_.POSSIBLY_STALE_) {\n","          d.dependenciesState_ = IDerivationState_.STALE_;\n","          <span class=\"code-keyword\">if</span> ( d.isTracing_ !== TraceMode.NONE) {\n","            logTraceInfo(d, observable);\n","          }\n","        } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (d.dependenciesState_ === IDerivationState_.UP_TO_DATE_ <span class=\"code-comment\">// this happens during computing of `d`, just keep lowestObserverState up to date.</span>\n","        ) {\n","          observable.lowestObserverState_ = IDerivationState_.UP_TO_DATE_;\n","        }\n","      });\n","      <span class=\"code-comment\">// invariantLOS(observable, \"confirmed end\");</span>\n","    }\n","    <span class=\"code-comment\">// Used by computed when its dependency changed, but we don't wan't to immediately recompute.</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">propagateMaybeChanged</span>(<span class=\"code-params\">observable</span>) </span>{\n","      <span class=\"code-comment\">// invariantLOS(observable, \"maybe start\");</span>\n","      <span class=\"code-keyword\">if</span> (observable.lowestObserverState_ !== IDerivationState_.UP_TO_DATE_) {\n","        <span class=\"code-keyword\">return</span>;\n","      }\n","      observable.lowestObserverState_ = IDerivationState_.POSSIBLY_STALE_;\n","      observable.observers_.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">d</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (d.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {\n","          d.dependenciesState_ = IDerivationState_.POSSIBLY_STALE_;\n","          d.onBecomeStale_();\n","        }\n","      });\n","      <span class=\"code-comment\">// invariantLOS(observable, \"maybe end\");</span>\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">logTraceInfo</span>(<span class=\"code-params\">derivation, observable</span>) </span>{\n","      <span class=\"code-built_in\">console</span>.log(<span class=\"code-string\">\"[mobx.trace] '\"</span> + derivation.name_ + <span class=\"code-string\">\"' is invalidated due to a change in: '\"</span> + observable.name_ + <span class=\"code-string\">\"'\"</span>);\n","      <span class=\"code-keyword\">if</span> (derivation.isTracing_ === TraceMode.BREAK) {\n","        <span class=\"code-keyword\">var</span> lines = [];\n","        printDepTree(getDependencyTree(derivation), lines, <span class=\"code-number\">1</span>);\n","        <span class=\"code-comment\">// prettier-ignore</span>\n","        <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Function</span>(<span class=\"code-string\">\"debugger;\\n/*\\nTracing '\"</span> + derivation.name_ + <span class=\"code-string\">\"'\\n\\nYou are entering this break point because derivation '\"</span> + derivation.name_ + <span class=\"code-string\">\"' is being traced and '\"</span> + observable.name_ + <span class=\"code-string\">\"' is now forcing it to update.\\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\\n\\n\"</span> + (derivation <span class=\"code-keyword\">instanceof</span> ComputedValue ? derivation.derivation.toString().replace(<span class=\"code-regexp\">/[*]\\//g</span>, <span class=\"code-string\">\"/\"</span>) : <span class=\"code-string\">\"\"</span>) + <span class=\"code-string\">\"\\n\\nThe dependencies for this derivation are:\\n\\n\"</span> + lines.join(<span class=\"code-string\">\"\\n\"</span>) + <span class=\"code-string\">\"\\n*/\\n    \"</span>)();\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">printDepTree</span>(<span class=\"code-params\">tree, lines, depth</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (lines.length &gt;= <span class=\"code-number\">1000</span>) {\n","        lines.push(<span class=\"code-string\">\"(and many more)\"</span>);\n","        <span class=\"code-keyword\">return</span>;\n","      }\n","      lines.push(<span class=\"code-string\">\"\"</span> + <span class=\"code-string\">\"\\t\"</span>.repeat(depth - <span class=\"code-number\">1</span>) + tree.name);\n","      <span class=\"code-keyword\">if</span> (tree.dependencies) {\n","        tree.dependencies.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">child</span>) </span>{\n","          <span class=\"code-keyword\">return</span> printDepTree(child, lines, depth + <span class=\"code-number\">1</span>);\n","        });\n","      }\n","    }\n","\n","    <span class=\"code-keyword\">var</span> Reaction = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Reaction</span>(<span class=\"code-params\">name_, onInvalidate_, errorHandler_, requiresObservable_</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (name_ === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          name_ =  <span class=\"code-string\">\"Reaction@\"</span> + getNextId() ;\n","        }\n","        <span class=\"code-keyword\">this</span>.name_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.onInvalidate_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.errorHandler_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.requiresObservable_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.observing_ = [];\n","        <span class=\"code-comment\">// nodes we are looking at. Our value depends on these nodes</span>\n","        <span class=\"code-keyword\">this</span>.newObserving_ = [];\n","        <span class=\"code-keyword\">this</span>.dependenciesState_ = IDerivationState_.NOT_TRACKING_;\n","        <span class=\"code-keyword\">this</span>.runId_ = <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.unboundDepsCount_ = <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.flags_ = <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.isTracing_ = TraceMode.NONE;\n","        <span class=\"code-keyword\">this</span>.name_ = name_;\n","        <span class=\"code-keyword\">this</span>.onInvalidate_ = onInvalidate_;\n","        <span class=\"code-keyword\">this</span>.errorHandler_ = errorHandler_;\n","        <span class=\"code-keyword\">this</span>.requiresObservable_ = requiresObservable_;\n","      }\n","      <span class=\"code-keyword\">var</span> _proto = Reaction.prototype;\n","      _proto.onBecomeStale_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">onBecomeStale_</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">this</span>.schedule_();\n","      };\n","      _proto.schedule_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">schedule_</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.isScheduled) {\n","          <span class=\"code-keyword\">this</span>.isScheduled = <span class=\"code-literal\">true</span>;\n","          globalState.pendingReactions.push(<span class=\"code-keyword\">this</span>);\n","          runReactions();\n","        }\n","      }\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * internal, use schedule() if you intend to kick off a reaction\n</span>","<span class=\"code-comment\">       */</span>;\n","      _proto.runReaction_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">runReaction_</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.isDisposed) {\n","          startBatch();\n","          <span class=\"code-keyword\">this</span>.isScheduled = <span class=\"code-literal\">false</span>;\n","          <span class=\"code-keyword\">var</span> prev = globalState.trackingContext;\n","          globalState.trackingContext = <span class=\"code-keyword\">this</span>;\n","          <span class=\"code-keyword\">if</span> (shouldCompute(<span class=\"code-keyword\">this</span>)) {\n","            <span class=\"code-keyword\">this</span>.isTrackPending = <span class=\"code-literal\">true</span>;\n","            <span class=\"code-keyword\">try</span> {\n","              <span class=\"code-keyword\">this</span>.onInvalidate_();\n","              <span class=\"code-keyword\">if</span> (<span class=\"code-string\">\"development\"</span> !== <span class=\"code-string\">\"production\"</span> &amp;&amp; <span class=\"code-keyword\">this</span>.isTrackPending &amp;&amp; isSpyEnabled()) {\n","                <span class=\"code-comment\">// onInvalidate didn't trigger track right away..</span>\n","                spyReport({\n","                  name: <span class=\"code-keyword\">this</span>.name_,\n","                  type: <span class=\"code-string\">\"scheduled-reaction\"</span>\n","                });\n","              }\n","            } <span class=\"code-keyword\">catch</span> (e) {\n","              <span class=\"code-keyword\">this</span>.reportExceptionInDerivation_(e);\n","            }\n","          }\n","          globalState.trackingContext = prev;\n","          endBatch();\n","        }\n","      };\n","      _proto.track = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">track</span>(<span class=\"code-params\">fn</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.isDisposed) {\n","          <span class=\"code-keyword\">return</span>;\n","          <span class=\"code-comment\">// console.warn(\"Reaction already disposed\") // Note: Not a warning / error in mobx 4 either</span>\n","        }\n","        startBatch();\n","        <span class=\"code-keyword\">var</span> notify = isSpyEnabled();\n","        <span class=\"code-keyword\">var</span> startTime;\n","        <span class=\"code-keyword\">if</span> ( notify) {\n","          startTime = <span class=\"code-built_in\">Date</span>.now();\n","          spyReportStart({\n","            name: <span class=\"code-keyword\">this</span>.name_,\n","            type: <span class=\"code-string\">\"reaction\"</span>\n","          });\n","        }\n","        <span class=\"code-keyword\">this</span>.isRunning = <span class=\"code-literal\">true</span>;\n","        <span class=\"code-keyword\">var</span> prevReaction = globalState.trackingContext; <span class=\"code-comment\">// reactions could create reactions...</span>\n","        globalState.trackingContext = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-keyword\">var</span> result = trackDerivedFunction(<span class=\"code-keyword\">this</span>, fn, <span class=\"code-literal\">undefined</span>);\n","        globalState.trackingContext = prevReaction;\n","        <span class=\"code-keyword\">this</span>.isRunning = <span class=\"code-literal\">false</span>;\n","        <span class=\"code-keyword\">this</span>.isTrackPending = <span class=\"code-literal\">false</span>;\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.isDisposed) {\n","          <span class=\"code-comment\">// disposed during last run. Clean up everything that was bound after the dispose call.</span>\n","          clearObserving(<span class=\"code-keyword\">this</span>);\n","        }\n","        <span class=\"code-keyword\">if</span> (isCaughtException(result)) {\n","          <span class=\"code-keyword\">this</span>.reportExceptionInDerivation_(result.cause);\n","        }\n","        <span class=\"code-keyword\">if</span> ( notify) {\n","          spyReportEnd({\n","            time: <span class=\"code-built_in\">Date</span>.now() - startTime\n","          });\n","        }\n","        endBatch();\n","      };\n","      _proto.reportExceptionInDerivation_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">reportExceptionInDerivation_</span>(<span class=\"code-params\">error</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.errorHandler_) {\n","          <span class=\"code-keyword\">this</span>.errorHandler_(error, <span class=\"code-keyword\">this</span>);\n","          <span class=\"code-keyword\">return</span>;\n","        }\n","        <span class=\"code-keyword\">if</span> (globalState.disableErrorBoundaries) {\n","          <span class=\"code-keyword\">throw</span> error;\n","        }\n","        <span class=\"code-keyword\">var</span> message =  <span class=\"code-string\">\"[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '\"</span> + <span class=\"code-keyword\">this</span> + <span class=\"code-string\">\"'\"</span> ;\n","        <span class=\"code-keyword\">if</span> (!globalState.suppressReactionErrors) {\n","          <span class=\"code-built_in\">console</span>.error(message, error);\n","          <span class=\"code-comment\">/** If debugging brought you here, please, read the above message :-). Tnx! */</span>\n","        } <span class=\"code-keyword\">else</span> {\n","          <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"[mobx] (error in reaction '\"</span> + <span class=\"code-keyword\">this</span>.name_ + <span class=\"code-string\">\"' suppressed, fix error of causing action below)\"</span>);\n","        } <span class=\"code-comment\">// prettier-ignore</span>\n","        <span class=\"code-keyword\">if</span> ( isSpyEnabled()) {\n","          spyReport({\n","            type: <span class=\"code-string\">\"error\"</span>,\n","            name: <span class=\"code-keyword\">this</span>.name_,\n","            message: message,\n","            error: <span class=\"code-string\">\"\"</span> + error\n","          });\n","        }\n","        globalState.globalReactionErrorHandlers.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">f</span>) </span>{\n","          <span class=\"code-keyword\">return</span> f(error, _this);\n","        });\n","      };\n","      _proto.dispose = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">dispose</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.isDisposed) {\n","          <span class=\"code-keyword\">this</span>.isDisposed = <span class=\"code-literal\">true</span>;\n","          <span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.isRunning) {\n","            <span class=\"code-comment\">// if disposed while running, clean up later. Maybe not optimal, but rare case</span>\n","            startBatch();\n","            clearObserving(<span class=\"code-keyword\">this</span>);\n","            endBatch();\n","          }\n","        }\n","      };\n","      _proto.getDisposer_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getDisposer_</span>(<span class=\"code-params\">abortSignal</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this2 = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-keyword\">var</span> dispose = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">dispose</span>(<span class=\"code-params\"></span>) </span>{\n","          _this2.dispose();\n","          abortSignal == <span class=\"code-literal\">null</span> || abortSignal.removeEventListener == <span class=\"code-literal\">null</span> || abortSignal.removeEventListener(<span class=\"code-string\">\"abort\"</span>, dispose);\n","        };\n","        abortSignal == <span class=\"code-literal\">null</span> || abortSignal.addEventListener == <span class=\"code-literal\">null</span> || abortSignal.addEventListener(<span class=\"code-string\">\"abort\"</span>, dispose);\n","        dispose[$mobx] = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-keyword\">return</span> dispose;\n","      };\n","      _proto.toString = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toString</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"Reaction[\"</span> + <span class=\"code-keyword\">this</span>.name_ + <span class=\"code-string\">\"]\"</span>;\n","      };\n","      _proto.trace = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">trace$1</span>(<span class=\"code-params\">enterBreakPoint</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (enterBreakPoint === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          enterBreakPoint = <span class=\"code-literal\">false</span>;\n","        }\n","        trace(<span class=\"code-keyword\">this</span>, enterBreakPoint);\n","      };\n","      <span class=\"code-keyword\">return</span> _createClass(Reaction, [{\n","        key: <span class=\"code-string\">\"isDisposed\"</span>,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> getFlag(<span class=\"code-keyword\">this</span>.flags_, Reaction.isDisposedMask_);\n","        },\n","        <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(newValue) {\n","          <span class=\"code-keyword\">this</span>.flags_ = setFlag(<span class=\"code-keyword\">this</span>.flags_, Reaction.isDisposedMask_, newValue);\n","        }\n","      }, {\n","        key: <span class=\"code-string\">\"isScheduled\"</span>,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> getFlag(<span class=\"code-keyword\">this</span>.flags_, Reaction.isScheduledMask_);\n","        },\n","        <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(newValue) {\n","          <span class=\"code-keyword\">this</span>.flags_ = setFlag(<span class=\"code-keyword\">this</span>.flags_, Reaction.isScheduledMask_, newValue);\n","        }\n","      }, {\n","        key: <span class=\"code-string\">\"isTrackPending\"</span>,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> getFlag(<span class=\"code-keyword\">this</span>.flags_, Reaction.isTrackPendingMask_);\n","        },\n","        <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(newValue) {\n","          <span class=\"code-keyword\">this</span>.flags_ = setFlag(<span class=\"code-keyword\">this</span>.flags_, Reaction.isTrackPendingMask_, newValue);\n","        }\n","      }, {\n","        key: <span class=\"code-string\">\"isRunning\"</span>,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> getFlag(<span class=\"code-keyword\">this</span>.flags_, Reaction.isRunningMask_);\n","        },\n","        <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(newValue) {\n","          <span class=\"code-keyword\">this</span>.flags_ = setFlag(<span class=\"code-keyword\">this</span>.flags_, Reaction.isRunningMask_, newValue);\n","        }\n","      }, {\n","        key: <span class=\"code-string\">\"diffValue\"</span>,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> getFlag(<span class=\"code-keyword\">this</span>.flags_, Reaction.diffValueMask_) ? <span class=\"code-number\">1</span> : <span class=\"code-number\">0</span>;\n","        },\n","        <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(newValue) {\n","          <span class=\"code-keyword\">this</span>.flags_ = setFlag(<span class=\"code-keyword\">this</span>.flags_, Reaction.diffValueMask_, newValue === <span class=\"code-number\">1</span> ? <span class=\"code-literal\">true</span> : <span class=\"code-literal\">false</span>);\n","        }\n","      }]);\n","    }();\n","    Reaction.isDisposedMask_ = <span class=\"code-number\">1</span>;\n","    Reaction.isScheduledMask_ = <span class=\"code-number\">2</span>;\n","    Reaction.isTrackPendingMask_ = <span class=\"code-number\">4</span>;\n","    Reaction.isRunningMask_ = <span class=\"code-number\">8</span>;\n","    Reaction.diffValueMask_ = <span class=\"code-number\">16</span>;\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">onReactionError</span>(<span class=\"code-params\">handler</span>) </span>{\n","      globalState.globalReactionErrorHandlers.push(handler);\n","      <span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> idx = globalState.globalReactionErrorHandlers.indexOf(handler);\n","        <span class=\"code-keyword\">if</span> (idx &gt;= <span class=\"code-number\">0</span>) {\n","          globalState.globalReactionErrorHandlers.splice(idx, <span class=\"code-number\">1</span>);\n","        }\n","      };\n","    }\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * Magic number alert!\n</span>","<span class=\"code-comment\">     * Defines within how many times a reaction is allowed to re-trigger itself\n</span>","<span class=\"code-comment\">     * until it is assumed that this is gonna be a never ending loop...\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-keyword\">var</span> MAX_REACTION_ITERATIONS = <span class=\"code-number\">100</span>;\n","    <span class=\"code-keyword\">var</span> reactionScheduler = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">reactionScheduler</span>(<span class=\"code-params\">f</span>) </span>{\n","      <span class=\"code-keyword\">return</span> f();\n","    };\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">runReactions</span>(<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-comment\">// Trampolining, if runReactions are already running, new reactions will be picked up</span>\n","      <span class=\"code-keyword\">if</span> (globalState.inBatch &gt; <span class=\"code-number\">0</span> || globalState.isRunningReactions) {\n","        <span class=\"code-keyword\">return</span>;\n","      }\n","      reactionScheduler(runReactionsHelper);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">runReactionsHelper</span>(<span class=\"code-params\"></span>) </span>{\n","      globalState.isRunningReactions = <span class=\"code-literal\">true</span>;\n","      <span class=\"code-keyword\">var</span> allReactions = globalState.pendingReactions;\n","      <span class=\"code-keyword\">var</span> iterations = <span class=\"code-number\">0</span>;\n","      <span class=\"code-comment\">// While running reactions, new reactions might be triggered.</span>\n","      <span class=\"code-comment\">// Hence we work with two variables and check whether</span>\n","      <span class=\"code-comment\">// we converge to no remaining reactions after a while.</span>\n","      <span class=\"code-keyword\">while</span> (allReactions.length &gt; <span class=\"code-number\">0</span>) {\n","        <span class=\"code-keyword\">if</span> (++iterations === MAX_REACTION_ITERATIONS) {\n","          <span class=\"code-built_in\">console</span>.error( <span class=\"code-string\">\"Reaction doesn't converge to a stable state after \"</span> + MAX_REACTION_ITERATIONS + <span class=\"code-string\">\" iterations.\"</span> + (<span class=\"code-string\">\" Probably there is a cycle in the reactive function: \"</span> + allReactions[<span class=\"code-number\">0</span>]) );\n","          allReactions.splice(<span class=\"code-number\">0</span>); <span class=\"code-comment\">// clear reactions</span>\n","        }\n","        <span class=\"code-keyword\">var</span> remainingReactions = allReactions.splice(<span class=\"code-number\">0</span>);\n","        <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, l = remainingReactions.length; i &lt; l; i++) {\n","          remainingReactions[i].runReaction_();\n","        }\n","      }\n","      globalState.isRunningReactions = <span class=\"code-literal\">false</span>;\n","    }\n","    <span class=\"code-keyword\">var</span> isReaction = <span class=\"code-comment\">/*#__PURE__*/</span>createInstanceofPredicate(<span class=\"code-string\">\"Reaction\"</span>, Reaction);\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">setReactionScheduler</span>(<span class=\"code-params\">fn</span>) </span>{\n","      <span class=\"code-keyword\">var</span> baseScheduler = reactionScheduler;\n","      reactionScheduler = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">reactionScheduler</span>(<span class=\"code-params\">f</span>) </span>{\n","        <span class=\"code-keyword\">return</span> fn(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          <span class=\"code-keyword\">return</span> baseScheduler(f);\n","        });\n","      };\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isSpyEnabled</span>(<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-keyword\">return</span>  !!globalState.spyListeners.length;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">spyReport</span>(<span class=\"code-params\">event</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (!globalState.spyListeners.length) {\n","        <span class=\"code-keyword\">return</span>;\n","      }\n","      <span class=\"code-keyword\">var</span> listeners = globalState.spyListeners;\n","      <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, l = listeners.length; i &lt; l; i++) {\n","        listeners[i](event);\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">spyReportStart</span>(<span class=\"code-params\">event</span>) </span>{\n","      <span class=\"code-keyword\">var</span> change = _extends({}, event, {\n","        spyReportStart: <span class=\"code-literal\">true</span>\n","      });\n","      spyReport(change);\n","    }\n","    <span class=\"code-keyword\">var</span> END_EVENT = {\n","      type: <span class=\"code-string\">\"report-end\"</span>,\n","      spyReportEnd: <span class=\"code-literal\">true</span>\n","    };\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">spyReportEnd</span>(<span class=\"code-params\">change</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (change) {\n","        spyReport(_extends({}, change, {\n","          type: <span class=\"code-string\">\"report-end\"</span>,\n","          spyReportEnd: <span class=\"code-literal\">true</span>\n","        }));\n","      } <span class=\"code-keyword\">else</span> {\n","        spyReport(END_EVENT);\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">spy</span>(<span class=\"code-params\">listener</span>) </span>{\n","      {\n","        globalState.spyListeners.push(listener);\n","        <span class=\"code-keyword\">return</span> once(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          globalState.spyListeners = globalState.spyListeners.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">l</span>) </span>{\n","            <span class=\"code-keyword\">return</span> l !== listener;\n","          });\n","        });\n","      }\n","    }\n","\n","    <span class=\"code-keyword\">var</span> ACTION = <span class=\"code-string\">\"action\"</span>;\n","    <span class=\"code-keyword\">var</span> ACTION_BOUND = <span class=\"code-string\">\"action.bound\"</span>;\n","    <span class=\"code-keyword\">var</span> AUTOACTION = <span class=\"code-string\">\"autoAction\"</span>;\n","    <span class=\"code-keyword\">var</span> AUTOACTION_BOUND = <span class=\"code-string\">\"autoAction.bound\"</span>;\n","    <span class=\"code-keyword\">var</span> DEFAULT_ACTION_NAME = <span class=\"code-string\">\"&lt;unnamed action&gt;\"</span>;\n","    <span class=\"code-keyword\">var</span> actionAnnotation = <span class=\"code-comment\">/*#__PURE__*/</span>createActionAnnotation(ACTION);\n","    <span class=\"code-keyword\">var</span> actionBoundAnnotation = <span class=\"code-comment\">/*#__PURE__*/</span>createActionAnnotation(ACTION_BOUND, {\n","      bound: <span class=\"code-literal\">true</span>\n","    });\n","    <span class=\"code-keyword\">var</span> autoActionAnnotation = <span class=\"code-comment\">/*#__PURE__*/</span>createActionAnnotation(AUTOACTION, {\n","      autoAction: <span class=\"code-literal\">true</span>\n","    });\n","    <span class=\"code-keyword\">var</span> autoActionBoundAnnotation = <span class=\"code-comment\">/*#__PURE__*/</span>createActionAnnotation(AUTOACTION_BOUND, {\n","      autoAction: <span class=\"code-literal\">true</span>,\n","      bound: <span class=\"code-literal\">true</span>\n","    });\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createActionFactory</span>(<span class=\"code-params\">autoAction</span>) </span>{\n","      <span class=\"code-keyword\">var</span> res = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">action</span>(<span class=\"code-params\">arg1, arg2</span>) </span>{\n","        <span class=\"code-comment\">// action(fn() {})</span>\n","        <span class=\"code-keyword\">if</span> (isFunction(arg1)) {\n","          <span class=\"code-keyword\">return</span> createAction(arg1.name || DEFAULT_ACTION_NAME, arg1, autoAction);\n","        }\n","        <span class=\"code-comment\">// action(\"name\", fn() {})</span>\n","        <span class=\"code-keyword\">if</span> (isFunction(arg2)) {\n","          <span class=\"code-keyword\">return</span> createAction(arg1, arg2, autoAction);\n","        }\n","        <span class=\"code-comment\">// @action (2022.3 Decorators)</span>\n","        <span class=\"code-keyword\">if</span> (is20223Decorator(arg2)) {\n","          <span class=\"code-keyword\">return</span> (autoAction ? autoActionAnnotation : actionAnnotation).decorate_20223_(arg1, arg2);\n","        }\n","        <span class=\"code-comment\">// @action</span>\n","        <span class=\"code-keyword\">if</span> (isStringish(arg2)) {\n","          <span class=\"code-keyword\">return</span> storeAnnotation(arg1, arg2, autoAction ? autoActionAnnotation : actionAnnotation);\n","        }\n","        <span class=\"code-comment\">// action(\"name\") &amp; @action(\"name\")</span>\n","        <span class=\"code-keyword\">if</span> (isStringish(arg1)) {\n","          <span class=\"code-keyword\">return</span> createDecoratorAnnotation(createActionAnnotation(autoAction ? AUTOACTION : ACTION, {\n","            name: arg1,\n","            autoAction: autoAction\n","          }));\n","        }\n","        {\n","          die(<span class=\"code-string\">\"Invalid arguments for `action`\"</span>);\n","        }\n","      };\n","      <span class=\"code-keyword\">return</span> res;\n","    }\n","    <span class=\"code-keyword\">var</span> action = <span class=\"code-comment\">/*#__PURE__*/</span>createActionFactory(<span class=\"code-literal\">false</span>);\n","    <span class=\"code-built_in\">Object</span>.assign(action, actionAnnotation);\n","    <span class=\"code-keyword\">var</span> autoAction = <span class=\"code-comment\">/*#__PURE__*/</span>createActionFactory(<span class=\"code-literal\">true</span>);\n","    <span class=\"code-built_in\">Object</span>.assign(autoAction, autoActionAnnotation);\n","    action.bound = <span class=\"code-comment\">/*#__PURE__*/</span>createDecoratorAnnotation(actionBoundAnnotation);\n","    autoAction.bound = <span class=\"code-comment\">/*#__PURE__*/</span>createDecoratorAnnotation(autoActionBoundAnnotation);\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">runInAction</span>(<span class=\"code-params\">fn</span>) </span>{\n","      <span class=\"code-keyword\">return</span> executeAction(fn.name || DEFAULT_ACTION_NAME, <span class=\"code-literal\">false</span>, fn, <span class=\"code-keyword\">this</span>, <span class=\"code-literal\">undefined</span>);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isAction</span>(<span class=\"code-params\">thing</span>) </span>{\n","      <span class=\"code-keyword\">return</span> isFunction(thing) &amp;&amp; thing.isMobxAction === <span class=\"code-literal\">true</span>;\n","    }\n","\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * Creates a named reactive view and keeps it alive, so that the view is always\n</span>","<span class=\"code-comment\">     * updated if one of the dependencies changes, even when the view is not further used by something else.\n</span>","<span class=\"code-comment\">     * @param view The reactive view\n</span>","<span class=\"code-comment\">     * @returns disposer function, which can be used to stop the view from being updated in the future.\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">autorun</span>(<span class=\"code-params\">view, opts</span>) </span>{\n","      <span class=\"code-keyword\">var</span> _opts$name, _opts, _opts2, _opts3;\n","      <span class=\"code-keyword\">if</span> (opts === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","        opts = EMPTY_OBJECT;\n","      }\n","      {\n","        <span class=\"code-keyword\">if</span> (!isFunction(view)) {\n","          die(<span class=\"code-string\">\"Autorun expects a function as first argument\"</span>);\n","        }\n","        <span class=\"code-keyword\">if</span> (isAction(view)) {\n","          die(<span class=\"code-string\">\"Autorun does not accept actions since actions are untrackable\"</span>);\n","        }\n","      }\n","      <span class=\"code-keyword\">var</span> name = (_opts$name = (_opts = opts) == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : _opts.name) != <span class=\"code-literal\">null</span> ? _opts$name :  view.name || <span class=\"code-string\">\"Autorun@\"</span> + getNextId() ;\n","      <span class=\"code-keyword\">var</span> runSync = !opts.scheduler &amp;&amp; !opts.delay;\n","      <span class=\"code-keyword\">var</span> reaction;\n","      <span class=\"code-keyword\">if</span> (runSync) {\n","        <span class=\"code-comment\">// normal autorun</span>\n","        reaction = <span class=\"code-keyword\">new</span> Reaction(name, <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          <span class=\"code-keyword\">this</span>.track(reactionRunner);\n","        }, opts.onError, opts.requiresObservable);\n","      } <span class=\"code-keyword\">else</span> {\n","        <span class=\"code-keyword\">var</span> scheduler = createSchedulerFromOptions(opts);\n","        <span class=\"code-comment\">// debounced autorun</span>\n","        <span class=\"code-keyword\">var</span> isScheduled = <span class=\"code-literal\">false</span>;\n","        reaction = <span class=\"code-keyword\">new</span> Reaction(name, <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          <span class=\"code-keyword\">if</span> (!isScheduled) {\n","            isScheduled = <span class=\"code-literal\">true</span>;\n","            scheduler(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","              isScheduled = <span class=\"code-literal\">false</span>;\n","              <span class=\"code-keyword\">if</span> (!reaction.isDisposed) {\n","                reaction.track(reactionRunner);\n","              }\n","            });\n","          }\n","        }, opts.onError, opts.requiresObservable);\n","      }\n","      <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">reactionRunner</span>(<span class=\"code-params\"></span>) </span>{\n","        view(reaction);\n","      }\n","      <span class=\"code-keyword\">if</span> (!((_opts2 = opts) != <span class=\"code-literal\">null</span> &amp;&amp; (_opts2 = _opts2.signal) != <span class=\"code-literal\">null</span> &amp;&amp; _opts2.aborted)) {\n","        reaction.schedule_();\n","      }\n","      <span class=\"code-keyword\">return</span> reaction.getDisposer_((_opts3 = opts) == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : _opts3.signal);\n","    }\n","    <span class=\"code-keyword\">var</span> run = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">run</span>(<span class=\"code-params\">f</span>) </span>{\n","      <span class=\"code-keyword\">return</span> f();\n","    };\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createSchedulerFromOptions</span>(<span class=\"code-params\">opts</span>) </span>{\n","      <span class=\"code-keyword\">return</span> opts.scheduler ? opts.scheduler : opts.delay ? <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">f</span>) </span>{\n","        <span class=\"code-keyword\">return</span> setTimeout(f, opts.delay);\n","      } : run;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">reaction</span>(<span class=\"code-params\">expression, effect, opts</span>) </span>{\n","      <span class=\"code-keyword\">var</span> _opts$name2, _opts4, _opts5;\n","      <span class=\"code-keyword\">if</span> (opts === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","        opts = EMPTY_OBJECT;\n","      }\n","      {\n","        <span class=\"code-keyword\">if</span> (!isFunction(expression) || !isFunction(effect)) {\n","          die(<span class=\"code-string\">\"First and second argument to reaction should be functions\"</span>);\n","        }\n","        <span class=\"code-keyword\">if</span> (!isPlainObject(opts)) {\n","          die(<span class=\"code-string\">\"Third argument of reactions should be an object\"</span>);\n","        }\n","      }\n","      <span class=\"code-keyword\">var</span> name = (_opts$name2 = opts.name) != <span class=\"code-literal\">null</span> ? _opts$name2 :  <span class=\"code-string\">\"Reaction@\"</span> + getNextId() ;\n","      <span class=\"code-keyword\">var</span> effectAction = action(name, opts.onError ? wrapErrorHandler(opts.onError, effect) : effect);\n","      <span class=\"code-keyword\">var</span> runSync = !opts.scheduler &amp;&amp; !opts.delay;\n","      <span class=\"code-keyword\">var</span> scheduler = createSchedulerFromOptions(opts);\n","      <span class=\"code-keyword\">var</span> firstTime = <span class=\"code-literal\">true</span>;\n","      <span class=\"code-keyword\">var</span> isScheduled = <span class=\"code-literal\">false</span>;\n","      <span class=\"code-keyword\">var</span> value;\n","      <span class=\"code-keyword\">var</span> equals = opts.compareStructural ? comparer.structural : opts.equals || comparer[<span class=\"code-string\">\"default\"</span>];\n","      <span class=\"code-keyword\">var</span> r = <span class=\"code-keyword\">new</span> Reaction(name, <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">if</span> (firstTime || runSync) {\n","          reactionRunner();\n","        } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (!isScheduled) {\n","          isScheduled = <span class=\"code-literal\">true</span>;\n","          scheduler(reactionRunner);\n","        }\n","      }, opts.onError, opts.requiresObservable);\n","      <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">reactionRunner</span>(<span class=\"code-params\"></span>) </span>{\n","        isScheduled = <span class=\"code-literal\">false</span>;\n","        <span class=\"code-keyword\">if</span> (r.isDisposed) {\n","          <span class=\"code-keyword\">return</span>;\n","        }\n","        <span class=\"code-keyword\">var</span> changed = <span class=\"code-literal\">false</span>;\n","        <span class=\"code-keyword\">var</span> oldValue = value;\n","        r.track(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          <span class=\"code-keyword\">var</span> nextValue = allowStateChanges(<span class=\"code-literal\">false</span>, <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","            <span class=\"code-keyword\">return</span> expression(r);\n","          });\n","          changed = firstTime || !equals(value, nextValue);\n","          value = nextValue;\n","        });\n","        <span class=\"code-keyword\">if</span> (firstTime &amp;&amp; opts.fireImmediately) {\n","          effectAction(value, oldValue, r);\n","        } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (!firstTime &amp;&amp; changed) {\n","          effectAction(value, oldValue, r);\n","        }\n","        firstTime = <span class=\"code-literal\">false</span>;\n","      }\n","      <span class=\"code-keyword\">if</span> (!((_opts4 = opts) != <span class=\"code-literal\">null</span> &amp;&amp; (_opts4 = _opts4.signal) != <span class=\"code-literal\">null</span> &amp;&amp; _opts4.aborted)) {\n","        r.schedule_();\n","      }\n","      <span class=\"code-keyword\">return</span> r.getDisposer_((_opts5 = opts) == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : _opts5.signal);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">wrapErrorHandler</span>(<span class=\"code-params\">errorHandler, baseFn</span>) </span>{\n","      <span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">try</span> {\n","          <span class=\"code-keyword\">return</span> baseFn.apply(<span class=\"code-keyword\">this</span>, <span class=\"code-built_in\">arguments</span>);\n","        } <span class=\"code-keyword\">catch</span> (e) {\n","          errorHandler.call(<span class=\"code-keyword\">this</span>, e);\n","        }\n","      };\n","    }\n","\n","    <span class=\"code-keyword\">var</span> ON_BECOME_OBSERVED = <span class=\"code-string\">\"onBO\"</span>;\n","    <span class=\"code-keyword\">var</span> ON_BECOME_UNOBSERVED = <span class=\"code-string\">\"onBUO\"</span>;\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">onBecomeObserved</span>(<span class=\"code-params\">thing, arg2, arg3</span>) </span>{\n","      <span class=\"code-keyword\">return</span> interceptHook(ON_BECOME_OBSERVED, thing, arg2, arg3);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">onBecomeUnobserved</span>(<span class=\"code-params\">thing, arg2, arg3</span>) </span>{\n","      <span class=\"code-keyword\">return</span> interceptHook(ON_BECOME_UNOBSERVED, thing, arg2, arg3);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">interceptHook</span>(<span class=\"code-params\">hook, thing, arg2, arg3</span>) </span>{\n","      <span class=\"code-keyword\">var</span> atom = <span class=\"code-keyword\">typeof</span> arg3 === <span class=\"code-string\">\"function\"</span> ? getAtom(thing, arg2) : getAtom(thing);\n","      <span class=\"code-keyword\">var</span> cb = isFunction(arg3) ? arg3 : arg2;\n","      <span class=\"code-keyword\">var</span> listenersKey = hook + <span class=\"code-string\">\"L\"</span>;\n","      <span class=\"code-keyword\">if</span> (atom[listenersKey]) {\n","        atom[listenersKey].add(cb);\n","      } <span class=\"code-keyword\">else</span> {\n","        atom[listenersKey] = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Set</span>([cb]);\n","      }\n","      <span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> hookListeners = atom[listenersKey];\n","        <span class=\"code-keyword\">if</span> (hookListeners) {\n","          hookListeners[<span class=\"code-string\">\"delete\"</span>](cb);\n","          <span class=\"code-keyword\">if</span> (hookListeners.size === <span class=\"code-number\">0</span>) {\n","            <span class=\"code-keyword\">delete</span> atom[listenersKey];\n","          }\n","        }\n","      };\n","    }\n","\n","    <span class=\"code-keyword\">var</span> NEVER = <span class=\"code-string\">\"never\"</span>;\n","    <span class=\"code-keyword\">var</span> ALWAYS = <span class=\"code-string\">\"always\"</span>;\n","    <span class=\"code-keyword\">var</span> OBSERVED = <span class=\"code-string\">\"observed\"</span>;\n","    <span class=\"code-comment\">// const IF_AVAILABLE = \"ifavailable\"</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">configure</span>(<span class=\"code-params\">options</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (options.isolateGlobalState === <span class=\"code-literal\">true</span>) {\n","        isolateGlobalState();\n","      }\n","      <span class=\"code-keyword\">var</span> useProxies = options.useProxies,\n","        enforceActions = options.enforceActions;\n","      <span class=\"code-keyword\">if</span> (useProxies !== <span class=\"code-literal\">undefined</span>) {\n","        globalState.useProxies = useProxies === ALWAYS ? <span class=\"code-literal\">true</span> : useProxies === NEVER ? <span class=\"code-literal\">false</span> : <span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Proxy</span> !== <span class=\"code-string\">\"undefined\"</span>;\n","      }\n","      <span class=\"code-keyword\">if</span> (useProxies === <span class=\"code-string\">\"ifavailable\"</span>) {\n","        globalState.verifyProxies = <span class=\"code-literal\">true</span>;\n","      }\n","      <span class=\"code-keyword\">if</span> (enforceActions !== <span class=\"code-literal\">undefined</span>) {\n","        <span class=\"code-keyword\">var</span> ea = enforceActions === ALWAYS ? ALWAYS : enforceActions === OBSERVED;\n","        globalState.enforceActions = ea;\n","        globalState.allowStateChanges = ea === <span class=\"code-literal\">true</span> || ea === ALWAYS ? <span class=\"code-literal\">false</span> : <span class=\"code-literal\">true</span>;\n","      }\n","      [<span class=\"code-string\">\"computedRequiresReaction\"</span>, <span class=\"code-string\">\"reactionRequiresObservable\"</span>, <span class=\"code-string\">\"observableRequiresReaction\"</span>, <span class=\"code-string\">\"disableErrorBoundaries\"</span>, <span class=\"code-string\">\"safeDescriptors\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">key</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (key <span class=\"code-keyword\">in</span> options) {\n","          globalState[key] = !!options[key];\n","        }\n","      });\n","      globalState.allowStateReads = !globalState.observableRequiresReaction;\n","      <span class=\"code-keyword\">if</span> ( globalState.disableErrorBoundaries === <span class=\"code-literal\">true</span>) {\n","        <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled.\"</span>);\n","      }\n","      <span class=\"code-keyword\">if</span> (options.reactionScheduler) {\n","        setReactionScheduler(options.reactionScheduler);\n","      }\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">extendObservable</span>(<span class=\"code-params\">target, properties, annotations, options</span>) </span>{\n","      {\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">arguments</span>.length &gt; <span class=\"code-number\">4</span>) {\n","          die(<span class=\"code-string\">\"'extendObservable' expected 2-4 arguments\"</span>);\n","        }\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> target !== <span class=\"code-string\">\"object\"</span>) {\n","          die(<span class=\"code-string\">\"'extendObservable' expects an object as first argument\"</span>);\n","        }\n","        <span class=\"code-keyword\">if</span> (isObservableMap(target)) {\n","          die(<span class=\"code-string\">\"'extendObservable' should not be used on maps, use map.merge instead\"</span>);\n","        }\n","        <span class=\"code-keyword\">if</span> (!isPlainObject(properties)) {\n","          die(<span class=\"code-string\">\"'extendObservable' only accepts plain objects as second argument\"</span>);\n","        }\n","        <span class=\"code-keyword\">if</span> (isObservable(properties) || isObservable(annotations)) {\n","          die(<span class=\"code-string\">\"Extending an object with another observable (object) is not supported\"</span>);\n","        }\n","      }\n","      <span class=\"code-comment\">// Pull descriptors first, so we don't have to deal with props added by administration ($mobx)</span>\n","      <span class=\"code-keyword\">var</span> descriptors = getOwnPropertyDescriptors(properties);\n","      initObservable(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> adm = asObservableObject(target, options)[$mobx];\n","        ownKeys(descriptors).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">key</span>) </span>{\n","          adm.extend_(key, descriptors[key],\n","          <span class=\"code-comment\">// must pass \"undefined\" for { key: undefined }</span>\n","          !annotations ? <span class=\"code-literal\">true</span> : key <span class=\"code-keyword\">in</span> annotations ? annotations[key] : <span class=\"code-literal\">true</span>);\n","        });\n","      });\n","      <span class=\"code-keyword\">return</span> target;\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getDependencyTree</span>(<span class=\"code-params\">thing, property</span>) </span>{\n","      <span class=\"code-keyword\">return</span> nodeToDependencyTree(getAtom(thing, property));\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">nodeToDependencyTree</span>(<span class=\"code-params\">node</span>) </span>{\n","      <span class=\"code-keyword\">var</span> result = {\n","        name: node.name_\n","      };\n","      <span class=\"code-keyword\">if</span> (node.observing_ &amp;&amp; node.observing_.length &gt; <span class=\"code-number\">0</span>) {\n","        result.dependencies = unique(node.observing_).map(nodeToDependencyTree);\n","      }\n","      <span class=\"code-keyword\">return</span> result;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getObserverTree</span>(<span class=\"code-params\">thing, property</span>) </span>{\n","      <span class=\"code-keyword\">return</span> nodeToObserverTree(getAtom(thing, property));\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">nodeToObserverTree</span>(<span class=\"code-params\">node</span>) </span>{\n","      <span class=\"code-keyword\">var</span> result = {\n","        name: node.name_\n","      };\n","      <span class=\"code-keyword\">if</span> (hasObservers(node)) {\n","        result.observers = <span class=\"code-built_in\">Array</span>.from(getObservers(node)).map(nodeToObserverTree);\n","      }\n","      <span class=\"code-keyword\">return</span> result;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">unique</span>(<span class=\"code-params\">list</span>) </span>{\n","      <span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Array</span>.from(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Set</span>(list));\n","    }\n","\n","    <span class=\"code-keyword\">var</span> generatorId = <span class=\"code-number\">0</span>;\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">FlowCancellationError</span>(<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-keyword\">this</span>.message = <span class=\"code-string\">\"FLOW_CANCELLED\"</span>;\n","    }\n","    FlowCancellationError.prototype = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-built_in\">Object</span>.create(<span class=\"code-built_in\">Error</span>.prototype);\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isFlowCancellationError</span>(<span class=\"code-params\">error</span>) </span>{\n","      <span class=\"code-keyword\">return</span> error <span class=\"code-keyword\">instanceof</span> FlowCancellationError;\n","    }\n","    <span class=\"code-keyword\">var</span> flowAnnotation = <span class=\"code-comment\">/*#__PURE__*/</span>createFlowAnnotation(<span class=\"code-string\">\"flow\"</span>);\n","    <span class=\"code-keyword\">var</span> flowBoundAnnotation = <span class=\"code-comment\">/*#__PURE__*/</span>createFlowAnnotation(<span class=\"code-string\">\"flow.bound\"</span>, {\n","      bound: <span class=\"code-literal\">true</span>\n","    });\n","    <span class=\"code-keyword\">var</span> flow = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-built_in\">Object</span>.assign(<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">flow</span>(<span class=\"code-params\">arg1, arg2</span>) </span>{\n","      <span class=\"code-comment\">// @flow (2022.3 Decorators)</span>\n","      <span class=\"code-keyword\">if</span> (is20223Decorator(arg2)) {\n","        <span class=\"code-keyword\">return</span> flowAnnotation.decorate_20223_(arg1, arg2);\n","      }\n","      <span class=\"code-comment\">// @flow</span>\n","      <span class=\"code-keyword\">if</span> (isStringish(arg2)) {\n","        <span class=\"code-keyword\">return</span> storeAnnotation(arg1, arg2, flowAnnotation);\n","      }\n","      <span class=\"code-comment\">// flow(fn)</span>\n","      <span class=\"code-keyword\">if</span> ( <span class=\"code-built_in\">arguments</span>.length !== <span class=\"code-number\">1</span>) {\n","        die(<span class=\"code-string\">\"Flow expects single argument with generator function\"</span>);\n","      }\n","      <span class=\"code-keyword\">var</span> generator = arg1;\n","      <span class=\"code-keyword\">var</span> name = generator.name || <span class=\"code-string\">\"&lt;unnamed flow&gt;\"</span>;\n","      <span class=\"code-comment\">// Implementation based on https://github.com/tj/co/blob/master/index.js</span>\n","      <span class=\"code-keyword\">var</span> res = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">res</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> ctx = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-keyword\">var</span> args = <span class=\"code-built_in\">arguments</span>;\n","        <span class=\"code-keyword\">var</span> runId = ++generatorId;\n","        <span class=\"code-keyword\">var</span> gen = action(name + <span class=\"code-string\">\" - runid: \"</span> + runId + <span class=\"code-string\">\" - init\"</span>, generator).apply(ctx, args);\n","        <span class=\"code-keyword\">var</span> rejector;\n","        <span class=\"code-keyword\">var</span> pendingPromise = <span class=\"code-literal\">undefined</span>;\n","        <span class=\"code-keyword\">var</span> promise = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Promise</span>(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">resolve, reject</span>) </span>{\n","          <span class=\"code-keyword\">var</span> stepId = <span class=\"code-number\">0</span>;\n","          rejector = reject;\n","          <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">onFulfilled</span>(<span class=\"code-params\">res</span>) </span>{\n","            pendingPromise = <span class=\"code-literal\">undefined</span>;\n","            <span class=\"code-keyword\">var</span> ret;\n","            <span class=\"code-keyword\">try</span> {\n","              ret = action(name + <span class=\"code-string\">\" - runid: \"</span> + runId + <span class=\"code-string\">\" - yield \"</span> + stepId++, gen.next).call(gen, res);\n","            } <span class=\"code-keyword\">catch</span> (e) {\n","              <span class=\"code-keyword\">return</span> reject(e);\n","            }\n","            next(ret);\n","          }\n","          <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">onRejected</span>(<span class=\"code-params\">err</span>) </span>{\n","            pendingPromise = <span class=\"code-literal\">undefined</span>;\n","            <span class=\"code-keyword\">var</span> ret;\n","            <span class=\"code-keyword\">try</span> {\n","              ret = action(name + <span class=\"code-string\">\" - runid: \"</span> + runId + <span class=\"code-string\">\" - yield \"</span> + stepId++, gen[<span class=\"code-string\">\"throw\"</span>]).call(gen, err);\n","            } <span class=\"code-keyword\">catch</span> (e) {\n","              <span class=\"code-keyword\">return</span> reject(e);\n","            }\n","            next(ret);\n","          }\n","          <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">next</span>(<span class=\"code-params\">ret</span>) </span>{\n","            <span class=\"code-keyword\">if</span> (isFunction(ret == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : ret.then)) {\n","              <span class=\"code-comment\">// an async iterator</span>\n","              ret.then(next, reject);\n","              <span class=\"code-keyword\">return</span>;\n","            }\n","            <span class=\"code-keyword\">if</span> (ret.done) {\n","              <span class=\"code-keyword\">return</span> resolve(ret.value);\n","            }\n","            pendingPromise = <span class=\"code-built_in\">Promise</span>.resolve(ret.value);\n","            <span class=\"code-keyword\">return</span> pendingPromise.then(onFulfilled, onRejected);\n","          }\n","          onFulfilled(<span class=\"code-literal\">undefined</span>); <span class=\"code-comment\">// kick off the process</span>\n","        });\n","        promise.cancel = action(name + <span class=\"code-string\">\" - runid: \"</span> + runId + <span class=\"code-string\">\" - cancel\"</span>, <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          <span class=\"code-keyword\">try</span> {\n","            <span class=\"code-keyword\">if</span> (pendingPromise) {\n","              cancelPromise(pendingPromise);\n","            }\n","            <span class=\"code-comment\">// Finally block can return (or yield) stuff..</span>\n","            <span class=\"code-keyword\">var</span> _res = gen[<span class=\"code-string\">\"return\"</span>](<span class=\"code-literal\">undefined</span>);\n","            <span class=\"code-comment\">// eat anything that promise would do, it's cancelled!</span>\n","            <span class=\"code-keyword\">var</span> yieldedPromise = <span class=\"code-built_in\">Promise</span>.resolve(_res.value);\n","            yieldedPromise.then(noop, noop);\n","            cancelPromise(yieldedPromise); <span class=\"code-comment\">// maybe it can be cancelled :)</span>\n","            <span class=\"code-comment\">// reject our original promise</span>\n","            rejector(<span class=\"code-keyword\">new</span> FlowCancellationError());\n","          } <span class=\"code-keyword\">catch</span> (e) {\n","            rejector(e); <span class=\"code-comment\">// there could be a throwing finally block</span>\n","          }\n","        });\n","        <span class=\"code-keyword\">return</span> promise;\n","      };\n","      res.isMobXFlow = <span class=\"code-literal\">true</span>;\n","      <span class=\"code-keyword\">return</span> res;\n","    }, flowAnnotation);\n","    flow.bound = <span class=\"code-comment\">/*#__PURE__*/</span>createDecoratorAnnotation(flowBoundAnnotation);\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">cancelPromise</span>(<span class=\"code-params\">promise</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (isFunction(promise.cancel)) {\n","        promise.cancel();\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">flowResult</span>(<span class=\"code-params\">result</span>) </span>{\n","      <span class=\"code-keyword\">return</span> result; <span class=\"code-comment\">// just tricking TypeScript :)</span>\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isFlow</span>(<span class=\"code-params\">fn</span>) </span>{\n","      <span class=\"code-keyword\">return</span> (fn == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : fn.isMobXFlow) === <span class=\"code-literal\">true</span>;\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">interceptReads</span>(<span class=\"code-params\">thing, propOrHandler, handler</span>) </span>{\n","      <span class=\"code-keyword\">var</span> target;\n","      <span class=\"code-keyword\">if</span> (isObservableMap(thing) || isObservableArray(thing) || isObservableValue(thing)) {\n","        target = getAdministration(thing);\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (isObservableObject(thing)) {\n","        <span class=\"code-keyword\">if</span> ( !isStringish(propOrHandler)) {\n","          <span class=\"code-keyword\">return</span> die(<span class=\"code-string\">\"InterceptReads can only be used with a specific property, not with an object in general\"</span>);\n","        }\n","        target = getAdministration(thing, propOrHandler);\n","      } <span class=\"code-keyword\">else</span> {\n","        <span class=\"code-keyword\">return</span> die(<span class=\"code-string\">\"Expected observable map, object or array as first array\"</span>);\n","      }\n","      <span class=\"code-keyword\">if</span> ( target.dehancer !== <span class=\"code-literal\">undefined</span>) {\n","        <span class=\"code-keyword\">return</span> die(<span class=\"code-string\">\"An intercept reader was already established\"</span>);\n","      }\n","      target.dehancer = <span class=\"code-keyword\">typeof</span> propOrHandler === <span class=\"code-string\">\"function\"</span> ? propOrHandler : handler;\n","      <span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        target.dehancer = <span class=\"code-literal\">undefined</span>;\n","      };\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">intercept</span>(<span class=\"code-params\">thing, propOrHandler, handler</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (isFunction(handler)) {\n","        <span class=\"code-keyword\">return</span> interceptProperty(thing, propOrHandler, handler);\n","      } <span class=\"code-keyword\">else</span> {\n","        <span class=\"code-keyword\">return</span> interceptInterceptable(thing, propOrHandler);\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">interceptInterceptable</span>(<span class=\"code-params\">thing, handler</span>) </span>{\n","      <span class=\"code-keyword\">return</span> getAdministration(thing).intercept_(handler);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">interceptProperty</span>(<span class=\"code-params\">thing, property, handler</span>) </span>{\n","      <span class=\"code-keyword\">return</span> getAdministration(thing, property).intercept_(handler);\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_isComputed</span>(<span class=\"code-params\">value, property</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (property === <span class=\"code-literal\">undefined</span>) {\n","        <span class=\"code-keyword\">return</span> isComputedValue(value);\n","      }\n","      <span class=\"code-keyword\">if</span> (isObservableObject(value) === <span class=\"code-literal\">false</span>) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","      }\n","      <span class=\"code-keyword\">if</span> (!value[$mobx].values_.has(property)) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","      }\n","      <span class=\"code-keyword\">var</span> atom = getAtom(value, property);\n","      <span class=\"code-keyword\">return</span> isComputedValue(atom);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isComputed</span>(<span class=\"code-params\">value</span>) </span>{\n","      <span class=\"code-keyword\">if</span> ( <span class=\"code-built_in\">arguments</span>.length &gt; <span class=\"code-number\">1</span>) {\n","        <span class=\"code-keyword\">return</span> die(<span class=\"code-string\">\"isComputed expects only 1 argument. Use isComputedProp to inspect the observability of a property\"</span>);\n","      }\n","      <span class=\"code-keyword\">return</span> _isComputed(value);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isComputedProp</span>(<span class=\"code-params\">value, propName</span>) </span>{\n","      <span class=\"code-keyword\">if</span> ( !isStringish(propName)) {\n","        <span class=\"code-keyword\">return</span> die(<span class=\"code-string\">\"isComputed expected a property name as second argument\"</span>);\n","      }\n","      <span class=\"code-keyword\">return</span> _isComputed(value, propName);\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_isObservable</span>(<span class=\"code-params\">value, property</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (!value) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","      }\n","      <span class=\"code-keyword\">if</span> (property !== <span class=\"code-literal\">undefined</span>) {\n","        <span class=\"code-keyword\">if</span> ( (isObservableMap(value) || isObservableArray(value))) {\n","          <span class=\"code-keyword\">return</span> die(<span class=\"code-string\">\"isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.\"</span>);\n","        }\n","        <span class=\"code-keyword\">if</span> (isObservableObject(value)) {\n","          <span class=\"code-keyword\">return</span> value[$mobx].values_.has(property);\n","        }\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","      }\n","      <span class=\"code-comment\">// For first check, see #701</span>\n","      <span class=\"code-keyword\">return</span> isObservableObject(value) || !!value[$mobx] || isAtom(value) || isReaction(value) || isComputedValue(value);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isObservable</span>(<span class=\"code-params\">value</span>) </span>{\n","      <span class=\"code-keyword\">if</span> ( <span class=\"code-built_in\">arguments</span>.length !== <span class=\"code-number\">1</span>) {\n","        die(<span class=\"code-string\">\"isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property\"</span>);\n","      }\n","      <span class=\"code-keyword\">return</span> _isObservable(value);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isObservableProp</span>(<span class=\"code-params\">value, propName</span>) </span>{\n","      <span class=\"code-keyword\">if</span> ( !isStringish(propName)) {\n","        <span class=\"code-keyword\">return</span> die(<span class=\"code-string\">\"expected a property name as second argument\"</span>);\n","      }\n","      <span class=\"code-keyword\">return</span> _isObservable(value, propName);\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">keys</span>(<span class=\"code-params\">obj</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (isObservableObject(obj)) {\n","        <span class=\"code-keyword\">return</span> obj[$mobx].keys_();\n","      }\n","      <span class=\"code-keyword\">if</span> (isObservableMap(obj) || isObservableSet(obj)) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Array</span>.from(obj.keys());\n","      }\n","      <span class=\"code-keyword\">if</span> (isObservableArray(obj)) {\n","        <span class=\"code-keyword\">return</span> obj.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">_, index</span>) </span>{\n","          <span class=\"code-keyword\">return</span> index;\n","        });\n","      }\n","      die(<span class=\"code-number\">5</span>);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">values</span>(<span class=\"code-params\">obj</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (isObservableObject(obj)) {\n","        <span class=\"code-keyword\">return</span> keys(obj).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">key</span>) </span>{\n","          <span class=\"code-keyword\">return</span> obj[key];\n","        });\n","      }\n","      <span class=\"code-keyword\">if</span> (isObservableMap(obj)) {\n","        <span class=\"code-keyword\">return</span> keys(obj).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">key</span>) </span>{\n","          <span class=\"code-keyword\">return</span> obj.get(key);\n","        });\n","      }\n","      <span class=\"code-keyword\">if</span> (isObservableSet(obj)) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Array</span>.from(obj.values());\n","      }\n","      <span class=\"code-keyword\">if</span> (isObservableArray(obj)) {\n","        <span class=\"code-keyword\">return</span> obj.slice();\n","      }\n","      die(<span class=\"code-number\">6</span>);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">entries</span>(<span class=\"code-params\">obj</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (isObservableObject(obj)) {\n","        <span class=\"code-keyword\">return</span> keys(obj).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">key</span>) </span>{\n","          <span class=\"code-keyword\">return</span> [key, obj[key]];\n","        });\n","      }\n","      <span class=\"code-keyword\">if</span> (isObservableMap(obj)) {\n","        <span class=\"code-keyword\">return</span> keys(obj).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">key</span>) </span>{\n","          <span class=\"code-keyword\">return</span> [key, obj.get(key)];\n","        });\n","      }\n","      <span class=\"code-keyword\">if</span> (isObservableSet(obj)) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Array</span>.from(obj.entries());\n","      }\n","      <span class=\"code-keyword\">if</span> (isObservableArray(obj)) {\n","        <span class=\"code-keyword\">return</span> obj.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">key, index</span>) </span>{\n","          <span class=\"code-keyword\">return</span> [index, key];\n","        });\n","      }\n","      die(<span class=\"code-number\">7</span>);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">set</span>(<span class=\"code-params\">obj, key, value</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">arguments</span>.length === <span class=\"code-number\">2</span> &amp;&amp; !isObservableSet(obj)) {\n","        startBatch();\n","        <span class=\"code-keyword\">var</span> _values = key;\n","        <span class=\"code-keyword\">try</span> {\n","          <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> _key <span class=\"code-keyword\">in</span> _values) {\n","            <span class=\"code-keyword\">set</span>(obj, _key, _values[_key]);\n","          }\n","        } finally {\n","          endBatch();\n","        }\n","        <span class=\"code-keyword\">return</span>;\n","      }\n","      <span class=\"code-keyword\">if</span> (isObservableObject(obj)) {\n","        obj[$mobx].set_(key, value);\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (isObservableMap(obj)) {\n","        obj.set(key, value);\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (isObservableSet(obj)) {\n","        obj.add(key);\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (isObservableArray(obj)) {\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> key !== <span class=\"code-string\">\"number\"</span>) {\n","          key = <span class=\"code-built_in\">parseInt</span>(key, <span class=\"code-number\">10</span>);\n","        }\n","        <span class=\"code-keyword\">if</span> (key &lt; <span class=\"code-number\">0</span>) {\n","          die(<span class=\"code-string\">\"Invalid index: '\"</span> + key + <span class=\"code-string\">\"'\"</span>);\n","        }\n","        startBatch();\n","        <span class=\"code-keyword\">if</span> (key &gt;= obj.length) {\n","          obj.length = key + <span class=\"code-number\">1</span>;\n","        }\n","        obj[key] = value;\n","        endBatch();\n","      } <span class=\"code-keyword\">else</span> {\n","        die(<span class=\"code-number\">8</span>);\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">remove</span>(<span class=\"code-params\">obj, key</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (isObservableObject(obj)) {\n","        obj[$mobx].delete_(key);\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (isObservableMap(obj)) {\n","        obj[<span class=\"code-string\">\"delete\"</span>](key);\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (isObservableSet(obj)) {\n","        obj[<span class=\"code-string\">\"delete\"</span>](key);\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (isObservableArray(obj)) {\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> key !== <span class=\"code-string\">\"number\"</span>) {\n","          key = <span class=\"code-built_in\">parseInt</span>(key, <span class=\"code-number\">10</span>);\n","        }\n","        obj.splice(key, <span class=\"code-number\">1</span>);\n","      } <span class=\"code-keyword\">else</span> {\n","        die(<span class=\"code-number\">9</span>);\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">has</span>(<span class=\"code-params\">obj, key</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (isObservableObject(obj)) {\n","        <span class=\"code-keyword\">return</span> obj[$mobx].has_(key);\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (isObservableMap(obj)) {\n","        <span class=\"code-keyword\">return</span> obj.has(key);\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (isObservableSet(obj)) {\n","        <span class=\"code-keyword\">return</span> obj.has(key);\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (isObservableArray(obj)) {\n","        <span class=\"code-keyword\">return</span> key &gt;= <span class=\"code-number\">0</span> &amp;&amp; key &lt; obj.length;\n","      }\n","      die(<span class=\"code-number\">10</span>);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">get</span>(<span class=\"code-params\">obj, key</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (!has(obj, key)) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">undefined</span>;\n","      }\n","      <span class=\"code-keyword\">if</span> (isObservableObject(obj)) {\n","        <span class=\"code-keyword\">return</span> obj[$mobx].get_(key);\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (isObservableMap(obj)) {\n","        <span class=\"code-keyword\">return</span> obj.get(key);\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (isObservableArray(obj)) {\n","        <span class=\"code-keyword\">return</span> obj[key];\n","      }\n","      die(<span class=\"code-number\">11</span>);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">apiDefineProperty</span>(<span class=\"code-params\">obj, key, descriptor</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (isObservableObject(obj)) {\n","        <span class=\"code-keyword\">return</span> obj[$mobx].defineProperty_(key, descriptor);\n","      }\n","      die(<span class=\"code-number\">39</span>);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">apiOwnKeys</span>(<span class=\"code-params\">obj</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (isObservableObject(obj)) {\n","        <span class=\"code-keyword\">return</span> obj[$mobx].ownKeys_();\n","      }\n","      die(<span class=\"code-number\">38</span>);\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">observe</span>(<span class=\"code-params\">thing, propOrCb, cbOrFire, fireImmediately</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (isFunction(cbOrFire)) {\n","        <span class=\"code-keyword\">return</span> observeObservableProperty(thing, propOrCb, cbOrFire, fireImmediately);\n","      } <span class=\"code-keyword\">else</span> {\n","        <span class=\"code-keyword\">return</span> observeObservable(thing, propOrCb, cbOrFire);\n","      }\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">observeObservable</span>(<span class=\"code-params\">thing, listener, fireImmediately</span>) </span>{\n","      <span class=\"code-keyword\">return</span> getAdministration(thing).observe_(listener, fireImmediately);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">observeObservableProperty</span>(<span class=\"code-params\">thing, property, listener, fireImmediately</span>) </span>{\n","      <span class=\"code-keyword\">return</span> getAdministration(thing, property).observe_(listener, fireImmediately);\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">cache</span>(<span class=\"code-params\">map, key, value</span>) </span>{\n","      map.set(key, value);\n","      <span class=\"code-keyword\">return</span> value;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toJSHelper</span>(<span class=\"code-params\">source, __alreadySeen</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (source == <span class=\"code-literal\">null</span> || <span class=\"code-keyword\">typeof</span> source !== <span class=\"code-string\">\"object\"</span> || source <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Date</span> || !isObservable(source)) {\n","        <span class=\"code-keyword\">return</span> source;\n","      }\n","      <span class=\"code-keyword\">if</span> (isObservableValue(source) || isComputedValue(source)) {\n","        <span class=\"code-keyword\">return</span> toJSHelper(source.get(), __alreadySeen);\n","      }\n","      <span class=\"code-keyword\">if</span> (__alreadySeen.has(source)) {\n","        <span class=\"code-keyword\">return</span> __alreadySeen.get(source);\n","      }\n","      <span class=\"code-keyword\">if</span> (isObservableArray(source)) {\n","        <span class=\"code-keyword\">var</span> res = cache(__alreadySeen, source, <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(source.length));\n","        source.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">value, idx</span>) </span>{\n","          res[idx] = toJSHelper(value, __alreadySeen);\n","        });\n","        <span class=\"code-keyword\">return</span> res;\n","      }\n","      <span class=\"code-keyword\">if</span> (isObservableSet(source)) {\n","        <span class=\"code-keyword\">var</span> _res = cache(__alreadySeen, source, <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Set</span>());\n","        source.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">value</span>) </span>{\n","          _res.add(toJSHelper(value, __alreadySeen));\n","        });\n","        <span class=\"code-keyword\">return</span> _res;\n","      }\n","      <span class=\"code-keyword\">if</span> (isObservableMap(source)) {\n","        <span class=\"code-keyword\">var</span> _res2 = cache(__alreadySeen, source, <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Map</span>());\n","        source.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">value, key</span>) </span>{\n","          _res2.set(key, toJSHelper(value, __alreadySeen));\n","        });\n","        <span class=\"code-keyword\">return</span> _res2;\n","      } <span class=\"code-keyword\">else</span> {\n","        <span class=\"code-comment\">// must be observable object</span>\n","        <span class=\"code-keyword\">var</span> _res3 = cache(__alreadySeen, source, {});\n","        apiOwnKeys(source).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">key</span>) </span>{\n","          <span class=\"code-keyword\">if</span> (objectPrototype.propertyIsEnumerable.call(source, key)) {\n","            _res3[key] = toJSHelper(source[key], __alreadySeen);\n","          }\n","        });\n","        <span class=\"code-keyword\">return</span> _res3;\n","      }\n","    }\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * Recursively converts an observable to it's non-observable native counterpart.\n</span>","<span class=\"code-comment\">     * It does NOT recurse into non-observables, these are left as they are, even if they contain observables.\n</span>","<span class=\"code-comment\">     * Computed and other non-enumerable properties are completely ignored.\n</span>","<span class=\"code-comment\">     * Complex scenarios require custom solution, eg implementing `toJSON` or using `serializr` lib.\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toJS</span>(<span class=\"code-params\">source, options</span>) </span>{\n","      <span class=\"code-keyword\">if</span> ( options) {\n","        die(<span class=\"code-string\">\"toJS no longer supports options\"</span>);\n","      }\n","      <span class=\"code-keyword\">return</span> toJSHelper(source, <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Map</span>());\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">trace</span>(<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-keyword\">var</span> enterBreakPoint = <span class=\"code-literal\">false</span>;\n","      <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> _len = <span class=\"code-built_in\">arguments</span>.length, args = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(_len), _key = <span class=\"code-number\">0</span>; _key &lt; _len; _key++) {\n","        args[_key] = <span class=\"code-built_in\">arguments</span>[_key];\n","      }\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> args[args.length - <span class=\"code-number\">1</span>] === <span class=\"code-string\">\"boolean\"</span>) {\n","        enterBreakPoint = args.pop();\n","      }\n","      <span class=\"code-keyword\">var</span> derivation = getAtomFromArgs(args);\n","      <span class=\"code-keyword\">if</span> (!derivation) {\n","        <span class=\"code-keyword\">return</span> die(<span class=\"code-string\">\"'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly\"</span>);\n","      }\n","      <span class=\"code-keyword\">if</span> (derivation.isTracing_ === TraceMode.NONE) {\n","        <span class=\"code-built_in\">console</span>.log(<span class=\"code-string\">\"[mobx.trace] '\"</span> + derivation.name_ + <span class=\"code-string\">\"' tracing enabled\"</span>);\n","      }\n","      derivation.isTracing_ = enterBreakPoint ? TraceMode.BREAK : TraceMode.LOG;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getAtomFromArgs</span>(<span class=\"code-params\">args</span>) </span>{\n","      <span class=\"code-keyword\">switch</span> (args.length) {\n","        <span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:\n","          <span class=\"code-keyword\">return</span> globalState.trackingDerivation;\n","        <span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:\n","          <span class=\"code-keyword\">return</span> getAtom(args[<span class=\"code-number\">0</span>]);\n","        <span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:\n","          <span class=\"code-keyword\">return</span> getAtom(args[<span class=\"code-number\">0</span>], args[<span class=\"code-number\">1</span>]);\n","      }\n","    }\n","\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * During a transaction no views are updated until the end of the transaction.\n</span>","<span class=\"code-comment\">     * The transaction will be run synchronously nonetheless.\n</span>","<span class=\"code-comment\">     *\n</span>","<span class=\"code-comment\">     * @param action a function that updates some reactive state\n</span>","<span class=\"code-comment\">     * @returns any value that was returned by the 'action' parameter.\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">transaction</span>(<span class=\"code-params\">action, thisArg</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (thisArg === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","        thisArg = <span class=\"code-literal\">undefined</span>;\n","      }\n","      startBatch();\n","      <span class=\"code-keyword\">try</span> {\n","        <span class=\"code-keyword\">return</span> action.apply(thisArg);\n","      } <span class=\"code-keyword\">finally</span> {\n","        endBatch();\n","      }\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">when</span>(<span class=\"code-params\">predicate, arg1, arg2</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">arguments</span>.length === <span class=\"code-number\">1</span> || arg1 &amp;&amp; <span class=\"code-keyword\">typeof</span> arg1 === <span class=\"code-string\">\"object\"</span>) {\n","        <span class=\"code-keyword\">return</span> whenPromise(predicate, arg1);\n","      }\n","      <span class=\"code-keyword\">return</span> _when(predicate, arg1, arg2 || {});\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_when</span>(<span class=\"code-params\">predicate, effect, opts</span>) </span>{\n","      <span class=\"code-keyword\">var</span> timeoutHandle;\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> opts.timeout === <span class=\"code-string\">\"number\"</span>) {\n","        <span class=\"code-keyword\">var</span> error = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"WHEN_TIMEOUT\"</span>);\n","        timeoutHandle = setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          <span class=\"code-keyword\">if</span> (!disposer[$mobx].isDisposed) {\n","            disposer();\n","            <span class=\"code-keyword\">if</span> (opts.onError) {\n","              opts.onError(error);\n","            } <span class=\"code-keyword\">else</span> {\n","              <span class=\"code-keyword\">throw</span> error;\n","            }\n","          }\n","        }, opts.timeout);\n","      }\n","      opts.name =  opts.name || <span class=\"code-string\">\"When@\"</span> + getNextId() ;\n","      <span class=\"code-keyword\">var</span> effectAction = createAction( opts.name + <span class=\"code-string\">\"-effect\"</span> , effect);\n","      <span class=\"code-comment\">// eslint-disable-next-line</span>\n","      <span class=\"code-keyword\">var</span> disposer = autorun(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">r</span>) </span>{\n","        <span class=\"code-comment\">// predicate should not change state</span>\n","        <span class=\"code-keyword\">var</span> cond = allowStateChanges(<span class=\"code-literal\">false</span>, predicate);\n","        <span class=\"code-keyword\">if</span> (cond) {\n","          r.dispose();\n","          <span class=\"code-keyword\">if</span> (timeoutHandle) {\n","            clearTimeout(timeoutHandle);\n","          }\n","          effectAction();\n","        }\n","      }, opts);\n","      <span class=\"code-keyword\">return</span> disposer;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">whenPromise</span>(<span class=\"code-params\">predicate, opts</span>) </span>{\n","      <span class=\"code-keyword\">var</span> _opts$signal;\n","      <span class=\"code-keyword\">if</span> ( opts &amp;&amp; opts.onError) {\n","        <span class=\"code-keyword\">return</span> die(<span class=\"code-string\">\"the options 'onError' and 'promise' cannot be combined\"</span>);\n","      }\n","      <span class=\"code-keyword\">if</span> (opts != <span class=\"code-literal\">null</span> &amp;&amp; (_opts$signal = opts.signal) != <span class=\"code-literal\">null</span> &amp;&amp; _opts$signal.aborted) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Promise</span>.reject(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"WHEN_ABORTED\"</span>)), {\n","          cancel: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">cancel</span>(<span class=\"code-params\"></span>) </span>{\n","            <span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;\n","          }\n","        });\n","      }\n","      <span class=\"code-keyword\">var</span> cancel;\n","      <span class=\"code-keyword\">var</span> abort;\n","      <span class=\"code-keyword\">var</span> res = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Promise</span>(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">resolve, reject</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _opts$signal2;\n","        <span class=\"code-keyword\">var</span> disposer = _when(predicate, resolve, _extends({}, opts, {\n","          onError: reject\n","        }));\n","        cancel = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">cancel</span>(<span class=\"code-params\"></span>) </span>{\n","          disposer();\n","          reject(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"WHEN_CANCELLED\"</span>));\n","        };\n","        abort = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">abort</span>(<span class=\"code-params\"></span>) </span>{\n","          disposer();\n","          reject(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"WHEN_ABORTED\"</span>));\n","        };\n","        opts == <span class=\"code-literal\">null</span> || (_opts$signal2 = opts.signal) == <span class=\"code-literal\">null</span> || _opts$signal2.addEventListener == <span class=\"code-literal\">null</span> || _opts$signal2.addEventListener(<span class=\"code-string\">\"abort\"</span>, abort);\n","      })[<span class=\"code-string\">\"finally\"</span>](<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> _opts$signal3;\n","        <span class=\"code-keyword\">return</span> opts == <span class=\"code-literal\">null</span> || (_opts$signal3 = opts.signal) == <span class=\"code-literal\">null</span> || _opts$signal3.removeEventListener == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : _opts$signal3.removeEventListener(<span class=\"code-string\">\"abort\"</span>, abort);\n","      });\n","      res.cancel = cancel;\n","      <span class=\"code-keyword\">return</span> res;\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getAdm</span>(<span class=\"code-params\">target</span>) </span>{\n","      <span class=\"code-keyword\">return</span> target[$mobx];\n","    }\n","    <span class=\"code-comment\">// Optimization: we don't need the intermediate objects and could have a completely custom administration for DynamicObjects,</span>\n","    <span class=\"code-comment\">// and skip either the internal values map, or the base object with its property descriptors!</span>\n","    <span class=\"code-keyword\">var</span> objectProxyTraps = {\n","      has: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">has</span>(<span class=\"code-params\">target, name</span>) </span>{\n","        <span class=\"code-keyword\">if</span> ( globalState.trackingDerivation) {\n","          warnAboutProxyRequirement(<span class=\"code-string\">\"detect new properties using the 'in' operator. Use 'has' from 'mobx' instead.\"</span>);\n","        }\n","        <span class=\"code-keyword\">return</span> getAdm(target).has_(name);\n","      },\n","      <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>(target, name) {\n","        <span class=\"code-keyword\">return</span> getAdm(target).get_(name);\n","      },\n","      <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(target, name, value) {\n","        <span class=\"code-keyword\">var</span> _getAdm$set_;\n","        <span class=\"code-keyword\">if</span> (!isStringish(name)) {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","        }\n","        <span class=\"code-keyword\">if</span> ( !getAdm(target).values_.has(name)) {\n","          warnAboutProxyRequirement(<span class=\"code-string\">\"add a new observable property through direct assignment. Use 'set' from 'mobx' instead.\"</span>);\n","        }\n","        <span class=\"code-comment\">// null (intercepted) -&gt; true (success)</span>\n","        <span class=\"code-keyword\">return</span> (_getAdm$set_ = getAdm(target).set_(name, value, <span class=\"code-literal\">true</span>)) != <span class=\"code-literal\">null</span> ? _getAdm$set_ : <span class=\"code-literal\">true</span>;\n","      },\n","      deleteProperty: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">deleteProperty</span>(<span class=\"code-params\">target, name</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _getAdm$delete_;\n","        {\n","          warnAboutProxyRequirement(<span class=\"code-string\">\"delete properties from an observable object. Use 'remove' from 'mobx' instead.\"</span>);\n","        }\n","        <span class=\"code-keyword\">if</span> (!isStringish(name)) {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","        }\n","        <span class=\"code-comment\">// null (intercepted) -&gt; true (success)</span>\n","        <span class=\"code-keyword\">return</span> (_getAdm$delete_ = getAdm(target).delete_(name, <span class=\"code-literal\">true</span>)) != <span class=\"code-literal\">null</span> ? _getAdm$delete_ : <span class=\"code-literal\">true</span>;\n","      },\n","      defineProperty: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">defineProperty</span>(<span class=\"code-params\">target, name, descriptor</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _getAdm$definePropert;\n","        {\n","          warnAboutProxyRequirement(<span class=\"code-string\">\"define property on an observable object. Use 'defineProperty' from 'mobx' instead.\"</span>);\n","        }\n","        <span class=\"code-comment\">// null (intercepted) -&gt; true (success)</span>\n","        <span class=\"code-keyword\">return</span> (_getAdm$definePropert = getAdm(target).defineProperty_(name, descriptor)) != <span class=\"code-literal\">null</span> ? _getAdm$definePropert : <span class=\"code-literal\">true</span>;\n","      },\n","      ownKeys: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ownKeys</span>(<span class=\"code-params\">target</span>) </span>{\n","        <span class=\"code-keyword\">if</span> ( globalState.trackingDerivation) {\n","          warnAboutProxyRequirement(<span class=\"code-string\">\"iterate keys to detect added / removed properties. Use 'keys' from 'mobx' instead.\"</span>);\n","        }\n","        <span class=\"code-keyword\">return</span> getAdm(target).ownKeys_();\n","      },\n","      preventExtensions: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">preventExtensions</span>(<span class=\"code-params\">target</span>) </span>{\n","        die(<span class=\"code-number\">13</span>);\n","      }\n","    };\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">asDynamicObservableObject</span>(<span class=\"code-params\">target, options</span>) </span>{\n","      <span class=\"code-keyword\">var</span> _target$$mobx, _target$$mobx$proxy_;\n","      assertProxies();\n","      target = asObservableObject(target, options);\n","      <span class=\"code-keyword\">return</span> (_target$$mobx$proxy_ = (_target$$mobx = target[$mobx]).proxy_) != <span class=\"code-literal\">null</span> ? _target$$mobx$proxy_ : _target$$mobx.proxy_ = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Proxy</span>(target, objectProxyTraps);\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">hasInterceptors</span>(<span class=\"code-params\">interceptable</span>) </span>{\n","      <span class=\"code-keyword\">return</span> interceptable.interceptors_ !== <span class=\"code-literal\">undefined</span> &amp;&amp; interceptable.interceptors_.length &gt; <span class=\"code-number\">0</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">registerInterceptor</span>(<span class=\"code-params\">interceptable, handler</span>) </span>{\n","      <span class=\"code-keyword\">var</span> interceptors = interceptable.interceptors_ || (interceptable.interceptors_ = []);\n","      interceptors.push(handler);\n","      <span class=\"code-keyword\">return</span> once(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> idx = interceptors.indexOf(handler);\n","        <span class=\"code-keyword\">if</span> (idx !== <span class=\"code-number\">-1</span>) {\n","          interceptors.splice(idx, <span class=\"code-number\">1</span>);\n","        }\n","      });\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">interceptChange</span>(<span class=\"code-params\">interceptable, change</span>) </span>{\n","      <span class=\"code-keyword\">var</span> prevU = untrackedStart();\n","      <span class=\"code-keyword\">try</span> {\n","        <span class=\"code-comment\">// Interceptor can modify the array, copy it to avoid concurrent modification, see #1950</span>\n","        <span class=\"code-keyword\">var</span> interceptors = [].concat(interceptable.interceptors_ || []);\n","        <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, l = interceptors.length; i &lt; l; i++) {\n","          change = interceptors[i](change);\n","          <span class=\"code-keyword\">if</span> (change &amp;&amp; !change.type) {\n","            die(<span class=\"code-number\">14</span>);\n","          }\n","          <span class=\"code-keyword\">if</span> (!change) {\n","            <span class=\"code-keyword\">break</span>;\n","          }\n","        }\n","        <span class=\"code-keyword\">return</span> change;\n","      } <span class=\"code-keyword\">finally</span> {\n","        untrackedEnd(prevU);\n","      }\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">hasListeners</span>(<span class=\"code-params\">listenable</span>) </span>{\n","      <span class=\"code-keyword\">return</span> listenable.changeListeners_ !== <span class=\"code-literal\">undefined</span> &amp;&amp; listenable.changeListeners_.length &gt; <span class=\"code-number\">0</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">registerListener</span>(<span class=\"code-params\">listenable, handler</span>) </span>{\n","      <span class=\"code-keyword\">var</span> listeners = listenable.changeListeners_ || (listenable.changeListeners_ = []);\n","      listeners.push(handler);\n","      <span class=\"code-keyword\">return</span> once(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> idx = listeners.indexOf(handler);\n","        <span class=\"code-keyword\">if</span> (idx !== <span class=\"code-number\">-1</span>) {\n","          listeners.splice(idx, <span class=\"code-number\">1</span>);\n","        }\n","      });\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">notifyListeners</span>(<span class=\"code-params\">listenable, change</span>) </span>{\n","      <span class=\"code-keyword\">var</span> prevU = untrackedStart();\n","      <span class=\"code-keyword\">var</span> listeners = listenable.changeListeners_;\n","      <span class=\"code-keyword\">if</span> (!listeners) {\n","        <span class=\"code-keyword\">return</span>;\n","      }\n","      listeners = listeners.slice();\n","      <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, l = listeners.length; i &lt; l; i++) {\n","        listeners[i](change);\n","      }\n","      untrackedEnd(prevU);\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">makeObservable</span>(<span class=\"code-params\">target, annotations, options</span>) </span>{\n","      initObservable(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> _annotations;\n","        <span class=\"code-keyword\">var</span> adm = asObservableObject(target, options)[$mobx];\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-string\">\"development\"</span> !== <span class=\"code-string\">\"production\"</span> &amp;&amp; annotations &amp;&amp; target[storedAnnotationsSymbol]) {\n","          die(<span class=\"code-string\">\"makeObservable second arg must be nullish when using decorators. Mixing @decorator syntax with annotations is not supported.\"</span>);\n","        }\n","        <span class=\"code-comment\">// Default to decorators</span>\n","        (_annotations = annotations) != <span class=\"code-literal\">null</span> ? _annotations : annotations = collectStoredAnnotations(target);\n","        <span class=\"code-comment\">// Annotate</span>\n","        ownKeys(annotations).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">key</span>) </span>{\n","          <span class=\"code-keyword\">return</span> adm.make_(key, annotations[key]);\n","        });\n","      });\n","      <span class=\"code-keyword\">return</span> target;\n","    }\n","    <span class=\"code-comment\">// proto[keysSymbol] = new Set&lt;PropertyKey&gt;()</span>\n","    <span class=\"code-keyword\">var</span> keysSymbol = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-built_in\">Symbol</span>(<span class=\"code-string\">\"mobx-keys\"</span>);\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">makeAutoObservable</span>(<span class=\"code-params\">target, overrides, options</span>) </span>{\n","      {\n","        <span class=\"code-keyword\">if</span> (!isPlainObject(target) &amp;&amp; !isPlainObject(<span class=\"code-built_in\">Object</span>.getPrototypeOf(target))) {\n","          die(<span class=\"code-string\">\"'makeAutoObservable' can only be used for classes that don't have a superclass\"</span>);\n","        }\n","        <span class=\"code-keyword\">if</span> (isObservableObject(target)) {\n","          die(<span class=\"code-string\">\"makeAutoObservable can only be used on objects not already made observable\"</span>);\n","        }\n","      }\n","      <span class=\"code-comment\">// Optimization: avoid visiting protos</span>\n","      <span class=\"code-comment\">// Assumes that annotation.make_/.extend_ works the same for plain objects</span>\n","      <span class=\"code-keyword\">if</span> (isPlainObject(target)) {\n","        <span class=\"code-keyword\">return</span> extendObservable(target, target, overrides, options);\n","      }\n","      initObservable(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> adm = asObservableObject(target, options)[$mobx];\n","        <span class=\"code-comment\">// Optimization: cache keys on proto</span>\n","        <span class=\"code-comment\">// Assumes makeAutoObservable can be called only once per object and can't be used in subclass</span>\n","        <span class=\"code-keyword\">if</span> (!target[keysSymbol]) {\n","          <span class=\"code-keyword\">var</span> proto = <span class=\"code-built_in\">Object</span>.getPrototypeOf(target);\n","          <span class=\"code-keyword\">var</span> keys = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Set</span>([].concat(ownKeys(target), ownKeys(proto)));\n","          keys[<span class=\"code-string\">\"delete\"</span>](<span class=\"code-string\">\"constructor\"</span>);\n","          keys[<span class=\"code-string\">\"delete\"</span>]($mobx);\n","          addHiddenProp(proto, keysSymbol, keys);\n","        }\n","        target[keysSymbol].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">key</span>) </span>{\n","          <span class=\"code-keyword\">return</span> adm.make_(key,\n","          <span class=\"code-comment\">// must pass \"undefined\" for { key: undefined }</span>\n","          !overrides ? <span class=\"code-literal\">true</span> : key <span class=\"code-keyword\">in</span> overrides ? overrides[key] : <span class=\"code-literal\">true</span>);\n","        });\n","      });\n","      <span class=\"code-keyword\">return</span> target;\n","    }\n","\n","    <span class=\"code-keyword\">var</span> SPLICE = <span class=\"code-string\">\"splice\"</span>;\n","    <span class=\"code-keyword\">var</span> UPDATE = <span class=\"code-string\">\"update\"</span>;\n","    <span class=\"code-keyword\">var</span> MAX_SPLICE_SIZE = <span class=\"code-number\">10000</span>; <span class=\"code-comment\">// See e.g. https://github.com/mobxjs/mobx/issues/859</span>\n","    <span class=\"code-keyword\">var</span> arrayTraps = {\n","      <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>(target, name) {\n","        <span class=\"code-keyword\">var</span> adm = target[$mobx];\n","        <span class=\"code-keyword\">if</span> (name === $mobx) {\n","          <span class=\"code-keyword\">return</span> adm;\n","        }\n","        <span class=\"code-keyword\">if</span> (name === <span class=\"code-string\">\"length\"</span>) {\n","          <span class=\"code-keyword\">return</span> adm.getArrayLength_();\n","        }\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> name === <span class=\"code-string\">\"string\"</span> &amp;&amp; !<span class=\"code-built_in\">isNaN</span>(name)) {\n","          <span class=\"code-keyword\">return</span> adm.get_(<span class=\"code-built_in\">parseInt</span>(name));\n","        }\n","        <span class=\"code-keyword\">if</span> (hasProp(arrayExtensions, name)) {\n","          <span class=\"code-keyword\">return</span> arrayExtensions[name];\n","        }\n","        <span class=\"code-keyword\">return</span> target[name];\n","      },\n","      <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(target, name, value) {\n","        <span class=\"code-keyword\">var</span> adm = target[$mobx];\n","        <span class=\"code-keyword\">if</span> (name === <span class=\"code-string\">\"length\"</span>) {\n","          adm.setArrayLength_(value);\n","        }\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> name === <span class=\"code-string\">\"symbol\"</span> || <span class=\"code-built_in\">isNaN</span>(name)) {\n","          target[name] = value;\n","        } <span class=\"code-keyword\">else</span> {\n","          <span class=\"code-comment\">// numeric string</span>\n","          adm.set_(<span class=\"code-built_in\">parseInt</span>(name), value);\n","        }\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","      },\n","      preventExtensions: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">preventExtensions</span>(<span class=\"code-params\"></span>) </span>{\n","        die(<span class=\"code-number\">15</span>);\n","      }\n","    };\n","    <span class=\"code-keyword\">var</span> ObservableArrayAdministration = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ObservableArrayAdministration</span>(<span class=\"code-params\">name, enhancer, owned_, legacyMode_</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (name === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          name =  <span class=\"code-string\">\"ObservableArray@\"</span> + getNextId() ;\n","        }\n","        <span class=\"code-keyword\">this</span>.owned_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.legacyMode_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.atom_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.values_ = [];\n","        <span class=\"code-comment\">// this is the prop that gets proxied, so can't replace it!</span>\n","        <span class=\"code-keyword\">this</span>.interceptors_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.changeListeners_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.enhancer_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.dehancer = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.proxy_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.lastKnownLength_ = <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.owned_ = owned_;\n","        <span class=\"code-keyword\">this</span>.legacyMode_ = legacyMode_;\n","        <span class=\"code-keyword\">this</span>.atom_ = <span class=\"code-keyword\">new</span> Atom(name);\n","        <span class=\"code-keyword\">this</span>.enhancer_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">newV, oldV</span>) </span>{\n","          <span class=\"code-keyword\">return</span> enhancer(newV, oldV,  name + <span class=\"code-string\">\"[..]\"</span> );\n","        };\n","      }\n","      <span class=\"code-keyword\">var</span> _proto = ObservableArrayAdministration.prototype;\n","      _proto.dehanceValue_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">dehanceValue_</span>(<span class=\"code-params\">value</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.dehancer !== <span class=\"code-literal\">undefined</span>) {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.dehancer(value);\n","        }\n","        <span class=\"code-keyword\">return</span> value;\n","      };\n","      _proto.dehanceValues_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">dehanceValues_</span>(<span class=\"code-params\">values</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.dehancer !== <span class=\"code-literal\">undefined</span> &amp;&amp; values.length &gt; <span class=\"code-number\">0</span>) {\n","          <span class=\"code-keyword\">return</span> values.map(<span class=\"code-keyword\">this</span>.dehancer);\n","        }\n","        <span class=\"code-keyword\">return</span> values;\n","      };\n","      _proto.intercept_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">intercept_</span>(<span class=\"code-params\">handler</span>) </span>{\n","        <span class=\"code-keyword\">return</span> registerInterceptor(<span class=\"code-keyword\">this</span>, handler);\n","      };\n","      _proto.observe_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">observe_</span>(<span class=\"code-params\">listener, fireImmediately</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (fireImmediately === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          fireImmediately = <span class=\"code-literal\">false</span>;\n","        }\n","        <span class=\"code-keyword\">if</span> (fireImmediately) {\n","          listener({\n","            observableKind: <span class=\"code-string\">\"array\"</span>,\n","            object: <span class=\"code-keyword\">this</span>.proxy_,\n","            debugObjectName: <span class=\"code-keyword\">this</span>.atom_.name_,\n","            type: <span class=\"code-string\">\"splice\"</span>,\n","            index: <span class=\"code-number\">0</span>,\n","            added: <span class=\"code-keyword\">this</span>.values_.slice(),\n","            addedCount: <span class=\"code-keyword\">this</span>.values_.length,\n","            removed: [],\n","            removedCount: <span class=\"code-number\">0</span>\n","          });\n","        }\n","        <span class=\"code-keyword\">return</span> registerListener(<span class=\"code-keyword\">this</span>, listener);\n","      };\n","      _proto.getArrayLength_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getArrayLength_</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">this</span>.atom_.reportObserved();\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.values_.length;\n","      };\n","      _proto.setArrayLength_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">setArrayLength_</span>(<span class=\"code-params\">newLength</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> newLength !== <span class=\"code-string\">\"number\"</span> || <span class=\"code-built_in\">isNaN</span>(newLength) || newLength &lt; <span class=\"code-number\">0</span>) {\n","          die(<span class=\"code-string\">\"Out of range: \"</span> + newLength);\n","        }\n","        <span class=\"code-keyword\">var</span> currentLength = <span class=\"code-keyword\">this</span>.values_.length;\n","        <span class=\"code-keyword\">if</span> (newLength === currentLength) {\n","          <span class=\"code-keyword\">return</span>;\n","        } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (newLength &gt; currentLength) {\n","          <span class=\"code-keyword\">var</span> newItems = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(newLength - currentLength);\n","          <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>; i &lt; newLength - currentLength; i++) {\n","            newItems[i] = <span class=\"code-literal\">undefined</span>;\n","          } <span class=\"code-comment\">// No Array.fill everywhere...</span>\n","          <span class=\"code-keyword\">this</span>.spliceWithArray_(currentLength, <span class=\"code-number\">0</span>, newItems);\n","        } <span class=\"code-keyword\">else</span> {\n","          <span class=\"code-keyword\">this</span>.spliceWithArray_(newLength, currentLength - newLength);\n","        }\n","      };\n","      _proto.updateArrayLength_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">updateArrayLength_</span>(<span class=\"code-params\">oldLength, delta</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (oldLength !== <span class=\"code-keyword\">this</span>.lastKnownLength_) {\n","          die(<span class=\"code-number\">16</span>);\n","        }\n","        <span class=\"code-keyword\">this</span>.lastKnownLength_ += delta;\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.legacyMode_ &amp;&amp; delta &gt; <span class=\"code-number\">0</span>) {\n","          reserveArrayBuffer(oldLength + delta + <span class=\"code-number\">1</span>);\n","        }\n","      };\n","      _proto.spliceWithArray_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">spliceWithArray_</span>(<span class=\"code-params\">index, deleteCount, newItems</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this = <span class=\"code-keyword\">this</span>;\n","        checkIfStateModificationsAreAllowed(<span class=\"code-keyword\">this</span>.atom_);\n","        <span class=\"code-keyword\">var</span> length = <span class=\"code-keyword\">this</span>.values_.length;\n","        <span class=\"code-keyword\">if</span> (index === <span class=\"code-literal\">undefined</span>) {\n","          index = <span class=\"code-number\">0</span>;\n","        } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (index &gt; length) {\n","          index = length;\n","        } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (index &lt; <span class=\"code-number\">0</span>) {\n","          index = <span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>, length + index);\n","        }\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">arguments</span>.length === <span class=\"code-number\">1</span>) {\n","          deleteCount = length - index;\n","        } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (deleteCount === <span class=\"code-literal\">undefined</span> || deleteCount === <span class=\"code-literal\">null</span>) {\n","          deleteCount = <span class=\"code-number\">0</span>;\n","        } <span class=\"code-keyword\">else</span> {\n","          deleteCount = <span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>, <span class=\"code-built_in\">Math</span>.min(deleteCount, length - index));\n","        }\n","        <span class=\"code-keyword\">if</span> (newItems === <span class=\"code-literal\">undefined</span>) {\n","          newItems = EMPTY_ARRAY;\n","        }\n","        <span class=\"code-keyword\">if</span> (hasInterceptors(<span class=\"code-keyword\">this</span>)) {\n","          <span class=\"code-keyword\">var</span> change = interceptChange(<span class=\"code-keyword\">this</span>, {\n","            object: <span class=\"code-keyword\">this</span>.proxy_,\n","            type: SPLICE,\n","            index: index,\n","            removedCount: deleteCount,\n","            added: newItems\n","          });\n","          <span class=\"code-keyword\">if</span> (!change) {\n","            <span class=\"code-keyword\">return</span> EMPTY_ARRAY;\n","          }\n","          deleteCount = change.removedCount;\n","          newItems = change.added;\n","        }\n","        newItems = newItems.length === <span class=\"code-number\">0</span> ? newItems : newItems.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">v</span>) </span>{\n","          <span class=\"code-keyword\">return</span> _this.enhancer_(v, <span class=\"code-literal\">undefined</span>);\n","        });\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.legacyMode_ || <span class=\"code-string\">\"development\"</span> !== <span class=\"code-string\">\"production\"</span>) {\n","          <span class=\"code-keyword\">var</span> lengthDelta = newItems.length - deleteCount;\n","          <span class=\"code-keyword\">this</span>.updateArrayLength_(length, lengthDelta); <span class=\"code-comment\">// checks if internal array wasn't modified</span>\n","        }\n","        <span class=\"code-keyword\">var</span> res = <span class=\"code-keyword\">this</span>.spliceItemsIntoValues_(index, deleteCount, newItems);\n","        <span class=\"code-keyword\">if</span> (deleteCount !== <span class=\"code-number\">0</span> || newItems.length !== <span class=\"code-number\">0</span>) {\n","          <span class=\"code-keyword\">this</span>.notifyArraySplice_(index, newItems, res);\n","        }\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.dehanceValues_(res);\n","      };\n","      _proto.spliceItemsIntoValues_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">spliceItemsIntoValues_</span>(<span class=\"code-params\">index, deleteCount, newItems</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (newItems.length &lt; MAX_SPLICE_SIZE) {\n","          <span class=\"code-keyword\">var</span> _this$values_;\n","          <span class=\"code-keyword\">return</span> (_this$values_ = <span class=\"code-keyword\">this</span>.values_).splice.apply(_this$values_, [index, deleteCount].concat(newItems));\n","        } <span class=\"code-keyword\">else</span> {\n","          <span class=\"code-comment\">// The items removed by the splice</span>\n","          <span class=\"code-keyword\">var</span> res = <span class=\"code-keyword\">this</span>.values_.slice(index, index + deleteCount);\n","          <span class=\"code-comment\">// The items that that should remain at the end of the array</span>\n","          <span class=\"code-keyword\">var</span> oldItems = <span class=\"code-keyword\">this</span>.values_.slice(index + deleteCount);\n","          <span class=\"code-comment\">// New length is the previous length + addition count - deletion count</span>\n","          <span class=\"code-keyword\">this</span>.values_.length += newItems.length - deleteCount;\n","          <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>; i &lt; newItems.length; i++) {\n","            <span class=\"code-keyword\">this</span>.values_[index + i] = newItems[i];\n","          }\n","          <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> _i = <span class=\"code-number\">0</span>; _i &lt; oldItems.length; _i++) {\n","            <span class=\"code-keyword\">this</span>.values_[index + newItems.length + _i] = oldItems[_i];\n","          }\n","          <span class=\"code-keyword\">return</span> res;\n","        }\n","      };\n","      _proto.notifyArrayChildUpdate_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">notifyArrayChildUpdate_</span>(<span class=\"code-params\">index, newValue, oldValue</span>) </span>{\n","        <span class=\"code-keyword\">var</span> notifySpy = !<span class=\"code-keyword\">this</span>.owned_ &amp;&amp; isSpyEnabled();\n","        <span class=\"code-keyword\">var</span> notify = hasListeners(<span class=\"code-keyword\">this</span>);\n","        <span class=\"code-keyword\">var</span> change = notify || notifySpy ? {\n","          observableKind: <span class=\"code-string\">\"array\"</span>,\n","          object: <span class=\"code-keyword\">this</span>.proxy_,\n","          type: UPDATE,\n","          debugObjectName: <span class=\"code-keyword\">this</span>.atom_.name_,\n","          index: index,\n","          newValue: newValue,\n","          oldValue: oldValue\n","        } : <span class=\"code-literal\">null</span>;\n","        <span class=\"code-comment\">// The reason why this is on right hand side here (and not above), is this way the uglifier will drop it, but it won't</span>\n","        <span class=\"code-comment\">// cause any runtime overhead in development mode without NODE_ENV set, unless spying is enabled</span>\n","        <span class=\"code-keyword\">if</span> ( notifySpy) {\n","          spyReportStart(change);\n","        }\n","        <span class=\"code-keyword\">this</span>.atom_.reportChanged();\n","        <span class=\"code-keyword\">if</span> (notify) {\n","          notifyListeners(<span class=\"code-keyword\">this</span>, change);\n","        }\n","        <span class=\"code-keyword\">if</span> ( notifySpy) {\n","          spyReportEnd();\n","        }\n","      };\n","      _proto.notifyArraySplice_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">notifyArraySplice_</span>(<span class=\"code-params\">index, added, removed</span>) </span>{\n","        <span class=\"code-keyword\">var</span> notifySpy = !<span class=\"code-keyword\">this</span>.owned_ &amp;&amp; isSpyEnabled();\n","        <span class=\"code-keyword\">var</span> notify = hasListeners(<span class=\"code-keyword\">this</span>);\n","        <span class=\"code-keyword\">var</span> change = notify || notifySpy ? {\n","          observableKind: <span class=\"code-string\">\"array\"</span>,\n","          object: <span class=\"code-keyword\">this</span>.proxy_,\n","          debugObjectName: <span class=\"code-keyword\">this</span>.atom_.name_,\n","          type: SPLICE,\n","          index: index,\n","          removed: removed,\n","          added: added,\n","          removedCount: removed.length,\n","          addedCount: added.length\n","        } : <span class=\"code-literal\">null</span>;\n","        <span class=\"code-keyword\">if</span> ( notifySpy) {\n","          spyReportStart(change);\n","        }\n","        <span class=\"code-keyword\">this</span>.atom_.reportChanged();\n","        <span class=\"code-comment\">// conform: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/observe</span>\n","        <span class=\"code-keyword\">if</span> (notify) {\n","          notifyListeners(<span class=\"code-keyword\">this</span>, change);\n","        }\n","        <span class=\"code-keyword\">if</span> ( notifySpy) {\n","          spyReportEnd();\n","        }\n","      };\n","      _proto.get_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">get_</span>(<span class=\"code-params\">index</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.legacyMode_ &amp;&amp; index &gt;= <span class=\"code-keyword\">this</span>.values_.length) {\n","          <span class=\"code-built_in\">console</span>.warn( <span class=\"code-string\">\"[mobx.array] Attempt to read an array index (\"</span> + index + <span class=\"code-string\">\") that is out of bounds (\"</span> + <span class=\"code-keyword\">this</span>.values_.length + <span class=\"code-string\">\"). Please check length first. Out of bound indices will not be tracked by MobX\"</span> );\n","          <span class=\"code-keyword\">return</span> <span class=\"code-literal\">undefined</span>;\n","        }\n","        <span class=\"code-keyword\">this</span>.atom_.reportObserved();\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.dehanceValue_(<span class=\"code-keyword\">this</span>.values_[index]);\n","      };\n","      _proto.set_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">set_</span>(<span class=\"code-params\">index, newValue</span>) </span>{\n","        <span class=\"code-keyword\">var</span> values = <span class=\"code-keyword\">this</span>.values_;\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.legacyMode_ &amp;&amp; index &gt; values.length) {\n","          <span class=\"code-comment\">// out of bounds</span>\n","          die(<span class=\"code-number\">17</span>, index, values.length);\n","        }\n","        <span class=\"code-keyword\">if</span> (index &lt; values.length) {\n","          <span class=\"code-comment\">// update at index in range</span>\n","          checkIfStateModificationsAreAllowed(<span class=\"code-keyword\">this</span>.atom_);\n","          <span class=\"code-keyword\">var</span> oldValue = values[index];\n","          <span class=\"code-keyword\">if</span> (hasInterceptors(<span class=\"code-keyword\">this</span>)) {\n","            <span class=\"code-keyword\">var</span> change = interceptChange(<span class=\"code-keyword\">this</span>, {\n","              type: UPDATE,\n","              object: <span class=\"code-keyword\">this</span>.proxy_,\n","              <span class=\"code-comment\">// since \"this\" is the real array we need to pass its proxy</span>\n","              index: index,\n","              newValue: newValue\n","            });\n","            <span class=\"code-keyword\">if</span> (!change) {\n","              <span class=\"code-keyword\">return</span>;\n","            }\n","            newValue = change.newValue;\n","          }\n","          newValue = <span class=\"code-keyword\">this</span>.enhancer_(newValue, oldValue);\n","          <span class=\"code-keyword\">var</span> changed = newValue !== oldValue;\n","          <span class=\"code-keyword\">if</span> (changed) {\n","            values[index] = newValue;\n","            <span class=\"code-keyword\">this</span>.notifyArrayChildUpdate_(index, newValue, oldValue);\n","          }\n","        } <span class=\"code-keyword\">else</span> {\n","          <span class=\"code-comment\">// For out of bound index, we don't create an actual sparse array,</span>\n","          <span class=\"code-comment\">// but rather fill the holes with undefined (same as setArrayLength_).</span>\n","          <span class=\"code-comment\">// This could be considered a bug.</span>\n","          <span class=\"code-keyword\">var</span> newItems = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(index + <span class=\"code-number\">1</span> - values.length);\n","          <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>; i &lt; newItems.length - <span class=\"code-number\">1</span>; i++) {\n","            newItems[i] = <span class=\"code-literal\">undefined</span>;\n","          } <span class=\"code-comment\">// No Array.fill everywhere...</span>\n","          newItems[newItems.length - <span class=\"code-number\">1</span>] = newValue;\n","          <span class=\"code-keyword\">this</span>.spliceWithArray_(values.length, <span class=\"code-number\">0</span>, newItems);\n","        }\n","      };\n","      <span class=\"code-keyword\">return</span> ObservableArrayAdministration;\n","    }();\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createObservableArray</span>(<span class=\"code-params\">initialValues, enhancer, name, owned</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (name === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","        name =  <span class=\"code-string\">\"ObservableArray@\"</span> + getNextId() ;\n","      }\n","      <span class=\"code-keyword\">if</span> (owned === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","        owned = <span class=\"code-literal\">false</span>;\n","      }\n","      assertProxies();\n","      <span class=\"code-keyword\">return</span> initObservable(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> adm = <span class=\"code-keyword\">new</span> ObservableArrayAdministration(name, enhancer, owned, <span class=\"code-literal\">false</span>);\n","        addHiddenFinalProp(adm.values_, $mobx, adm);\n","        <span class=\"code-keyword\">var</span> proxy = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Proxy</span>(adm.values_, arrayTraps);\n","        adm.proxy_ = proxy;\n","        <span class=\"code-keyword\">if</span> (initialValues &amp;&amp; initialValues.length) {\n","          adm.spliceWithArray_(<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>, initialValues);\n","        }\n","        <span class=\"code-keyword\">return</span> proxy;\n","      });\n","    }\n","    <span class=\"code-comment\">// eslint-disable-next-line</span>\n","    <span class=\"code-keyword\">var</span> arrayExtensions = {\n","      clear: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">clear</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.splice(<span class=\"code-number\">0</span>);\n","      },\n","      replace: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">replace</span>(<span class=\"code-params\">newItems</span>) </span>{\n","        <span class=\"code-keyword\">var</span> adm = <span class=\"code-keyword\">this</span>[$mobx];\n","        <span class=\"code-keyword\">return</span> adm.spliceWithArray_(<span class=\"code-number\">0</span>, adm.values_.length, newItems);\n","      },\n","      <span class=\"code-comment\">// Used by JSON.stringify</span>\n","      toJSON: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toJSON</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.slice();\n","      },\n","      <span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\">       * functions that do alter the internal structure of the array, (based on lib.es6.d.ts)\n</span>","<span class=\"code-comment\">       * since these functions alter the inner structure of the array, the have side effects.\n</span>","<span class=\"code-comment\">       * Because the have side effects, they should not be used in computed function,\n</span>","<span class=\"code-comment\">       * and for that reason the do not call dependencyState.notifyObserved\n</span>","<span class=\"code-comment\">       */</span>\n","      splice: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">splice</span>(<span class=\"code-params\">index, deleteCount</span>) </span>{\n","        <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> _len = <span class=\"code-built_in\">arguments</span>.length, newItems = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(_len &gt; <span class=\"code-number\">2</span> ? _len - <span class=\"code-number\">2</span> : <span class=\"code-number\">0</span>), _key = <span class=\"code-number\">2</span>; _key &lt; _len; _key++) {\n","          newItems[_key - <span class=\"code-number\">2</span>] = <span class=\"code-built_in\">arguments</span>[_key];\n","        }\n","        <span class=\"code-keyword\">var</span> adm = <span class=\"code-keyword\">this</span>[$mobx];\n","        <span class=\"code-keyword\">switch</span> (<span class=\"code-built_in\">arguments</span>.length) {\n","          <span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:\n","            <span class=\"code-keyword\">return</span> [];\n","          <span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:\n","            <span class=\"code-keyword\">return</span> adm.spliceWithArray_(index);\n","          <span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:\n","            <span class=\"code-keyword\">return</span> adm.spliceWithArray_(index, deleteCount);\n","        }\n","        <span class=\"code-keyword\">return</span> adm.spliceWithArray_(index, deleteCount, newItems);\n","      },\n","      spliceWithArray: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">spliceWithArray</span>(<span class=\"code-params\">index, deleteCount, newItems</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[$mobx].spliceWithArray_(index, deleteCount, newItems);\n","      },\n","      push: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">push</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> adm = <span class=\"code-keyword\">this</span>[$mobx];\n","        <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> _len2 = <span class=\"code-built_in\">arguments</span>.length, items = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(_len2), _key2 = <span class=\"code-number\">0</span>; _key2 &lt; _len2; _key2++) {\n","          items[_key2] = <span class=\"code-built_in\">arguments</span>[_key2];\n","        }\n","        adm.spliceWithArray_(adm.values_.length, <span class=\"code-number\">0</span>, items);\n","        <span class=\"code-keyword\">return</span> adm.values_.length;\n","      },\n","      pop: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pop</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.splice(<span class=\"code-built_in\">Math</span>.max(<span class=\"code-keyword\">this</span>[$mobx].values_.length - <span class=\"code-number\">1</span>, <span class=\"code-number\">0</span>), <span class=\"code-number\">1</span>)[<span class=\"code-number\">0</span>];\n","      },\n","      shift: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">shift</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.splice(<span class=\"code-number\">0</span>, <span class=\"code-number\">1</span>)[<span class=\"code-number\">0</span>];\n","      },\n","      unshift: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">unshift</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> adm = <span class=\"code-keyword\">this</span>[$mobx];\n","        <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> _len3 = <span class=\"code-built_in\">arguments</span>.length, items = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(_len3), _key3 = <span class=\"code-number\">0</span>; _key3 &lt; _len3; _key3++) {\n","          items[_key3] = <span class=\"code-built_in\">arguments</span>[_key3];\n","        }\n","        adm.spliceWithArray_(<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>, items);\n","        <span class=\"code-keyword\">return</span> adm.values_.length;\n","      },\n","      reverse: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">reverse</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-comment\">// reverse by default mutates in place before returning the result</span>\n","        <span class=\"code-comment\">// which makes it both a 'derivation' and a 'mutation'.</span>\n","        <span class=\"code-keyword\">if</span> (globalState.trackingDerivation) {\n","          die(<span class=\"code-number\">37</span>, <span class=\"code-string\">\"reverse\"</span>);\n","        }\n","        <span class=\"code-keyword\">this</span>.replace(<span class=\"code-keyword\">this</span>.slice().reverse());\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","      },\n","      sort: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">sort</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-comment\">// sort by default mutates in place before returning the result</span>\n","        <span class=\"code-comment\">// which goes against all good practices. Let's not change the array in place!</span>\n","        <span class=\"code-keyword\">if</span> (globalState.trackingDerivation) {\n","          die(<span class=\"code-number\">37</span>, <span class=\"code-string\">\"sort\"</span>);\n","        }\n","        <span class=\"code-keyword\">var</span> copy = <span class=\"code-keyword\">this</span>.slice();\n","        copy.sort.apply(copy, <span class=\"code-built_in\">arguments</span>);\n","        <span class=\"code-keyword\">this</span>.replace(copy);\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","      },\n","      remove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">remove</span>(<span class=\"code-params\">value</span>) </span>{\n","        <span class=\"code-keyword\">var</span> adm = <span class=\"code-keyword\">this</span>[$mobx];\n","        <span class=\"code-keyword\">var</span> idx = adm.dehanceValues_(adm.values_).indexOf(value);\n","        <span class=\"code-keyword\">if</span> (idx &gt; <span class=\"code-number\">-1</span>) {\n","          <span class=\"code-keyword\">this</span>.splice(idx, <span class=\"code-number\">1</span>);\n","          <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","        }\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","      }\n","    };\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * Wrap function from prototype\n</span>","<span class=\"code-comment\">     * Without this, everything works as well, but this works\n</span>","<span class=\"code-comment\">     * faster as everything works on unproxied values\n</span>","<span class=\"code-comment\">     */</span>\n","    addArrayExtension(<span class=\"code-string\">\"at\"</span>, simpleFunc);\n","    addArrayExtension(<span class=\"code-string\">\"concat\"</span>, simpleFunc);\n","    addArrayExtension(<span class=\"code-string\">\"flat\"</span>, simpleFunc);\n","    addArrayExtension(<span class=\"code-string\">\"includes\"</span>, simpleFunc);\n","    addArrayExtension(<span class=\"code-string\">\"indexOf\"</span>, simpleFunc);\n","    addArrayExtension(<span class=\"code-string\">\"join\"</span>, simpleFunc);\n","    addArrayExtension(<span class=\"code-string\">\"lastIndexOf\"</span>, simpleFunc);\n","    addArrayExtension(<span class=\"code-string\">\"slice\"</span>, simpleFunc);\n","    addArrayExtension(<span class=\"code-string\">\"toString\"</span>, simpleFunc);\n","    addArrayExtension(<span class=\"code-string\">\"toLocaleString\"</span>, simpleFunc);\n","    addArrayExtension(<span class=\"code-string\">\"toSorted\"</span>, simpleFunc);\n","    addArrayExtension(<span class=\"code-string\">\"toSpliced\"</span>, simpleFunc);\n","    addArrayExtension(<span class=\"code-string\">\"with\"</span>, simpleFunc);\n","    <span class=\"code-comment\">// map</span>\n","    addArrayExtension(<span class=\"code-string\">\"every\"</span>, mapLikeFunc);\n","    addArrayExtension(<span class=\"code-string\">\"filter\"</span>, mapLikeFunc);\n","    addArrayExtension(<span class=\"code-string\">\"find\"</span>, mapLikeFunc);\n","    addArrayExtension(<span class=\"code-string\">\"findIndex\"</span>, mapLikeFunc);\n","    addArrayExtension(<span class=\"code-string\">\"findLast\"</span>, mapLikeFunc);\n","    addArrayExtension(<span class=\"code-string\">\"findLastIndex\"</span>, mapLikeFunc);\n","    addArrayExtension(<span class=\"code-string\">\"flatMap\"</span>, mapLikeFunc);\n","    addArrayExtension(<span class=\"code-string\">\"forEach\"</span>, mapLikeFunc);\n","    addArrayExtension(<span class=\"code-string\">\"map\"</span>, mapLikeFunc);\n","    addArrayExtension(<span class=\"code-string\">\"some\"</span>, mapLikeFunc);\n","    addArrayExtension(<span class=\"code-string\">\"toReversed\"</span>, mapLikeFunc);\n","    <span class=\"code-comment\">// reduce</span>\n","    addArrayExtension(<span class=\"code-string\">\"reduce\"</span>, reduceLikeFunc);\n","    addArrayExtension(<span class=\"code-string\">\"reduceRight\"</span>, reduceLikeFunc);\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">addArrayExtension</span>(<span class=\"code-params\">funcName, funcFactory</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Array</span>.prototype[funcName] === <span class=\"code-string\">\"function\"</span>) {\n","        arrayExtensions[funcName] = funcFactory(funcName);\n","      }\n","    }\n","    <span class=\"code-comment\">// Report and delegate to dehanced array</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">simpleFunc</span>(<span class=\"code-params\">funcName</span>) </span>{\n","      <span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> adm = <span class=\"code-keyword\">this</span>[$mobx];\n","        adm.atom_.reportObserved();\n","        <span class=\"code-keyword\">var</span> dehancedValues = adm.dehanceValues_(adm.values_);\n","        <span class=\"code-keyword\">return</span> dehancedValues[funcName].apply(dehancedValues, <span class=\"code-built_in\">arguments</span>);\n","      };\n","    }\n","    <span class=\"code-comment\">// Make sure callbacks receive correct array arg #2326</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">mapLikeFunc</span>(<span class=\"code-params\">funcName</span>) </span>{\n","      <span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">callback, thisArg</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this2 = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-keyword\">var</span> adm = <span class=\"code-keyword\">this</span>[$mobx];\n","        adm.atom_.reportObserved();\n","        <span class=\"code-keyword\">var</span> dehancedValues = adm.dehanceValues_(adm.values_);\n","        <span class=\"code-keyword\">return</span> dehancedValues[funcName](<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">element, index</span>) </span>{\n","          <span class=\"code-keyword\">return</span> callback.call(thisArg, element, index, _this2);\n","        });\n","      };\n","    }\n","    <span class=\"code-comment\">// Make sure callbacks receive correct array arg #2326</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">reduceLikeFunc</span>(<span class=\"code-params\">funcName</span>) </span>{\n","      <span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this3 = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-keyword\">var</span> adm = <span class=\"code-keyword\">this</span>[$mobx];\n","        adm.atom_.reportObserved();\n","        <span class=\"code-keyword\">var</span> dehancedValues = adm.dehanceValues_(adm.values_);\n","        <span class=\"code-comment\">// #2432 - reduce behavior depends on arguments.length</span>\n","        <span class=\"code-keyword\">var</span> callback = <span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">0</span>];\n","        <span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">0</span>] = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">accumulator, currentValue, index</span>) </span>{\n","          <span class=\"code-keyword\">return</span> callback(accumulator, currentValue, index, _this3);\n","        };\n","        <span class=\"code-keyword\">return</span> dehancedValues[funcName].apply(dehancedValues, <span class=\"code-built_in\">arguments</span>);\n","      };\n","    }\n","    <span class=\"code-keyword\">var</span> isObservableArrayAdministration = <span class=\"code-comment\">/*#__PURE__*/</span>createInstanceofPredicate(<span class=\"code-string\">\"ObservableArrayAdministration\"</span>, ObservableArrayAdministration);\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isObservableArray</span>(<span class=\"code-params\">thing</span>) </span>{\n","      <span class=\"code-keyword\">return</span> isObject(thing) &amp;&amp; isObservableArrayAdministration(thing[$mobx]);\n","    }\n","\n","    <span class=\"code-keyword\">var</span> ObservableMapMarker = {};\n","    <span class=\"code-keyword\">var</span> ADD = <span class=\"code-string\">\"add\"</span>;\n","    <span class=\"code-keyword\">var</span> DELETE = <span class=\"code-string\">\"delete\"</span>;\n","    <span class=\"code-comment\">// just extend Map? See also https://gist.github.com/nestharus/13b4d74f2ef4a2f4357dbd3fc23c1e54</span>\n","    <span class=\"code-comment\">// But: https://github.com/mobxjs/mobx/issues/1556</span>\n","    <span class=\"code-keyword\">var</span> ObservableMap = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ObservableMap</span>(<span class=\"code-params\">initialData, enhancer_, name_</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-keyword\">if</span> (enhancer_ === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          enhancer_ = deepEnhancer;\n","        }\n","        <span class=\"code-keyword\">if</span> (name_ === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          name_ =  <span class=\"code-string\">\"ObservableMap@\"</span> + getNextId() ;\n","        }\n","        <span class=\"code-keyword\">this</span>.enhancer_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.name_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>[$mobx] = ObservableMapMarker;\n","        <span class=\"code-keyword\">this</span>.data_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.hasMap_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-comment\">// hasMap, not hashMap &gt;-).</span>\n","        <span class=\"code-keyword\">this</span>.keysAtom_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.interceptors_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.changeListeners_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.dehancer = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.enhancer_ = enhancer_;\n","        <span class=\"code-keyword\">this</span>.name_ = name_;\n","        <span class=\"code-keyword\">if</span> (!isFunction(<span class=\"code-built_in\">Map</span>)) {\n","          die(<span class=\"code-number\">18</span>);\n","        }\n","        initObservable(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          _this.keysAtom_ = createAtom(<span class=\"code-string\">\"development\"</span> !== <span class=\"code-string\">\"production\"</span> ? _this.name_ + <span class=\"code-string\">\".keys()\"</span> : <span class=\"code-string\">\"ObservableMap.keys()\"</span>);\n","          _this.data_ = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Map</span>();\n","          _this.hasMap_ = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Map</span>();\n","          <span class=\"code-keyword\">if</span> (initialData) {\n","            _this.merge(initialData);\n","          }\n","        });\n","      }\n","      <span class=\"code-keyword\">var</span> _proto = ObservableMap.prototype;\n","      _proto.has_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">has_</span>(<span class=\"code-params\">key</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.data_.has(key);\n","      };\n","      _proto.has = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">has</span>(<span class=\"code-params\">key</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this2 = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-keyword\">if</span> (!globalState.trackingDerivation) {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.has_(key);\n","        }\n","        <span class=\"code-keyword\">var</span> entry = <span class=\"code-keyword\">this</span>.hasMap_.get(key);\n","        <span class=\"code-keyword\">if</span> (!entry) {\n","          <span class=\"code-keyword\">var</span> newEntry = entry = <span class=\"code-keyword\">new</span> ObservableValue(<span class=\"code-keyword\">this</span>.has_(key), referenceEnhancer,  <span class=\"code-keyword\">this</span>.name_ + <span class=\"code-string\">\".\"</span> + stringifyKey(key) + <span class=\"code-string\">\"?\"</span> , <span class=\"code-literal\">false</span>);\n","          <span class=\"code-keyword\">this</span>.hasMap_.set(key, newEntry);\n","          onBecomeUnobserved(newEntry, <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","            <span class=\"code-keyword\">return</span> _this2.hasMap_[<span class=\"code-string\">\"delete\"</span>](key);\n","          });\n","        }\n","        <span class=\"code-keyword\">return</span> entry.get();\n","      };\n","      _proto.set = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">set</span>(<span class=\"code-params\">key, value</span>) </span>{\n","        <span class=\"code-keyword\">var</span> hasKey = <span class=\"code-keyword\">this</span>.has_(key);\n","        <span class=\"code-keyword\">if</span> (hasInterceptors(<span class=\"code-keyword\">this</span>)) {\n","          <span class=\"code-keyword\">var</span> change = interceptChange(<span class=\"code-keyword\">this</span>, {\n","            type: hasKey ? UPDATE : ADD,\n","            object: <span class=\"code-keyword\">this</span>,\n","            newValue: value,\n","            name: key\n","          });\n","          <span class=\"code-keyword\">if</span> (!change) {\n","            <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","          }\n","          value = change.newValue;\n","        }\n","        <span class=\"code-keyword\">if</span> (hasKey) {\n","          <span class=\"code-keyword\">this</span>.updateValue_(key, value);\n","        } <span class=\"code-keyword\">else</span> {\n","          <span class=\"code-keyword\">this</span>.addValue_(key, value);\n","        }\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","      };\n","      _proto[<span class=\"code-string\">\"delete\"</span>] = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_delete</span>(<span class=\"code-params\">key</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this3 = <span class=\"code-keyword\">this</span>;\n","        checkIfStateModificationsAreAllowed(<span class=\"code-keyword\">this</span>.keysAtom_);\n","        <span class=\"code-keyword\">if</span> (hasInterceptors(<span class=\"code-keyword\">this</span>)) {\n","          <span class=\"code-keyword\">var</span> change = interceptChange(<span class=\"code-keyword\">this</span>, {\n","            type: DELETE,\n","            object: <span class=\"code-keyword\">this</span>,\n","            name: key\n","          });\n","          <span class=\"code-keyword\">if</span> (!change) {\n","            <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","          }\n","        }\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.has_(key)) {\n","          <span class=\"code-keyword\">var</span> notifySpy = isSpyEnabled();\n","          <span class=\"code-keyword\">var</span> notify = hasListeners(<span class=\"code-keyword\">this</span>);\n","          <span class=\"code-keyword\">var</span> _change = notify || notifySpy ? {\n","            observableKind: <span class=\"code-string\">\"map\"</span>,\n","            debugObjectName: <span class=\"code-keyword\">this</span>.name_,\n","            type: DELETE,\n","            object: <span class=\"code-keyword\">this</span>,\n","            oldValue: <span class=\"code-keyword\">this</span>.data_.get(key).value_,\n","            name: key\n","          } : <span class=\"code-literal\">null</span>;\n","          <span class=\"code-keyword\">if</span> ( notifySpy) {\n","            spyReportStart(_change);\n","          } <span class=\"code-comment\">// TODO fix type</span>\n","          transaction(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","            <span class=\"code-keyword\">var</span> _this3$hasMap_$<span class=\"code-keyword\">get</span>;\n","            _this3.keysAtom_.reportChanged();\n","            (_this3$hasMap_$<span class=\"code-keyword\">get</span> = _this3.hasMap_.<span class=\"code-keyword\">get</span>(key)) == null || _this3$hasMap_$<span class=\"code-keyword\">get</span>.setNewValue_(false);\n","            var observable = _this3.data_.<span class=\"code-keyword\">get</span>(key);\n","            observable.setNewValue_(undefined);\n","            _this3.data_[\"delete\"](key);\n","          });\n","          if (notify) {\n","            notifyListeners(<span class=\"code-keyword\">this</span>, _change);\n","          }\n","          <span class=\"code-keyword\">if</span> ( notifySpy) {\n","            spyReportEnd();\n","          }\n","          <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","        }\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","      };\n","      _proto.updateValue_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">updateValue_</span>(<span class=\"code-params\">key, newValue</span>) </span>{\n","        <span class=\"code-keyword\">var</span> observable = <span class=\"code-keyword\">this</span>.data_.get(key);\n","        newValue = observable.prepareNewValue_(newValue);\n","        <span class=\"code-keyword\">if</span> (newValue !== globalState.UNCHANGED) {\n","          <span class=\"code-keyword\">var</span> notifySpy = isSpyEnabled();\n","          <span class=\"code-keyword\">var</span> notify = hasListeners(<span class=\"code-keyword\">this</span>);\n","          <span class=\"code-keyword\">var</span> change = notify || notifySpy ? {\n","            observableKind: <span class=\"code-string\">\"map\"</span>,\n","            debugObjectName: <span class=\"code-keyword\">this</span>.name_,\n","            type: UPDATE,\n","            object: <span class=\"code-keyword\">this</span>,\n","            oldValue: observable.value_,\n","            name: key,\n","            newValue: newValue\n","          } : <span class=\"code-literal\">null</span>;\n","          <span class=\"code-keyword\">if</span> ( notifySpy) {\n","            spyReportStart(change);\n","          } <span class=\"code-comment\">// TODO fix type</span>\n","          observable.setNewValue_(newValue);\n","          <span class=\"code-keyword\">if</span> (notify) {\n","            notifyListeners(<span class=\"code-keyword\">this</span>, change);\n","          }\n","          <span class=\"code-keyword\">if</span> ( notifySpy) {\n","            spyReportEnd();\n","          }\n","        }\n","      };\n","      _proto.addValue_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">addValue_</span>(<span class=\"code-params\">key, newValue</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this4 = <span class=\"code-keyword\">this</span>;\n","        checkIfStateModificationsAreAllowed(<span class=\"code-keyword\">this</span>.keysAtom_);\n","        transaction(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          <span class=\"code-keyword\">var</span> _this4$hasMap_$<span class=\"code-keyword\">get</span>;\n","          var observable = new ObservableValue(newValue, _this4.enhancer_,  _this4.name_ + \".\" + stringifyKey(key) , false);\n","          _this4.data_.<span class=\"code-keyword\">set</span>(key, observable);\n","          newValue = observable.value_; // value might have been changed\n","          (_this4$hasMap_$<span class=\"code-keyword\">get</span> = _this4.hasMap_.<span class=\"code-keyword\">get</span>(key)) == null || _this4$hasMap_$<span class=\"code-keyword\">get</span>.setNewValue_(true);\n","          _this4.keysAtom_.reportChanged();\n","        });\n","        var notifySpy = isSpyEnabled();\n","        var notify = hasListeners(this);\n","        var change = notify || notifySpy ? {\n","          observableKind: <span class=\"code-string\">\"map\"</span>,\n","          debugObjectName: <span class=\"code-keyword\">this</span>.name_,\n","          type: ADD,\n","          object: <span class=\"code-keyword\">this</span>,\n","          name: key,\n","          newValue: newValue\n","        } : <span class=\"code-literal\">null</span>;\n","        <span class=\"code-keyword\">if</span> ( notifySpy) {\n","          spyReportStart(change);\n","        } <span class=\"code-comment\">// TODO fix type</span>\n","        <span class=\"code-keyword\">if</span> (notify) {\n","          notifyListeners(<span class=\"code-keyword\">this</span>, change);\n","        }\n","        <span class=\"code-keyword\">if</span> ( notifySpy) {\n","          spyReportEnd();\n","        }\n","      };\n","      _proto.get = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">get</span>(<span class=\"code-params\">key</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.has(key)) {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.dehanceValue_(<span class=\"code-keyword\">this</span>.data_.get(key).get());\n","        }\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.dehanceValue_(<span class=\"code-literal\">undefined</span>);\n","      };\n","      _proto.dehanceValue_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">dehanceValue_</span>(<span class=\"code-params\">value</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.dehancer !== <span class=\"code-literal\">undefined</span>) {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.dehancer(value);\n","        }\n","        <span class=\"code-keyword\">return</span> value;\n","      };\n","      _proto.keys = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">keys</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">this</span>.keysAtom_.reportObserved();\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.data_.keys();\n","      };\n","      _proto.values = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">values</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> self = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-keyword\">var</span> keys = <span class=\"code-keyword\">this</span>.keys();\n","        <span class=\"code-keyword\">return</span> makeIterableForMap({\n","          next: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">next</span>(<span class=\"code-params\"></span>) </span>{\n","            <span class=\"code-keyword\">var</span> _keys$next = keys.next(),\n","              done = _keys$next.done,\n","              value = _keys$next.value;\n","            <span class=\"code-keyword\">return</span> {\n","              done: done,\n","              value: done ? <span class=\"code-literal\">undefined</span> : self.get(value)\n","            };\n","          }\n","        });\n","      };\n","      _proto.entries = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">entries</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> self = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-keyword\">var</span> keys = <span class=\"code-keyword\">this</span>.keys();\n","        <span class=\"code-keyword\">return</span> makeIterableForMap({\n","          next: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">next</span>(<span class=\"code-params\"></span>) </span>{\n","            <span class=\"code-keyword\">var</span> _keys$next2 = keys.next(),\n","              done = _keys$next2.done,\n","              value = _keys$next2.value;\n","            <span class=\"code-keyword\">return</span> {\n","              done: done,\n","              value: done ? <span class=\"code-literal\">undefined</span> : [value, self.get(value)]\n","            };\n","          }\n","        });\n","      };\n","      _proto[<span class=\"code-built_in\">Symbol</span>.iterator] = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.entries();\n","      };\n","      _proto.forEach = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">forEach</span>(<span class=\"code-params\">callback, thisArg</span>) </span>{\n","        <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> _iterator = _createForOfIteratorHelperLoose(<span class=\"code-keyword\">this</span>), _step; !(_step = _iterator()).done;) {\n","          <span class=\"code-keyword\">var</span> _step$value = _step.value,\n","            key = _step$value[<span class=\"code-number\">0</span>],\n","            value = _step$value[<span class=\"code-number\">1</span>];\n","          callback.call(thisArg, value, key, <span class=\"code-keyword\">this</span>);\n","        }\n","      }\n","      <span class=\"code-comment\">/** Merge another object into this object, returns this. */</span>;\n","      _proto.merge = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">merge</span>(<span class=\"code-params\">other</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this5 = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-keyword\">if</span> (isObservableMap(other)) {\n","          other = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Map</span>(other);\n","        }\n","        transaction(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          <span class=\"code-keyword\">if</span> (isPlainObject(other)) {\n","            getPlainObjectKeys(other).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">key</span>) </span>{\n","              <span class=\"code-keyword\">return</span> _this5.set(key, other[key]);\n","            });\n","          } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">Array</span>.isArray(other)) {\n","            other.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">_ref</span>) </span>{\n","              <span class=\"code-keyword\">var</span> key = _ref[<span class=\"code-number\">0</span>],\n","                value = _ref[<span class=\"code-number\">1</span>];\n","              <span class=\"code-keyword\">return</span> _this5.set(key, value);\n","            });\n","          } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (isES6Map(other)) {\n","            <span class=\"code-keyword\">if</span> (!isPlainES6Map(other)) {\n","              die(<span class=\"code-number\">19</span>, other);\n","            }\n","            other.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">value, key</span>) </span>{\n","              <span class=\"code-keyword\">return</span> _this5.set(key, value);\n","            });\n","          } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (other !== <span class=\"code-literal\">null</span> &amp;&amp; other !== <span class=\"code-literal\">undefined</span>) {\n","            die(<span class=\"code-number\">20</span>, other);\n","          }\n","        });\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","      };\n","      _proto.clear = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">clear</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this6 = <span class=\"code-keyword\">this</span>;\n","        transaction(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          untracked(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","            <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> _iterator2 = _createForOfIteratorHelperLoose(_this6.keys()), _step2; !(_step2 = _iterator2()).done;) {\n","              <span class=\"code-keyword\">var</span> key = _step2.value;\n","              _this6[<span class=\"code-string\">\"delete\"</span>](key);\n","            }\n","          });\n","        });\n","      };\n","      _proto.replace = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">replace</span>(<span class=\"code-params\">values</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this7 = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-comment\">// Implementation requirements:</span>\n","        <span class=\"code-comment\">// - respect ordering of replacement map</span>\n","        <span class=\"code-comment\">// - allow interceptors to run and potentially prevent individual operations</span>\n","        <span class=\"code-comment\">// - don't recreate observables that already exist in original map (so we don't destroy existing subscriptions)</span>\n","        <span class=\"code-comment\">// - don't _keysAtom.reportChanged if the keys of resulting map are indentical (order matters!)</span>\n","        <span class=\"code-comment\">// - note that result map may differ from replacement map due to the interceptors</span>\n","        transaction(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          <span class=\"code-comment\">// Convert to map so we can do quick key lookups</span>\n","          <span class=\"code-keyword\">var</span> replacementMap = convertToMap(values);\n","          <span class=\"code-keyword\">var</span> orderedData = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Map</span>();\n","          <span class=\"code-comment\">// Used for optimization</span>\n","          <span class=\"code-keyword\">var</span> keysReportChangedCalled = <span class=\"code-literal\">false</span>;\n","          <span class=\"code-comment\">// Delete keys that don't exist in replacement map</span>\n","          <span class=\"code-comment\">// if the key deletion is prevented by interceptor</span>\n","          <span class=\"code-comment\">// add entry at the beginning of the result map</span>\n","          <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> _iterator3 = _createForOfIteratorHelperLoose(_this7.data_.keys()), _step3; !(_step3 = _iterator3()).done;) {\n","            <span class=\"code-keyword\">var</span> key = _step3.value;\n","            <span class=\"code-comment\">// Concurrently iterating/deleting keys</span>\n","            <span class=\"code-comment\">// iterator should handle this correctly</span>\n","            <span class=\"code-keyword\">if</span> (!replacementMap.has(key)) {\n","              <span class=\"code-keyword\">var</span> deleted = _this7[<span class=\"code-string\">\"delete\"</span>](key);\n","              <span class=\"code-comment\">// Was the key removed?</span>\n","              <span class=\"code-keyword\">if</span> (deleted) {\n","                <span class=\"code-comment\">// _keysAtom.reportChanged() was already called</span>\n","                keysReportChangedCalled = <span class=\"code-literal\">true</span>;\n","              } <span class=\"code-keyword\">else</span> {\n","                <span class=\"code-comment\">// Delete prevented by interceptor</span>\n","                <span class=\"code-keyword\">var</span> value = _this7.data_.get(key);\n","                orderedData.set(key, value);\n","              }\n","            }\n","          }\n","          <span class=\"code-comment\">// Merge entries</span>\n","          <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> _iterator4 = _createForOfIteratorHelperLoose(replacementMap.entries()), _step4; !(_step4 = _iterator4()).done;) {\n","            <span class=\"code-keyword\">var</span> _step4$value = _step4.value,\n","              _key = _step4$value[<span class=\"code-number\">0</span>],\n","              _value = _step4$value[<span class=\"code-number\">1</span>];\n","            <span class=\"code-comment\">// We will want to know whether a new key is added</span>\n","            <span class=\"code-keyword\">var</span> keyExisted = _this7.data_.has(_key);\n","            <span class=\"code-comment\">// Add or update value</span>\n","            _this7.set(_key, _value);\n","            <span class=\"code-comment\">// The addition could have been prevent by interceptor</span>\n","            <span class=\"code-keyword\">if</span> (_this7.data_.has(_key)) {\n","              <span class=\"code-comment\">// The update could have been prevented by interceptor</span>\n","              <span class=\"code-comment\">// and also we want to preserve existing values</span>\n","              <span class=\"code-comment\">// so use value from _data map (instead of replacement map)</span>\n","              <span class=\"code-keyword\">var</span> _value2 = _this7.data_.get(_key);\n","              orderedData.set(_key, _value2);\n","              <span class=\"code-comment\">// Was a new key added?</span>\n","              <span class=\"code-keyword\">if</span> (!keyExisted) {\n","                <span class=\"code-comment\">// _keysAtom.reportChanged() was already called</span>\n","                keysReportChangedCalled = <span class=\"code-literal\">true</span>;\n","              }\n","            }\n","          }\n","          <span class=\"code-comment\">// Check for possible key order change</span>\n","          <span class=\"code-keyword\">if</span> (!keysReportChangedCalled) {\n","            <span class=\"code-keyword\">if</span> (_this7.data_.size !== orderedData.size) {\n","              <span class=\"code-comment\">// If size differs, keys are definitely modified</span>\n","              _this7.keysAtom_.reportChanged();\n","            } <span class=\"code-keyword\">else</span> {\n","              <span class=\"code-keyword\">var</span> iter1 = _this7.data_.keys();\n","              <span class=\"code-keyword\">var</span> iter2 = orderedData.keys();\n","              <span class=\"code-keyword\">var</span> next1 = iter1.next();\n","              <span class=\"code-keyword\">var</span> next2 = iter2.next();\n","              <span class=\"code-keyword\">while</span> (!next1.done) {\n","                <span class=\"code-keyword\">if</span> (next1.value !== next2.value) {\n","                  _this7.keysAtom_.reportChanged();\n","                  <span class=\"code-keyword\">break</span>;\n","                }\n","                next1 = iter1.next();\n","                next2 = iter2.next();\n","              }\n","            }\n","          }\n","          <span class=\"code-comment\">// Use correctly ordered map</span>\n","          _this7.data_ = orderedData;\n","        });\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","      };\n","      _proto.toString = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toString</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"[object ObservableMap]\"</span>;\n","      };\n","      _proto.toJSON = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toJSON</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Array</span>.from(<span class=\"code-keyword\">this</span>);\n","      };\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * Observes this object. Triggers for the events 'add', 'update' and 'delete'.\n</span>","<span class=\"code-comment\">       * See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/observe\n</span>","<span class=\"code-comment\">       * for callback details\n</span>","<span class=\"code-comment\">       */</span>\n","      _proto.observe_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">observe_</span>(<span class=\"code-params\">listener, fireImmediately</span>) </span>{\n","        <span class=\"code-keyword\">if</span> ( fireImmediately === <span class=\"code-literal\">true</span>) {\n","          die(<span class=\"code-string\">\"`observe` doesn't support fireImmediately=true in combination with maps.\"</span>);\n","        }\n","        <span class=\"code-keyword\">return</span> registerListener(<span class=\"code-keyword\">this</span>, listener);\n","      };\n","      _proto.intercept_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">intercept_</span>(<span class=\"code-params\">handler</span>) </span>{\n","        <span class=\"code-keyword\">return</span> registerInterceptor(<span class=\"code-keyword\">this</span>, handler);\n","      };\n","      <span class=\"code-keyword\">return</span> _createClass(ObservableMap, [{\n","        key: <span class=\"code-string\">\"size\"</span>,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">this</span>.keysAtom_.reportObserved();\n","          <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.data_.size;\n","        }\n","      }, {\n","        key: <span class=\"code-built_in\">Symbol</span>.toStringTag,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"Map\"</span>;\n","        }\n","      }]);\n","    }();\n","    <span class=\"code-comment\">// eslint-disable-next-line</span>\n","    <span class=\"code-keyword\">var</span> isObservableMap = <span class=\"code-comment\">/*#__PURE__*/</span>createInstanceofPredicate(<span class=\"code-string\">\"ObservableMap\"</span>, ObservableMap);\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">makeIterableForMap</span>(<span class=\"code-params\">iterator</span>) </span>{\n","      iterator[<span class=\"code-built_in\">Symbol</span>.toStringTag] = <span class=\"code-string\">\"MapIterator\"</span>;\n","      <span class=\"code-keyword\">return</span> makeIterable(iterator);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">convertToMap</span>(<span class=\"code-params\">dataStructure</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (isES6Map(dataStructure) || isObservableMap(dataStructure)) {\n","        <span class=\"code-keyword\">return</span> dataStructure;\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">Array</span>.isArray(dataStructure)) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Map</span>(dataStructure);\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (isPlainObject(dataStructure)) {\n","        <span class=\"code-keyword\">var</span> map = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Map</span>();\n","        <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> key <span class=\"code-keyword\">in</span> dataStructure) {\n","          map.set(key, dataStructure[key]);\n","        }\n","        <span class=\"code-keyword\">return</span> map;\n","      } <span class=\"code-keyword\">else</span> {\n","        <span class=\"code-keyword\">return</span> die(<span class=\"code-number\">21</span>, dataStructure);\n","      }\n","    }\n","\n","    <span class=\"code-keyword\">var</span> ObservableSetMarker = {};\n","    <span class=\"code-keyword\">var</span> ObservableSet = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ObservableSet</span>(<span class=\"code-params\">initialData, enhancer, name_</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-keyword\">if</span> (enhancer === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          enhancer = deepEnhancer;\n","        }\n","        <span class=\"code-keyword\">if</span> (name_ === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          name_ =  <span class=\"code-string\">\"ObservableSet@\"</span> + getNextId() ;\n","        }\n","        <span class=\"code-keyword\">this</span>.name_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>[$mobx] = ObservableSetMarker;\n","        <span class=\"code-keyword\">this</span>.data_ = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Set</span>();\n","        <span class=\"code-keyword\">this</span>.atom_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.changeListeners_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.interceptors_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.dehancer = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.enhancer_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.name_ = name_;\n","        <span class=\"code-keyword\">if</span> (!isFunction(<span class=\"code-built_in\">Set</span>)) {\n","          die(<span class=\"code-number\">22</span>);\n","        }\n","        <span class=\"code-keyword\">this</span>.enhancer_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">newV, oldV</span>) </span>{\n","          <span class=\"code-keyword\">return</span> enhancer(newV, oldV, name_);\n","        };\n","        initObservable(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          _this.atom_ = createAtom(_this.name_);\n","          <span class=\"code-keyword\">if</span> (initialData) {\n","            _this.replace(initialData);\n","          }\n","        });\n","      }\n","      <span class=\"code-keyword\">var</span> _proto = ObservableSet.prototype;\n","      _proto.dehanceValue_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">dehanceValue_</span>(<span class=\"code-params\">value</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.dehancer !== <span class=\"code-literal\">undefined</span>) {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.dehancer(value);\n","        }\n","        <span class=\"code-keyword\">return</span> value;\n","      };\n","      _proto.clear = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">clear</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this2 = <span class=\"code-keyword\">this</span>;\n","        transaction(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          untracked(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","            <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> _iterator = _createForOfIteratorHelperLoose(_this2.data_.values()), _step; !(_step = _iterator()).done;) {\n","              <span class=\"code-keyword\">var</span> value = _step.value;\n","              _this2[<span class=\"code-string\">\"delete\"</span>](value);\n","            }\n","          });\n","        });\n","      };\n","      _proto.forEach = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">forEach</span>(<span class=\"code-params\">callbackFn, thisArg</span>) </span>{\n","        <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> _iterator2 = _createForOfIteratorHelperLoose(<span class=\"code-keyword\">this</span>), _step2; !(_step2 = _iterator2()).done;) {\n","          <span class=\"code-keyword\">var</span> value = _step2.value;\n","          callbackFn.call(thisArg, value, value, <span class=\"code-keyword\">this</span>);\n","        }\n","      };\n","      _proto.add = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">add</span>(<span class=\"code-params\">value</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this3 = <span class=\"code-keyword\">this</span>;\n","        checkIfStateModificationsAreAllowed(<span class=\"code-keyword\">this</span>.atom_);\n","        <span class=\"code-keyword\">if</span> (hasInterceptors(<span class=\"code-keyword\">this</span>)) {\n","          <span class=\"code-keyword\">var</span> change = interceptChange(<span class=\"code-keyword\">this</span>, {\n","            type: ADD,\n","            object: <span class=\"code-keyword\">this</span>,\n","            newValue: value\n","          });\n","          <span class=\"code-keyword\">if</span> (!change) {\n","            <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","          }\n","          <span class=\"code-comment\">// ideally, value = change.value would be done here, so that values can be</span>\n","          <span class=\"code-comment\">// changed by interceptor. Same applies for other Set and Map api's.</span>\n","        }\n","        <span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.has(value)) {\n","          transaction(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","            _this3.data_.add(_this3.enhancer_(value, <span class=\"code-literal\">undefined</span>));\n","            _this3.atom_.reportChanged();\n","          });\n","          <span class=\"code-keyword\">var</span> notifySpy =  isSpyEnabled();\n","          <span class=\"code-keyword\">var</span> notify = hasListeners(<span class=\"code-keyword\">this</span>);\n","          <span class=\"code-keyword\">var</span> _change = notify || notifySpy ? {\n","            observableKind: <span class=\"code-string\">\"set\"</span>,\n","            debugObjectName: <span class=\"code-keyword\">this</span>.name_,\n","            type: ADD,\n","            object: <span class=\"code-keyword\">this</span>,\n","            newValue: value\n","          } : <span class=\"code-literal\">null</span>;\n","          <span class=\"code-keyword\">if</span> (notifySpy &amp;&amp; <span class=\"code-string\">\"development\"</span> !== <span class=\"code-string\">\"production\"</span>) {\n","            spyReportStart(_change);\n","          }\n","          <span class=\"code-keyword\">if</span> (notify) {\n","            notifyListeners(<span class=\"code-keyword\">this</span>, _change);\n","          }\n","          <span class=\"code-keyword\">if</span> (notifySpy &amp;&amp; <span class=\"code-string\">\"development\"</span> !== <span class=\"code-string\">\"production\"</span>) {\n","            spyReportEnd();\n","          }\n","        }\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","      };\n","      _proto[<span class=\"code-string\">\"delete\"</span>] = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_delete</span>(<span class=\"code-params\">value</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this4 = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-keyword\">if</span> (hasInterceptors(<span class=\"code-keyword\">this</span>)) {\n","          <span class=\"code-keyword\">var</span> change = interceptChange(<span class=\"code-keyword\">this</span>, {\n","            type: DELETE,\n","            object: <span class=\"code-keyword\">this</span>,\n","            oldValue: value\n","          });\n","          <span class=\"code-keyword\">if</span> (!change) {\n","            <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","          }\n","        }\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.has(value)) {\n","          <span class=\"code-keyword\">var</span> notifySpy =  isSpyEnabled();\n","          <span class=\"code-keyword\">var</span> notify = hasListeners(<span class=\"code-keyword\">this</span>);\n","          <span class=\"code-keyword\">var</span> _change2 = notify || notifySpy ? {\n","            observableKind: <span class=\"code-string\">\"set\"</span>,\n","            debugObjectName: <span class=\"code-keyword\">this</span>.name_,\n","            type: DELETE,\n","            object: <span class=\"code-keyword\">this</span>,\n","            oldValue: value\n","          } : <span class=\"code-literal\">null</span>;\n","          <span class=\"code-keyword\">if</span> (notifySpy &amp;&amp; <span class=\"code-string\">\"development\"</span> !== <span class=\"code-string\">\"production\"</span>) {\n","            spyReportStart(_change2);\n","          }\n","          transaction(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","            _this4.atom_.reportChanged();\n","            _this4.data_[<span class=\"code-string\">\"delete\"</span>](value);\n","          });\n","          <span class=\"code-keyword\">if</span> (notify) {\n","            notifyListeners(<span class=\"code-keyword\">this</span>, _change2);\n","          }\n","          <span class=\"code-keyword\">if</span> (notifySpy &amp;&amp; <span class=\"code-string\">\"development\"</span> !== <span class=\"code-string\">\"production\"</span>) {\n","            spyReportEnd();\n","          }\n","          <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","        }\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","      };\n","      _proto.has = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">has</span>(<span class=\"code-params\">value</span>) </span>{\n","        <span class=\"code-keyword\">this</span>.atom_.reportObserved();\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.data_.has(<span class=\"code-keyword\">this</span>.dehanceValue_(value));\n","      };\n","      _proto.entries = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">entries</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> nextIndex = <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">var</span> keys = <span class=\"code-built_in\">Array</span>.from(<span class=\"code-keyword\">this</span>.keys());\n","        <span class=\"code-keyword\">var</span> values = <span class=\"code-built_in\">Array</span>.from(<span class=\"code-keyword\">this</span>.values());\n","        <span class=\"code-keyword\">return</span> makeIterableForSet({\n","          next: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">next</span>(<span class=\"code-params\"></span>) </span>{\n","            <span class=\"code-keyword\">var</span> index = nextIndex;\n","            nextIndex += <span class=\"code-number\">1</span>;\n","            <span class=\"code-keyword\">return</span> index &lt; values.length ? {\n","              value: [keys[index], values[index]],\n","              done: <span class=\"code-literal\">false</span>\n","            } : {\n","              value: <span class=\"code-literal\">undefined</span>,\n","              done: <span class=\"code-literal\">true</span>\n","            };\n","          }\n","        });\n","      };\n","      _proto.keys = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">keys</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.values();\n","      };\n","      _proto.values = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">values</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">this</span>.atom_.reportObserved();\n","        <span class=\"code-keyword\">var</span> self = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-keyword\">var</span> nextIndex = <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">var</span> observableValues = <span class=\"code-built_in\">Array</span>.from(<span class=\"code-keyword\">this</span>.data_.values());\n","        <span class=\"code-keyword\">return</span> makeIterableForSet({\n","          next: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">next</span>(<span class=\"code-params\"></span>) </span>{\n","            <span class=\"code-keyword\">return</span> nextIndex &lt; observableValues.length ? {\n","              value: self.dehanceValue_(observableValues[nextIndex++]),\n","              done: <span class=\"code-literal\">false</span>\n","            } : {\n","              value: <span class=\"code-literal\">undefined</span>,\n","              done: <span class=\"code-literal\">true</span>\n","            };\n","          }\n","        });\n","      };\n","      _proto.intersection = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">intersection</span>(<span class=\"code-params\">otherSet</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (isES6Set(otherSet) &amp;&amp; !isObservableSet(otherSet)) {\n","          <span class=\"code-keyword\">return</span> otherSet.intersection(<span class=\"code-keyword\">this</span>);\n","        } <span class=\"code-keyword\">else</span> {\n","          <span class=\"code-keyword\">var</span> dehancedSet = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Set</span>(<span class=\"code-keyword\">this</span>);\n","          <span class=\"code-keyword\">return</span> dehancedSet.intersection(otherSet);\n","        }\n","      };\n","      _proto.union = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">union</span>(<span class=\"code-params\">otherSet</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (isES6Set(otherSet) &amp;&amp; !isObservableSet(otherSet)) {\n","          <span class=\"code-keyword\">return</span> otherSet.union(<span class=\"code-keyword\">this</span>);\n","        } <span class=\"code-keyword\">else</span> {\n","          <span class=\"code-keyword\">var</span> dehancedSet = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Set</span>(<span class=\"code-keyword\">this</span>);\n","          <span class=\"code-keyword\">return</span> dehancedSet.union(otherSet);\n","        }\n","      };\n","      _proto.difference = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">difference</span>(<span class=\"code-params\">otherSet</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Set</span>(<span class=\"code-keyword\">this</span>).difference(otherSet);\n","      };\n","      _proto.symmetricDifference = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">symmetricDifference</span>(<span class=\"code-params\">otherSet</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (isES6Set(otherSet) &amp;&amp; !isObservableSet(otherSet)) {\n","          <span class=\"code-keyword\">return</span> otherSet.symmetricDifference(<span class=\"code-keyword\">this</span>);\n","        } <span class=\"code-keyword\">else</span> {\n","          <span class=\"code-keyword\">var</span> dehancedSet = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Set</span>(<span class=\"code-keyword\">this</span>);\n","          <span class=\"code-keyword\">return</span> dehancedSet.symmetricDifference(otherSet);\n","        }\n","      };\n","      _proto.isSubsetOf = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isSubsetOf</span>(<span class=\"code-params\">otherSet</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Set</span>(<span class=\"code-keyword\">this</span>).isSubsetOf(otherSet);\n","      };\n","      _proto.isSupersetOf = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isSupersetOf</span>(<span class=\"code-params\">otherSet</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Set</span>(<span class=\"code-keyword\">this</span>).isSupersetOf(otherSet);\n","      };\n","      _proto.isDisjointFrom = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isDisjointFrom</span>(<span class=\"code-params\">otherSet</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (isES6Set(otherSet) &amp;&amp; !isObservableSet(otherSet)) {\n","          <span class=\"code-keyword\">return</span> otherSet.isDisjointFrom(<span class=\"code-keyword\">this</span>);\n","        } <span class=\"code-keyword\">else</span> {\n","          <span class=\"code-keyword\">var</span> dehancedSet = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Set</span>(<span class=\"code-keyword\">this</span>);\n","          <span class=\"code-keyword\">return</span> dehancedSet.isDisjointFrom(otherSet);\n","        }\n","      };\n","      _proto.replace = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">replace</span>(<span class=\"code-params\">other</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this5 = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-keyword\">if</span> (isObservableSet(other)) {\n","          other = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Set</span>(other);\n","        }\n","        transaction(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          <span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">Array</span>.isArray(other)) {\n","            _this5.clear();\n","            other.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">value</span>) </span>{\n","              <span class=\"code-keyword\">return</span> _this5.add(value);\n","            });\n","          } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (isES6Set(other)) {\n","            _this5.clear();\n","            other.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">value</span>) </span>{\n","              <span class=\"code-keyword\">return</span> _this5.add(value);\n","            });\n","          } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (other !== <span class=\"code-literal\">null</span> &amp;&amp; other !== <span class=\"code-literal\">undefined</span>) {\n","            die(<span class=\"code-string\">\"Cannot initialize set from \"</span> + other);\n","          }\n","        });\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","      };\n","      _proto.observe_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">observe_</span>(<span class=\"code-params\">listener, fireImmediately</span>) </span>{\n","        <span class=\"code-comment\">// ... 'fireImmediately' could also be true?</span>\n","        <span class=\"code-keyword\">if</span> ( fireImmediately === <span class=\"code-literal\">true</span>) {\n","          die(<span class=\"code-string\">\"`observe` doesn't support fireImmediately=true in combination with sets.\"</span>);\n","        }\n","        <span class=\"code-keyword\">return</span> registerListener(<span class=\"code-keyword\">this</span>, listener);\n","      };\n","      _proto.intercept_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">intercept_</span>(<span class=\"code-params\">handler</span>) </span>{\n","        <span class=\"code-keyword\">return</span> registerInterceptor(<span class=\"code-keyword\">this</span>, handler);\n","      };\n","      _proto.toJSON = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toJSON</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Array</span>.from(<span class=\"code-keyword\">this</span>);\n","      };\n","      _proto.toString = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toString</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"[object ObservableSet]\"</span>;\n","      };\n","      _proto[<span class=\"code-built_in\">Symbol</span>.iterator] = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.values();\n","      };\n","      <span class=\"code-keyword\">return</span> _createClass(ObservableSet, [{\n","        key: <span class=\"code-string\">\"size\"</span>,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">this</span>.atom_.reportObserved();\n","          <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.data_.size;\n","        }\n","      }, {\n","        key: <span class=\"code-built_in\">Symbol</span>.toStringTag,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"Set\"</span>;\n","        }\n","      }]);\n","    }();\n","    <span class=\"code-comment\">// eslint-disable-next-line</span>\n","    <span class=\"code-keyword\">var</span> isObservableSet = <span class=\"code-comment\">/*#__PURE__*/</span>createInstanceofPredicate(<span class=\"code-string\">\"ObservableSet\"</span>, ObservableSet);\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">makeIterableForSet</span>(<span class=\"code-params\">iterator</span>) </span>{\n","      iterator[<span class=\"code-built_in\">Symbol</span>.toStringTag] = <span class=\"code-string\">\"SetIterator\"</span>;\n","      <span class=\"code-keyword\">return</span> makeIterable(iterator);\n","    }\n","\n","    <span class=\"code-keyword\">var</span> descriptorCache = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-built_in\">Object</span>.create(<span class=\"code-literal\">null</span>);\n","    <span class=\"code-keyword\">var</span> REMOVE = <span class=\"code-string\">\"remove\"</span>;\n","    <span class=\"code-keyword\">var</span> ObservableObjectAdministration = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ObservableObjectAdministration</span>(<span class=\"code-params\">target_, values_, name_,\n</span></span>","<span class=\"code-function\"><span class=\"code-params\">      <span class=\"code-regexp\">//</span> Used anytime annotation is not explicitely provided\n</span></span>","<span class=\"code-function\"><span class=\"code-params\">      defaultAnnotation_</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (values_ === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          values_ = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Map</span>();\n","        }\n","        <span class=\"code-keyword\">if</span> (defaultAnnotation_ === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          defaultAnnotation_ = autoAnnotation;\n","        }\n","        <span class=\"code-keyword\">this</span>.target_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.values_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.name_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.defaultAnnotation_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.keysAtom_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.changeListeners_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.interceptors_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.proxy_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.isPlainObject_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.appliedAnnotations_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.pendingKeys_ = <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">this</span>.target_ = target_;\n","        <span class=\"code-keyword\">this</span>.values_ = values_;\n","        <span class=\"code-keyword\">this</span>.name_ = name_;\n","        <span class=\"code-keyword\">this</span>.defaultAnnotation_ = defaultAnnotation_;\n","        <span class=\"code-keyword\">this</span>.keysAtom_ = <span class=\"code-keyword\">new</span> Atom( <span class=\"code-keyword\">this</span>.name_ + <span class=\"code-string\">\".keys\"</span> );\n","        <span class=\"code-comment\">// Optimization: we use this frequently</span>\n","        <span class=\"code-keyword\">this</span>.isPlainObject_ = isPlainObject(<span class=\"code-keyword\">this</span>.target_);\n","        <span class=\"code-keyword\">if</span> ( !isAnnotation(<span class=\"code-keyword\">this</span>.defaultAnnotation_)) {\n","          die(<span class=\"code-string\">\"defaultAnnotation must be valid annotation\"</span>);\n","        }\n","        {\n","          <span class=\"code-comment\">// Prepare structure for tracking which fields were already annotated</span>\n","          <span class=\"code-keyword\">this</span>.appliedAnnotations_ = {};\n","        }\n","      }\n","      <span class=\"code-keyword\">var</span> _proto = ObservableObjectAdministration.prototype;\n","      _proto.getObservablePropValue_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getObservablePropValue_</span>(<span class=\"code-params\">key</span>) </span>{\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.values_.get(key).get();\n","      };\n","      _proto.setObservablePropValue_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">setObservablePropValue_</span>(<span class=\"code-params\">key, newValue</span>) </span>{\n","        <span class=\"code-keyword\">var</span> observable = <span class=\"code-keyword\">this</span>.values_.get(key);\n","        <span class=\"code-keyword\">if</span> (observable <span class=\"code-keyword\">instanceof</span> ComputedValue) {\n","          observable.set(newValue);\n","          <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","        }\n","        <span class=\"code-comment\">// intercept</span>\n","        <span class=\"code-keyword\">if</span> (hasInterceptors(<span class=\"code-keyword\">this</span>)) {\n","          <span class=\"code-keyword\">var</span> change = interceptChange(<span class=\"code-keyword\">this</span>, {\n","            type: UPDATE,\n","            object: <span class=\"code-keyword\">this</span>.proxy_ || <span class=\"code-keyword\">this</span>.target_,\n","            name: key,\n","            newValue: newValue\n","          });\n","          <span class=\"code-keyword\">if</span> (!change) {\n","            <span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;\n","          }\n","          newValue = change.newValue;\n","        }\n","        newValue = observable.prepareNewValue_(newValue);\n","        <span class=\"code-comment\">// notify spy &amp; observers</span>\n","        <span class=\"code-keyword\">if</span> (newValue !== globalState.UNCHANGED) {\n","          <span class=\"code-keyword\">var</span> notify = hasListeners(<span class=\"code-keyword\">this</span>);\n","          <span class=\"code-keyword\">var</span> notifySpy =  isSpyEnabled();\n","          <span class=\"code-keyword\">var</span> _change = notify || notifySpy ? {\n","            type: UPDATE,\n","            observableKind: <span class=\"code-string\">\"object\"</span>,\n","            debugObjectName: <span class=\"code-keyword\">this</span>.name_,\n","            object: <span class=\"code-keyword\">this</span>.proxy_ || <span class=\"code-keyword\">this</span>.target_,\n","            oldValue: observable.value_,\n","            name: key,\n","            newValue: newValue\n","          } : <span class=\"code-literal\">null</span>;\n","          <span class=\"code-keyword\">if</span> ( notifySpy) {\n","            spyReportStart(_change);\n","          }\n","          observable.setNewValue_(newValue);\n","          <span class=\"code-keyword\">if</span> (notify) {\n","            notifyListeners(<span class=\"code-keyword\">this</span>, _change);\n","          }\n","          <span class=\"code-keyword\">if</span> ( notifySpy) {\n","            spyReportEnd();\n","          }\n","        }\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","      };\n","      _proto.get_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">get_</span>(<span class=\"code-params\">key</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (globalState.trackingDerivation &amp;&amp; !hasProp(<span class=\"code-keyword\">this</span>.target_, key)) {\n","          <span class=\"code-comment\">// Key doesn't exist yet, subscribe for it in case it's added later</span>\n","          <span class=\"code-keyword\">this</span>.has_(key);\n","        }\n","        <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.target_[key];\n","      }\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * @param {PropertyKey} key\n</span>","<span class=\"code-comment\">       * @param {any} value\n</span>","<span class=\"code-comment\">       * @param {Annotation|boolean} annotation true - use default annotation, false - copy as is\n</span>","<span class=\"code-comment\">       * @param {boolean} proxyTrap whether it's called from proxy trap\n</span>","<span class=\"code-comment\">       * @returns {boolean|null} true on success, false on failure (proxyTrap + non-configurable), null when cancelled by interceptor\n</span>","<span class=\"code-comment\">       */</span>;\n","      _proto.set_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">set_</span>(<span class=\"code-params\">key, value, proxyTrap</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (proxyTrap === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          proxyTrap = <span class=\"code-literal\">false</span>;\n","        }\n","        <span class=\"code-comment\">// Don't use .has(key) - we care about own</span>\n","        <span class=\"code-keyword\">if</span> (hasProp(<span class=\"code-keyword\">this</span>.target_, key)) {\n","          <span class=\"code-comment\">// Existing prop</span>\n","          <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.values_.has(key)) {\n","            <span class=\"code-comment\">// Observable (can be intercepted)</span>\n","            <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setObservablePropValue_(key, value);\n","          } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (proxyTrap) {\n","            <span class=\"code-comment\">// Non-observable - proxy</span>\n","            <span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Reflect</span>.set(<span class=\"code-keyword\">this</span>.target_, key, value);\n","          } <span class=\"code-keyword\">else</span> {\n","            <span class=\"code-comment\">// Non-observable</span>\n","            <span class=\"code-keyword\">this</span>.target_[key] = value;\n","            <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","          }\n","        } <span class=\"code-keyword\">else</span> {\n","          <span class=\"code-comment\">// New prop</span>\n","          <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.extend_(key, {\n","            value: value,\n","            enumerable: <span class=\"code-literal\">true</span>,\n","            writable: <span class=\"code-literal\">true</span>,\n","            configurable: <span class=\"code-literal\">true</span>\n","          }, <span class=\"code-keyword\">this</span>.defaultAnnotation_, proxyTrap);\n","        }\n","      }\n","      <span class=\"code-comment\">// Trap for \"in\"</span>\n","      ;\n","      _proto.has_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">has_</span>(<span class=\"code-params\">key</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (!globalState.trackingDerivation) {\n","          <span class=\"code-comment\">// Skip key subscription outside derivation</span>\n","          <span class=\"code-keyword\">return</span> key <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.target_;\n","        }\n","        <span class=\"code-keyword\">this</span>.pendingKeys_ || (<span class=\"code-keyword\">this</span>.pendingKeys_ = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Map</span>());\n","        <span class=\"code-keyword\">var</span> entry = <span class=\"code-keyword\">this</span>.pendingKeys_.get(key);\n","        <span class=\"code-keyword\">if</span> (!entry) {\n","          entry = <span class=\"code-keyword\">new</span> ObservableValue(key <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.target_, referenceEnhancer,  <span class=\"code-keyword\">this</span>.name_ + <span class=\"code-string\">\".\"</span> + stringifyKey(key) + <span class=\"code-string\">\"?\"</span> , <span class=\"code-literal\">false</span>);\n","          <span class=\"code-keyword\">this</span>.pendingKeys_.set(key, entry);\n","        }\n","        <span class=\"code-keyword\">return</span> entry.get();\n","      }\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * @param {PropertyKey} key\n</span>","<span class=\"code-comment\">       * @param {Annotation|boolean} annotation true - use default annotation, false - ignore prop\n</span>","<span class=\"code-comment\">       */</span>;\n","      _proto.make_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">make_</span>(<span class=\"code-params\">key, annotation</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (annotation === <span class=\"code-literal\">true</span>) {\n","          annotation = <span class=\"code-keyword\">this</span>.defaultAnnotation_;\n","        }\n","        <span class=\"code-keyword\">if</span> (annotation === <span class=\"code-literal\">false</span>) {\n","          <span class=\"code-keyword\">return</span>;\n","        }\n","        assertAnnotable(<span class=\"code-keyword\">this</span>, annotation, key);\n","        <span class=\"code-keyword\">if</span> (!(key <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.target_)) {\n","          <span class=\"code-keyword\">var</span> _this$target_$storedA;\n","          <span class=\"code-comment\">// Throw on missing key, except for decorators:</span>\n","          <span class=\"code-comment\">// Decorator annotations are collected from whole prototype chain.</span>\n","          <span class=\"code-comment\">// When called from super() some props may not exist yet.</span>\n","          <span class=\"code-comment\">// However we don't have to worry about missing prop,</span>\n","          <span class=\"code-comment\">// because the decorator must have been applied to something.</span>\n","          <span class=\"code-keyword\">if</span> ((_this$target_$storedA = <span class=\"code-keyword\">this</span>.target_[storedAnnotationsSymbol]) != <span class=\"code-literal\">null</span> &amp;&amp; _this$target_$storedA[key]) {\n","            <span class=\"code-keyword\">return</span>; <span class=\"code-comment\">// will be annotated by subclass constructor</span>\n","          } <span class=\"code-keyword\">else</span> {\n","            die(<span class=\"code-number\">1</span>, annotation.annotationType_, <span class=\"code-keyword\">this</span>.name_ + <span class=\"code-string\">\".\"</span> + key.toString());\n","          }\n","        }\n","        <span class=\"code-keyword\">var</span> source = <span class=\"code-keyword\">this</span>.target_;\n","        <span class=\"code-keyword\">while</span> (source &amp;&amp; source !== objectPrototype) {\n","          <span class=\"code-keyword\">var</span> descriptor = getDescriptor(source, key);\n","          <span class=\"code-keyword\">if</span> (descriptor) {\n","            <span class=\"code-keyword\">var</span> outcome = annotation.make_(<span class=\"code-keyword\">this</span>, key, descriptor, source);\n","            <span class=\"code-keyword\">if</span> (outcome === <span class=\"code-number\">0</span> <span class=\"code-comment\">/* MakeResult.Cancel */</span>) {\n","              <span class=\"code-keyword\">return</span>;\n","            }\n","            <span class=\"code-keyword\">if</span> (outcome === <span class=\"code-number\">1</span> <span class=\"code-comment\">/* MakeResult.Break */</span>) {\n","              <span class=\"code-keyword\">break</span>;\n","            }\n","          }\n","          source = <span class=\"code-built_in\">Object</span>.getPrototypeOf(source);\n","        }\n","        recordAnnotationApplied(<span class=\"code-keyword\">this</span>, annotation, key);\n","      }\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * @param {PropertyKey} key\n</span>","<span class=\"code-comment\">       * @param {PropertyDescriptor} descriptor\n</span>","<span class=\"code-comment\">       * @param {Annotation|boolean} annotation true - use default annotation, false - copy as is\n</span>","<span class=\"code-comment\">       * @param {boolean} proxyTrap whether it's called from proxy trap\n</span>","<span class=\"code-comment\">       * @returns {boolean|null} true on success, false on failure (proxyTrap + non-configurable), null when cancelled by interceptor\n</span>","<span class=\"code-comment\">       */</span>;\n","      _proto.extend_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">extend_</span>(<span class=\"code-params\">key, descriptor, annotation, proxyTrap</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (proxyTrap === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          proxyTrap = <span class=\"code-literal\">false</span>;\n","        }\n","        <span class=\"code-keyword\">if</span> (annotation === <span class=\"code-literal\">true</span>) {\n","          annotation = <span class=\"code-keyword\">this</span>.defaultAnnotation_;\n","        }\n","        <span class=\"code-keyword\">if</span> (annotation === <span class=\"code-literal\">false</span>) {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.defineProperty_(key, descriptor, proxyTrap);\n","        }\n","        assertAnnotable(<span class=\"code-keyword\">this</span>, annotation, key);\n","        <span class=\"code-keyword\">var</span> outcome = annotation.extend_(<span class=\"code-keyword\">this</span>, key, descriptor, proxyTrap);\n","        <span class=\"code-keyword\">if</span> (outcome) {\n","          recordAnnotationApplied(<span class=\"code-keyword\">this</span>, annotation, key);\n","        }\n","        <span class=\"code-keyword\">return</span> outcome;\n","      }\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * @param {PropertyKey} key\n</span>","<span class=\"code-comment\">       * @param {PropertyDescriptor} descriptor\n</span>","<span class=\"code-comment\">       * @param {boolean} proxyTrap whether it's called from proxy trap\n</span>","<span class=\"code-comment\">       * @returns {boolean|null} true on success, false on failure (proxyTrap + non-configurable), null when cancelled by interceptor\n</span>","<span class=\"code-comment\">       */</span>;\n","      _proto.defineProperty_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">defineProperty_</span>(<span class=\"code-params\">key, descriptor, proxyTrap</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (proxyTrap === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          proxyTrap = <span class=\"code-literal\">false</span>;\n","        }\n","        checkIfStateModificationsAreAllowed(<span class=\"code-keyword\">this</span>.keysAtom_);\n","        <span class=\"code-keyword\">try</span> {\n","          startBatch();\n","          <span class=\"code-comment\">// Delete</span>\n","          <span class=\"code-keyword\">var</span> deleteOutcome = <span class=\"code-keyword\">this</span>.delete_(key);\n","          <span class=\"code-keyword\">if</span> (!deleteOutcome) {\n","            <span class=\"code-comment\">// Failure or intercepted</span>\n","            <span class=\"code-keyword\">return</span> deleteOutcome;\n","          }\n","          <span class=\"code-comment\">// ADD interceptor</span>\n","          <span class=\"code-keyword\">if</span> (hasInterceptors(<span class=\"code-keyword\">this</span>)) {\n","            <span class=\"code-keyword\">var</span> change = interceptChange(<span class=\"code-keyword\">this</span>, {\n","              object: <span class=\"code-keyword\">this</span>.proxy_ || <span class=\"code-keyword\">this</span>.target_,\n","              name: key,\n","              type: ADD,\n","              newValue: descriptor.value\n","            });\n","            <span class=\"code-keyword\">if</span> (!change) {\n","              <span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;\n","            }\n","            <span class=\"code-keyword\">var</span> newValue = change.newValue;\n","            <span class=\"code-keyword\">if</span> (descriptor.value !== newValue) {\n","              descriptor = _extends({}, descriptor, {\n","                value: newValue\n","              });\n","            }\n","          }\n","          <span class=\"code-comment\">// Define</span>\n","          <span class=\"code-keyword\">if</span> (proxyTrap) {\n","            <span class=\"code-keyword\">if</span> (!<span class=\"code-built_in\">Reflect</span>.defineProperty(<span class=\"code-keyword\">this</span>.target_, key, descriptor)) {\n","              <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","            }\n","          } <span class=\"code-keyword\">else</span> {\n","            defineProperty(<span class=\"code-keyword\">this</span>.target_, key, descriptor);\n","          }\n","          <span class=\"code-comment\">// Notify</span>\n","          <span class=\"code-keyword\">this</span>.notifyPropertyAddition_(key, descriptor.value);\n","        } <span class=\"code-keyword\">finally</span> {\n","          endBatch();\n","        }\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","      }\n","      <span class=\"code-comment\">// If original descriptor becomes relevant, move this to annotation directly</span>\n","      ;\n","      _proto.defineObservableProperty_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">defineObservableProperty_</span>(<span class=\"code-params\">key, value, enhancer, proxyTrap</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (proxyTrap === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          proxyTrap = <span class=\"code-literal\">false</span>;\n","        }\n","        checkIfStateModificationsAreAllowed(<span class=\"code-keyword\">this</span>.keysAtom_);\n","        <span class=\"code-keyword\">try</span> {\n","          startBatch();\n","          <span class=\"code-comment\">// Delete</span>\n","          <span class=\"code-keyword\">var</span> deleteOutcome = <span class=\"code-keyword\">this</span>.delete_(key);\n","          <span class=\"code-keyword\">if</span> (!deleteOutcome) {\n","            <span class=\"code-comment\">// Failure or intercepted</span>\n","            <span class=\"code-keyword\">return</span> deleteOutcome;\n","          }\n","          <span class=\"code-comment\">// ADD interceptor</span>\n","          <span class=\"code-keyword\">if</span> (hasInterceptors(<span class=\"code-keyword\">this</span>)) {\n","            <span class=\"code-keyword\">var</span> change = interceptChange(<span class=\"code-keyword\">this</span>, {\n","              object: <span class=\"code-keyword\">this</span>.proxy_ || <span class=\"code-keyword\">this</span>.target_,\n","              name: key,\n","              type: ADD,\n","              newValue: value\n","            });\n","            <span class=\"code-keyword\">if</span> (!change) {\n","              <span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;\n","            }\n","            value = change.newValue;\n","          }\n","          <span class=\"code-keyword\">var</span> cachedDescriptor = getCachedObservablePropDescriptor(key);\n","          <span class=\"code-keyword\">var</span> descriptor = {\n","            configurable: globalState.safeDescriptors ? <span class=\"code-keyword\">this</span>.isPlainObject_ : <span class=\"code-literal\">true</span>,\n","            enumerable: <span class=\"code-literal\">true</span>,\n","            <span class=\"code-keyword\">get</span>: cachedDescriptor.<span class=\"code-keyword\">get</span>,\n","            <span class=\"code-keyword\">set</span>: cachedDescriptor.<span class=\"code-keyword\">set</span>\n","          };\n","          // Define\n","          if (proxyTrap) {\n","            <span class=\"code-keyword\">if</span> (!<span class=\"code-built_in\">Reflect</span>.defineProperty(<span class=\"code-keyword\">this</span>.target_, key, descriptor)) {\n","              <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","            }\n","          } <span class=\"code-keyword\">else</span> {\n","            defineProperty(<span class=\"code-keyword\">this</span>.target_, key, descriptor);\n","          }\n","          <span class=\"code-keyword\">var</span> observable = <span class=\"code-keyword\">new</span> ObservableValue(value, enhancer, <span class=\"code-string\">\"development\"</span> !== <span class=\"code-string\">\"production\"</span> ? <span class=\"code-keyword\">this</span>.name_ + <span class=\"code-string\">\".\"</span> + key.toString() : <span class=\"code-string\">\"ObservableObject.key\"</span>, <span class=\"code-literal\">false</span>);\n","          <span class=\"code-keyword\">this</span>.values_.set(key, observable);\n","          <span class=\"code-comment\">// Notify (value possibly changed by ObservableValue)</span>\n","          <span class=\"code-keyword\">this</span>.notifyPropertyAddition_(key, observable.value_);\n","        } <span class=\"code-keyword\">finally</span> {\n","          endBatch();\n","        }\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","      }\n","      <span class=\"code-comment\">// If original descriptor becomes relevant, move this to annotation directly</span>\n","      ;\n","      _proto.defineComputedProperty_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">defineComputedProperty_</span>(<span class=\"code-params\">key, options, proxyTrap</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (proxyTrap === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          proxyTrap = <span class=\"code-literal\">false</span>;\n","        }\n","        checkIfStateModificationsAreAllowed(<span class=\"code-keyword\">this</span>.keysAtom_);\n","        <span class=\"code-keyword\">try</span> {\n","          startBatch();\n","          <span class=\"code-comment\">// Delete</span>\n","          <span class=\"code-keyword\">var</span> deleteOutcome = <span class=\"code-keyword\">this</span>.delete_(key);\n","          <span class=\"code-keyword\">if</span> (!deleteOutcome) {\n","            <span class=\"code-comment\">// Failure or intercepted</span>\n","            <span class=\"code-keyword\">return</span> deleteOutcome;\n","          }\n","          <span class=\"code-comment\">// ADD interceptor</span>\n","          <span class=\"code-keyword\">if</span> (hasInterceptors(<span class=\"code-keyword\">this</span>)) {\n","            <span class=\"code-keyword\">var</span> change = interceptChange(<span class=\"code-keyword\">this</span>, {\n","              object: <span class=\"code-keyword\">this</span>.proxy_ || <span class=\"code-keyword\">this</span>.target_,\n","              name: key,\n","              type: ADD,\n","              newValue: <span class=\"code-literal\">undefined</span>\n","            });\n","            <span class=\"code-keyword\">if</span> (!change) {\n","              <span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;\n","            }\n","          }\n","          options.name || (options.name = <span class=\"code-string\">\"development\"</span> !== <span class=\"code-string\">\"production\"</span> ? <span class=\"code-keyword\">this</span>.name_ + <span class=\"code-string\">\".\"</span> + key.toString() : <span class=\"code-string\">\"ObservableObject.key\"</span>);\n","          options.context = <span class=\"code-keyword\">this</span>.proxy_ || <span class=\"code-keyword\">this</span>.target_;\n","          <span class=\"code-keyword\">var</span> cachedDescriptor = getCachedObservablePropDescriptor(key);\n","          <span class=\"code-keyword\">var</span> descriptor = {\n","            configurable: globalState.safeDescriptors ? <span class=\"code-keyword\">this</span>.isPlainObject_ : <span class=\"code-literal\">true</span>,\n","            enumerable: <span class=\"code-literal\">false</span>,\n","            <span class=\"code-keyword\">get</span>: cachedDescriptor.<span class=\"code-keyword\">get</span>,\n","            <span class=\"code-keyword\">set</span>: cachedDescriptor.<span class=\"code-keyword\">set</span>\n","          };\n","          // Define\n","          if (proxyTrap) {\n","            <span class=\"code-keyword\">if</span> (!<span class=\"code-built_in\">Reflect</span>.defineProperty(<span class=\"code-keyword\">this</span>.target_, key, descriptor)) {\n","              <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","            }\n","          } <span class=\"code-keyword\">else</span> {\n","            defineProperty(<span class=\"code-keyword\">this</span>.target_, key, descriptor);\n","          }\n","          <span class=\"code-keyword\">this</span>.values_.set(key, <span class=\"code-keyword\">new</span> ComputedValue(options));\n","          <span class=\"code-comment\">// Notify</span>\n","          <span class=\"code-keyword\">this</span>.notifyPropertyAddition_(key, <span class=\"code-literal\">undefined</span>);\n","        } <span class=\"code-keyword\">finally</span> {\n","          endBatch();\n","        }\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","      }\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * @param {PropertyKey} key\n</span>","<span class=\"code-comment\">       * @param {PropertyDescriptor} descriptor\n</span>","<span class=\"code-comment\">       * @param {boolean} proxyTrap whether it's called from proxy trap\n</span>","<span class=\"code-comment\">       * @returns {boolean|null} true on success, false on failure (proxyTrap + non-configurable), null when cancelled by interceptor\n</span>","<span class=\"code-comment\">       */</span>;\n","      _proto.delete_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">delete_</span>(<span class=\"code-params\">key, proxyTrap</span>) </span>{\n","        <span class=\"code-keyword\">if</span> (proxyTrap === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          proxyTrap = <span class=\"code-literal\">false</span>;\n","        }\n","        checkIfStateModificationsAreAllowed(<span class=\"code-keyword\">this</span>.keysAtom_);\n","        <span class=\"code-comment\">// No such prop</span>\n","        <span class=\"code-keyword\">if</span> (!hasProp(<span class=\"code-keyword\">this</span>.target_, key)) {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","        }\n","        <span class=\"code-comment\">// Intercept</span>\n","        <span class=\"code-keyword\">if</span> (hasInterceptors(<span class=\"code-keyword\">this</span>)) {\n","          <span class=\"code-keyword\">var</span> change = interceptChange(<span class=\"code-keyword\">this</span>, {\n","            object: <span class=\"code-keyword\">this</span>.proxy_ || <span class=\"code-keyword\">this</span>.target_,\n","            name: key,\n","            type: REMOVE\n","          });\n","          <span class=\"code-comment\">// Cancelled</span>\n","          <span class=\"code-keyword\">if</span> (!change) {\n","            <span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;\n","          }\n","        }\n","        <span class=\"code-comment\">// Delete</span>\n","        <span class=\"code-keyword\">try</span> {\n","          <span class=\"code-keyword\">var</span> _this$pendingKeys_;\n","          startBatch();\n","          <span class=\"code-keyword\">var</span> notify = hasListeners(<span class=\"code-keyword\">this</span>);\n","          <span class=\"code-keyword\">var</span> notifySpy = <span class=\"code-string\">\"development\"</span> !== <span class=\"code-string\">\"production\"</span> &amp;&amp; isSpyEnabled();\n","          <span class=\"code-keyword\">var</span> observable = <span class=\"code-keyword\">this</span>.values_.get(key);\n","          <span class=\"code-comment\">// Value needed for spies/listeners</span>\n","          <span class=\"code-keyword\">var</span> value = <span class=\"code-literal\">undefined</span>;\n","          <span class=\"code-comment\">// Optimization: don't pull the value unless we will need it</span>\n","          <span class=\"code-keyword\">if</span> (!observable &amp;&amp; (notify || notifySpy)) {\n","            <span class=\"code-keyword\">var</span> _getDescriptor;\n","            value = (_getDescriptor = getDescriptor(<span class=\"code-keyword\">this</span>.target_, key)) == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : _getDescriptor.value;\n","          }\n","          <span class=\"code-comment\">// delete prop (do first, may fail)</span>\n","          <span class=\"code-keyword\">if</span> (proxyTrap) {\n","            <span class=\"code-keyword\">if</span> (!<span class=\"code-built_in\">Reflect</span>.deleteProperty(<span class=\"code-keyword\">this</span>.target_, key)) {\n","              <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","            }\n","          } <span class=\"code-keyword\">else</span> {\n","            <span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.target_[key];\n","          }\n","          <span class=\"code-comment\">// Allow re-annotating this field</span>\n","          <span class=\"code-keyword\">if</span> (<span class=\"code-string\">\"development\"</span> !== <span class=\"code-string\">\"production\"</span>) {\n","            <span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.appliedAnnotations_[key];\n","          }\n","          <span class=\"code-comment\">// Clear observable</span>\n","          <span class=\"code-keyword\">if</span> (observable) {\n","            <span class=\"code-keyword\">this</span>.values_[<span class=\"code-string\">\"delete\"</span>](key);\n","            <span class=\"code-comment\">// for computed, value is undefined</span>\n","            <span class=\"code-keyword\">if</span> (observable <span class=\"code-keyword\">instanceof</span> ObservableValue) {\n","              value = observable.value_;\n","            }\n","            <span class=\"code-comment\">// Notify: autorun(() =&gt; obj[key]), see #1796</span>\n","            propagateChanged(observable);\n","          }\n","          <span class=\"code-comment\">// Notify \"keys/entries/values\" observers</span>\n","          <span class=\"code-keyword\">this</span>.keysAtom_.reportChanged();\n","          <span class=\"code-comment\">// Notify \"has\" observers</span>\n","          <span class=\"code-comment\">// \"in\" as it may still exist in proto</span>\n","          (_this$pendingKeys_ = <span class=\"code-keyword\">this</span>.pendingKeys_) == <span class=\"code-literal\">null</span> || (_this$pendingKeys_ = _this$pendingKeys_.get(key)) == <span class=\"code-literal\">null</span> || _this$pendingKeys_.set(key <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.target_);\n","          <span class=\"code-comment\">// Notify spies/listeners</span>\n","          <span class=\"code-keyword\">if</span> (notify || notifySpy) {\n","            <span class=\"code-keyword\">var</span> _change2 = {\n","              type: REMOVE,\n","              observableKind: <span class=\"code-string\">\"object\"</span>,\n","              object: <span class=\"code-keyword\">this</span>.proxy_ || <span class=\"code-keyword\">this</span>.target_,\n","              debugObjectName: <span class=\"code-keyword\">this</span>.name_,\n","              oldValue: value,\n","              name: key\n","            };\n","            <span class=\"code-keyword\">if</span> (<span class=\"code-string\">\"development\"</span> !== <span class=\"code-string\">\"production\"</span> &amp;&amp; notifySpy) {\n","              spyReportStart(_change2);\n","            }\n","            <span class=\"code-keyword\">if</span> (notify) {\n","              notifyListeners(<span class=\"code-keyword\">this</span>, _change2);\n","            }\n","            <span class=\"code-keyword\">if</span> (<span class=\"code-string\">\"development\"</span> !== <span class=\"code-string\">\"production\"</span> &amp;&amp; notifySpy) {\n","              spyReportEnd();\n","            }\n","          }\n","        } <span class=\"code-keyword\">finally</span> {\n","          endBatch();\n","        }\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","      }\n","      <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">       * Observes this object. Triggers for the events 'add', 'update' and 'delete'.\n</span>","<span class=\"code-comment\">       * See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/observe\n</span>","<span class=\"code-comment\">       * for callback details\n</span>","<span class=\"code-comment\">       */</span>;\n","      _proto.observe_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">observe_</span>(<span class=\"code-params\">callback, fireImmediately</span>) </span>{\n","        <span class=\"code-keyword\">if</span> ( fireImmediately === <span class=\"code-literal\">true</span>) {\n","          die(<span class=\"code-string\">\"`observe` doesn't support the fire immediately property for observable objects.\"</span>);\n","        }\n","        <span class=\"code-keyword\">return</span> registerListener(<span class=\"code-keyword\">this</span>, callback);\n","      };\n","      _proto.intercept_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">intercept_</span>(<span class=\"code-params\">handler</span>) </span>{\n","        <span class=\"code-keyword\">return</span> registerInterceptor(<span class=\"code-keyword\">this</span>, handler);\n","      };\n","      _proto.notifyPropertyAddition_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">notifyPropertyAddition_</span>(<span class=\"code-params\">key, value</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this$pendingKeys_2;\n","        <span class=\"code-keyword\">var</span> notify = hasListeners(<span class=\"code-keyword\">this</span>);\n","        <span class=\"code-keyword\">var</span> notifySpy =  isSpyEnabled();\n","        <span class=\"code-keyword\">if</span> (notify || notifySpy) {\n","          <span class=\"code-keyword\">var</span> change = notify || notifySpy ? {\n","            type: ADD,\n","            observableKind: <span class=\"code-string\">\"object\"</span>,\n","            debugObjectName: <span class=\"code-keyword\">this</span>.name_,\n","            object: <span class=\"code-keyword\">this</span>.proxy_ || <span class=\"code-keyword\">this</span>.target_,\n","            name: key,\n","            newValue: value\n","          } : <span class=\"code-literal\">null</span>;\n","          <span class=\"code-keyword\">if</span> ( notifySpy) {\n","            spyReportStart(change);\n","          }\n","          <span class=\"code-keyword\">if</span> (notify) {\n","            notifyListeners(<span class=\"code-keyword\">this</span>, change);\n","          }\n","          <span class=\"code-keyword\">if</span> ( notifySpy) {\n","            spyReportEnd();\n","          }\n","        }\n","        (_this$pendingKeys_2 = <span class=\"code-keyword\">this</span>.pendingKeys_) == <span class=\"code-literal\">null</span> || (_this$pendingKeys_2 = _this$pendingKeys_2.get(key)) == <span class=\"code-literal\">null</span> || _this$pendingKeys_2.set(<span class=\"code-literal\">true</span>);\n","        <span class=\"code-comment\">// Notify \"keys/entries/values\" observers</span>\n","        <span class=\"code-keyword\">this</span>.keysAtom_.reportChanged();\n","      };\n","      _proto.ownKeys_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ownKeys_</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">this</span>.keysAtom_.reportObserved();\n","        <span class=\"code-keyword\">return</span> ownKeys(<span class=\"code-keyword\">this</span>.target_);\n","      };\n","      _proto.keys_ = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">keys_</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-comment\">// Returns enumerable &amp;&amp; own, but unfortunately keysAtom will report on ANY key change.</span>\n","        <span class=\"code-comment\">// There is no way to distinguish between Object.keys(object) and Reflect.ownKeys(object) - both are handled by ownKeys trap.</span>\n","        <span class=\"code-comment\">// We can either over-report in Object.keys(object) or under-report in Reflect.ownKeys(object)</span>\n","        <span class=\"code-comment\">// We choose to over-report in Object.keys(object), because:</span>\n","        <span class=\"code-comment\">// - typically it's used with simple data objects</span>\n","        <span class=\"code-comment\">// - when symbolic/non-enumerable keys are relevant Reflect.ownKeys works as expected</span>\n","        <span class=\"code-keyword\">this</span>.keysAtom_.reportObserved();\n","        <span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.keys(<span class=\"code-keyword\">this</span>.target_);\n","      };\n","      <span class=\"code-keyword\">return</span> ObservableObjectAdministration;\n","    }();\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">asObservableObject</span>(<span class=\"code-params\">target, options</span>) </span>{\n","      <span class=\"code-keyword\">var</span> _options$name;\n","      <span class=\"code-keyword\">if</span> ( options &amp;&amp; isObservableObject(target)) {\n","        die(<span class=\"code-string\">\"Options can't be provided for already observable objects.\"</span>);\n","      }\n","      <span class=\"code-keyword\">if</span> (hasProp(target, $mobx)) {\n","        <span class=\"code-keyword\">if</span> ( !(getAdministration(target) <span class=\"code-keyword\">instanceof</span> ObservableObjectAdministration)) {\n","          die(<span class=\"code-string\">\"Cannot convert '\"</span> + getDebugName(target) + <span class=\"code-string\">\"' into observable object:\"</span> + <span class=\"code-string\">\"\\nThe target is already observable of different type.\"</span> + <span class=\"code-string\">\"\\nExtending builtins is not supported.\"</span>);\n","        }\n","        <span class=\"code-keyword\">return</span> target;\n","      }\n","      <span class=\"code-keyword\">if</span> ( !<span class=\"code-built_in\">Object</span>.isExtensible(target)) {\n","        die(<span class=\"code-string\">\"Cannot make the designated object observable; it is not extensible\"</span>);\n","      }\n","      <span class=\"code-keyword\">var</span> name = (_options$name = options == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : options.name) != <span class=\"code-literal\">null</span> ? _options$name :  (isPlainObject(target) ? <span class=\"code-string\">\"ObservableObject\"</span> : target.constructor.name) + <span class=\"code-string\">\"@\"</span> + getNextId() ;\n","      <span class=\"code-keyword\">var</span> adm = <span class=\"code-keyword\">new</span> ObservableObjectAdministration(target, <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Map</span>(), <span class=\"code-built_in\">String</span>(name), getAnnotationFromOptions(options));\n","      addHiddenProp(target, $mobx, adm);\n","      <span class=\"code-keyword\">return</span> target;\n","    }\n","    <span class=\"code-keyword\">var</span> isObservableObjectAdministration = <span class=\"code-comment\">/*#__PURE__*/</span>createInstanceofPredicate(<span class=\"code-string\">\"ObservableObjectAdministration\"</span>, ObservableObjectAdministration);\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getCachedObservablePropDescriptor</span>(<span class=\"code-params\">key</span>) </span>{\n","      <span class=\"code-keyword\">return</span> descriptorCache[key] || (descriptorCache[key] = {\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[$mobx].getObservablePropValue_(key);\n","        },\n","        <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(value) {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[$mobx].setObservablePropValue_(key, value);\n","        }\n","      });\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isObservableObject</span>(<span class=\"code-params\">thing</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (isObject(thing)) {\n","        <span class=\"code-keyword\">return</span> isObservableObjectAdministration(thing[$mobx]);\n","      }\n","      <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">recordAnnotationApplied</span>(<span class=\"code-params\">adm, annotation, key</span>) </span>{\n","      <span class=\"code-keyword\">var</span> _adm$target_$storedAn;\n","      {\n","        adm.appliedAnnotations_[key] = annotation;\n","      }\n","      <span class=\"code-comment\">// Remove applied decorator annotation so we don't try to apply it again in subclass constructor</span>\n","      (_adm$target_$storedAn = adm.target_[storedAnnotationsSymbol]) == <span class=\"code-literal\">null</span> || <span class=\"code-keyword\">delete</span> _adm$target_$storedAn[key];\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">assertAnnotable</span>(<span class=\"code-params\">adm, annotation, key</span>) </span>{\n","      <span class=\"code-comment\">// Valid annotation</span>\n","      <span class=\"code-keyword\">if</span> ( !isAnnotation(annotation)) {\n","        die(<span class=\"code-string\">\"Cannot annotate '\"</span> + adm.name_ + <span class=\"code-string\">\".\"</span> + key.toString() + <span class=\"code-string\">\"': Invalid annotation.\"</span>);\n","      }\n","      <span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\">      // Configurable, not sealed, not frozen\n</span>","<span class=\"code-comment\">      // Possibly not needed, just a little better error then the one thrown by engine.\n</span>","<span class=\"code-comment\">      // Cases where this would be useful the most (subclass field initializer) are not interceptable by this.\n</span>","<span class=\"code-comment\">      if (__DEV__) {\n</span>","<span class=\"code-comment\">          const configurable = getDescriptor(adm.target_, key)?.configurable\n</span>","<span class=\"code-comment\">          const frozen = Object.isFrozen(adm.target_)\n</span>","<span class=\"code-comment\">          const sealed = Object.isSealed(adm.target_)\n</span>","<span class=\"code-comment\">          if (!configurable || frozen || sealed) {\n</span>","<span class=\"code-comment\">              const fieldName = `${adm.name_}.${key.toString()}`\n</span>","<span class=\"code-comment\">              const requestedAnnotationType = annotation.annotationType_\n</span>","<span class=\"code-comment\">              let error = `Cannot apply '${requestedAnnotationType}' to '${fieldName}':`\n</span>","<span class=\"code-comment\">              if (frozen) {\n</span>","<span class=\"code-comment\">                  error += `\\nObject is frozen.`\n</span>","<span class=\"code-comment\">              }\n</span>","<span class=\"code-comment\">              if (sealed) {\n</span>","<span class=\"code-comment\">                  error += `\\nObject is sealed.`\n</span>","<span class=\"code-comment\">              }\n</span>","<span class=\"code-comment\">              if (!configurable) {\n</span>","<span class=\"code-comment\">                  error += `\\nproperty is not configurable.`\n</span>","<span class=\"code-comment\">                  // Mention only if caused by us to avoid confusion\n</span>","<span class=\"code-comment\">                  if (hasProp(adm.appliedAnnotations!, key)) {\n</span>","<span class=\"code-comment\">                      error += `\\nTo prevent accidental re-definition of a field by a subclass, `\n</span>","<span class=\"code-comment\">                      error += `all annotated fields of non-plain objects (classes) are not configurable.`\n</span>","<span class=\"code-comment\">                  }\n</span>","<span class=\"code-comment\">              }\n</span>","<span class=\"code-comment\">              die(error)\n</span>","<span class=\"code-comment\">          }\n</span>","<span class=\"code-comment\">      }\n</span>","<span class=\"code-comment\">      */</span>\n","      <span class=\"code-comment\">// Not annotated</span>\n","      <span class=\"code-keyword\">if</span> ( !isOverride(annotation) &amp;&amp; hasProp(adm.appliedAnnotations_, key)) {\n","        <span class=\"code-keyword\">var</span> fieldName = adm.name_ + <span class=\"code-string\">\".\"</span> + key.toString();\n","        <span class=\"code-keyword\">var</span> currentAnnotationType = adm.appliedAnnotations_[key].annotationType_;\n","        <span class=\"code-keyword\">var</span> requestedAnnotationType = annotation.annotationType_;\n","        die(<span class=\"code-string\">\"Cannot apply '\"</span> + requestedAnnotationType + <span class=\"code-string\">\"' to '\"</span> + fieldName + <span class=\"code-string\">\"':\"</span> + (<span class=\"code-string\">\"\\nThe field is already annotated with '\"</span> + currentAnnotationType + <span class=\"code-string\">\"'.\"</span>) + <span class=\"code-string\">\"\\nRe-annotating fields is not allowed.\"</span> + <span class=\"code-string\">\"\\nUse 'override' annotation for methods overridden by subclass.\"</span>);\n","      }\n","    }\n","\n","    <span class=\"code-comment\">// Bug in safari 9.* (or iOS 9 safari mobile). See #364</span>\n","    <span class=\"code-keyword\">var</span> ENTRY_0 = <span class=\"code-comment\">/*#__PURE__*/</span>createArrayEntryDescriptor(<span class=\"code-number\">0</span>);\n","    <span class=\"code-keyword\">var</span> safariPrototypeSetterInheritanceBug = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-keyword\">var</span> v = <span class=\"code-literal\">false</span>;\n","      <span class=\"code-keyword\">var</span> p = {};\n","      <span class=\"code-built_in\">Object</span>.defineProperty(p, <span class=\"code-string\">\"0\"</span>, {\n","        <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>() {\n","          v = <span class=\"code-literal\">true</span>;\n","        }\n","      });\n","      <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-built_in\">Object</span>.create(p)[<span class=\"code-string\">\"0\"</span>] = <span class=\"code-number\">1</span>;\n","      <span class=\"code-keyword\">return</span> v === <span class=\"code-literal\">false</span>;\n","    }();\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * This array buffer contains two lists of properties, so that all arrays\n</span>","<span class=\"code-comment\">     * can recycle their property definitions, which significantly improves performance of creating\n</span>","<span class=\"code-comment\">     * properties on the fly.\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-keyword\">var</span> OBSERVABLE_ARRAY_BUFFER_SIZE = <span class=\"code-number\">0</span>;\n","    <span class=\"code-comment\">// Typescript workaround to make sure ObservableArray extends Array</span>\n","    <span class=\"code-keyword\">var</span> StubArray = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">StubArray</span>(<span class=\"code-params\"></span>) </span>{};\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">inherit</span>(<span class=\"code-params\">ctor, proto</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">Object</span>.setPrototypeOf) {\n","        <span class=\"code-built_in\">Object</span>.setPrototypeOf(ctor.prototype, proto);\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (ctor.prototype.__proto__ !== <span class=\"code-literal\">undefined</span>) {\n","        ctor.prototype.__proto__ = proto;\n","      } <span class=\"code-keyword\">else</span> {\n","        ctor.prototype = proto;\n","      }\n","    }\n","    inherit(StubArray, <span class=\"code-built_in\">Array</span>.prototype);\n","    <span class=\"code-comment\">// Weex proto freeze protection was here,</span>\n","    <span class=\"code-comment\">// but it is unclear why the hack is need as MobX never changed the prototype</span>\n","    <span class=\"code-comment\">// anyway, so removed it in V6</span>\n","    <span class=\"code-keyword\">var</span> LegacyObservableArray = <span class=\"code-comment\">/*#__PURE__*/</span><span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">_StubArray</span>) </span>{\n","      <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">LegacyObservableArray</span>(<span class=\"code-params\">initialValues, enhancer, name, owned</span>) </span>{\n","        <span class=\"code-keyword\">var</span> _this;\n","        <span class=\"code-keyword\">if</span> (name === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          name =  <span class=\"code-string\">\"ObservableArray@\"</span> + getNextId() ;\n","        }\n","        <span class=\"code-keyword\">if</span> (owned === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","          owned = <span class=\"code-literal\">false</span>;\n","        }\n","        _this = _StubArray.call(<span class=\"code-keyword\">this</span>) || <span class=\"code-keyword\">this</span>;\n","        initObservable(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","          <span class=\"code-keyword\">var</span> adm = <span class=\"code-keyword\">new</span> ObservableArrayAdministration(name, enhancer, owned, <span class=\"code-literal\">true</span>);\n","          adm.proxy_ = _this;\n","          addHiddenFinalProp(_this, $mobx, adm);\n","          <span class=\"code-keyword\">if</span> (initialValues &amp;&amp; initialValues.length) {\n","            <span class=\"code-comment\">// @ts-ignore</span>\n","            _this.spliceWithArray(<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>, initialValues);\n","          }\n","          <span class=\"code-keyword\">if</span> (safariPrototypeSetterInheritanceBug) {\n","            <span class=\"code-comment\">// Seems that Safari won't use numeric prototype setter until any * numeric property is</span>\n","            <span class=\"code-comment\">// defined on the instance. After that it works fine, even if this property is deleted.</span>\n","            <span class=\"code-built_in\">Object</span>.defineProperty(_this, <span class=\"code-string\">\"0\"</span>, ENTRY_0);\n","          }\n","        });\n","        <span class=\"code-keyword\">return</span> _this;\n","      }\n","      _inheritsLoose(LegacyObservableArray, _StubArray);\n","      <span class=\"code-keyword\">var</span> _proto = LegacyObservableArray.prototype;\n","      _proto.concat = <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">concat</span>(<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">this</span>[$mobx].atom_.reportObserved();\n","        <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> _len = <span class=\"code-built_in\">arguments</span>.length, arrays = <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(_len), _key = <span class=\"code-number\">0</span>; _key &lt; _len; _key++) {\n","          arrays[_key] = <span class=\"code-built_in\">arguments</span>[_key];\n","        }\n","        <span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Array</span>.prototype.concat.apply(<span class=\"code-keyword\">this</span>.slice(),\n","        <span class=\"code-comment\">//@ts-ignore</span>\n","        arrays.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">a</span>) </span>{\n","          <span class=\"code-keyword\">return</span> isObservableArray(a) ? a.slice() : a;\n","        }));\n","      };\n","      _proto[<span class=\"code-built_in\">Symbol</span>.iterator] = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","        <span class=\"code-keyword\">var</span> self = <span class=\"code-keyword\">this</span>;\n","        <span class=\"code-keyword\">var</span> nextIndex = <span class=\"code-number\">0</span>;\n","        <span class=\"code-keyword\">return</span> makeIterable({\n","          next: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">next</span>(<span class=\"code-params\"></span>) </span>{\n","            <span class=\"code-keyword\">return</span> nextIndex &lt; self.length ? {\n","              value: self[nextIndex++],\n","              done: <span class=\"code-literal\">false</span>\n","            } : {\n","              done: <span class=\"code-literal\">true</span>,\n","              value: <span class=\"code-literal\">undefined</span>\n","            };\n","          }\n","        });\n","      };\n","      <span class=\"code-keyword\">return</span> _createClass(LegacyObservableArray, [{\n","        key: <span class=\"code-string\">\"length\"</span>,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[$mobx].getArrayLength_();\n","        },\n","        <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(newLength) {\n","          <span class=\"code-keyword\">this</span>[$mobx].setArrayLength_(newLength);\n","        }\n","      }, {\n","        key: <span class=\"code-built_in\">Symbol</span>.toStringTag,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"Array\"</span>;\n","        }\n","      }]);\n","    }(StubArray);\n","    <span class=\"code-built_in\">Object</span>.entries(arrayExtensions).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">_ref</span>) </span>{\n","      <span class=\"code-keyword\">var</span> prop = _ref[<span class=\"code-number\">0</span>],\n","        fn = _ref[<span class=\"code-number\">1</span>];\n","      <span class=\"code-keyword\">if</span> (prop !== <span class=\"code-string\">\"concat\"</span>) {\n","        addHiddenProp(LegacyObservableArray.prototype, prop, fn);\n","      }\n","    });\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createArrayEntryDescriptor</span>(<span class=\"code-params\">index</span>) </span>{\n","      <span class=\"code-keyword\">return</span> {\n","        enumerable: <span class=\"code-literal\">false</span>,\n","        configurable: <span class=\"code-literal\">true</span>,\n","        <span class=\"code-keyword\">get</span>: function <span class=\"code-keyword\">get</span>() {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[$mobx].get_(index);\n","        },\n","        <span class=\"code-keyword\">set</span>: function <span class=\"code-keyword\">set</span>(value) {\n","          <span class=\"code-keyword\">this</span>[$mobx].set_(index, value);\n","        }\n","      };\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createArrayBufferItem</span>(<span class=\"code-params\">index</span>) </span>{\n","      defineProperty(LegacyObservableArray.prototype, <span class=\"code-string\">\"\"</span> + index, createArrayEntryDescriptor(index));\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">reserveArrayBuffer</span>(<span class=\"code-params\">max</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (max &gt; OBSERVABLE_ARRAY_BUFFER_SIZE) {\n","        <span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> index = OBSERVABLE_ARRAY_BUFFER_SIZE; index &lt; max + <span class=\"code-number\">100</span>; index++) {\n","          createArrayBufferItem(index);\n","        }\n","        OBSERVABLE_ARRAY_BUFFER_SIZE = max;\n","      }\n","    }\n","    reserveArrayBuffer(<span class=\"code-number\">1000</span>);\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createLegacyArray</span>(<span class=\"code-params\">initialValues, enhancer, name</span>) </span>{\n","      <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LegacyObservableArray(initialValues, enhancer, name);\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getAtom</span>(<span class=\"code-params\">thing, property</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> thing === <span class=\"code-string\">\"object\"</span> &amp;&amp; thing !== <span class=\"code-literal\">null</span>) {\n","        <span class=\"code-keyword\">if</span> (isObservableArray(thing)) {\n","          <span class=\"code-keyword\">if</span> (property !== <span class=\"code-literal\">undefined</span>) {\n","            die(<span class=\"code-number\">23</span>);\n","          }\n","          <span class=\"code-keyword\">return</span> thing[$mobx].atom_;\n","        }\n","        <span class=\"code-keyword\">if</span> (isObservableSet(thing)) {\n","          <span class=\"code-keyword\">return</span> thing.atom_;\n","        }\n","        <span class=\"code-keyword\">if</span> (isObservableMap(thing)) {\n","          <span class=\"code-keyword\">if</span> (property === <span class=\"code-literal\">undefined</span>) {\n","            <span class=\"code-keyword\">return</span> thing.keysAtom_;\n","          }\n","          <span class=\"code-keyword\">var</span> observable = thing.data_.get(property) || thing.hasMap_.get(property);\n","          <span class=\"code-keyword\">if</span> (!observable) {\n","            die(<span class=\"code-number\">25</span>, property, getDebugName(thing));\n","          }\n","          <span class=\"code-keyword\">return</span> observable;\n","        }\n","        <span class=\"code-keyword\">if</span> (isObservableObject(thing)) {\n","          <span class=\"code-keyword\">if</span> (!property) {\n","            <span class=\"code-keyword\">return</span> die(<span class=\"code-number\">26</span>);\n","          }\n","          <span class=\"code-keyword\">var</span> _observable = thing[$mobx].values_.get(property);\n","          <span class=\"code-keyword\">if</span> (!_observable) {\n","            die(<span class=\"code-number\">27</span>, property, getDebugName(thing));\n","          }\n","          <span class=\"code-keyword\">return</span> _observable;\n","        }\n","        <span class=\"code-keyword\">if</span> (isAtom(thing) || isComputedValue(thing) || isReaction(thing)) {\n","          <span class=\"code-keyword\">return</span> thing;\n","        }\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (isFunction(thing)) {\n","        <span class=\"code-keyword\">if</span> (isReaction(thing[$mobx])) {\n","          <span class=\"code-comment\">// disposer function</span>\n","          <span class=\"code-keyword\">return</span> thing[$mobx];\n","        }\n","      }\n","      die(<span class=\"code-number\">28</span>);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getAdministration</span>(<span class=\"code-params\">thing, property</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (!thing) {\n","        die(<span class=\"code-number\">29</span>);\n","      }\n","      <span class=\"code-keyword\">if</span> (property !== <span class=\"code-literal\">undefined</span>) {\n","        <span class=\"code-keyword\">return</span> getAdministration(getAtom(thing, property));\n","      }\n","      <span class=\"code-keyword\">if</span> (isAtom(thing) || isComputedValue(thing) || isReaction(thing)) {\n","        <span class=\"code-keyword\">return</span> thing;\n","      }\n","      <span class=\"code-keyword\">if</span> (isObservableMap(thing) || isObservableSet(thing)) {\n","        <span class=\"code-keyword\">return</span> thing;\n","      }\n","      <span class=\"code-keyword\">if</span> (thing[$mobx]) {\n","        <span class=\"code-keyword\">return</span> thing[$mobx];\n","      }\n","      die(<span class=\"code-number\">24</span>, thing);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getDebugName</span>(<span class=\"code-params\">thing, property</span>) </span>{\n","      <span class=\"code-keyword\">var</span> named;\n","      <span class=\"code-keyword\">if</span> (property !== <span class=\"code-literal\">undefined</span>) {\n","        named = getAtom(thing, property);\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (isAction(thing)) {\n","        <span class=\"code-keyword\">return</span> thing.name;\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (isObservableObject(thing) || isObservableMap(thing) || isObservableSet(thing)) {\n","        named = getAdministration(thing);\n","      } <span class=\"code-keyword\">else</span> {\n","        <span class=\"code-comment\">// valid for arrays as well</span>\n","        named = getAtom(thing);\n","      }\n","      <span class=\"code-keyword\">return</span> named.name_;\n","    }\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * Helper function for initializing observable structures, it applies:\n</span>","<span class=\"code-comment\">     * 1. allowStateChanges so we don't violate enforceActions.\n</span>","<span class=\"code-comment\">     * 2. untracked so we don't accidentaly subscribe to anything observable accessed during init in case the observable is created inside derivation.\n</span>","<span class=\"code-comment\">     * 3. batch to avoid state version updates\n</span>","<span class=\"code-comment\">     */</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">initObservable</span>(<span class=\"code-params\">cb</span>) </span>{\n","      <span class=\"code-keyword\">var</span> derivation = untrackedStart();\n","      <span class=\"code-keyword\">var</span> allowStateChanges = allowStateChangesStart(<span class=\"code-literal\">true</span>);\n","      startBatch();\n","      <span class=\"code-keyword\">try</span> {\n","        <span class=\"code-keyword\">return</span> cb();\n","      } <span class=\"code-keyword\">finally</span> {\n","        endBatch();\n","        allowStateChangesEnd(allowStateChanges);\n","        untrackedEnd(derivation);\n","      }\n","    }\n","\n","    <span class=\"code-keyword\">var</span> toString = objectPrototype.toString;\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">deepEqual</span>(<span class=\"code-params\">a, b, depth</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (depth === <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>) {\n","        depth = <span class=\"code-number\">-1</span>;\n","      }\n","      <span class=\"code-keyword\">return</span> eq(a, b, depth);\n","    }\n","    <span class=\"code-comment\">// Copied from https://github.com/jashkenas/underscore/blob/5c237a7c682fb68fd5378203f0bf22dce1624854/underscore.js#L1186-L1289</span>\n","    <span class=\"code-comment\">// Internal recursive comparison function for `isEqual`.</span>\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">eq</span>(<span class=\"code-params\">a, b, depth, aStack, bStack</span>) </span>{\n","      <span class=\"code-comment\">// Identical objects are equal. `0 === -0`, but they aren't identical.</span>\n","      <span class=\"code-comment\">// See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).</span>\n","      <span class=\"code-keyword\">if</span> (a === b) {\n","        <span class=\"code-keyword\">return</span> a !== <span class=\"code-number\">0</span> || <span class=\"code-number\">1</span> / a === <span class=\"code-number\">1</span> / b;\n","      }\n","      <span class=\"code-comment\">// `null` or `undefined` only equal to itself (strict comparison).</span>\n","      <span class=\"code-keyword\">if</span> (a == <span class=\"code-literal\">null</span> || b == <span class=\"code-literal\">null</span>) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","      }\n","      <span class=\"code-comment\">// `NaN`s are equivalent, but non-reflexive.</span>\n","      <span class=\"code-keyword\">if</span> (a !== a) {\n","        <span class=\"code-keyword\">return</span> b !== b;\n","      }\n","      <span class=\"code-comment\">// Exhaust primitive checks</span>\n","      <span class=\"code-keyword\">var</span> type = <span class=\"code-keyword\">typeof</span> a;\n","      <span class=\"code-keyword\">if</span> (type !== <span class=\"code-string\">\"function\"</span> &amp;&amp; type !== <span class=\"code-string\">\"object\"</span> &amp;&amp; <span class=\"code-keyword\">typeof</span> b != <span class=\"code-string\">\"object\"</span>) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","      }\n","      <span class=\"code-comment\">// Compare `[[Class]]` names.</span>\n","      <span class=\"code-keyword\">var</span> className = toString.call(a);\n","      <span class=\"code-keyword\">if</span> (className !== toString.call(b)) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","      }\n","      <span class=\"code-keyword\">switch</span> (className) {\n","        <span class=\"code-comment\">// Strings, numbers, regular expressions, dates, and booleans are compared by value.</span>\n","        <span class=\"code-keyword\">case</span> <span class=\"code-string\">\"[object RegExp]\"</span>:\n","        <span class=\"code-comment\">// RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')</span>\n","        <span class=\"code-keyword\">case</span> <span class=\"code-string\">\"[object String]\"</span>:\n","          <span class=\"code-comment\">// Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is</span>\n","          <span class=\"code-comment\">// equivalent to `new String(\"5\")`.</span>\n","          <span class=\"code-keyword\">return</span> <span class=\"code-string\">\"\"</span> + a === <span class=\"code-string\">\"\"</span> + b;\n","        <span class=\"code-keyword\">case</span> <span class=\"code-string\">\"[object Number]\"</span>:\n","          <span class=\"code-comment\">// `NaN`s are equivalent, but non-reflexive.</span>\n","          <span class=\"code-comment\">// Object(NaN) is equivalent to NaN.</span>\n","          <span class=\"code-keyword\">if</span> (+a !== +a) {\n","            <span class=\"code-keyword\">return</span> +b !== +b;\n","          }\n","          <span class=\"code-comment\">// An `egal` comparison is performed for other numeric values.</span>\n","          <span class=\"code-keyword\">return</span> +a === <span class=\"code-number\">0</span> ? <span class=\"code-number\">1</span> / +a === <span class=\"code-number\">1</span> / b : +a === +b;\n","        <span class=\"code-keyword\">case</span> <span class=\"code-string\">\"[object Date]\"</span>:\n","        <span class=\"code-keyword\">case</span> <span class=\"code-string\">\"[object Boolean]\"</span>:\n","          <span class=\"code-comment\">// Coerce dates and booleans to numeric primitive values. Dates are compared by their</span>\n","          <span class=\"code-comment\">// millisecond representations. Note that invalid dates with millisecond representations</span>\n","          <span class=\"code-comment\">// of `NaN` are not equivalent.</span>\n","          <span class=\"code-keyword\">return</span> +a === +b;\n","        <span class=\"code-keyword\">case</span> <span class=\"code-string\">\"[object Symbol]\"</span>:\n","          <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span> !== <span class=\"code-string\">\"undefined\"</span> &amp;&amp; <span class=\"code-built_in\">Symbol</span>.valueOf.call(a) === <span class=\"code-built_in\">Symbol</span>.valueOf.call(b);\n","        <span class=\"code-keyword\">case</span> <span class=\"code-string\">\"[object Map]\"</span>:\n","        <span class=\"code-keyword\">case</span> <span class=\"code-string\">\"[object Set]\"</span>:\n","          <span class=\"code-comment\">// Maps and Sets are unwrapped to arrays of entry-pairs, adding an incidental level.</span>\n","          <span class=\"code-comment\">// Hide this extra level by increasing the depth.</span>\n","          <span class=\"code-keyword\">if</span> (depth &gt;= <span class=\"code-number\">0</span>) {\n","            depth++;\n","          }\n","          <span class=\"code-keyword\">break</span>;\n","      }\n","      <span class=\"code-comment\">// Unwrap any wrapped objects.</span>\n","      a = unwrap(a);\n","      b = unwrap(b);\n","      <span class=\"code-keyword\">var</span> areArrays = className === <span class=\"code-string\">\"[object Array]\"</span>;\n","      <span class=\"code-keyword\">if</span> (!areArrays) {\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> a != <span class=\"code-string\">\"object\"</span> || <span class=\"code-keyword\">typeof</span> b != <span class=\"code-string\">\"object\"</span>) {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","        }\n","        <span class=\"code-comment\">// Objects with different constructors are not equivalent, but `Object`s or `Array`s</span>\n","        <span class=\"code-comment\">// from different frames are.</span>\n","        <span class=\"code-keyword\">var</span> aCtor = a.constructor,\n","          bCtor = b.constructor;\n","        <span class=\"code-keyword\">if</span> (aCtor !== bCtor &amp;&amp; !(isFunction(aCtor) &amp;&amp; aCtor <span class=\"code-keyword\">instanceof</span> aCtor &amp;&amp; isFunction(bCtor) &amp;&amp; bCtor <span class=\"code-keyword\">instanceof</span> bCtor) &amp;&amp; <span class=\"code-string\">\"constructor\"</span> <span class=\"code-keyword\">in</span> a &amp;&amp; <span class=\"code-string\">\"constructor\"</span> <span class=\"code-keyword\">in</span> b) {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","        }\n","      }\n","      <span class=\"code-keyword\">if</span> (depth === <span class=\"code-number\">0</span>) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","      } <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (depth &lt; <span class=\"code-number\">0</span>) {\n","        depth = <span class=\"code-number\">-1</span>;\n","      }\n","      <span class=\"code-comment\">// Assume equality for cyclic structures. The algorithm for detecting cyclic</span>\n","      <span class=\"code-comment\">// structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.</span>\n","      <span class=\"code-comment\">// Initializing stack of traversed objects.</span>\n","      <span class=\"code-comment\">// It's done here since we only need them for objects and arrays comparison.</span>\n","      aStack = aStack || [];\n","      bStack = bStack || [];\n","      <span class=\"code-keyword\">var</span> length = aStack.length;\n","      <span class=\"code-keyword\">while</span> (length--) {\n","        <span class=\"code-comment\">// Linear search. Performance is inversely proportional to the number of</span>\n","        <span class=\"code-comment\">// unique nested structures.</span>\n","        <span class=\"code-keyword\">if</span> (aStack[length] === a) {\n","          <span class=\"code-keyword\">return</span> bStack[length] === b;\n","        }\n","      }\n","      <span class=\"code-comment\">// Add the first object to the stack of traversed objects.</span>\n","      aStack.push(a);\n","      bStack.push(b);\n","      <span class=\"code-comment\">// Recursively compare objects and arrays.</span>\n","      <span class=\"code-keyword\">if</span> (areArrays) {\n","        <span class=\"code-comment\">// Compare array lengths to determine if a deep comparison is necessary.</span>\n","        length = a.length;\n","        <span class=\"code-keyword\">if</span> (length !== b.length) {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","        }\n","        <span class=\"code-comment\">// Deep compare the contents, ignoring non-numeric properties.</span>\n","        <span class=\"code-keyword\">while</span> (length--) {\n","          <span class=\"code-keyword\">if</span> (!eq(a[length], b[length], depth - <span class=\"code-number\">1</span>, aStack, bStack)) {\n","            <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","          }\n","        }\n","      } <span class=\"code-keyword\">else</span> {\n","        <span class=\"code-comment\">// Deep compare objects.</span>\n","        <span class=\"code-keyword\">var</span> keys = <span class=\"code-built_in\">Object</span>.keys(a);\n","        <span class=\"code-keyword\">var</span> key;\n","        length = keys.length;\n","        <span class=\"code-comment\">// Ensure that both objects contain the same number of properties before comparing deep equality.</span>\n","        <span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">Object</span>.keys(b).length !== length) {\n","          <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","        }\n","        <span class=\"code-keyword\">while</span> (length--) {\n","          <span class=\"code-comment\">// Deep compare each member</span>\n","          key = keys[length];\n","          <span class=\"code-keyword\">if</span> (!(hasProp(b, key) &amp;&amp; eq(a[key], b[key], depth - <span class=\"code-number\">1</span>, aStack, bStack))) {\n","            <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","          }\n","        }\n","      }\n","      <span class=\"code-comment\">// Remove the first object from the stack of traversed objects.</span>\n","      aStack.pop();\n","      bStack.pop();\n","      <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">unwrap</span>(<span class=\"code-params\">a</span>) </span>{\n","      <span class=\"code-keyword\">if</span> (isObservableArray(a)) {\n","        <span class=\"code-keyword\">return</span> a.slice();\n","      }\n","      <span class=\"code-keyword\">if</span> (isES6Map(a) || isObservableMap(a)) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Array</span>.from(a.entries());\n","      }\n","      <span class=\"code-keyword\">if</span> (isES6Set(a) || isObservableSet(a)) {\n","        <span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Array</span>.from(a.entries());\n","      }\n","      <span class=\"code-keyword\">return</span> a;\n","    }\n","\n","    <span class=\"code-keyword\">var</span> _getGlobal$Iterator;\n","    <span class=\"code-comment\">// safely get iterator prototype if available</span>\n","    <span class=\"code-keyword\">var</span> maybeIteratorPrototype = ((_getGlobal$Iterator = <span class=\"code-comment\">/*#__PURE__*/</span>getGlobal().Iterator) == <span class=\"code-literal\">null</span> ? <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span> : _getGlobal$Iterator.prototype) || {};\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">makeIterable</span>(<span class=\"code-params\">iterator</span>) </span>{\n","      iterator[<span class=\"code-built_in\">Symbol</span>.iterator] = getSelf;\n","      <span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(maybeIteratorPrototype), iterator);\n","    }\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getSelf</span>(<span class=\"code-params\"></span>) </span>{\n","      <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","    }\n","\n","    <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isAnnotation</span>(<span class=\"code-params\">thing</span>) </span>{\n","      <span class=\"code-keyword\">return</span> (\n","        <span class=\"code-comment\">// Can be function</span>\n","        thing <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Object</span> &amp;&amp; <span class=\"code-keyword\">typeof</span> thing.annotationType_ === <span class=\"code-string\">\"string\"</span> &amp;&amp; isFunction(thing.make_) &amp;&amp; isFunction(thing.extend_)\n","      );\n","    }\n","\n","    <span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">     * (c) Michel Weststrate 2015 - 2020\n</span>","<span class=\"code-comment\">     * MIT Licensed\n</span>","<span class=\"code-comment\">     *\n</span>","<span class=\"code-comment\">     * Welcome to the mobx sources! To get a global overview of how MobX internally works,\n</span>","<span class=\"code-comment\">     * this is a good place to start:\n</span>","<span class=\"code-comment\">     * https://medium.com/@mweststrate/becoming-fully-reactive-an-in-depth-explanation-of-mobservable-55995262a254#.xvbh6qd74\n</span>","<span class=\"code-comment\">     *\n</span>","<span class=\"code-comment\">     * Source folders:\n</span>","<span class=\"code-comment\">     * ===============\n</span>","<span class=\"code-comment\">     *\n</span>","<span class=\"code-comment\">     * - api/     Most of the public static methods exposed by the module can be found here.\n</span>","<span class=\"code-comment\">     * - core/    Implementation of the MobX algorithm; atoms, derivations, reactions, dependency trees, optimizations. Cool stuff can be found here.\n</span>","<span class=\"code-comment\">     * - types/   All the magic that is need to have observable objects, arrays and values is in this folder. Including the modifiers like `asFlat`.\n</span>","<span class=\"code-comment\">     * - utils/   Utility stuff.\n</span>","<span class=\"code-comment\">     *\n</span>","<span class=\"code-comment\">     */</span>\n","    [<span class=\"code-string\">\"Symbol\"</span>, <span class=\"code-string\">\"Map\"</span>, <span class=\"code-string\">\"Set\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">m</span>) </span>{\n","      <span class=\"code-keyword\">var</span> g = getGlobal();\n","      <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> g[m] === <span class=\"code-string\">\"undefined\"</span>) {\n","        die(<span class=\"code-string\">\"MobX requires global '\"</span> + m + <span class=\"code-string\">\"' to be available or polyfilled\"</span>);\n","      }\n","    });\n","    <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> __MOBX_DEVTOOLS_GLOBAL_HOOK__ === <span class=\"code-string\">\"object\"</span>) {\n","      <span class=\"code-comment\">// See: https://github.com/andykog/mobx-devtools/</span>\n","      __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({\n","        spy: spy,\n","        extras: {\n","          getDebugName: getDebugName\n","        },\n","        $mobx: $mobx\n","      });\n","    }\n","\n","    exports.$mobx = $mobx;\n","    exports.FlowCancellationError = FlowCancellationError;\n","    exports.ObservableMap = ObservableMap;\n","    exports.ObservableSet = ObservableSet;\n","    exports.Reaction = Reaction;\n","    exports._allowStateChanges = allowStateChanges;\n","    exports._allowStateChangesInsideComputed = runInAction;\n","    exports._allowStateReadsEnd = allowStateReadsEnd;\n","    exports._allowStateReadsStart = allowStateReadsStart;\n","    exports._autoAction = autoAction;\n","    exports._endAction = _endAction;\n","    exports._getAdministration = getAdministration;\n","    exports._getGlobalState = getGlobalState;\n","    exports._interceptReads = interceptReads;\n","    exports._isComputingDerivation = isComputingDerivation;\n","    exports._resetGlobalState = resetGlobalState;\n","    exports._startAction = _startAction;\n","    exports.action = action;\n","    exports.autorun = autorun;\n","    exports.comparer = comparer;\n","    exports.computed = computed;\n","    exports.configure = configure;\n","    exports.createAtom = createAtom;\n","    exports.defineProperty = apiDefineProperty;\n","    exports.entries = entries;\n","    exports.extendObservable = extendObservable;\n","    exports.flow = flow;\n","    exports.flowResult = flowResult;\n","    exports.get = <span class=\"code-keyword\">get</span>;\n","    exports.getAtom = getAtom;\n","    exports.getDebugName = getDebugName;\n","    exports.getDependencyTree = getDependencyTree;\n","    exports.getObserverTree = getObserverTree;\n","    exports.has = has;\n","    exports.intercept = intercept;\n","    exports.isAction = isAction;\n","    exports.isBoxedObservable = isObservableValue;\n","    exports.isComputed = isComputed;\n","    exports.isComputedProp = isComputedProp;\n","    exports.isFlow = isFlow;\n","    exports.isFlowCancellationError = isFlowCancellationError;\n","    exports.isObservable = isObservable;\n","    exports.isObservableArray = isObservableArray;\n","    exports.isObservableMap = isObservableMap;\n","    exports.isObservableObject = isObservableObject;\n","    exports.isObservableProp = isObservableProp;\n","    exports.isObservableSet = isObservableSet;\n","    exports.keys = keys;\n","    exports.makeAutoObservable = makeAutoObservable;\n","    exports.makeObservable = makeObservable;\n","    exports.observable = observable;\n","    exports.observe = observe;\n","    exports.onBecomeObserved = onBecomeObserved;\n","    exports.onBecomeUnobserved = onBecomeUnobserved;\n","    exports.onReactionError = onReactionError;\n","    exports.override = override;\n","    exports.ownKeys = apiOwnKeys;\n","    exports.reaction = reaction;\n","    exports.remove = remove;\n","    exports.runInAction = runInAction;\n","    exports.<span class=\"code-keyword\">set</span> = <span class=\"code-keyword\">set</span>;\n","    exports.spy = spy;\n","    exports.toJS = toJS;\n","    exports.trace = trace;\n","    exports.transaction = transaction;\n","    exports.untracked = untracked;\n","    exports.values = values;\n","    exports.when = when;\n","\n","    Object.defineProperty(exports, '__esModule', { value: <span class=\"code-literal\">true</span> });\n","\n","})));\n","<span class=\"code-comment\">//# sourceMappingURL=mobx.umd.development.js.map</span>\n",""]}}}</script></head><body><div id="root"><style data-emotion-css="gtfibm">html{box-sizing:border-box;}*,*:before,*:after{box-sizing:inherit;}html,body,#root{height:100%;margin:0;}body{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;font-size:16px;line-height:1.5;overflow-wrap:break-word;background:white;color:black;}code{font-family:Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace;}th,td{padding:0;}select{font-size:inherit;}#root{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><style data-emotion-css="1r6h1r6">.code-listing{background:#fbfdff;color:#383a42;}.code-comment,.code-quote{color:#a0a1a7;font-style:italic;}.code-doctag,.code-keyword,.code-link,.code-formula{color:#a626a4;}.code-section,.code-name,.code-selector-tag,.code-deletion,.code-subst{color:#e45649;}.code-literal{color:#0184bb;}.code-string,.code-regexp,.code-addition,.code-attribute,.code-meta-string{color:#50a14f;}.code-built_in,.code-class .code-title{color:#c18401;}.code-attr,.code-variable,.code-template-variable,.code-type,.code-selector-class,.code-selector-attr,.code-selector-pseudo,.code-number{color:#986801;}.code-symbol,.code-bullet,.code-meta,.code-selector-id,.code-title{color:#4078f2;}.code-emphasis{font-style:italic;}.code-strong{font-weight:bold;}</style><style data-emotion-css="1c3h18e">.css-1c3h18e{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;}</style><div class="css-1c3h18e"><style data-emotion-css="1cfuj1t">.css-1cfuj1t{max-width:940px;padding:0 20px;margin:0 auto;}</style><div class="css-1cfuj1t"><style data-emotion-css="i51og3">.css-i51og3{margin-top:2rem;}</style><header class="css-i51og3"><style data-emotion-css="1y7u1xh">.css-1y7u1xh{text-align:center;font-size:3rem;-webkit-letter-spacing:0.05em;-moz-letter-spacing:0.05em;-ms-letter-spacing:0.05em;letter-spacing:0.05em;}</style><h1 class="css-1y7u1xh"><style data-emotion-css="1ydg16i">.css-1ydg16i{color:#000;-webkit-text-decoration:none;text-decoration:none;}</style><a href="/" class="css-1ydg16i">UNPKG</a></h1></header></div><div class="css-1cfuj1t"><style data-emotion-css="93o42g">.css-93o42g{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (max-width:700px){.css-93o42g{-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}</style><header class="css-93o42g"><style data-emotion-css="1dlpvgi">.css-1dlpvgi{font-size:1.5rem;font-weight:normal;-webkit-flex:1;-ms-flex:1;flex:1;word-break:break-all;}</style><h1 class="css-1dlpvgi"><nav><style data-emotion-css="xt128v">.css-xt128v{color:#0076ff;-webkit-text-decoration:none;text-decoration:none;}.css-xt128v:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="/browse/mobx@6.13.5/" class="css-xt128v">mobx</a><style data-emotion-css="lllnmq">.css-lllnmq{padding-left:5px;padding-right:5px;}</style><span class="css-lllnmq">/</span><a href="/browse/mobx@6.13.5/dist/" class="css-xt128v">dist</a><span class="css-lllnmq">/</span><strong>mobx.umd.development.js</strong></nav></h1><style data-emotion-css="1nr3dab">.css-1nr3dab{margin-left:20px;}@media (max-width:700px){.css-1nr3dab{margin-left:0;margin-bottom:0;}}</style><p class="css-1nr3dab"><label>Version:<!-- --> <style data-emotion-css="un3bt6">.css-un3bt6{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;padding:4px 24px 4px 8px;font-weight:600;font-size:0.9em;color:#24292e;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-color:#eff3f6;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAARFJREFUKBVjZAACNS39RhBNKrh17WI9o4quoT3Dn78HSNUMUs/CzOTI/O7Vi4dCYpJ3/jP+92BkYGAlyiBGhm8MjIxJt65e3MQM0vDu9YvLYmISILYZELOBxHABRkaGr0yMzF23r12YDFIDNgDEePv65SEhEXENBkYGFSAXuyGMjF8Z/jOsvX3tYiFIDwgwQSgIaaijnvj/P8M5IO8HsjiY/f//D4b//88A1SQhywG9jQr09PS4v/1mPAeUUPzP8B8cJowMjL+Bqu6xMQmaXL164AuyDgwDQJLa2qYSP//9vARkCoMVMzK8YeVkNbh+9uxzMB+JwGoASF5Vx0jz/98/18BqmZi171w9D2EjaaYKEwAEK00XQLdJuwAAAABJRU5ErkJggg==);background-position:right 8px center;background-repeat:no-repeat;background-size:auto 25%;}.css-un3bt6:hover{background-color:#e6ebf1;border-color:rgba(27,31,35,.35);}.css-un3bt6:active{background-color:#e9ecef;border-color:rgba(27,31,35,.35);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,.15);}</style><select name="version" class="css-un3bt6"><option value="0.0.0">0.0.0</option><option value="2.0.0">2.0.0</option><option value="2.0.1">2.0.1</option><option value="2.0.2">2.0.2</option><option value="2.0.3">2.0.3</option><option value="2.0.4">2.0.4</option><option value="2.0.5">2.0.5</option><option value="2.0.6">2.0.6</option><option value="2.1.0">2.1.0</option><option value="2.1.1">2.1.1</option><option value="2.1.2">2.1.2</option><option value="2.1.3">2.1.3</option><option value="2.1.4">2.1.4</option><option value="2.1.5">2.1.5</option><option value="2.1.6">2.1.6</option><option value="2.1.7">2.1.7</option><option value="2.2.0-beta.1">2.2.0-beta.1</option><option value="2.2.0">2.2.0</option><option value="2.2.1">2.2.1</option><option value="2.2.2">2.2.2</option><option value="2.3.0">2.3.0</option><option value="2.3.1">2.3.1</option><option value="2.3.2">2.3.2</option><option value="2.3.3">2.3.3</option><option value="2.3.4-iosfix">2.3.4-iosfix</option><option value="2.3.4-iosfix2">2.3.4-iosfix2</option><option value="2.3.4-iosfix3">2.3.4-iosfix3</option><option value="2.3.4">2.3.4</option><option value="2.3.5">2.3.5</option><option value="2.3.6-albert">2.3.6-albert</option><option value="2.3.6">2.3.6</option><option value="2.3.7">2.3.7</option><option value="2.4.0-alpha1">2.4.0-alpha1</option><option value="2.4.0-beta1">2.4.0-beta1</option><option value="2.4.0-fix427">2.4.0-fix427</option><option value="2.4.0-fix441">2.4.0-fix441</option><option value="2.4.0">2.4.0</option><option value="2.4.1">2.4.1</option><option value="2.4.2">2.4.2</option><option value="2.4.3-fix505">2.4.3-fix505</option><option value="2.4.3">2.4.3</option><option value="2.4.4">2.4.4</option><option value="2.5.0-alpha1">2.5.0-alpha1</option><option value="2.5.0-rc1">2.5.0-rc1</option><option value="2.5.0">2.5.0</option><option value="2.5.1">2.5.1</option><option value="2.5.2">2.5.2</option><option value="2.6.0-fix621">2.6.0-fix621</option><option value="2.6.0">2.6.0</option><option value="2.6.1">2.6.1</option><option value="2.6.2">2.6.2</option><option value="2.6.3">2.6.3</option><option value="2.6.4">2.6.4</option><option value="2.6.5">2.6.5</option><option value="2.7.0-beta">2.7.0-beta</option><option value="2.7.0">2.7.0</option><option value="3.0.0-fix-751">3.0.0-fix-751</option><option value="3.0.0-rc.1">3.0.0-rc.1</option><option value="3.0.0-rc.2">3.0.0-rc.2</option><option value="3.0.0">3.0.0</option><option value="3.0.1-fix734">3.0.1-fix734</option><option value="3.0.1-fix734-2">3.0.1-fix734-2</option><option value="3.0.1">3.0.1</option><option value="3.0.2-fix798">3.0.2-fix798</option><option value="3.0.2-fix798-2">3.0.2-fix798-2</option><option value="3.0.2">3.0.2</option><option value="3.1.0">3.1.0</option><option value="3.1.2">3.1.2</option><option value="3.1.3">3.1.3</option><option value="3.1.4">3.1.4</option><option value="3.1.5">3.1.5</option><option value="3.1.6-fix887">3.1.6-fix887</option><option value="3.1.7">3.1.7</option><option value="3.1.8-fix874">3.1.8-fix874</option><option value="3.1.8">3.1.8</option><option value="3.1.9">3.1.9</option><option value="3.1.10">3.1.10</option><option value="3.1.11-rollup">3.1.11-rollup</option><option value="3.1.11">3.1.11</option><option value="3.1.13-fixcra">3.1.13-fixcra</option><option value="3.1.14">3.1.14</option><option value="3.1.15">3.1.15</option><option value="3.1.16">3.1.16</option><option value="3.1.17">3.1.17</option><option value="3.2.0">3.2.0</option><option value="3.2.1">3.2.1</option><option value="3.2.2">3.2.2</option><option value="3.3.0">3.3.0</option><option value="3.3.1">3.3.1</option><option value="3.3.2">3.3.2</option><option value="3.3.3">3.3.3</option><option value="3.4.0">3.4.0</option><option value="3.4.1">3.4.1</option><option value="3.5.1">3.5.1</option><option value="3.6.0">3.6.0</option><option value="3.6.1">3.6.1</option><option value="3.6.2">3.6.2</option><option value="4.0.0-alpha.1">4.0.0-alpha.1</option><option value="4.0.0-alpha.2">4.0.0-alpha.2</option><option value="4.0.0-beta.1">4.0.0-beta.1</option><option value="4.0.0-beta.2">4.0.0-beta.2</option><option value="4.0.0-beta.3">4.0.0-beta.3</option><option value="4.0.0-beta.4">4.0.0-beta.4</option><option value="4.0.0">4.0.0</option><option value="4.0.1">4.0.1</option><option value="4.0.2-fix-rn">4.0.2-fix-rn</option><option value="4.0.2">4.0.2</option><option value="4.1.0">4.1.0</option><option value="4.1.1">4.1.1</option><option value="4.2.0">4.2.0</option><option value="4.2.1">4.2.1</option><option value="4.3.0">4.3.0</option><option value="4.3.1">4.3.1</option><option value="4.3.2">4.3.2</option><option value="4.4.0">4.4.0</option><option value="4.4.1">4.4.1</option><option value="4.4.2">4.4.2</option><option value="4.5.0">4.5.0</option><option value="4.5.1">4.5.1</option><option value="4.5.2">4.5.2</option><option value="4.6.0">4.6.0</option><option value="4.7.0">4.7.0</option><option value="4.8.0">4.8.0</option><option value="4.9.0">4.9.0</option><option value="4.9.1">4.9.1</option><option value="4.9.2">4.9.2</option><option value="4.9.3">4.9.3</option><option value="4.9.4">4.9.4</option><option value="4.10.0">4.10.0</option><option value="4.11.0">4.11.0</option><option value="4.12.0">4.12.0</option><option value="4.13.0">4.13.0</option><option value="4.13.1">4.13.1</option><option value="4.14.0">4.14.0</option><option value="4.14.1">4.14.1</option><option value="4.15.0">4.15.0</option><option value="4.15.1">4.15.1</option><option value="4.15.2">4.15.2</option><option value="4.15.3">4.15.3</option><option value="4.15.4">4.15.4</option><option value="4.15.5">4.15.5</option><option value="4.15.6">4.15.6</option><option value="4.15.7">4.15.7</option><option value="5.0.0-beta.1">5.0.0-beta.1</option><option value="5.0.0-beta.2">5.0.0-beta.2</option><option value="5.0.0-beta.3">5.0.0-beta.3</option><option value="5.0.0-beta.4">5.0.0-beta.4</option><option value="5.0.0-beta.5">5.0.0-beta.5</option><option value="5.0.0-beta.6">5.0.0-beta.6</option><option value="5.0.0-beta.7">5.0.0-beta.7</option><option value="5.0.0">5.0.0</option><option value="5.0.2">5.0.2</option><option value="5.0.3">5.0.3</option><option value="5.0.4">5.0.4</option><option value="5.0.5">5.0.5</option><option value="5.1.0">5.1.0</option><option value="5.1.1">5.1.1</option><option value="5.1.2">5.1.2</option><option value="5.5.0">5.5.0</option><option value="5.5.1">5.5.1</option><option value="5.5.2">5.5.2</option><option value="5.6.0">5.6.0</option><option value="5.7.0">5.7.0</option><option value="5.8.0">5.8.0</option><option value="5.9.0">5.9.0</option><option value="5.9.4-special">5.9.4-special</option><option value="5.9.4">5.9.4</option><option value="5.10.0">5.10.0</option><option value="5.10.1">5.10.1</option><option value="5.11.0">5.11.0</option><option value="5.13.0">5.13.0</option><option value="5.13.1">5.13.1</option><option value="5.14.0">5.14.0</option><option value="5.14.1">5.14.1</option><option value="5.14.2">5.14.2</option><option value="5.15.0">5.15.0</option><option value="5.15.1">5.15.1</option><option value="5.15.2">5.15.2</option><option value="5.15.3">5.15.3</option><option value="5.15.4">5.15.4</option><option value="5.15.5">5.15.5</option><option value="5.15.6">5.15.6</option><option value="5.15.7">5.15.7</option><option value="6.0.0-rc.0">6.0.0-rc.0</option><option value="6.0.0-rc.1">6.0.0-rc.1</option><option value="6.0.0-rc.2">6.0.0-rc.2</option><option value="6.0.0-rc.3">6.0.0-rc.3</option><option value="6.0.0-rc.4">6.0.0-rc.4</option><option value="6.0.0-rc.5">6.0.0-rc.5</option><option value="6.0.0-rc.6">6.0.0-rc.6</option><option value="6.0.0-rc.7">6.0.0-rc.7</option><option value="6.0.0-rc.8">6.0.0-rc.8</option><option value="6.0.0-rc.9">6.0.0-rc.9</option><option value="6.0.0-rc.10">6.0.0-rc.10</option><option value="6.0.0">6.0.0</option><option value="6.0.1">6.0.1</option><option value="6.0.2">6.0.2</option><option value="6.0.3">6.0.3</option><option value="6.0.4">6.0.4</option><option value="6.0.5">6.0.5</option><option value="6.1.0">6.1.0</option><option value="6.1.1">6.1.1</option><option value="6.1.2">6.1.2</option><option value="6.1.3">6.1.3</option><option value="6.1.4">6.1.4</option><option value="6.1.5">6.1.5</option><option value="6.1.6">6.1.6</option><option value="6.1.7">6.1.7</option><option value="6.1.8">6.1.8</option><option value="6.2.0">6.2.0</option><option value="6.3.0">6.3.0</option><option value="6.3.1">6.3.1</option><option value="6.3.2">6.3.2</option><option value="6.3.3">6.3.3</option><option value="6.3.4">6.3.4</option><option value="6.3.5">6.3.5</option><option value="6.3.6">6.3.6</option><option value="6.3.7">6.3.7</option><option value="6.3.8">6.3.8</option><option value="6.3.9">6.3.9</option><option value="6.3.10">6.3.10</option><option value="6.3.11">6.3.11</option><option value="6.3.12">6.3.12</option><option value="6.3.13">6.3.13</option><option value="6.4.0">6.4.0</option><option value="6.4.1">6.4.1</option><option value="6.4.2">6.4.2</option><option value="6.5.0">6.5.0</option><option value="6.6.0">6.6.0</option><option value="6.6.1">6.6.1</option><option value="6.6.2">6.6.2</option><option value="6.7.0">6.7.0</option><option value="6.8.0">6.8.0</option><option value="6.9.0">6.9.0</option><option value="6.9.1">6.9.1</option><option value="6.10.0">6.10.0</option><option value="6.10.1">6.10.1</option><option value="6.10.2">6.10.2</option><option value="6.11.0-pre">6.11.0-pre</option><option value="6.11.0">6.11.0</option><option value="6.12.0">6.12.0</option><option value="6.12.1">6.12.1</option><option value="6.12.3">6.12.3</option><option value="6.12.4">6.12.4</option><option value="6.12.5">6.12.5</option><option value="6.13.0">6.13.0</option><option value="6.13.1">6.13.1</option><option value="6.13.2">6.13.2</option><option value="6.13.3">6.13.3</option><option value="6.13.4">6.13.4</option><option selected="" value="6.13.5">6.13.5</option></select></label></p></header></div><style data-emotion-css="107j3ms">.css-107j3ms{max-width:940px;padding:0 20px;margin:0 auto;}@media (max-width:700px){.css-107j3ms{padding:0;margin:0;}}</style><div class="css-107j3ms"><style data-emotion-css="q3frg4">.css-q3frg4{border:1px solid #dfe2e5;border-radius:3px;}@media (max-width:700px){.css-q3frg4{border-right-width:0;border-left-width:0;}}</style><div class="css-q3frg4"><style data-emotion-css="10o5omr">.css-10o5omr{padding:10px;background:#f6f8fa;color:#424242;border:1px solid #d1d5da;border-top-left-radius:3px;border-top-right-radius:3px;margin:-1px -1px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}@media (max-width:700px){.css-10o5omr{padding-right:20px;padding-left:20px;}}</style><div class="css-10o5omr"><span>229 kB</span><span>JavaScript</span><span><style data-emotion-css="18x593j">.css-18x593j{display:inline-block;margin-left:8px;padding:2px 8px;-webkit-text-decoration:none;text-decoration:none;font-weight:600;font-size:0.9rem;color:#24292e;background-color:#eff3f6;border:1px solid rgba(27,31,35,.2);border-radius:3px;}.css-18x593j:hover{background-color:#e6ebf1;border-color:rgba(27,31,35,.35);}.css-18x593j:active{background-color:#e9ecef;border-color:rgba(27,31,35,.35);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,.15);}</style><a href="/mobx@6.13.5/dist/mobx.umd.development.js" class="css-18x593j">View Raw</a></span></div><style data-emotion-css="1i31ihw">.css-1i31ihw{overflow-x:auto;overflow-y:hidden;padding-top:5px;padding-bottom:5px;}</style><div class="code-listing css-1i31ihw"><style data-emotion-css="173nir8">.css-173nir8{border:none;border-collapse:collapse;border-spacing:0;}</style><table class="css-173nir8"><tbody><tr><style data-emotion-css="a4x74f">.css-a4x74f{padding-left:10px;padding-right:10px;color:rgba(27,31,35,.3);text-align:right;vertical-align:top;width:1%;min-width:50px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><td id="L1" class="css-a4x74f"><span>1</span></td><style data-emotion-css="1dcdqdg">.css-1dcdqdg{padding-left:10px;padding-right:10px;color:#24292e;white-space:pre;}</style><td id="LC1" class="css-1dcdqdg"><code>(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">global, factory</span>) </span>{
</code></td></tr><tr><td id="L2" class="css-a4x74f"><span>2</span></td><td id="LC2" class="css-1dcdqdg"><code>    <span class="code-keyword">typeof</span> exports === <span class="code-string">'object'</span> &amp;&amp; <span class="code-keyword">typeof</span> <span class="code-built_in">module</span> !== <span class="code-string">'undefined'</span> ? factory(exports) :
</code></td></tr><tr><td id="L3" class="css-a4x74f"><span>3</span></td><td id="LC3" class="css-1dcdqdg"><code>    <span class="code-keyword">typeof</span> define === <span class="code-string">'function'</span> &amp;&amp; define.amd ? define([<span class="code-string">'exports'</span>], factory) :
</code></td></tr><tr><td id="L4" class="css-a4x74f"><span>4</span></td><td id="LC4" class="css-1dcdqdg"><code>    (global = global || self, factory(global.mobx = {}));
</code></td></tr><tr><td id="L5" class="css-a4x74f"><span>5</span></td><td id="LC5" class="css-1dcdqdg"><code>}(<span class="code-keyword">this</span>, (<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">exports</span>) </span>{ <span class="code-string">'use strict'</span>;
</code></td></tr><tr><td id="L6" class="css-a4x74f"><span>6</span></td><td id="LC6" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7" class="css-a4x74f"><span>7</span></td><td id="LC7" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> niceErrors = {
</code></td></tr><tr><td id="L8" class="css-a4x74f"><span>8</span></td><td id="LC8" class="css-1dcdqdg"><code>      <span class="code-number">0</span>: <span class="code-string">"Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'"</span>,
</code></td></tr><tr><td id="L9" class="css-a4x74f"><span>9</span></td><td id="LC9" class="css-1dcdqdg"><code>      <span class="code-number">1</span>: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_</span>(<span class="code-params">annotationType, key</span>) </span>{
</code></td></tr><tr><td id="L10" class="css-a4x74f"><span>10</span></td><td id="LC10" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-string">"Cannot apply '"</span> + annotationType + <span class="code-string">"' to '"</span> + key.toString() + <span class="code-string">"': Field not found."</span>;
</code></td></tr><tr><td id="L11" class="css-a4x74f"><span>11</span></td><td id="LC11" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L12" class="css-a4x74f"><span>12</span></td><td id="LC12" class="css-1dcdqdg"><code>      <span class="code-comment">/*
</span></code></td></tr><tr><td id="L13" class="css-a4x74f"><span>13</span></td><td id="LC13" class="css-1dcdqdg"><code><span class="code-comment">      2(prop) {
</span></code></td></tr><tr><td id="L14" class="css-a4x74f"><span>14</span></td><td id="LC14" class="css-1dcdqdg"><code><span class="code-comment">          return `invalid decorator for '${prop.toString()}'`
</span></code></td></tr><tr><td id="L15" class="css-a4x74f"><span>15</span></td><td id="LC15" class="css-1dcdqdg"><code><span class="code-comment">      },
</span></code></td></tr><tr><td id="L16" class="css-a4x74f"><span>16</span></td><td id="LC16" class="css-1dcdqdg"><code><span class="code-comment">      3(prop) {
</span></code></td></tr><tr><td id="L17" class="css-a4x74f"><span>17</span></td><td id="LC17" class="css-1dcdqdg"><code><span class="code-comment">          return `Cannot decorate '${prop.toString()}': action can only be used on properties with a function value.`
</span></code></td></tr><tr><td id="L18" class="css-a4x74f"><span>18</span></td><td id="LC18" class="css-1dcdqdg"><code><span class="code-comment">      },
</span></code></td></tr><tr><td id="L19" class="css-a4x74f"><span>19</span></td><td id="LC19" class="css-1dcdqdg"><code><span class="code-comment">      4(prop) {
</span></code></td></tr><tr><td id="L20" class="css-a4x74f"><span>20</span></td><td id="LC20" class="css-1dcdqdg"><code><span class="code-comment">          return `Cannot decorate '${prop.toString()}': computed can only be used on getter properties.`
</span></code></td></tr><tr><td id="L21" class="css-a4x74f"><span>21</span></td><td id="LC21" class="css-1dcdqdg"><code><span class="code-comment">      },
</span></code></td></tr><tr><td id="L22" class="css-a4x74f"><span>22</span></td><td id="LC22" class="css-1dcdqdg"><code><span class="code-comment">      */</span>
</code></td></tr><tr><td id="L23" class="css-a4x74f"><span>23</span></td><td id="LC23" class="css-1dcdqdg"><code>      <span class="code-number">5</span>: <span class="code-string">"'keys()' can only be used on observable objects, arrays, sets and maps"</span>,
</code></td></tr><tr><td id="L24" class="css-a4x74f"><span>24</span></td><td id="LC24" class="css-1dcdqdg"><code>      <span class="code-number">6</span>: <span class="code-string">"'values()' can only be used on observable objects, arrays, sets and maps"</span>,
</code></td></tr><tr><td id="L25" class="css-a4x74f"><span>25</span></td><td id="LC25" class="css-1dcdqdg"><code>      <span class="code-number">7</span>: <span class="code-string">"'entries()' can only be used on observable objects, arrays and maps"</span>,
</code></td></tr><tr><td id="L26" class="css-a4x74f"><span>26</span></td><td id="LC26" class="css-1dcdqdg"><code>      <span class="code-number">8</span>: <span class="code-string">"'set()' can only be used on observable objects, arrays and maps"</span>,
</code></td></tr><tr><td id="L27" class="css-a4x74f"><span>27</span></td><td id="LC27" class="css-1dcdqdg"><code>      <span class="code-number">9</span>: <span class="code-string">"'remove()' can only be used on observable objects, arrays and maps"</span>,
</code></td></tr><tr><td id="L28" class="css-a4x74f"><span>28</span></td><td id="LC28" class="css-1dcdqdg"><code>      <span class="code-number">10</span>: <span class="code-string">"'has()' can only be used on observable objects, arrays and maps"</span>,
</code></td></tr><tr><td id="L29" class="css-a4x74f"><span>29</span></td><td id="LC29" class="css-1dcdqdg"><code>      <span class="code-number">11</span>: <span class="code-string">"'get()' can only be used on observable objects, arrays and maps"</span>,
</code></td></tr><tr><td id="L30" class="css-a4x74f"><span>30</span></td><td id="LC30" class="css-1dcdqdg"><code>      <span class="code-number">12</span>: <span class="code-string">"Invalid annotation"</span>,
</code></td></tr><tr><td id="L31" class="css-a4x74f"><span>31</span></td><td id="LC31" class="css-1dcdqdg"><code>      <span class="code-number">13</span>: <span class="code-string">"Dynamic observable objects cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)"</span>,
</code></td></tr><tr><td id="L32" class="css-a4x74f"><span>32</span></td><td id="LC32" class="css-1dcdqdg"><code>      <span class="code-number">14</span>: <span class="code-string">"Intercept handlers should return nothing or a change object"</span>,
</code></td></tr><tr><td id="L33" class="css-a4x74f"><span>33</span></td><td id="LC33" class="css-1dcdqdg"><code>      <span class="code-number">15</span>: <span class="code-string">"Observable arrays cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)"</span>,
</code></td></tr><tr><td id="L34" class="css-a4x74f"><span>34</span></td><td id="LC34" class="css-1dcdqdg"><code>      <span class="code-number">16</span>: <span class="code-string">"Modification exception: the internal structure of an observable array was changed."</span>,
</code></td></tr><tr><td id="L35" class="css-a4x74f"><span>35</span></td><td id="LC35" class="css-1dcdqdg"><code>      <span class="code-number">17</span>: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_</span>(<span class="code-params">index, length</span>) </span>{
</code></td></tr><tr><td id="L36" class="css-a4x74f"><span>36</span></td><td id="LC36" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-string">"[mobx.array] Index out of bounds, "</span> + index + <span class="code-string">" is larger than "</span> + length;
</code></td></tr><tr><td id="L37" class="css-a4x74f"><span>37</span></td><td id="LC37" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L38" class="css-a4x74f"><span>38</span></td><td id="LC38" class="css-1dcdqdg"><code>      <span class="code-number">18</span>: <span class="code-string">"mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js"</span>,
</code></td></tr><tr><td id="L39" class="css-a4x74f"><span>39</span></td><td id="LC39" class="css-1dcdqdg"><code>      <span class="code-number">19</span>: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_</span>(<span class="code-params">other</span>) </span>{
</code></td></tr><tr><td id="L40" class="css-a4x74f"><span>40</span></td><td id="LC40" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-string">"Cannot initialize from classes that inherit from Map: "</span> + other.constructor.name;
</code></td></tr><tr><td id="L41" class="css-a4x74f"><span>41</span></td><td id="LC41" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L42" class="css-a4x74f"><span>42</span></td><td id="LC42" class="css-1dcdqdg"><code>      <span class="code-number">20</span>: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_</span>(<span class="code-params">other</span>) </span>{
</code></td></tr><tr><td id="L43" class="css-a4x74f"><span>43</span></td><td id="LC43" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-string">"Cannot initialize map from "</span> + other;
</code></td></tr><tr><td id="L44" class="css-a4x74f"><span>44</span></td><td id="LC44" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L45" class="css-a4x74f"><span>45</span></td><td id="LC45" class="css-1dcdqdg"><code>      <span class="code-number">21</span>: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_</span>(<span class="code-params">dataStructure</span>) </span>{
</code></td></tr><tr><td id="L46" class="css-a4x74f"><span>46</span></td><td id="LC46" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-string">"Cannot convert to map from '"</span> + dataStructure + <span class="code-string">"'"</span>;
</code></td></tr><tr><td id="L47" class="css-a4x74f"><span>47</span></td><td id="LC47" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L48" class="css-a4x74f"><span>48</span></td><td id="LC48" class="css-1dcdqdg"><code>      <span class="code-number">22</span>: <span class="code-string">"mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js"</span>,
</code></td></tr><tr><td id="L49" class="css-a4x74f"><span>49</span></td><td id="LC49" class="css-1dcdqdg"><code>      <span class="code-number">23</span>: <span class="code-string">"It is not possible to get index atoms from arrays"</span>,
</code></td></tr><tr><td id="L50" class="css-a4x74f"><span>50</span></td><td id="LC50" class="css-1dcdqdg"><code>      <span class="code-number">24</span>: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_</span>(<span class="code-params">thing</span>) </span>{
</code></td></tr><tr><td id="L51" class="css-a4x74f"><span>51</span></td><td id="LC51" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-string">"Cannot obtain administration from "</span> + thing;
</code></td></tr><tr><td id="L52" class="css-a4x74f"><span>52</span></td><td id="LC52" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L53" class="css-a4x74f"><span>53</span></td><td id="LC53" class="css-1dcdqdg"><code>      <span class="code-number">25</span>: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_</span>(<span class="code-params">property, name</span>) </span>{
</code></td></tr><tr><td id="L54" class="css-a4x74f"><span>54</span></td><td id="LC54" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-string">"the entry '"</span> + property + <span class="code-string">"' does not exist in the observable map '"</span> + name + <span class="code-string">"'"</span>;
</code></td></tr><tr><td id="L55" class="css-a4x74f"><span>55</span></td><td id="LC55" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L56" class="css-a4x74f"><span>56</span></td><td id="LC56" class="css-1dcdqdg"><code>      <span class="code-number">26</span>: <span class="code-string">"please specify a property"</span>,
</code></td></tr><tr><td id="L57" class="css-a4x74f"><span>57</span></td><td id="LC57" class="css-1dcdqdg"><code>      <span class="code-number">27</span>: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_</span>(<span class="code-params">property, name</span>) </span>{
</code></td></tr><tr><td id="L58" class="css-a4x74f"><span>58</span></td><td id="LC58" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-string">"no observable property '"</span> + property.toString() + <span class="code-string">"' found on the observable object '"</span> + name + <span class="code-string">"'"</span>;
</code></td></tr><tr><td id="L59" class="css-a4x74f"><span>59</span></td><td id="LC59" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L60" class="css-a4x74f"><span>60</span></td><td id="LC60" class="css-1dcdqdg"><code>      <span class="code-number">28</span>: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_</span>(<span class="code-params">thing</span>) </span>{
</code></td></tr><tr><td id="L61" class="css-a4x74f"><span>61</span></td><td id="LC61" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-string">"Cannot obtain atom from "</span> + thing;
</code></td></tr><tr><td id="L62" class="css-a4x74f"><span>62</span></td><td id="LC62" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L63" class="css-a4x74f"><span>63</span></td><td id="LC63" class="css-1dcdqdg"><code>      <span class="code-number">29</span>: <span class="code-string">"Expecting some object"</span>,
</code></td></tr><tr><td id="L64" class="css-a4x74f"><span>64</span></td><td id="LC64" class="css-1dcdqdg"><code>      <span class="code-number">30</span>: <span class="code-string">"invalid action stack. did you forget to finish an action?"</span>,
</code></td></tr><tr><td id="L65" class="css-a4x74f"><span>65</span></td><td id="LC65" class="css-1dcdqdg"><code>      <span class="code-number">31</span>: <span class="code-string">"missing option for computed: get"</span>,
</code></td></tr><tr><td id="L66" class="css-a4x74f"><span>66</span></td><td id="LC66" class="css-1dcdqdg"><code>      <span class="code-number">32</span>: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_</span>(<span class="code-params">name, derivation</span>) </span>{
</code></td></tr><tr><td id="L67" class="css-a4x74f"><span>67</span></td><td id="LC67" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-string">"Cycle detected in computation "</span> + name + <span class="code-string">": "</span> + derivation;
</code></td></tr><tr><td id="L68" class="css-a4x74f"><span>68</span></td><td id="LC68" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L69" class="css-a4x74f"><span>69</span></td><td id="LC69" class="css-1dcdqdg"><code>      <span class="code-number">33</span>: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_</span>(<span class="code-params">name</span>) </span>{
</code></td></tr><tr><td id="L70" class="css-a4x74f"><span>70</span></td><td id="LC70" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-string">"The setter of computed value '"</span> + name + <span class="code-string">"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"</span>;
</code></td></tr><tr><td id="L71" class="css-a4x74f"><span>71</span></td><td id="LC71" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L72" class="css-a4x74f"><span>72</span></td><td id="LC72" class="css-1dcdqdg"><code>      <span class="code-number">34</span>: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_</span>(<span class="code-params">name</span>) </span>{
</code></td></tr><tr><td id="L73" class="css-a4x74f"><span>73</span></td><td id="LC73" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-string">"[ComputedValue '"</span> + name + <span class="code-string">"'] It is not possible to assign a new value to a computed value."</span>;
</code></td></tr><tr><td id="L74" class="css-a4x74f"><span>74</span></td><td id="LC74" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L75" class="css-a4x74f"><span>75</span></td><td id="LC75" class="css-1dcdqdg"><code>      <span class="code-number">35</span>: <span class="code-string">"There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`"</span>,
</code></td></tr><tr><td id="L76" class="css-a4x74f"><span>76</span></td><td id="LC76" class="css-1dcdqdg"><code>      <span class="code-number">36</span>: <span class="code-string">"isolateGlobalState should be called before MobX is running any reactions"</span>,
</code></td></tr><tr><td id="L77" class="css-a4x74f"><span>77</span></td><td id="LC77" class="css-1dcdqdg"><code>      <span class="code-number">37</span>: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_</span>(<span class="code-params">method</span>) </span>{
</code></td></tr><tr><td id="L78" class="css-a4x74f"><span>78</span></td><td id="LC78" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-string">"[mobx] `observableArray."</span> + method + <span class="code-string">"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice()."</span> + method + <span class="code-string">"()` instead"</span>;
</code></td></tr><tr><td id="L79" class="css-a4x74f"><span>79</span></td><td id="LC79" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L80" class="css-a4x74f"><span>80</span></td><td id="LC80" class="css-1dcdqdg"><code>      <span class="code-number">38</span>: <span class="code-string">"'ownKeys()' can only be used on observable objects"</span>,
</code></td></tr><tr><td id="L81" class="css-a4x74f"><span>81</span></td><td id="LC81" class="css-1dcdqdg"><code>      <span class="code-number">39</span>: <span class="code-string">"'defineProperty()' can only be used on observable objects"</span>
</code></td></tr><tr><td id="L82" class="css-a4x74f"><span>82</span></td><td id="LC82" class="css-1dcdqdg"><code>    };
</code></td></tr><tr><td id="L83" class="css-a4x74f"><span>83</span></td><td id="LC83" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> errors =  niceErrors ;
</code></td></tr><tr><td id="L84" class="css-a4x74f"><span>84</span></td><td id="LC84" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">die</span>(<span class="code-params">error</span>) </span>{
</code></td></tr><tr><td id="L85" class="css-a4x74f"><span>85</span></td><td id="LC85" class="css-1dcdqdg"><code>      <span class="code-keyword">for</span> (<span class="code-keyword">var</span> _len = <span class="code-built_in">arguments</span>.length, args = <span class="code-keyword">new</span> <span class="code-built_in">Array</span>(_len &gt; <span class="code-number">1</span> ? _len - <span class="code-number">1</span> : <span class="code-number">0</span>), _key = <span class="code-number">1</span>; _key &lt; _len; _key++) {
</code></td></tr><tr><td id="L86" class="css-a4x74f"><span>86</span></td><td id="LC86" class="css-1dcdqdg"><code>        args[_key - <span class="code-number">1</span>] = <span class="code-built_in">arguments</span>[_key];
</code></td></tr><tr><td id="L87" class="css-a4x74f"><span>87</span></td><td id="LC87" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L88" class="css-a4x74f"><span>88</span></td><td id="LC88" class="css-1dcdqdg"><code>      {
</code></td></tr><tr><td id="L89" class="css-a4x74f"><span>89</span></td><td id="LC89" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> e = <span class="code-keyword">typeof</span> error === <span class="code-string">"string"</span> ? error : errors[error];
</code></td></tr><tr><td id="L90" class="css-a4x74f"><span>90</span></td><td id="LC90" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> e === <span class="code-string">"function"</span>) e = e.apply(<span class="code-literal">null</span>, args);
</code></td></tr><tr><td id="L91" class="css-a4x74f"><span>91</span></td><td id="LC91" class="css-1dcdqdg"><code>        <span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"[MobX] "</span> + e);
</code></td></tr><tr><td id="L92" class="css-a4x74f"><span>92</span></td><td id="LC92" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L93" class="css-a4x74f"><span>93</span></td><td id="LC93" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L94" class="css-a4x74f"><span>94</span></td><td id="LC94" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L95" class="css-a4x74f"><span>95</span></td><td id="LC95" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> mockGlobal = {};
</code></td></tr><tr><td id="L96" class="css-a4x74f"><span>96</span></td><td id="LC96" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getGlobal</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L97" class="css-a4x74f"><span>97</span></td><td id="LC97" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> globalThis !== <span class="code-string">"undefined"</span>) {
</code></td></tr><tr><td id="L98" class="css-a4x74f"><span>98</span></td><td id="LC98" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> globalThis;
</code></td></tr><tr><td id="L99" class="css-a4x74f"><span>99</span></td><td id="LC99" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L100" class="css-a4x74f"><span>100</span></td><td id="LC100" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> <span class="code-built_in">window</span> !== <span class="code-string">"undefined"</span>) {
</code></td></tr><tr><td id="L101" class="css-a4x74f"><span>101</span></td><td id="LC101" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-built_in">window</span>;
</code></td></tr><tr><td id="L102" class="css-a4x74f"><span>102</span></td><td id="LC102" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L103" class="css-a4x74f"><span>103</span></td><td id="LC103" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> global !== <span class="code-string">"undefined"</span>) {
</code></td></tr><tr><td id="L104" class="css-a4x74f"><span>104</span></td><td id="LC104" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> global;
</code></td></tr><tr><td id="L105" class="css-a4x74f"><span>105</span></td><td id="LC105" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L106" class="css-a4x74f"><span>106</span></td><td id="LC106" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> self !== <span class="code-string">"undefined"</span>) {
</code></td></tr><tr><td id="L107" class="css-a4x74f"><span>107</span></td><td id="LC107" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> self;
</code></td></tr><tr><td id="L108" class="css-a4x74f"><span>108</span></td><td id="LC108" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L109" class="css-a4x74f"><span>109</span></td><td id="LC109" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> mockGlobal;
</code></td></tr><tr><td id="L110" class="css-a4x74f"><span>110</span></td><td id="LC110" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L111" class="css-a4x74f"><span>111</span></td><td id="LC111" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L112" class="css-a4x74f"><span>112</span></td><td id="LC112" class="css-1dcdqdg"><code>    <span class="code-comment">// We shorten anything used &gt; 5 times</span>
</code></td></tr><tr><td id="L113" class="css-a4x74f"><span>113</span></td><td id="LC113" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> assign = <span class="code-built_in">Object</span>.assign;
</code></td></tr><tr><td id="L114" class="css-a4x74f"><span>114</span></td><td id="LC114" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> getDescriptor = <span class="code-built_in">Object</span>.getOwnPropertyDescriptor;
</code></td></tr><tr><td id="L115" class="css-a4x74f"><span>115</span></td><td id="LC115" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> defineProperty = <span class="code-built_in">Object</span>.defineProperty;
</code></td></tr><tr><td id="L116" class="css-a4x74f"><span>116</span></td><td id="LC116" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> objectPrototype = <span class="code-built_in">Object</span>.prototype;
</code></td></tr><tr><td id="L117" class="css-a4x74f"><span>117</span></td><td id="LC117" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> EMPTY_ARRAY = [];
</code></td></tr><tr><td id="L118" class="css-a4x74f"><span>118</span></td><td id="LC118" class="css-1dcdqdg"><code>    <span class="code-built_in">Object</span>.freeze(EMPTY_ARRAY);
</code></td></tr><tr><td id="L119" class="css-a4x74f"><span>119</span></td><td id="LC119" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> EMPTY_OBJECT = {};
</code></td></tr><tr><td id="L120" class="css-a4x74f"><span>120</span></td><td id="LC120" class="css-1dcdqdg"><code>    <span class="code-built_in">Object</span>.freeze(EMPTY_OBJECT);
</code></td></tr><tr><td id="L121" class="css-a4x74f"><span>121</span></td><td id="LC121" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> hasProxy = <span class="code-keyword">typeof</span> <span class="code-built_in">Proxy</span> !== <span class="code-string">"undefined"</span>;
</code></td></tr><tr><td id="L122" class="css-a4x74f"><span>122</span></td><td id="LC122" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> plainObjectString = <span class="code-comment">/*#__PURE__*/</span><span class="code-built_in">Object</span>.toString();
</code></td></tr><tr><td id="L123" class="css-a4x74f"><span>123</span></td><td id="LC123" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">assertProxies</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L124" class="css-a4x74f"><span>124</span></td><td id="LC124" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!hasProxy) {
</code></td></tr><tr><td id="L125" class="css-a4x74f"><span>125</span></td><td id="LC125" class="css-1dcdqdg"><code>        die( <span class="code-string">"`Proxy` objects are not available in the current environment. Please configure MobX to enable a fallback implementation.`"</span> );
</code></td></tr><tr><td id="L126" class="css-a4x74f"><span>126</span></td><td id="LC126" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L127" class="css-a4x74f"><span>127</span></td><td id="LC127" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L128" class="css-a4x74f"><span>128</span></td><td id="LC128" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">warnAboutProxyRequirement</span>(<span class="code-params">msg</span>) </span>{
</code></td></tr><tr><td id="L129" class="css-a4x74f"><span>129</span></td><td id="LC129" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( globalState.verifyProxies) {
</code></td></tr><tr><td id="L130" class="css-a4x74f"><span>130</span></td><td id="LC130" class="css-1dcdqdg"><code>        die(<span class="code-string">"MobX is currently configured to be able to run in ES5 mode, but in ES5 MobX won't be able to "</span> + msg);
</code></td></tr><tr><td id="L131" class="css-a4x74f"><span>131</span></td><td id="LC131" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L132" class="css-a4x74f"><span>132</span></td><td id="LC132" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L133" class="css-a4x74f"><span>133</span></td><td id="LC133" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getNextId</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L134" class="css-a4x74f"><span>134</span></td><td id="LC134" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> ++globalState.mobxGuid;
</code></td></tr><tr><td id="L135" class="css-a4x74f"><span>135</span></td><td id="LC135" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L136" class="css-a4x74f"><span>136</span></td><td id="LC136" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L137" class="css-a4x74f"><span>137</span></td><td id="LC137" class="css-1dcdqdg"><code><span class="code-comment">     * Makes sure that the provided function is invoked at most once.
</span></code></td></tr><tr><td id="L138" class="css-a4x74f"><span>138</span></td><td id="LC138" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L139" class="css-a4x74f"><span>139</span></td><td id="LC139" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">once</span>(<span class="code-params">func</span>) </span>{
</code></td></tr><tr><td id="L140" class="css-a4x74f"><span>140</span></td><td id="LC140" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> invoked = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L141" class="css-a4x74f"><span>141</span></td><td id="LC141" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L142" class="css-a4x74f"><span>142</span></td><td id="LC142" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (invoked) {
</code></td></tr><tr><td id="L143" class="css-a4x74f"><span>143</span></td><td id="LC143" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L144" class="css-a4x74f"><span>144</span></td><td id="LC144" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L145" class="css-a4x74f"><span>145</span></td><td id="LC145" class="css-1dcdqdg"><code>        invoked = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L146" class="css-a4x74f"><span>146</span></td><td id="LC146" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> func.apply(<span class="code-keyword">this</span>, <span class="code-built_in">arguments</span>);
</code></td></tr><tr><td id="L147" class="css-a4x74f"><span>147</span></td><td id="LC147" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L148" class="css-a4x74f"><span>148</span></td><td id="LC148" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L149" class="css-a4x74f"><span>149</span></td><td id="LC149" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> noop = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">noop</span>(<span class="code-params"></span>) </span>{};
</code></td></tr><tr><td id="L150" class="css-a4x74f"><span>150</span></td><td id="LC150" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isFunction</span>(<span class="code-params">fn</span>) </span>{
</code></td></tr><tr><td id="L151" class="css-a4x74f"><span>151</span></td><td id="LC151" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-keyword">typeof</span> fn === <span class="code-string">"function"</span>;
</code></td></tr><tr><td id="L152" class="css-a4x74f"><span>152</span></td><td id="LC152" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L153" class="css-a4x74f"><span>153</span></td><td id="LC153" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isStringish</span>(<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L154" class="css-a4x74f"><span>154</span></td><td id="LC154" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> t = <span class="code-keyword">typeof</span> value;
</code></td></tr><tr><td id="L155" class="css-a4x74f"><span>155</span></td><td id="LC155" class="css-1dcdqdg"><code>      <span class="code-keyword">switch</span> (t) {
</code></td></tr><tr><td id="L156" class="css-a4x74f"><span>156</span></td><td id="LC156" class="css-1dcdqdg"><code>        <span class="code-keyword">case</span> <span class="code-string">"string"</span>:
</code></td></tr><tr><td id="L157" class="css-a4x74f"><span>157</span></td><td id="LC157" class="css-1dcdqdg"><code>        <span class="code-keyword">case</span> <span class="code-string">"symbol"</span>:
</code></td></tr><tr><td id="L158" class="css-a4x74f"><span>158</span></td><td id="LC158" class="css-1dcdqdg"><code>        <span class="code-keyword">case</span> <span class="code-string">"number"</span>:
</code></td></tr><tr><td id="L159" class="css-a4x74f"><span>159</span></td><td id="LC159" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L160" class="css-a4x74f"><span>160</span></td><td id="LC160" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L161" class="css-a4x74f"><span>161</span></td><td id="LC161" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L162" class="css-a4x74f"><span>162</span></td><td id="LC162" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L163" class="css-a4x74f"><span>163</span></td><td id="LC163" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isObject</span>(<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L164" class="css-a4x74f"><span>164</span></td><td id="LC164" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> value !== <span class="code-literal">null</span> &amp;&amp; <span class="code-keyword">typeof</span> value === <span class="code-string">"object"</span>;
</code></td></tr><tr><td id="L165" class="css-a4x74f"><span>165</span></td><td id="LC165" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L166" class="css-a4x74f"><span>166</span></td><td id="LC166" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isPlainObject</span>(<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L167" class="css-a4x74f"><span>167</span></td><td id="LC167" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!isObject(value)) {
</code></td></tr><tr><td id="L168" class="css-a4x74f"><span>168</span></td><td id="LC168" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L169" class="css-a4x74f"><span>169</span></td><td id="LC169" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L170" class="css-a4x74f"><span>170</span></td><td id="LC170" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> proto = <span class="code-built_in">Object</span>.getPrototypeOf(value);
</code></td></tr><tr><td id="L171" class="css-a4x74f"><span>171</span></td><td id="LC171" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (proto == <span class="code-literal">null</span>) {
</code></td></tr><tr><td id="L172" class="css-a4x74f"><span>172</span></td><td id="LC172" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L173" class="css-a4x74f"><span>173</span></td><td id="LC173" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L174" class="css-a4x74f"><span>174</span></td><td id="LC174" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> protoConstructor = <span class="code-built_in">Object</span>.hasOwnProperty.call(proto, <span class="code-string">"constructor"</span>) &amp;&amp; proto.constructor;
</code></td></tr><tr><td id="L175" class="css-a4x74f"><span>175</span></td><td id="LC175" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-keyword">typeof</span> protoConstructor === <span class="code-string">"function"</span> &amp;&amp; protoConstructor.toString() === plainObjectString;
</code></td></tr><tr><td id="L176" class="css-a4x74f"><span>176</span></td><td id="LC176" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L177" class="css-a4x74f"><span>177</span></td><td id="LC177" class="css-1dcdqdg"><code>    <span class="code-comment">// https://stackoverflow.com/a/37865170</span>
</code></td></tr><tr><td id="L178" class="css-a4x74f"><span>178</span></td><td id="LC178" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isGenerator</span>(<span class="code-params">obj</span>) </span>{
</code></td></tr><tr><td id="L179" class="css-a4x74f"><span>179</span></td><td id="LC179" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> <span class="code-keyword">constructor</span> = obj == null ? void 0 : obj.<span class="code-keyword">constructor</span>;
</code></td></tr><tr><td id="L180" class="css-a4x74f"><span>180</span></td><td id="LC180" class="css-1dcdqdg"><code>      if (!<span class="code-keyword">constructor</span>) {
</code></td></tr><tr><td id="L181" class="css-a4x74f"><span>181</span></td><td id="LC181" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L182" class="css-a4x74f"><span>182</span></td><td id="LC182" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L183" class="css-a4x74f"><span>183</span></td><td id="LC183" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-string">"GeneratorFunction"</span> === <span class="code-keyword">constructor</span>.name || "GeneratorFunction" === <span class="code-keyword">constructor</span>.displayName) {
</code></td></tr><tr><td id="L184" class="css-a4x74f"><span>184</span></td><td id="LC184" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L185" class="css-a4x74f"><span>185</span></td><td id="LC185" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L186" class="css-a4x74f"><span>186</span></td><td id="LC186" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L187" class="css-a4x74f"><span>187</span></td><td id="LC187" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L188" class="css-a4x74f"><span>188</span></td><td id="LC188" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">addHiddenProp</span>(<span class="code-params">object, propName, value</span>) </span>{
</code></td></tr><tr><td id="L189" class="css-a4x74f"><span>189</span></td><td id="LC189" class="css-1dcdqdg"><code>      defineProperty(object, propName, {
</code></td></tr><tr><td id="L190" class="css-a4x74f"><span>190</span></td><td id="LC190" class="css-1dcdqdg"><code>        enumerable: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L191" class="css-a4x74f"><span>191</span></td><td id="LC191" class="css-1dcdqdg"><code>        writable: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L192" class="css-a4x74f"><span>192</span></td><td id="LC192" class="css-1dcdqdg"><code>        configurable: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L193" class="css-a4x74f"><span>193</span></td><td id="LC193" class="css-1dcdqdg"><code>        value: value
</code></td></tr><tr><td id="L194" class="css-a4x74f"><span>194</span></td><td id="LC194" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L195" class="css-a4x74f"><span>195</span></td><td id="LC195" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L196" class="css-a4x74f"><span>196</span></td><td id="LC196" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">addHiddenFinalProp</span>(<span class="code-params">object, propName, value</span>) </span>{
</code></td></tr><tr><td id="L197" class="css-a4x74f"><span>197</span></td><td id="LC197" class="css-1dcdqdg"><code>      defineProperty(object, propName, {
</code></td></tr><tr><td id="L198" class="css-a4x74f"><span>198</span></td><td id="LC198" class="css-1dcdqdg"><code>        enumerable: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L199" class="css-a4x74f"><span>199</span></td><td id="LC199" class="css-1dcdqdg"><code>        writable: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L200" class="css-a4x74f"><span>200</span></td><td id="LC200" class="css-1dcdqdg"><code>        configurable: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L201" class="css-a4x74f"><span>201</span></td><td id="LC201" class="css-1dcdqdg"><code>        value: value
</code></td></tr><tr><td id="L202" class="css-a4x74f"><span>202</span></td><td id="LC202" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L203" class="css-a4x74f"><span>203</span></td><td id="LC203" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L204" class="css-a4x74f"><span>204</span></td><td id="LC204" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createInstanceofPredicate</span>(<span class="code-params">name, theClass</span>) </span>{
</code></td></tr><tr><td id="L205" class="css-a4x74f"><span>205</span></td><td id="LC205" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> propName = <span class="code-string">"isMobX"</span> + name;
</code></td></tr><tr><td id="L206" class="css-a4x74f"><span>206</span></td><td id="LC206" class="css-1dcdqdg"><code>      theClass.prototype[propName] = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L207" class="css-a4x74f"><span>207</span></td><td id="LC207" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">x</span>) </span>{
</code></td></tr><tr><td id="L208" class="css-a4x74f"><span>208</span></td><td id="LC208" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> isObject(x) &amp;&amp; x[propName] === <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L209" class="css-a4x74f"><span>209</span></td><td id="LC209" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L210" class="css-a4x74f"><span>210</span></td><td id="LC210" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L211" class="css-a4x74f"><span>211</span></td><td id="LC211" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L212" class="css-a4x74f"><span>212</span></td><td id="LC212" class="css-1dcdqdg"><code><span class="code-comment">     * Yields true for both native and observable Map, even across different windows.
</span></code></td></tr><tr><td id="L213" class="css-a4x74f"><span>213</span></td><td id="LC213" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L214" class="css-a4x74f"><span>214</span></td><td id="LC214" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isES6Map</span>(<span class="code-params">thing</span>) </span>{
</code></td></tr><tr><td id="L215" class="css-a4x74f"><span>215</span></td><td id="LC215" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> thing != <span class="code-literal">null</span> &amp;&amp; <span class="code-built_in">Object</span>.prototype.toString.call(thing) === <span class="code-string">"[object Map]"</span>;
</code></td></tr><tr><td id="L216" class="css-a4x74f"><span>216</span></td><td id="LC216" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L217" class="css-a4x74f"><span>217</span></td><td id="LC217" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L218" class="css-a4x74f"><span>218</span></td><td id="LC218" class="css-1dcdqdg"><code><span class="code-comment">     * Makes sure a Map is an instance of non-inherited native or observable Map.
</span></code></td></tr><tr><td id="L219" class="css-a4x74f"><span>219</span></td><td id="LC219" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L220" class="css-a4x74f"><span>220</span></td><td id="LC220" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isPlainES6Map</span>(<span class="code-params">thing</span>) </span>{
</code></td></tr><tr><td id="L221" class="css-a4x74f"><span>221</span></td><td id="LC221" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> mapProto = <span class="code-built_in">Object</span>.getPrototypeOf(thing);
</code></td></tr><tr><td id="L222" class="css-a4x74f"><span>222</span></td><td id="LC222" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> objectProto = <span class="code-built_in">Object</span>.getPrototypeOf(mapProto);
</code></td></tr><tr><td id="L223" class="css-a4x74f"><span>223</span></td><td id="LC223" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> nullProto = <span class="code-built_in">Object</span>.getPrototypeOf(objectProto);
</code></td></tr><tr><td id="L224" class="css-a4x74f"><span>224</span></td><td id="LC224" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> nullProto === <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L225" class="css-a4x74f"><span>225</span></td><td id="LC225" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L226" class="css-a4x74f"><span>226</span></td><td id="LC226" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L227" class="css-a4x74f"><span>227</span></td><td id="LC227" class="css-1dcdqdg"><code><span class="code-comment">     * Yields true for both native and observable Set, even across different windows.
</span></code></td></tr><tr><td id="L228" class="css-a4x74f"><span>228</span></td><td id="LC228" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L229" class="css-a4x74f"><span>229</span></td><td id="LC229" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isES6Set</span>(<span class="code-params">thing</span>) </span>{
</code></td></tr><tr><td id="L230" class="css-a4x74f"><span>230</span></td><td id="LC230" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> thing != <span class="code-literal">null</span> &amp;&amp; <span class="code-built_in">Object</span>.prototype.toString.call(thing) === <span class="code-string">"[object Set]"</span>;
</code></td></tr><tr><td id="L231" class="css-a4x74f"><span>231</span></td><td id="LC231" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L232" class="css-a4x74f"><span>232</span></td><td id="LC232" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> hasGetOwnPropertySymbols = <span class="code-keyword">typeof</span> <span class="code-built_in">Object</span>.getOwnPropertySymbols !== <span class="code-string">"undefined"</span>;
</code></td></tr><tr><td id="L233" class="css-a4x74f"><span>233</span></td><td id="LC233" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L234" class="css-a4x74f"><span>234</span></td><td id="LC234" class="css-1dcdqdg"><code><span class="code-comment">     * Returns the following: own enumerable keys and symbols.
</span></code></td></tr><tr><td id="L235" class="css-a4x74f"><span>235</span></td><td id="LC235" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L236" class="css-a4x74f"><span>236</span></td><td id="LC236" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getPlainObjectKeys</span>(<span class="code-params">object</span>) </span>{
</code></td></tr><tr><td id="L237" class="css-a4x74f"><span>237</span></td><td id="LC237" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> keys = <span class="code-built_in">Object</span>.keys(object);
</code></td></tr><tr><td id="L238" class="css-a4x74f"><span>238</span></td><td id="LC238" class="css-1dcdqdg"><code>      <span class="code-comment">// Not supported in IE, so there are not going to be symbol props anyway...</span>
</code></td></tr><tr><td id="L239" class="css-a4x74f"><span>239</span></td><td id="LC239" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!hasGetOwnPropertySymbols) {
</code></td></tr><tr><td id="L240" class="css-a4x74f"><span>240</span></td><td id="LC240" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> keys;
</code></td></tr><tr><td id="L241" class="css-a4x74f"><span>241</span></td><td id="LC241" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L242" class="css-a4x74f"><span>242</span></td><td id="LC242" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> symbols = <span class="code-built_in">Object</span>.getOwnPropertySymbols(object);
</code></td></tr><tr><td id="L243" class="css-a4x74f"><span>243</span></td><td id="LC243" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!symbols.length) {
</code></td></tr><tr><td id="L244" class="css-a4x74f"><span>244</span></td><td id="LC244" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> keys;
</code></td></tr><tr><td id="L245" class="css-a4x74f"><span>245</span></td><td id="LC245" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L246" class="css-a4x74f"><span>246</span></td><td id="LC246" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> [].concat(keys, symbols.filter(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">s</span>) </span>{
</code></td></tr><tr><td id="L247" class="css-a4x74f"><span>247</span></td><td id="LC247" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> objectPrototype.propertyIsEnumerable.call(object, s);
</code></td></tr><tr><td id="L248" class="css-a4x74f"><span>248</span></td><td id="LC248" class="css-1dcdqdg"><code>      }));
</code></td></tr><tr><td id="L249" class="css-a4x74f"><span>249</span></td><td id="LC249" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L250" class="css-a4x74f"><span>250</span></td><td id="LC250" class="css-1dcdqdg"><code>    <span class="code-comment">// From Immer utils</span>
</code></td></tr><tr><td id="L251" class="css-a4x74f"><span>251</span></td><td id="LC251" class="css-1dcdqdg"><code>    <span class="code-comment">// Returns all own keys, including non-enumerable and symbolic</span>
</code></td></tr><tr><td id="L252" class="css-a4x74f"><span>252</span></td><td id="LC252" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> ownKeys = <span class="code-keyword">typeof</span> <span class="code-built_in">Reflect</span> !== <span class="code-string">"undefined"</span> &amp;&amp; <span class="code-built_in">Reflect</span>.ownKeys ? <span class="code-built_in">Reflect</span>.ownKeys : hasGetOwnPropertySymbols ? <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">obj</span>) </span>{
</code></td></tr><tr><td id="L253" class="css-a4x74f"><span>253</span></td><td id="LC253" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-built_in">Object</span>.getOwnPropertyNames(obj).concat(<span class="code-built_in">Object</span>.getOwnPropertySymbols(obj));
</code></td></tr><tr><td id="L254" class="css-a4x74f"><span>254</span></td><td id="LC254" class="css-1dcdqdg"><code>    } : <span class="code-comment">/* istanbul ignore next */</span><span class="code-built_in">Object</span>.getOwnPropertyNames;
</code></td></tr><tr><td id="L255" class="css-a4x74f"><span>255</span></td><td id="LC255" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">stringifyKey</span>(<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L256" class="css-a4x74f"><span>256</span></td><td id="LC256" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> key === <span class="code-string">"string"</span>) {
</code></td></tr><tr><td id="L257" class="css-a4x74f"><span>257</span></td><td id="LC257" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> key;
</code></td></tr><tr><td id="L258" class="css-a4x74f"><span>258</span></td><td id="LC258" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L259" class="css-a4x74f"><span>259</span></td><td id="LC259" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> key === <span class="code-string">"symbol"</span>) {
</code></td></tr><tr><td id="L260" class="css-a4x74f"><span>260</span></td><td id="LC260" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> key.toString();
</code></td></tr><tr><td id="L261" class="css-a4x74f"><span>261</span></td><td id="LC261" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L262" class="css-a4x74f"><span>262</span></td><td id="LC262" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">String</span>(key).toString();
</code></td></tr><tr><td id="L263" class="css-a4x74f"><span>263</span></td><td id="LC263" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L264" class="css-a4x74f"><span>264</span></td><td id="LC264" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toPrimitive</span>(<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L265" class="css-a4x74f"><span>265</span></td><td id="LC265" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> value === <span class="code-literal">null</span> ? <span class="code-literal">null</span> : <span class="code-keyword">typeof</span> value === <span class="code-string">"object"</span> ? <span class="code-string">""</span> + value : value;
</code></td></tr><tr><td id="L266" class="css-a4x74f"><span>266</span></td><td id="LC266" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L267" class="css-a4x74f"><span>267</span></td><td id="LC267" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">hasProp</span>(<span class="code-params">target, prop</span>) </span>{
</code></td></tr><tr><td id="L268" class="css-a4x74f"><span>268</span></td><td id="LC268" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> objectPrototype.hasOwnProperty.call(target, prop);
</code></td></tr><tr><td id="L269" class="css-a4x74f"><span>269</span></td><td id="LC269" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L270" class="css-a4x74f"><span>270</span></td><td id="LC270" class="css-1dcdqdg"><code>    <span class="code-comment">// From Immer utils</span>
</code></td></tr><tr><td id="L271" class="css-a4x74f"><span>271</span></td><td id="LC271" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> getOwnPropertyDescriptors = <span class="code-built_in">Object</span>.getOwnPropertyDescriptors || <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getOwnPropertyDescriptors</span>(<span class="code-params">target</span>) </span>{
</code></td></tr><tr><td id="L272" class="css-a4x74f"><span>272</span></td><td id="LC272" class="css-1dcdqdg"><code>      <span class="code-comment">// Polyfill needed for Hermes and IE, see https://github.com/facebook/hermes/issues/274</span>
</code></td></tr><tr><td id="L273" class="css-a4x74f"><span>273</span></td><td id="LC273" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> res = {};
</code></td></tr><tr><td id="L274" class="css-a4x74f"><span>274</span></td><td id="LC274" class="css-1dcdqdg"><code>      <span class="code-comment">// Note: without polyfill for ownKeys, symbols won't be picked up</span>
</code></td></tr><tr><td id="L275" class="css-a4x74f"><span>275</span></td><td id="LC275" class="css-1dcdqdg"><code>      ownKeys(target).forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L276" class="css-a4x74f"><span>276</span></td><td id="LC276" class="css-1dcdqdg"><code>        res[key] = getDescriptor(target, key);
</code></td></tr><tr><td id="L277" class="css-a4x74f"><span>277</span></td><td id="LC277" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L278" class="css-a4x74f"><span>278</span></td><td id="LC278" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> res;
</code></td></tr><tr><td id="L279" class="css-a4x74f"><span>279</span></td><td id="LC279" class="css-1dcdqdg"><code>    };
</code></td></tr><tr><td id="L280" class="css-a4x74f"><span>280</span></td><td id="LC280" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getFlag</span>(<span class="code-params">flags, mask</span>) </span>{
</code></td></tr><tr><td id="L281" class="css-a4x74f"><span>281</span></td><td id="LC281" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> !!(flags &amp; mask);
</code></td></tr><tr><td id="L282" class="css-a4x74f"><span>282</span></td><td id="LC282" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L283" class="css-a4x74f"><span>283</span></td><td id="LC283" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">setFlag</span>(<span class="code-params">flags, mask, newValue</span>) </span>{
</code></td></tr><tr><td id="L284" class="css-a4x74f"><span>284</span></td><td id="LC284" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (newValue) {
</code></td></tr><tr><td id="L285" class="css-a4x74f"><span>285</span></td><td id="LC285" class="css-1dcdqdg"><code>        flags |= mask;
</code></td></tr><tr><td id="L286" class="css-a4x74f"><span>286</span></td><td id="LC286" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L287" class="css-a4x74f"><span>287</span></td><td id="LC287" class="css-1dcdqdg"><code>        flags &amp;= ~mask;
</code></td></tr><tr><td id="L288" class="css-a4x74f"><span>288</span></td><td id="LC288" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L289" class="css-a4x74f"><span>289</span></td><td id="LC289" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> flags;
</code></td></tr><tr><td id="L290" class="css-a4x74f"><span>290</span></td><td id="LC290" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L291" class="css-a4x74f"><span>291</span></td><td id="LC291" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L292" class="css-a4x74f"><span>292</span></td><td id="LC292" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_arrayLikeToArray</span>(<span class="code-params">r, a</span>) </span>{
</code></td></tr><tr><td id="L293" class="css-a4x74f"><span>293</span></td><td id="LC293" class="css-1dcdqdg"><code>      (<span class="code-literal">null</span> == a || a &gt; r.length) &amp;&amp; (a = r.length);
</code></td></tr><tr><td id="L294" class="css-a4x74f"><span>294</span></td><td id="LC294" class="css-1dcdqdg"><code>      <span class="code-keyword">for</span> (<span class="code-keyword">var</span> e = <span class="code-number">0</span>, n = <span class="code-built_in">Array</span>(a); e &lt; a; e++) n[e] = r[e];
</code></td></tr><tr><td id="L295" class="css-a4x74f"><span>295</span></td><td id="LC295" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> n;
</code></td></tr><tr><td id="L296" class="css-a4x74f"><span>296</span></td><td id="LC296" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L297" class="css-a4x74f"><span>297</span></td><td id="LC297" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_defineProperties</span>(<span class="code-params">e, r</span>) </span>{
</code></td></tr><tr><td id="L298" class="css-a4x74f"><span>298</span></td><td id="LC298" class="css-1dcdqdg"><code>      <span class="code-keyword">for</span> (<span class="code-keyword">var</span> t = <span class="code-number">0</span>; t &lt; r.length; t++) {
</code></td></tr><tr><td id="L299" class="css-a4x74f"><span>299</span></td><td id="LC299" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> o = r[t];
</code></td></tr><tr><td id="L300" class="css-a4x74f"><span>300</span></td><td id="LC300" class="css-1dcdqdg"><code>        o.enumerable = o.enumerable || !<span class="code-number">1</span>, o.configurable = !<span class="code-number">0</span>, <span class="code-string">"value"</span> <span class="code-keyword">in</span> o &amp;&amp; (o.writable = !<span class="code-number">0</span>), <span class="code-built_in">Object</span>.defineProperty(e, _toPropertyKey(o.key), o);
</code></td></tr><tr><td id="L301" class="css-a4x74f"><span>301</span></td><td id="LC301" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L302" class="css-a4x74f"><span>302</span></td><td id="LC302" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L303" class="css-a4x74f"><span>303</span></td><td id="LC303" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_createClass</span>(<span class="code-params">e, r, t</span>) </span>{
</code></td></tr><tr><td id="L304" class="css-a4x74f"><span>304</span></td><td id="LC304" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> r &amp;&amp; _defineProperties(e.prototype, r), t &amp;&amp; _defineProperties(e, t), <span class="code-built_in">Object</span>.defineProperty(e, <span class="code-string">"prototype"</span>, {
</code></td></tr><tr><td id="L305" class="css-a4x74f"><span>305</span></td><td id="LC305" class="css-1dcdqdg"><code>        writable: !<span class="code-number">1</span>
</code></td></tr><tr><td id="L306" class="css-a4x74f"><span>306</span></td><td id="LC306" class="css-1dcdqdg"><code>      }), e;
</code></td></tr><tr><td id="L307" class="css-a4x74f"><span>307</span></td><td id="LC307" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L308" class="css-a4x74f"><span>308</span></td><td id="LC308" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_createForOfIteratorHelperLoose</span>(<span class="code-params">r, e</span>) </span>{
</code></td></tr><tr><td id="L309" class="css-a4x74f"><span>309</span></td><td id="LC309" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> t = <span class="code-string">"undefined"</span> != <span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span> &amp;&amp; r[<span class="code-built_in">Symbol</span>.iterator] || r[<span class="code-string">"@@iterator"</span>];
</code></td></tr><tr><td id="L310" class="css-a4x74f"><span>310</span></td><td id="LC310" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (t) <span class="code-keyword">return</span> (t = t.call(r)).next.bind(t);
</code></td></tr><tr><td id="L311" class="css-a4x74f"><span>311</span></td><td id="LC311" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-built_in">Array</span>.isArray(r) || (t = _unsupportedIterableToArray(r)) || e &amp;&amp; r &amp;&amp; <span class="code-string">"number"</span> == <span class="code-keyword">typeof</span> r.length) {
</code></td></tr><tr><td id="L312" class="css-a4x74f"><span>312</span></td><td id="LC312" class="css-1dcdqdg"><code>        t &amp;&amp; (r = t);
</code></td></tr><tr><td id="L313" class="css-a4x74f"><span>313</span></td><td id="LC313" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> o = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L314" class="css-a4x74f"><span>314</span></td><td id="LC314" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L315" class="css-a4x74f"><span>315</span></td><td id="LC315" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> o &gt;= r.length ? {
</code></td></tr><tr><td id="L316" class="css-a4x74f"><span>316</span></td><td id="LC316" class="css-1dcdqdg"><code>            done: !<span class="code-number">0</span>
</code></td></tr><tr><td id="L317" class="css-a4x74f"><span>317</span></td><td id="LC317" class="css-1dcdqdg"><code>          } : {
</code></td></tr><tr><td id="L318" class="css-a4x74f"><span>318</span></td><td id="LC318" class="css-1dcdqdg"><code>            done: !<span class="code-number">1</span>,
</code></td></tr><tr><td id="L319" class="css-a4x74f"><span>319</span></td><td id="LC319" class="css-1dcdqdg"><code>            value: r[o++]
</code></td></tr><tr><td id="L320" class="css-a4x74f"><span>320</span></td><td id="LC320" class="css-1dcdqdg"><code>          };
</code></td></tr><tr><td id="L321" class="css-a4x74f"><span>321</span></td><td id="LC321" class="css-1dcdqdg"><code>        };
</code></td></tr><tr><td id="L322" class="css-a4x74f"><span>322</span></td><td id="LC322" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L323" class="css-a4x74f"><span>323</span></td><td id="LC323" class="css-1dcdqdg"><code>      <span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">TypeError</span>(<span class="code-string">"Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."</span>);
</code></td></tr><tr><td id="L324" class="css-a4x74f"><span>324</span></td><td id="LC324" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L325" class="css-a4x74f"><span>325</span></td><td id="LC325" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_extends</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L326" class="css-a4x74f"><span>326</span></td><td id="LC326" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> _extends = <span class="code-built_in">Object</span>.assign ? <span class="code-built_in">Object</span>.assign.bind() : <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">n</span>) </span>{
</code></td></tr><tr><td id="L327" class="css-a4x74f"><span>327</span></td><td id="LC327" class="css-1dcdqdg"><code>        <span class="code-keyword">for</span> (<span class="code-keyword">var</span> e = <span class="code-number">1</span>; e &lt; <span class="code-built_in">arguments</span>.length; e++) {
</code></td></tr><tr><td id="L328" class="css-a4x74f"><span>328</span></td><td id="LC328" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> t = <span class="code-built_in">arguments</span>[e];
</code></td></tr><tr><td id="L329" class="css-a4x74f"><span>329</span></td><td id="LC329" class="css-1dcdqdg"><code>          <span class="code-keyword">for</span> (<span class="code-keyword">var</span> r <span class="code-keyword">in</span> t) ({}).hasOwnProperty.call(t, r) &amp;&amp; (n[r] = t[r]);
</code></td></tr><tr><td id="L330" class="css-a4x74f"><span>330</span></td><td id="LC330" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L331" class="css-a4x74f"><span>331</span></td><td id="LC331" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> n;
</code></td></tr><tr><td id="L332" class="css-a4x74f"><span>332</span></td><td id="LC332" class="css-1dcdqdg"><code>      }, _extends.apply(<span class="code-literal">null</span>, <span class="code-built_in">arguments</span>);
</code></td></tr><tr><td id="L333" class="css-a4x74f"><span>333</span></td><td id="LC333" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L334" class="css-a4x74f"><span>334</span></td><td id="LC334" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_inheritsLoose</span>(<span class="code-params">t, o</span>) </span>{
</code></td></tr><tr><td id="L335" class="css-a4x74f"><span>335</span></td><td id="LC335" class="css-1dcdqdg"><code>      t.prototype = <span class="code-built_in">Object</span>.create(o.prototype), t.prototype.constructor = t, _setPrototypeOf(t, o);
</code></td></tr><tr><td id="L336" class="css-a4x74f"><span>336</span></td><td id="LC336" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L337" class="css-a4x74f"><span>337</span></td><td id="LC337" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_setPrototypeOf</span>(<span class="code-params">t, e</span>) </span>{
</code></td></tr><tr><td id="L338" class="css-a4x74f"><span>338</span></td><td id="LC338" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> _setPrototypeOf = <span class="code-built_in">Object</span>.setPrototypeOf ? <span class="code-built_in">Object</span>.setPrototypeOf.bind() : <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">t, e</span>) </span>{
</code></td></tr><tr><td id="L339" class="css-a4x74f"><span>339</span></td><td id="LC339" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> t.__proto__ = e, t;
</code></td></tr><tr><td id="L340" class="css-a4x74f"><span>340</span></td><td id="LC340" class="css-1dcdqdg"><code>      }, _setPrototypeOf(t, e);
</code></td></tr><tr><td id="L341" class="css-a4x74f"><span>341</span></td><td id="LC341" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L342" class="css-a4x74f"><span>342</span></td><td id="LC342" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_toPrimitive</span>(<span class="code-params">t, r</span>) </span>{
</code></td></tr><tr><td id="L343" class="css-a4x74f"><span>343</span></td><td id="LC343" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-string">"object"</span> != <span class="code-keyword">typeof</span> t || !t) <span class="code-keyword">return</span> t;
</code></td></tr><tr><td id="L344" class="css-a4x74f"><span>344</span></td><td id="LC344" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> e = t[<span class="code-built_in">Symbol</span>.toPrimitive];
</code></td></tr><tr><td id="L345" class="css-a4x74f"><span>345</span></td><td id="LC345" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-keyword">void</span> <span class="code-number">0</span> !== e) {
</code></td></tr><tr><td id="L346" class="css-a4x74f"><span>346</span></td><td id="LC346" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> i = e.call(t, r || <span class="code-string">"default"</span>);
</code></td></tr><tr><td id="L347" class="css-a4x74f"><span>347</span></td><td id="LC347" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-string">"object"</span> != <span class="code-keyword">typeof</span> i) <span class="code-keyword">return</span> i;
</code></td></tr><tr><td id="L348" class="css-a4x74f"><span>348</span></td><td id="LC348" class="css-1dcdqdg"><code>        <span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">TypeError</span>(<span class="code-string">"@@toPrimitive must return a primitive value."</span>);
</code></td></tr><tr><td id="L349" class="css-a4x74f"><span>349</span></td><td id="LC349" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L350" class="css-a4x74f"><span>350</span></td><td id="LC350" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> (<span class="code-string">"string"</span> === r ? <span class="code-built_in">String</span> : <span class="code-built_in">Number</span>)(t);
</code></td></tr><tr><td id="L351" class="css-a4x74f"><span>351</span></td><td id="LC351" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L352" class="css-a4x74f"><span>352</span></td><td id="LC352" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_toPropertyKey</span>(<span class="code-params">t</span>) </span>{
</code></td></tr><tr><td id="L353" class="css-a4x74f"><span>353</span></td><td id="LC353" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> i = _toPrimitive(t, <span class="code-string">"string"</span>);
</code></td></tr><tr><td id="L354" class="css-a4x74f"><span>354</span></td><td id="LC354" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-string">"symbol"</span> == <span class="code-keyword">typeof</span> i ? i : i + <span class="code-string">""</span>;
</code></td></tr><tr><td id="L355" class="css-a4x74f"><span>355</span></td><td id="LC355" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L356" class="css-a4x74f"><span>356</span></td><td id="LC356" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_unsupportedIterableToArray</span>(<span class="code-params">r, a</span>) </span>{
</code></td></tr><tr><td id="L357" class="css-a4x74f"><span>357</span></td><td id="LC357" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (r) {
</code></td></tr><tr><td id="L358" class="css-a4x74f"><span>358</span></td><td id="LC358" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-string">"string"</span> == <span class="code-keyword">typeof</span> r) <span class="code-keyword">return</span> _arrayLikeToArray(r, a);
</code></td></tr><tr><td id="L359" class="css-a4x74f"><span>359</span></td><td id="LC359" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> t = {}.toString.call(r).slice(<span class="code-number">8</span>, <span class="code-number">-1</span>);
</code></td></tr><tr><td id="L360" class="css-a4x74f"><span>360</span></td><td id="LC360" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-string">"Object"</span> === t &amp;&amp; r.constructor &amp;&amp; (t = r.constructor.name), <span class="code-string">"Map"</span> === t || <span class="code-string">"Set"</span> === t ? <span class="code-built_in">Array</span>.from(r) : <span class="code-string">"Arguments"</span> === t || <span class="code-regexp">/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/</span>.test(t) ? _arrayLikeToArray(r, a) : <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L361" class="css-a4x74f"><span>361</span></td><td id="LC361" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L362" class="css-a4x74f"><span>362</span></td><td id="LC362" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L363" class="css-a4x74f"><span>363</span></td><td id="LC363" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L364" class="css-a4x74f"><span>364</span></td><td id="LC364" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> storedAnnotationsSymbol = <span class="code-comment">/*#__PURE__*/</span><span class="code-built_in">Symbol</span>(<span class="code-string">"mobx-stored-annotations"</span>);
</code></td></tr><tr><td id="L365" class="css-a4x74f"><span>365</span></td><td id="LC365" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L366" class="css-a4x74f"><span>366</span></td><td id="LC366" class="css-1dcdqdg"><code><span class="code-comment">     * Creates a function that acts as
</span></code></td></tr><tr><td id="L367" class="css-a4x74f"><span>367</span></td><td id="LC367" class="css-1dcdqdg"><code><span class="code-comment">     * - decorator
</span></code></td></tr><tr><td id="L368" class="css-a4x74f"><span>368</span></td><td id="LC368" class="css-1dcdqdg"><code><span class="code-comment">     * - annotation object
</span></code></td></tr><tr><td id="L369" class="css-a4x74f"><span>369</span></td><td id="LC369" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L370" class="css-a4x74f"><span>370</span></td><td id="LC370" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createDecoratorAnnotation</span>(<span class="code-params">annotation</span>) </span>{
</code></td></tr><tr><td id="L371" class="css-a4x74f"><span>371</span></td><td id="LC371" class="css-1dcdqdg"><code>      <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">decorator</span>(<span class="code-params">target, property</span>) </span>{
</code></td></tr><tr><td id="L372" class="css-a4x74f"><span>372</span></td><td id="LC372" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (is20223Decorator(property)) {
</code></td></tr><tr><td id="L373" class="css-a4x74f"><span>373</span></td><td id="LC373" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> annotation.decorate_20223_(target, property);
</code></td></tr><tr><td id="L374" class="css-a4x74f"><span>374</span></td><td id="LC374" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L375" class="css-a4x74f"><span>375</span></td><td id="LC375" class="css-1dcdqdg"><code>          storeAnnotation(target, property, annotation);
</code></td></tr><tr><td id="L376" class="css-a4x74f"><span>376</span></td><td id="LC376" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L377" class="css-a4x74f"><span>377</span></td><td id="LC377" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L378" class="css-a4x74f"><span>378</span></td><td id="LC378" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-built_in">Object</span>.assign(decorator, annotation);
</code></td></tr><tr><td id="L379" class="css-a4x74f"><span>379</span></td><td id="LC379" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L380" class="css-a4x74f"><span>380</span></td><td id="LC380" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L381" class="css-a4x74f"><span>381</span></td><td id="LC381" class="css-1dcdqdg"><code><span class="code-comment">     * Stores annotation to prototype,
</span></code></td></tr><tr><td id="L382" class="css-a4x74f"><span>382</span></td><td id="LC382" class="css-1dcdqdg"><code><span class="code-comment">     * so it can be inspected later by `makeObservable` called from constructor
</span></code></td></tr><tr><td id="L383" class="css-a4x74f"><span>383</span></td><td id="LC383" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L384" class="css-a4x74f"><span>384</span></td><td id="LC384" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">storeAnnotation</span>(<span class="code-params">prototype, key, annotation</span>) </span>{
</code></td></tr><tr><td id="L385" class="css-a4x74f"><span>385</span></td><td id="LC385" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!hasProp(prototype, storedAnnotationsSymbol)) {
</code></td></tr><tr><td id="L386" class="css-a4x74f"><span>386</span></td><td id="LC386" class="css-1dcdqdg"><code>        addHiddenProp(prototype, storedAnnotationsSymbol, _extends({}, prototype[storedAnnotationsSymbol]));
</code></td></tr><tr><td id="L387" class="css-a4x74f"><span>387</span></td><td id="LC387" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L388" class="css-a4x74f"><span>388</span></td><td id="LC388" class="css-1dcdqdg"><code>      <span class="code-comment">// @override must override something</span>
</code></td></tr><tr><td id="L389" class="css-a4x74f"><span>389</span></td><td id="LC389" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( isOverride(annotation) &amp;&amp; !hasProp(prototype[storedAnnotationsSymbol], key)) {
</code></td></tr><tr><td id="L390" class="css-a4x74f"><span>390</span></td><td id="LC390" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> fieldName = prototype.constructor.name + <span class="code-string">".prototype."</span> + key.toString();
</code></td></tr><tr><td id="L391" class="css-a4x74f"><span>391</span></td><td id="LC391" class="css-1dcdqdg"><code>        die(<span class="code-string">"'"</span> + fieldName + <span class="code-string">"' is decorated with 'override', "</span> + <span class="code-string">"but no such decorated member was found on prototype."</span>);
</code></td></tr><tr><td id="L392" class="css-a4x74f"><span>392</span></td><td id="LC392" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L393" class="css-a4x74f"><span>393</span></td><td id="LC393" class="css-1dcdqdg"><code>      <span class="code-comment">// Cannot re-decorate</span>
</code></td></tr><tr><td id="L394" class="css-a4x74f"><span>394</span></td><td id="LC394" class="css-1dcdqdg"><code>      assertNotDecorated(prototype, annotation, key);
</code></td></tr><tr><td id="L395" class="css-a4x74f"><span>395</span></td><td id="LC395" class="css-1dcdqdg"><code>      <span class="code-comment">// Ignore override</span>
</code></td></tr><tr><td id="L396" class="css-a4x74f"><span>396</span></td><td id="LC396" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!isOverride(annotation)) {
</code></td></tr><tr><td id="L397" class="css-a4x74f"><span>397</span></td><td id="LC397" class="css-1dcdqdg"><code>        prototype[storedAnnotationsSymbol][key] = annotation;
</code></td></tr><tr><td id="L398" class="css-a4x74f"><span>398</span></td><td id="LC398" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L399" class="css-a4x74f"><span>399</span></td><td id="LC399" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L400" class="css-a4x74f"><span>400</span></td><td id="LC400" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">assertNotDecorated</span>(<span class="code-params">prototype, annotation, key</span>) </span>{
</code></td></tr><tr><td id="L401" class="css-a4x74f"><span>401</span></td><td id="LC401" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( !isOverride(annotation) &amp;&amp; hasProp(prototype[storedAnnotationsSymbol], key)) {
</code></td></tr><tr><td id="L402" class="css-a4x74f"><span>402</span></td><td id="LC402" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> fieldName = prototype.constructor.name + <span class="code-string">".prototype."</span> + key.toString();
</code></td></tr><tr><td id="L403" class="css-a4x74f"><span>403</span></td><td id="LC403" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> currentAnnotationType = prototype[storedAnnotationsSymbol][key].annotationType_;
</code></td></tr><tr><td id="L404" class="css-a4x74f"><span>404</span></td><td id="LC404" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> requestedAnnotationType = annotation.annotationType_;
</code></td></tr><tr><td id="L405" class="css-a4x74f"><span>405</span></td><td id="LC405" class="css-1dcdqdg"><code>        die(<span class="code-string">"Cannot apply '@"</span> + requestedAnnotationType + <span class="code-string">"' to '"</span> + fieldName + <span class="code-string">"':"</span> + (<span class="code-string">"\nThe field is already decorated with '@"</span> + currentAnnotationType + <span class="code-string">"'."</span>) + <span class="code-string">"\nRe-decorating fields is not allowed."</span> + <span class="code-string">"\nUse '@override' decorator for methods overridden by subclass."</span>);
</code></td></tr><tr><td id="L406" class="css-a4x74f"><span>406</span></td><td id="LC406" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L407" class="css-a4x74f"><span>407</span></td><td id="LC407" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L408" class="css-a4x74f"><span>408</span></td><td id="LC408" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L409" class="css-a4x74f"><span>409</span></td><td id="LC409" class="css-1dcdqdg"><code><span class="code-comment">     * Collects annotations from prototypes and stores them on target (instance)
</span></code></td></tr><tr><td id="L410" class="css-a4x74f"><span>410</span></td><td id="LC410" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L411" class="css-a4x74f"><span>411</span></td><td id="LC411" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">collectStoredAnnotations</span>(<span class="code-params">target</span>) </span>{
</code></td></tr><tr><td id="L412" class="css-a4x74f"><span>412</span></td><td id="LC412" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!hasProp(target, storedAnnotationsSymbol)) {
</code></td></tr><tr><td id="L413" class="css-a4x74f"><span>413</span></td><td id="LC413" class="css-1dcdqdg"><code>        <span class="code-comment">// if (__DEV__ &amp;&amp; !target[storedAnnotationsSymbol]) {</span>
</code></td></tr><tr><td id="L414" class="css-a4x74f"><span>414</span></td><td id="LC414" class="css-1dcdqdg"><code>        <span class="code-comment">//     die(</span>
</code></td></tr><tr><td id="L415" class="css-a4x74f"><span>415</span></td><td id="LC415" class="css-1dcdqdg"><code>        <span class="code-comment">//         `No annotations were passed to makeObservable, but no decorated members have been found either`</span>
</code></td></tr><tr><td id="L416" class="css-a4x74f"><span>416</span></td><td id="LC416" class="css-1dcdqdg"><code>        <span class="code-comment">//     )</span>
</code></td></tr><tr><td id="L417" class="css-a4x74f"><span>417</span></td><td id="LC417" class="css-1dcdqdg"><code>        <span class="code-comment">// }</span>
</code></td></tr><tr><td id="L418" class="css-a4x74f"><span>418</span></td><td id="LC418" class="css-1dcdqdg"><code>        <span class="code-comment">// We need a copy as we will remove annotation from the list once it's applied.</span>
</code></td></tr><tr><td id="L419" class="css-a4x74f"><span>419</span></td><td id="LC419" class="css-1dcdqdg"><code>        addHiddenProp(target, storedAnnotationsSymbol, _extends({}, target[storedAnnotationsSymbol]));
</code></td></tr><tr><td id="L420" class="css-a4x74f"><span>420</span></td><td id="LC420" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L421" class="css-a4x74f"><span>421</span></td><td id="LC421" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> target[storedAnnotationsSymbol];
</code></td></tr><tr><td id="L422" class="css-a4x74f"><span>422</span></td><td id="LC422" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L423" class="css-a4x74f"><span>423</span></td><td id="LC423" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">is20223Decorator</span>(<span class="code-params">context</span>) </span>{
</code></td></tr><tr><td id="L424" class="css-a4x74f"><span>424</span></td><td id="LC424" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-keyword">typeof</span> context == <span class="code-string">"object"</span> &amp;&amp; <span class="code-keyword">typeof</span> context[<span class="code-string">"kind"</span>] == <span class="code-string">"string"</span>;
</code></td></tr><tr><td id="L425" class="css-a4x74f"><span>425</span></td><td id="LC425" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L426" class="css-a4x74f"><span>426</span></td><td id="LC426" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">assert20223DecoratorType</span>(<span class="code-params">context, types</span>) </span>{
</code></td></tr><tr><td id="L427" class="css-a4x74f"><span>427</span></td><td id="LC427" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( !types.includes(context.kind)) {
</code></td></tr><tr><td id="L428" class="css-a4x74f"><span>428</span></td><td id="LC428" class="css-1dcdqdg"><code>        die(<span class="code-string">"The decorator applied to '"</span> + <span class="code-built_in">String</span>(context.name) + <span class="code-string">"' cannot be used on a "</span> + context.kind + <span class="code-string">" element"</span>);
</code></td></tr><tr><td id="L429" class="css-a4x74f"><span>429</span></td><td id="LC429" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L430" class="css-a4x74f"><span>430</span></td><td id="LC430" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L431" class="css-a4x74f"><span>431</span></td><td id="LC431" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L432" class="css-a4x74f"><span>432</span></td><td id="LC432" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> $mobx = <span class="code-comment">/*#__PURE__*/</span><span class="code-built_in">Symbol</span>(<span class="code-string">"mobx administration"</span>);
</code></td></tr><tr><td id="L433" class="css-a4x74f"><span>433</span></td><td id="LC433" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> Atom = <span class="code-comment">/*#__PURE__*/</span><span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L434" class="css-a4x74f"><span>434</span></td><td id="LC434" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L435" class="css-a4x74f"><span>435</span></td><td id="LC435" class="css-1dcdqdg"><code><span class="code-comment">       * Create a new atom. For debugging purposes it is recommended to give it a name.
</span></code></td></tr><tr><td id="L436" class="css-a4x74f"><span>436</span></td><td id="LC436" class="css-1dcdqdg"><code><span class="code-comment">       * The onBecomeObserved and onBecomeUnobserved callbacks can be used for resource management.
</span></code></td></tr><tr><td id="L437" class="css-a4x74f"><span>437</span></td><td id="LC437" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L438" class="css-a4x74f"><span>438</span></td><td id="LC438" class="css-1dcdqdg"><code>      <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Atom</span>(<span class="code-params">name_</span>) </span>{
</code></td></tr><tr><td id="L439" class="css-a4x74f"><span>439</span></td><td id="LC439" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (name_ === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L440" class="css-a4x74f"><span>440</span></td><td id="LC440" class="css-1dcdqdg"><code>          name_ =  <span class="code-string">"Atom@"</span> + getNextId() ;
</code></td></tr><tr><td id="L441" class="css-a4x74f"><span>441</span></td><td id="LC441" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L442" class="css-a4x74f"><span>442</span></td><td id="LC442" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.name_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L443" class="css-a4x74f"><span>443</span></td><td id="LC443" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.flags_ = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L444" class="css-a4x74f"><span>444</span></td><td id="LC444" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.observers_ = <span class="code-keyword">new</span> <span class="code-built_in">Set</span>();
</code></td></tr><tr><td id="L445" class="css-a4x74f"><span>445</span></td><td id="LC445" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.lastAccessedBy_ = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L446" class="css-a4x74f"><span>446</span></td><td id="LC446" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.lowestObserverState_ = IDerivationState_.NOT_TRACKING_;
</code></td></tr><tr><td id="L447" class="css-a4x74f"><span>447</span></td><td id="LC447" class="css-1dcdqdg"><code>        <span class="code-comment">// onBecomeObservedListeners</span>
</code></td></tr><tr><td id="L448" class="css-a4x74f"><span>448</span></td><td id="LC448" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.onBOL = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L449" class="css-a4x74f"><span>449</span></td><td id="LC449" class="css-1dcdqdg"><code>        <span class="code-comment">// onBecomeUnobservedListeners</span>
</code></td></tr><tr><td id="L450" class="css-a4x74f"><span>450</span></td><td id="LC450" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.onBUOL = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L451" class="css-a4x74f"><span>451</span></td><td id="LC451" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.name_ = name_;
</code></td></tr><tr><td id="L452" class="css-a4x74f"><span>452</span></td><td id="LC452" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L453" class="css-a4x74f"><span>453</span></td><td id="LC453" class="css-1dcdqdg"><code>      <span class="code-comment">// for effective unobserving. BaseAtom has true, for extra optimization, so its onBecomeUnobserved never gets called, because it's not needed</span>
</code></td></tr><tr><td id="L454" class="css-a4x74f"><span>454</span></td><td id="LC454" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _proto = Atom.prototype;
</code></td></tr><tr><td id="L455" class="css-a4x74f"><span>455</span></td><td id="LC455" class="css-1dcdqdg"><code>      _proto.onBO = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">onBO</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L456" class="css-a4x74f"><span>456</span></td><td id="LC456" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.onBOL) {
</code></td></tr><tr><td id="L457" class="css-a4x74f"><span>457</span></td><td id="LC457" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.onBOL.forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">listener</span>) </span>{
</code></td></tr><tr><td id="L458" class="css-a4x74f"><span>458</span></td><td id="LC458" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> listener();
</code></td></tr><tr><td id="L459" class="css-a4x74f"><span>459</span></td><td id="LC459" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L460" class="css-a4x74f"><span>460</span></td><td id="LC460" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L461" class="css-a4x74f"><span>461</span></td><td id="LC461" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L462" class="css-a4x74f"><span>462</span></td><td id="LC462" class="css-1dcdqdg"><code>      _proto.onBUO = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">onBUO</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L463" class="css-a4x74f"><span>463</span></td><td id="LC463" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.onBUOL) {
</code></td></tr><tr><td id="L464" class="css-a4x74f"><span>464</span></td><td id="LC464" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.onBUOL.forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">listener</span>) </span>{
</code></td></tr><tr><td id="L465" class="css-a4x74f"><span>465</span></td><td id="LC465" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> listener();
</code></td></tr><tr><td id="L466" class="css-a4x74f"><span>466</span></td><td id="LC466" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L467" class="css-a4x74f"><span>467</span></td><td id="LC467" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L468" class="css-a4x74f"><span>468</span></td><td id="LC468" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L469" class="css-a4x74f"><span>469</span></td><td id="LC469" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L470" class="css-a4x74f"><span>470</span></td><td id="LC470" class="css-1dcdqdg"><code><span class="code-comment">       * Invoke this method to notify mobx that your atom has been used somehow.
</span></code></td></tr><tr><td id="L471" class="css-a4x74f"><span>471</span></td><td id="LC471" class="css-1dcdqdg"><code><span class="code-comment">       * Returns true if there is currently a reactive context.
</span></code></td></tr><tr><td id="L472" class="css-a4x74f"><span>472</span></td><td id="LC472" class="css-1dcdqdg"><code><span class="code-comment">       */</span>;
</code></td></tr><tr><td id="L473" class="css-a4x74f"><span>473</span></td><td id="LC473" class="css-1dcdqdg"><code>      _proto.reportObserved = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">reportObserved$1</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L474" class="css-a4x74f"><span>474</span></td><td id="LC474" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> reportObserved(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L475" class="css-a4x74f"><span>475</span></td><td id="LC475" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L476" class="css-a4x74f"><span>476</span></td><td id="LC476" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L477" class="css-a4x74f"><span>477</span></td><td id="LC477" class="css-1dcdqdg"><code><span class="code-comment">       * Invoke this method _after_ this method has changed to signal mobx that all its observers should invalidate.
</span></code></td></tr><tr><td id="L478" class="css-a4x74f"><span>478</span></td><td id="LC478" class="css-1dcdqdg"><code><span class="code-comment">       */</span>;
</code></td></tr><tr><td id="L479" class="css-a4x74f"><span>479</span></td><td id="LC479" class="css-1dcdqdg"><code>      _proto.reportChanged = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">reportChanged</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L480" class="css-a4x74f"><span>480</span></td><td id="LC480" class="css-1dcdqdg"><code>        startBatch();
</code></td></tr><tr><td id="L481" class="css-a4x74f"><span>481</span></td><td id="LC481" class="css-1dcdqdg"><code>        propagateChanged(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L482" class="css-a4x74f"><span>482</span></td><td id="LC482" class="css-1dcdqdg"><code>        endBatch();
</code></td></tr><tr><td id="L483" class="css-a4x74f"><span>483</span></td><td id="LC483" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L484" class="css-a4x74f"><span>484</span></td><td id="LC484" class="css-1dcdqdg"><code>      _proto.toString = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toString</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L485" class="css-a4x74f"><span>485</span></td><td id="LC485" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.name_;
</code></td></tr><tr><td id="L486" class="css-a4x74f"><span>486</span></td><td id="LC486" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L487" class="css-a4x74f"><span>487</span></td><td id="LC487" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> _createClass(Atom, [{
</code></td></tr><tr><td id="L488" class="css-a4x74f"><span>488</span></td><td id="LC488" class="css-1dcdqdg"><code>        key: <span class="code-string">"isBeingObserved"</span>,
</code></td></tr><tr><td id="L489" class="css-a4x74f"><span>489</span></td><td id="LC489" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L490" class="css-a4x74f"><span>490</span></td><td id="LC490" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> getFlag(<span class="code-keyword">this</span>.flags_, Atom.isBeingObservedMask_);
</code></td></tr><tr><td id="L491" class="css-a4x74f"><span>491</span></td><td id="LC491" class="css-1dcdqdg"><code>        },
</code></td></tr><tr><td id="L492" class="css-a4x74f"><span>492</span></td><td id="LC492" class="css-1dcdqdg"><code>        <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(newValue) {
</code></td></tr><tr><td id="L493" class="css-a4x74f"><span>493</span></td><td id="LC493" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.flags_ = setFlag(<span class="code-keyword">this</span>.flags_, Atom.isBeingObservedMask_, newValue);
</code></td></tr><tr><td id="L494" class="css-a4x74f"><span>494</span></td><td id="LC494" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L495" class="css-a4x74f"><span>495</span></td><td id="LC495" class="css-1dcdqdg"><code>      }, {
</code></td></tr><tr><td id="L496" class="css-a4x74f"><span>496</span></td><td id="LC496" class="css-1dcdqdg"><code>        key: <span class="code-string">"isPendingUnobservation"</span>,
</code></td></tr><tr><td id="L497" class="css-a4x74f"><span>497</span></td><td id="LC497" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L498" class="css-a4x74f"><span>498</span></td><td id="LC498" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> getFlag(<span class="code-keyword">this</span>.flags_, Atom.isPendingUnobservationMask_);
</code></td></tr><tr><td id="L499" class="css-a4x74f"><span>499</span></td><td id="LC499" class="css-1dcdqdg"><code>        },
</code></td></tr><tr><td id="L500" class="css-a4x74f"><span>500</span></td><td id="LC500" class="css-1dcdqdg"><code>        <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(newValue) {
</code></td></tr><tr><td id="L501" class="css-a4x74f"><span>501</span></td><td id="LC501" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.flags_ = setFlag(<span class="code-keyword">this</span>.flags_, Atom.isPendingUnobservationMask_, newValue);
</code></td></tr><tr><td id="L502" class="css-a4x74f"><span>502</span></td><td id="LC502" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L503" class="css-a4x74f"><span>503</span></td><td id="LC503" class="css-1dcdqdg"><code>      }, {
</code></td></tr><tr><td id="L504" class="css-a4x74f"><span>504</span></td><td id="LC504" class="css-1dcdqdg"><code>        key: <span class="code-string">"diffValue"</span>,
</code></td></tr><tr><td id="L505" class="css-a4x74f"><span>505</span></td><td id="LC505" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L506" class="css-a4x74f"><span>506</span></td><td id="LC506" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> getFlag(<span class="code-keyword">this</span>.flags_, Atom.diffValueMask_) ? <span class="code-number">1</span> : <span class="code-number">0</span>;
</code></td></tr><tr><td id="L507" class="css-a4x74f"><span>507</span></td><td id="LC507" class="css-1dcdqdg"><code>        },
</code></td></tr><tr><td id="L508" class="css-a4x74f"><span>508</span></td><td id="LC508" class="css-1dcdqdg"><code>        <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(newValue) {
</code></td></tr><tr><td id="L509" class="css-a4x74f"><span>509</span></td><td id="LC509" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.flags_ = setFlag(<span class="code-keyword">this</span>.flags_, Atom.diffValueMask_, newValue === <span class="code-number">1</span> ? <span class="code-literal">true</span> : <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L510" class="css-a4x74f"><span>510</span></td><td id="LC510" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L511" class="css-a4x74f"><span>511</span></td><td id="LC511" class="css-1dcdqdg"><code>      }]);
</code></td></tr><tr><td id="L512" class="css-a4x74f"><span>512</span></td><td id="LC512" class="css-1dcdqdg"><code>    }();
</code></td></tr><tr><td id="L513" class="css-a4x74f"><span>513</span></td><td id="LC513" class="css-1dcdqdg"><code>    Atom.isBeingObservedMask_ = <span class="code-number">1</span>;
</code></td></tr><tr><td id="L514" class="css-a4x74f"><span>514</span></td><td id="LC514" class="css-1dcdqdg"><code>    Atom.isPendingUnobservationMask_ = <span class="code-number">2</span>;
</code></td></tr><tr><td id="L515" class="css-a4x74f"><span>515</span></td><td id="LC515" class="css-1dcdqdg"><code>    Atom.diffValueMask_ = <span class="code-number">4</span>;
</code></td></tr><tr><td id="L516" class="css-a4x74f"><span>516</span></td><td id="LC516" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> isAtom = <span class="code-comment">/*#__PURE__*/</span>createInstanceofPredicate(<span class="code-string">"Atom"</span>, Atom);
</code></td></tr><tr><td id="L517" class="css-a4x74f"><span>517</span></td><td id="LC517" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createAtom</span>(<span class="code-params">name, onBecomeObservedHandler, onBecomeUnobservedHandler</span>) </span>{
</code></td></tr><tr><td id="L518" class="css-a4x74f"><span>518</span></td><td id="LC518" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (onBecomeObservedHandler === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L519" class="css-a4x74f"><span>519</span></td><td id="LC519" class="css-1dcdqdg"><code>        onBecomeObservedHandler = noop;
</code></td></tr><tr><td id="L520" class="css-a4x74f"><span>520</span></td><td id="LC520" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L521" class="css-a4x74f"><span>521</span></td><td id="LC521" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (onBecomeUnobservedHandler === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L522" class="css-a4x74f"><span>522</span></td><td id="LC522" class="css-1dcdqdg"><code>        onBecomeUnobservedHandler = noop;
</code></td></tr><tr><td id="L523" class="css-a4x74f"><span>523</span></td><td id="LC523" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L524" class="css-a4x74f"><span>524</span></td><td id="LC524" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> atom = <span class="code-keyword">new</span> Atom(name);
</code></td></tr><tr><td id="L525" class="css-a4x74f"><span>525</span></td><td id="LC525" class="css-1dcdqdg"><code>      <span class="code-comment">// default `noop` listener will not initialize the hook Set</span>
</code></td></tr><tr><td id="L526" class="css-a4x74f"><span>526</span></td><td id="LC526" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (onBecomeObservedHandler !== noop) {
</code></td></tr><tr><td id="L527" class="css-a4x74f"><span>527</span></td><td id="LC527" class="css-1dcdqdg"><code>        onBecomeObserved(atom, onBecomeObservedHandler);
</code></td></tr><tr><td id="L528" class="css-a4x74f"><span>528</span></td><td id="LC528" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L529" class="css-a4x74f"><span>529</span></td><td id="LC529" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (onBecomeUnobservedHandler !== noop) {
</code></td></tr><tr><td id="L530" class="css-a4x74f"><span>530</span></td><td id="LC530" class="css-1dcdqdg"><code>        onBecomeUnobserved(atom, onBecomeUnobservedHandler);
</code></td></tr><tr><td id="L531" class="css-a4x74f"><span>531</span></td><td id="LC531" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L532" class="css-a4x74f"><span>532</span></td><td id="LC532" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> atom;
</code></td></tr><tr><td id="L533" class="css-a4x74f"><span>533</span></td><td id="LC533" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L534" class="css-a4x74f"><span>534</span></td><td id="LC534" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L535" class="css-a4x74f"><span>535</span></td><td id="LC535" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">identityComparer</span>(<span class="code-params">a, b</span>) </span>{
</code></td></tr><tr><td id="L536" class="css-a4x74f"><span>536</span></td><td id="LC536" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> a === b;
</code></td></tr><tr><td id="L537" class="css-a4x74f"><span>537</span></td><td id="LC537" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L538" class="css-a4x74f"><span>538</span></td><td id="LC538" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">structuralComparer</span>(<span class="code-params">a, b</span>) </span>{
</code></td></tr><tr><td id="L539" class="css-a4x74f"><span>539</span></td><td id="LC539" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> deepEqual(a, b);
</code></td></tr><tr><td id="L540" class="css-a4x74f"><span>540</span></td><td id="LC540" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L541" class="css-a4x74f"><span>541</span></td><td id="LC541" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">shallowComparer</span>(<span class="code-params">a, b</span>) </span>{
</code></td></tr><tr><td id="L542" class="css-a4x74f"><span>542</span></td><td id="LC542" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> deepEqual(a, b, <span class="code-number">1</span>);
</code></td></tr><tr><td id="L543" class="css-a4x74f"><span>543</span></td><td id="LC543" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L544" class="css-a4x74f"><span>544</span></td><td id="LC544" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">defaultComparer</span>(<span class="code-params">a, b</span>) </span>{
</code></td></tr><tr><td id="L545" class="css-a4x74f"><span>545</span></td><td id="LC545" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-built_in">Object</span>.is) {
</code></td></tr><tr><td id="L546" class="css-a4x74f"><span>546</span></td><td id="LC546" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-built_in">Object</span>.is(a, b);
</code></td></tr><tr><td id="L547" class="css-a4x74f"><span>547</span></td><td id="LC547" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L548" class="css-a4x74f"><span>548</span></td><td id="LC548" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> a === b ? a !== <span class="code-number">0</span> || <span class="code-number">1</span> / a === <span class="code-number">1</span> / b : a !== a &amp;&amp; b !== b;
</code></td></tr><tr><td id="L549" class="css-a4x74f"><span>549</span></td><td id="LC549" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L550" class="css-a4x74f"><span>550</span></td><td id="LC550" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> comparer = {
</code></td></tr><tr><td id="L551" class="css-a4x74f"><span>551</span></td><td id="LC551" class="css-1dcdqdg"><code>      identity: identityComparer,
</code></td></tr><tr><td id="L552" class="css-a4x74f"><span>552</span></td><td id="LC552" class="css-1dcdqdg"><code>      structural: structuralComparer,
</code></td></tr><tr><td id="L553" class="css-a4x74f"><span>553</span></td><td id="LC553" class="css-1dcdqdg"><code>      <span class="code-string">"default"</span>: defaultComparer,
</code></td></tr><tr><td id="L554" class="css-a4x74f"><span>554</span></td><td id="LC554" class="css-1dcdqdg"><code>      shallow: shallowComparer
</code></td></tr><tr><td id="L555" class="css-a4x74f"><span>555</span></td><td id="LC555" class="css-1dcdqdg"><code>    };
</code></td></tr><tr><td id="L556" class="css-a4x74f"><span>556</span></td><td id="LC556" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L557" class="css-a4x74f"><span>557</span></td><td id="LC557" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">deepEnhancer</span>(<span class="code-params">v, _, name</span>) </span>{
</code></td></tr><tr><td id="L558" class="css-a4x74f"><span>558</span></td><td id="LC558" class="css-1dcdqdg"><code>      <span class="code-comment">// it is an observable already, done</span>
</code></td></tr><tr><td id="L559" class="css-a4x74f"><span>559</span></td><td id="LC559" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservable(v)) {
</code></td></tr><tr><td id="L560" class="css-a4x74f"><span>560</span></td><td id="LC560" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> v;
</code></td></tr><tr><td id="L561" class="css-a4x74f"><span>561</span></td><td id="LC561" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L562" class="css-a4x74f"><span>562</span></td><td id="LC562" class="css-1dcdqdg"><code>      <span class="code-comment">// something that can be converted and mutated?</span>
</code></td></tr><tr><td id="L563" class="css-a4x74f"><span>563</span></td><td id="LC563" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-built_in">Array</span>.isArray(v)) {
</code></td></tr><tr><td id="L564" class="css-a4x74f"><span>564</span></td><td id="LC564" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> observable.array(v, {
</code></td></tr><tr><td id="L565" class="css-a4x74f"><span>565</span></td><td id="LC565" class="css-1dcdqdg"><code>          name: name
</code></td></tr><tr><td id="L566" class="css-a4x74f"><span>566</span></td><td id="LC566" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L567" class="css-a4x74f"><span>567</span></td><td id="LC567" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L568" class="css-a4x74f"><span>568</span></td><td id="LC568" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isPlainObject(v)) {
</code></td></tr><tr><td id="L569" class="css-a4x74f"><span>569</span></td><td id="LC569" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> observable.object(v, <span class="code-literal">undefined</span>, {
</code></td></tr><tr><td id="L570" class="css-a4x74f"><span>570</span></td><td id="LC570" class="css-1dcdqdg"><code>          name: name
</code></td></tr><tr><td id="L571" class="css-a4x74f"><span>571</span></td><td id="LC571" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L572" class="css-a4x74f"><span>572</span></td><td id="LC572" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L573" class="css-a4x74f"><span>573</span></td><td id="LC573" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isES6Map(v)) {
</code></td></tr><tr><td id="L574" class="css-a4x74f"><span>574</span></td><td id="LC574" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> observable.map(v, {
</code></td></tr><tr><td id="L575" class="css-a4x74f"><span>575</span></td><td id="LC575" class="css-1dcdqdg"><code>          name: name
</code></td></tr><tr><td id="L576" class="css-a4x74f"><span>576</span></td><td id="LC576" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L577" class="css-a4x74f"><span>577</span></td><td id="LC577" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L578" class="css-a4x74f"><span>578</span></td><td id="LC578" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isES6Set(v)) {
</code></td></tr><tr><td id="L579" class="css-a4x74f"><span>579</span></td><td id="LC579" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> observable.set(v, {
</code></td></tr><tr><td id="L580" class="css-a4x74f"><span>580</span></td><td id="LC580" class="css-1dcdqdg"><code>          name: name
</code></td></tr><tr><td id="L581" class="css-a4x74f"><span>581</span></td><td id="LC581" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L582" class="css-a4x74f"><span>582</span></td><td id="LC582" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L583" class="css-a4x74f"><span>583</span></td><td id="LC583" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> v === <span class="code-string">"function"</span> &amp;&amp; !isAction(v) &amp;&amp; !isFlow(v)) {
</code></td></tr><tr><td id="L584" class="css-a4x74f"><span>584</span></td><td id="LC584" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isGenerator(v)) {
</code></td></tr><tr><td id="L585" class="css-a4x74f"><span>585</span></td><td id="LC585" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> flow(v);
</code></td></tr><tr><td id="L586" class="css-a4x74f"><span>586</span></td><td id="LC586" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L587" class="css-a4x74f"><span>587</span></td><td id="LC587" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> autoAction(name, v);
</code></td></tr><tr><td id="L588" class="css-a4x74f"><span>588</span></td><td id="LC588" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L589" class="css-a4x74f"><span>589</span></td><td id="LC589" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L590" class="css-a4x74f"><span>590</span></td><td id="LC590" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> v;
</code></td></tr><tr><td id="L591" class="css-a4x74f"><span>591</span></td><td id="LC591" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L592" class="css-a4x74f"><span>592</span></td><td id="LC592" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">shallowEnhancer</span>(<span class="code-params">v, _, name</span>) </span>{
</code></td></tr><tr><td id="L593" class="css-a4x74f"><span>593</span></td><td id="LC593" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (v === <span class="code-literal">undefined</span> || v === <span class="code-literal">null</span>) {
</code></td></tr><tr><td id="L594" class="css-a4x74f"><span>594</span></td><td id="LC594" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> v;
</code></td></tr><tr><td id="L595" class="css-a4x74f"><span>595</span></td><td id="LC595" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L596" class="css-a4x74f"><span>596</span></td><td id="LC596" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableObject(v) || isObservableArray(v) || isObservableMap(v) || isObservableSet(v)) {
</code></td></tr><tr><td id="L597" class="css-a4x74f"><span>597</span></td><td id="LC597" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> v;
</code></td></tr><tr><td id="L598" class="css-a4x74f"><span>598</span></td><td id="LC598" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L599" class="css-a4x74f"><span>599</span></td><td id="LC599" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-built_in">Array</span>.isArray(v)) {
</code></td></tr><tr><td id="L600" class="css-a4x74f"><span>600</span></td><td id="LC600" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> observable.array(v, {
</code></td></tr><tr><td id="L601" class="css-a4x74f"><span>601</span></td><td id="LC601" class="css-1dcdqdg"><code>          name: name,
</code></td></tr><tr><td id="L602" class="css-a4x74f"><span>602</span></td><td id="LC602" class="css-1dcdqdg"><code>          deep: <span class="code-literal">false</span>
</code></td></tr><tr><td id="L603" class="css-a4x74f"><span>603</span></td><td id="LC603" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L604" class="css-a4x74f"><span>604</span></td><td id="LC604" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L605" class="css-a4x74f"><span>605</span></td><td id="LC605" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isPlainObject(v)) {
</code></td></tr><tr><td id="L606" class="css-a4x74f"><span>606</span></td><td id="LC606" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> observable.object(v, <span class="code-literal">undefined</span>, {
</code></td></tr><tr><td id="L607" class="css-a4x74f"><span>607</span></td><td id="LC607" class="css-1dcdqdg"><code>          name: name,
</code></td></tr><tr><td id="L608" class="css-a4x74f"><span>608</span></td><td id="LC608" class="css-1dcdqdg"><code>          deep: <span class="code-literal">false</span>
</code></td></tr><tr><td id="L609" class="css-a4x74f"><span>609</span></td><td id="LC609" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L610" class="css-a4x74f"><span>610</span></td><td id="LC610" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L611" class="css-a4x74f"><span>611</span></td><td id="LC611" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isES6Map(v)) {
</code></td></tr><tr><td id="L612" class="css-a4x74f"><span>612</span></td><td id="LC612" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> observable.map(v, {
</code></td></tr><tr><td id="L613" class="css-a4x74f"><span>613</span></td><td id="LC613" class="css-1dcdqdg"><code>          name: name,
</code></td></tr><tr><td id="L614" class="css-a4x74f"><span>614</span></td><td id="LC614" class="css-1dcdqdg"><code>          deep: <span class="code-literal">false</span>
</code></td></tr><tr><td id="L615" class="css-a4x74f"><span>615</span></td><td id="LC615" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L616" class="css-a4x74f"><span>616</span></td><td id="LC616" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L617" class="css-a4x74f"><span>617</span></td><td id="LC617" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isES6Set(v)) {
</code></td></tr><tr><td id="L618" class="css-a4x74f"><span>618</span></td><td id="LC618" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> observable.set(v, {
</code></td></tr><tr><td id="L619" class="css-a4x74f"><span>619</span></td><td id="LC619" class="css-1dcdqdg"><code>          name: name,
</code></td></tr><tr><td id="L620" class="css-a4x74f"><span>620</span></td><td id="LC620" class="css-1dcdqdg"><code>          deep: <span class="code-literal">false</span>
</code></td></tr><tr><td id="L621" class="css-a4x74f"><span>621</span></td><td id="LC621" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L622" class="css-a4x74f"><span>622</span></td><td id="LC622" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L623" class="css-a4x74f"><span>623</span></td><td id="LC623" class="css-1dcdqdg"><code>      {
</code></td></tr><tr><td id="L624" class="css-a4x74f"><span>624</span></td><td id="LC624" class="css-1dcdqdg"><code>        die(<span class="code-string">"The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets"</span>);
</code></td></tr><tr><td id="L625" class="css-a4x74f"><span>625</span></td><td id="LC625" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L626" class="css-a4x74f"><span>626</span></td><td id="LC626" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L627" class="css-a4x74f"><span>627</span></td><td id="LC627" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">referenceEnhancer</span>(<span class="code-params">newValue</span>) </span>{
</code></td></tr><tr><td id="L628" class="css-a4x74f"><span>628</span></td><td id="LC628" class="css-1dcdqdg"><code>      <span class="code-comment">// never turn into an observable</span>
</code></td></tr><tr><td id="L629" class="css-a4x74f"><span>629</span></td><td id="LC629" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> newValue;
</code></td></tr><tr><td id="L630" class="css-a4x74f"><span>630</span></td><td id="LC630" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L631" class="css-a4x74f"><span>631</span></td><td id="LC631" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">refStructEnhancer</span>(<span class="code-params">v, oldValue</span>) </span>{
</code></td></tr><tr><td id="L632" class="css-a4x74f"><span>632</span></td><td id="LC632" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( isObservable(v)) {
</code></td></tr><tr><td id="L633" class="css-a4x74f"><span>633</span></td><td id="LC633" class="css-1dcdqdg"><code>        die(<span class="code-string">"observable.struct should not be used with observable values"</span>);
</code></td></tr><tr><td id="L634" class="css-a4x74f"><span>634</span></td><td id="LC634" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L635" class="css-a4x74f"><span>635</span></td><td id="LC635" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (deepEqual(v, oldValue)) {
</code></td></tr><tr><td id="L636" class="css-a4x74f"><span>636</span></td><td id="LC636" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> oldValue;
</code></td></tr><tr><td id="L637" class="css-a4x74f"><span>637</span></td><td id="LC637" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L638" class="css-a4x74f"><span>638</span></td><td id="LC638" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> v;
</code></td></tr><tr><td id="L639" class="css-a4x74f"><span>639</span></td><td id="LC639" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L640" class="css-a4x74f"><span>640</span></td><td id="LC640" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L641" class="css-a4x74f"><span>641</span></td><td id="LC641" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> OVERRIDE = <span class="code-string">"override"</span>;
</code></td></tr><tr><td id="L642" class="css-a4x74f"><span>642</span></td><td id="LC642" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> override = <span class="code-comment">/*#__PURE__*/</span>createDecoratorAnnotation({
</code></td></tr><tr><td id="L643" class="css-a4x74f"><span>643</span></td><td id="LC643" class="css-1dcdqdg"><code>      annotationType_: OVERRIDE,
</code></td></tr><tr><td id="L644" class="css-a4x74f"><span>644</span></td><td id="LC644" class="css-1dcdqdg"><code>      make_: make_,
</code></td></tr><tr><td id="L645" class="css-a4x74f"><span>645</span></td><td id="LC645" class="css-1dcdqdg"><code>      extend_: extend_,
</code></td></tr><tr><td id="L646" class="css-a4x74f"><span>646</span></td><td id="LC646" class="css-1dcdqdg"><code>      decorate_20223_: decorate_20223_
</code></td></tr><tr><td id="L647" class="css-a4x74f"><span>647</span></td><td id="LC647" class="css-1dcdqdg"><code>    });
</code></td></tr><tr><td id="L648" class="css-a4x74f"><span>648</span></td><td id="LC648" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isOverride</span>(<span class="code-params">annotation</span>) </span>{
</code></td></tr><tr><td id="L649" class="css-a4x74f"><span>649</span></td><td id="LC649" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> annotation.annotationType_ === OVERRIDE;
</code></td></tr><tr><td id="L650" class="css-a4x74f"><span>650</span></td><td id="LC650" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L651" class="css-a4x74f"><span>651</span></td><td id="LC651" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">make_</span>(<span class="code-params">adm, key</span>) </span>{
</code></td></tr><tr><td id="L652" class="css-a4x74f"><span>652</span></td><td id="LC652" class="css-1dcdqdg"><code>      <span class="code-comment">// Must not be plain object</span>
</code></td></tr><tr><td id="L653" class="css-a4x74f"><span>653</span></td><td id="LC653" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( adm.isPlainObject_) {
</code></td></tr><tr><td id="L654" class="css-a4x74f"><span>654</span></td><td id="LC654" class="css-1dcdqdg"><code>        die(<span class="code-string">"Cannot apply '"</span> + <span class="code-keyword">this</span>.annotationType_ + <span class="code-string">"' to '"</span> + adm.name_ + <span class="code-string">"."</span> + key.toString() + <span class="code-string">"':"</span> + (<span class="code-string">"\n'"</span> + <span class="code-keyword">this</span>.annotationType_ + <span class="code-string">"' cannot be used on plain objects."</span>));
</code></td></tr><tr><td id="L655" class="css-a4x74f"><span>655</span></td><td id="LC655" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L656" class="css-a4x74f"><span>656</span></td><td id="LC656" class="css-1dcdqdg"><code>      <span class="code-comment">// Must override something</span>
</code></td></tr><tr><td id="L657" class="css-a4x74f"><span>657</span></td><td id="LC657" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( !hasProp(adm.appliedAnnotations_, key)) {
</code></td></tr><tr><td id="L658" class="css-a4x74f"><span>658</span></td><td id="LC658" class="css-1dcdqdg"><code>        die(<span class="code-string">"'"</span> + adm.name_ + <span class="code-string">"."</span> + key.toString() + <span class="code-string">"' is annotated with '"</span> + <span class="code-keyword">this</span>.annotationType_ + <span class="code-string">"', "</span> + <span class="code-string">"but no such annotated member was found on prototype."</span>);
</code></td></tr><tr><td id="L659" class="css-a4x74f"><span>659</span></td><td id="LC659" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L660" class="css-a4x74f"><span>660</span></td><td id="LC660" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-number">0</span> <span class="code-comment">/* MakeResult.Cancel */</span>;
</code></td></tr><tr><td id="L661" class="css-a4x74f"><span>661</span></td><td id="LC661" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L662" class="css-a4x74f"><span>662</span></td><td id="LC662" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">extend_</span>(<span class="code-params">adm, key, descriptor, proxyTrap</span>) </span>{
</code></td></tr><tr><td id="L663" class="css-a4x74f"><span>663</span></td><td id="LC663" class="css-1dcdqdg"><code>      die(<span class="code-string">"'"</span> + <span class="code-keyword">this</span>.annotationType_ + <span class="code-string">"' can only be used with 'makeObservable'"</span>);
</code></td></tr><tr><td id="L664" class="css-a4x74f"><span>664</span></td><td id="LC664" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L665" class="css-a4x74f"><span>665</span></td><td id="LC665" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">decorate_20223_</span>(<span class="code-params">desc, context</span>) </span>{
</code></td></tr><tr><td id="L666" class="css-a4x74f"><span>666</span></td><td id="LC666" class="css-1dcdqdg"><code>      <span class="code-built_in">console</span>.warn(<span class="code-string">"'"</span> + <span class="code-keyword">this</span>.annotationType_ + <span class="code-string">"' cannot be used with decorators - this is a no-op"</span>);
</code></td></tr><tr><td id="L667" class="css-a4x74f"><span>667</span></td><td id="LC667" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L668" class="css-a4x74f"><span>668</span></td><td id="LC668" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L669" class="css-a4x74f"><span>669</span></td><td id="LC669" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createActionAnnotation</span>(<span class="code-params">name, options</span>) </span>{
</code></td></tr><tr><td id="L670" class="css-a4x74f"><span>670</span></td><td id="LC670" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> {
</code></td></tr><tr><td id="L671" class="css-a4x74f"><span>671</span></td><td id="LC671" class="css-1dcdqdg"><code>        annotationType_: name,
</code></td></tr><tr><td id="L672" class="css-a4x74f"><span>672</span></td><td id="LC672" class="css-1dcdqdg"><code>        options_: options,
</code></td></tr><tr><td id="L673" class="css-a4x74f"><span>673</span></td><td id="LC673" class="css-1dcdqdg"><code>        make_: make_$<span class="code-number">1</span>,
</code></td></tr><tr><td id="L674" class="css-a4x74f"><span>674</span></td><td id="LC674" class="css-1dcdqdg"><code>        extend_: extend_$<span class="code-number">1</span>,
</code></td></tr><tr><td id="L675" class="css-a4x74f"><span>675</span></td><td id="LC675" class="css-1dcdqdg"><code>        decorate_20223_: decorate_20223_$<span class="code-number">1</span>
</code></td></tr><tr><td id="L676" class="css-a4x74f"><span>676</span></td><td id="LC676" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L677" class="css-a4x74f"><span>677</span></td><td id="LC677" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L678" class="css-a4x74f"><span>678</span></td><td id="LC678" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">make_$1</span>(<span class="code-params">adm, key, descriptor, source</span>) </span>{
</code></td></tr><tr><td id="L679" class="css-a4x74f"><span>679</span></td><td id="LC679" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _this$options_;
</code></td></tr><tr><td id="L680" class="css-a4x74f"><span>680</span></td><td id="LC680" class="css-1dcdqdg"><code>      <span class="code-comment">// bound</span>
</code></td></tr><tr><td id="L681" class="css-a4x74f"><span>681</span></td><td id="LC681" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ((_this$options_ = <span class="code-keyword">this</span>.options_) != <span class="code-literal">null</span> &amp;&amp; _this$options_.bound) {
</code></td></tr><tr><td id="L682" class="css-a4x74f"><span>682</span></td><td id="LC682" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.extend_(adm, key, descriptor, <span class="code-literal">false</span>) === <span class="code-literal">null</span> ? <span class="code-number">0</span> <span class="code-comment">/* MakeResult.Cancel */</span> : <span class="code-number">1</span> <span class="code-comment">/* MakeResult.Break */</span>;
</code></td></tr><tr><td id="L683" class="css-a4x74f"><span>683</span></td><td id="LC683" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L684" class="css-a4x74f"><span>684</span></td><td id="LC684" class="css-1dcdqdg"><code>      <span class="code-comment">// own</span>
</code></td></tr><tr><td id="L685" class="css-a4x74f"><span>685</span></td><td id="LC685" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (source === adm.target_) {
</code></td></tr><tr><td id="L686" class="css-a4x74f"><span>686</span></td><td id="LC686" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.extend_(adm, key, descriptor, <span class="code-literal">false</span>) === <span class="code-literal">null</span> ? <span class="code-number">0</span> <span class="code-comment">/* MakeResult.Cancel */</span> : <span class="code-number">2</span> <span class="code-comment">/* MakeResult.Continue */</span>;
</code></td></tr><tr><td id="L687" class="css-a4x74f"><span>687</span></td><td id="LC687" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L688" class="css-a4x74f"><span>688</span></td><td id="LC688" class="css-1dcdqdg"><code>      <span class="code-comment">// prototype</span>
</code></td></tr><tr><td id="L689" class="css-a4x74f"><span>689</span></td><td id="LC689" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isAction(descriptor.value)) {
</code></td></tr><tr><td id="L690" class="css-a4x74f"><span>690</span></td><td id="LC690" class="css-1dcdqdg"><code>        <span class="code-comment">// A prototype could have been annotated already by other constructor,</span>
</code></td></tr><tr><td id="L691" class="css-a4x74f"><span>691</span></td><td id="LC691" class="css-1dcdqdg"><code>        <span class="code-comment">// rest of the proto chain must be annotated already</span>
</code></td></tr><tr><td id="L692" class="css-a4x74f"><span>692</span></td><td id="LC692" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-number">1</span> <span class="code-comment">/* MakeResult.Break */</span>;
</code></td></tr><tr><td id="L693" class="css-a4x74f"><span>693</span></td><td id="LC693" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L694" class="css-a4x74f"><span>694</span></td><td id="LC694" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> actionDescriptor = createActionDescriptor(adm, <span class="code-keyword">this</span>, key, descriptor, <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L695" class="css-a4x74f"><span>695</span></td><td id="LC695" class="css-1dcdqdg"><code>      defineProperty(source, key, actionDescriptor);
</code></td></tr><tr><td id="L696" class="css-a4x74f"><span>696</span></td><td id="LC696" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-number">2</span> <span class="code-comment">/* MakeResult.Continue */</span>;
</code></td></tr><tr><td id="L697" class="css-a4x74f"><span>697</span></td><td id="LC697" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L698" class="css-a4x74f"><span>698</span></td><td id="LC698" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">extend_$1</span>(<span class="code-params">adm, key, descriptor, proxyTrap</span>) </span>{
</code></td></tr><tr><td id="L699" class="css-a4x74f"><span>699</span></td><td id="LC699" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> actionDescriptor = createActionDescriptor(adm, <span class="code-keyword">this</span>, key, descriptor);
</code></td></tr><tr><td id="L700" class="css-a4x74f"><span>700</span></td><td id="LC700" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> adm.defineProperty_(key, actionDescriptor, proxyTrap);
</code></td></tr><tr><td id="L701" class="css-a4x74f"><span>701</span></td><td id="LC701" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L702" class="css-a4x74f"><span>702</span></td><td id="LC702" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">decorate_20223_$1</span>(<span class="code-params">mthd, context</span>) </span>{
</code></td></tr><tr><td id="L703" class="css-a4x74f"><span>703</span></td><td id="LC703" class="css-1dcdqdg"><code>      {
</code></td></tr><tr><td id="L704" class="css-a4x74f"><span>704</span></td><td id="LC704" class="css-1dcdqdg"><code>        assert20223DecoratorType(context, [<span class="code-string">"method"</span>, <span class="code-string">"field"</span>]);
</code></td></tr><tr><td id="L705" class="css-a4x74f"><span>705</span></td><td id="LC705" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L706" class="css-a4x74f"><span>706</span></td><td id="LC706" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> kind = context.kind,
</code></td></tr><tr><td id="L707" class="css-a4x74f"><span>707</span></td><td id="LC707" class="css-1dcdqdg"><code>        name = context.name,
</code></td></tr><tr><td id="L708" class="css-a4x74f"><span>708</span></td><td id="LC708" class="css-1dcdqdg"><code>        addInitializer = context.addInitializer;
</code></td></tr><tr><td id="L709" class="css-a4x74f"><span>709</span></td><td id="LC709" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> ann = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L710" class="css-a4x74f"><span>710</span></td><td id="LC710" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _createAction = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_createAction</span>(<span class="code-params">m</span>) </span>{
</code></td></tr><tr><td id="L711" class="css-a4x74f"><span>711</span></td><td id="LC711" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _ann$options_$name, _ann$options_, _ann$options_$autoAct, _ann$options_2;
</code></td></tr><tr><td id="L712" class="css-a4x74f"><span>712</span></td><td id="LC712" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> createAction((_ann$options_$name = (_ann$options_ = ann.options_) == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : _ann$options_.name) != <span class="code-literal">null</span> ? _ann$options_$name : name.toString(), m, (_ann$options_$autoAct = (_ann$options_2 = ann.options_) == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : _ann$options_2.autoAction) != <span class="code-literal">null</span> ? _ann$options_$autoAct : <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L713" class="css-a4x74f"><span>713</span></td><td id="LC713" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L714" class="css-a4x74f"><span>714</span></td><td id="LC714" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (kind == <span class="code-string">"field"</span>) {
</code></td></tr><tr><td id="L715" class="css-a4x74f"><span>715</span></td><td id="LC715" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">initMthd</span>) </span>{
</code></td></tr><tr><td id="L716" class="css-a4x74f"><span>716</span></td><td id="LC716" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> _ann$options_3;
</code></td></tr><tr><td id="L717" class="css-a4x74f"><span>717</span></td><td id="LC717" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> mthd = initMthd;
</code></td></tr><tr><td id="L718" class="css-a4x74f"><span>718</span></td><td id="LC718" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!isAction(mthd)) {
</code></td></tr><tr><td id="L719" class="css-a4x74f"><span>719</span></td><td id="LC719" class="css-1dcdqdg"><code>            mthd = _createAction(mthd);
</code></td></tr><tr><td id="L720" class="css-a4x74f"><span>720</span></td><td id="LC720" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L721" class="css-a4x74f"><span>721</span></td><td id="LC721" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> ((_ann$options_3 = ann.options_) != <span class="code-literal">null</span> &amp;&amp; _ann$options_3.bound) {
</code></td></tr><tr><td id="L722" class="css-a4x74f"><span>722</span></td><td id="LC722" class="css-1dcdqdg"><code>            mthd = mthd.bind(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L723" class="css-a4x74f"><span>723</span></td><td id="LC723" class="css-1dcdqdg"><code>            mthd.isMobxAction = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L724" class="css-a4x74f"><span>724</span></td><td id="LC724" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L725" class="css-a4x74f"><span>725</span></td><td id="LC725" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> mthd;
</code></td></tr><tr><td id="L726" class="css-a4x74f"><span>726</span></td><td id="LC726" class="css-1dcdqdg"><code>        };
</code></td></tr><tr><td id="L727" class="css-a4x74f"><span>727</span></td><td id="LC727" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L728" class="css-a4x74f"><span>728</span></td><td id="LC728" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (kind == <span class="code-string">"method"</span>) {
</code></td></tr><tr><td id="L729" class="css-a4x74f"><span>729</span></td><td id="LC729" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this$options_2;
</code></td></tr><tr><td id="L730" class="css-a4x74f"><span>730</span></td><td id="LC730" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!isAction(mthd)) {
</code></td></tr><tr><td id="L731" class="css-a4x74f"><span>731</span></td><td id="LC731" class="css-1dcdqdg"><code>          mthd = _createAction(mthd);
</code></td></tr><tr><td id="L732" class="css-a4x74f"><span>732</span></td><td id="LC732" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L733" class="css-a4x74f"><span>733</span></td><td id="LC733" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ((_this$options_2 = <span class="code-keyword">this</span>.options_) != <span class="code-literal">null</span> &amp;&amp; _this$options_2.bound) {
</code></td></tr><tr><td id="L734" class="css-a4x74f"><span>734</span></td><td id="LC734" class="css-1dcdqdg"><code>          addInitializer(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L735" class="css-a4x74f"><span>735</span></td><td id="LC735" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> self = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L736" class="css-a4x74f"><span>736</span></td><td id="LC736" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> bound = self[name].bind(self);
</code></td></tr><tr><td id="L737" class="css-a4x74f"><span>737</span></td><td id="LC737" class="css-1dcdqdg"><code>            bound.isMobxAction = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L738" class="css-a4x74f"><span>738</span></td><td id="LC738" class="css-1dcdqdg"><code>            self[name] = bound;
</code></td></tr><tr><td id="L739" class="css-a4x74f"><span>739</span></td><td id="LC739" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L740" class="css-a4x74f"><span>740</span></td><td id="LC740" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L741" class="css-a4x74f"><span>741</span></td><td id="LC741" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> mthd;
</code></td></tr><tr><td id="L742" class="css-a4x74f"><span>742</span></td><td id="LC742" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L743" class="css-a4x74f"><span>743</span></td><td id="LC743" class="css-1dcdqdg"><code>      die(<span class="code-string">"Cannot apply '"</span> + ann.annotationType_ + <span class="code-string">"' to '"</span> + <span class="code-built_in">String</span>(name) + <span class="code-string">"' (kind: "</span> + kind + <span class="code-string">"):"</span> + (<span class="code-string">"\n'"</span> + ann.annotationType_ + <span class="code-string">"' can only be used on properties with a function value."</span>));
</code></td></tr><tr><td id="L744" class="css-a4x74f"><span>744</span></td><td id="LC744" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L745" class="css-a4x74f"><span>745</span></td><td id="LC745" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">assertActionDescriptor</span>(<span class="code-params">adm, _ref, key, _ref2</span>) </span>{
</code></td></tr><tr><td id="L746" class="css-a4x74f"><span>746</span></td><td id="LC746" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> annotationType_ = _ref.annotationType_;
</code></td></tr><tr><td id="L747" class="css-a4x74f"><span>747</span></td><td id="LC747" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> value = _ref2.value;
</code></td></tr><tr><td id="L748" class="css-a4x74f"><span>748</span></td><td id="LC748" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( !isFunction(value)) {
</code></td></tr><tr><td id="L749" class="css-a4x74f"><span>749</span></td><td id="LC749" class="css-1dcdqdg"><code>        die(<span class="code-string">"Cannot apply '"</span> + annotationType_ + <span class="code-string">"' to '"</span> + adm.name_ + <span class="code-string">"."</span> + key.toString() + <span class="code-string">"':"</span> + (<span class="code-string">"\n'"</span> + annotationType_ + <span class="code-string">"' can only be used on properties with a function value."</span>));
</code></td></tr><tr><td id="L750" class="css-a4x74f"><span>750</span></td><td id="LC750" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L751" class="css-a4x74f"><span>751</span></td><td id="LC751" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L752" class="css-a4x74f"><span>752</span></td><td id="LC752" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createActionDescriptor</span>(<span class="code-params">adm, annotation, key, descriptor,
</span></span></code></td></tr><tr><td id="L753" class="css-a4x74f"><span>753</span></td><td id="LC753" class="css-1dcdqdg"><code><span class="code-function"><span class="code-params">    <span class="code-regexp">//</span> provides ability to disable safeDescriptors for prototypes
</span></span></code></td></tr><tr><td id="L754" class="css-a4x74f"><span>754</span></td><td id="LC754" class="css-1dcdqdg"><code><span class="code-function"><span class="code-params">    safeDescriptors</span>) </span>{
</code></td></tr><tr><td id="L755" class="css-a4x74f"><span>755</span></td><td id="LC755" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _annotation$options_, _annotation$options_$, _annotation$options_2, _annotation$options_$<span class="code-number">2</span>, _annotation$options_3, _annotation$options_4, _adm$proxy_2;
</code></td></tr><tr><td id="L756" class="css-a4x74f"><span>756</span></td><td id="LC756" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (safeDescriptors === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L757" class="css-a4x74f"><span>757</span></td><td id="LC757" class="css-1dcdqdg"><code>        safeDescriptors = globalState.safeDescriptors;
</code></td></tr><tr><td id="L758" class="css-a4x74f"><span>758</span></td><td id="LC758" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L759" class="css-a4x74f"><span>759</span></td><td id="LC759" class="css-1dcdqdg"><code>      assertActionDescriptor(adm, annotation, key, descriptor);
</code></td></tr><tr><td id="L760" class="css-a4x74f"><span>760</span></td><td id="LC760" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> value = descriptor.value;
</code></td></tr><tr><td id="L761" class="css-a4x74f"><span>761</span></td><td id="LC761" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ((_annotation$options_ = annotation.options_) != <span class="code-literal">null</span> &amp;&amp; _annotation$options_.bound) {
</code></td></tr><tr><td id="L762" class="css-a4x74f"><span>762</span></td><td id="LC762" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _adm$proxy_;
</code></td></tr><tr><td id="L763" class="css-a4x74f"><span>763</span></td><td id="LC763" class="css-1dcdqdg"><code>        value = value.bind((_adm$proxy_ = adm.proxy_) != <span class="code-literal">null</span> ? _adm$proxy_ : adm.target_);
</code></td></tr><tr><td id="L764" class="css-a4x74f"><span>764</span></td><td id="LC764" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L765" class="css-a4x74f"><span>765</span></td><td id="LC765" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> {
</code></td></tr><tr><td id="L766" class="css-a4x74f"><span>766</span></td><td id="LC766" class="css-1dcdqdg"><code>        value: createAction((_annotation$options_$ = (_annotation$options_2 = annotation.options_) == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : _annotation$options_2.name) != <span class="code-literal">null</span> ? _annotation$options_$ : key.toString(), value, (_annotation$options_$<span class="code-number">2</span> = (_annotation$options_3 = annotation.options_) == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : _annotation$options_3.autoAction) != <span class="code-literal">null</span> ? _annotation$options_$<span class="code-number">2</span> : <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L767" class="css-a4x74f"><span>767</span></td><td id="LC767" class="css-1dcdqdg"><code>        <span class="code-comment">// https://github.com/mobxjs/mobx/discussions/3140</span>
</code></td></tr><tr><td id="L768" class="css-a4x74f"><span>768</span></td><td id="LC768" class="css-1dcdqdg"><code>        (_annotation$options_4 = annotation.options_) != <span class="code-literal">null</span> &amp;&amp; _annotation$options_4.bound ? (_adm$proxy_2 = adm.proxy_) != <span class="code-literal">null</span> ? _adm$proxy_2 : adm.target_ : <span class="code-literal">undefined</span>),
</code></td></tr><tr><td id="L769" class="css-a4x74f"><span>769</span></td><td id="LC769" class="css-1dcdqdg"><code>        <span class="code-comment">// Non-configurable for classes</span>
</code></td></tr><tr><td id="L770" class="css-a4x74f"><span>770</span></td><td id="LC770" class="css-1dcdqdg"><code>        <span class="code-comment">// prevents accidental field redefinition in subclass</span>
</code></td></tr><tr><td id="L771" class="css-a4x74f"><span>771</span></td><td id="LC771" class="css-1dcdqdg"><code>        configurable: safeDescriptors ? adm.isPlainObject_ : <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L772" class="css-a4x74f"><span>772</span></td><td id="LC772" class="css-1dcdqdg"><code>        <span class="code-comment">// https://github.com/mobxjs/mobx/pull/2641#issuecomment-737292058</span>
</code></td></tr><tr><td id="L773" class="css-a4x74f"><span>773</span></td><td id="LC773" class="css-1dcdqdg"><code>        enumerable: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L774" class="css-a4x74f"><span>774</span></td><td id="LC774" class="css-1dcdqdg"><code>        <span class="code-comment">// Non-obsevable, therefore non-writable</span>
</code></td></tr><tr><td id="L775" class="css-a4x74f"><span>775</span></td><td id="LC775" class="css-1dcdqdg"><code>        <span class="code-comment">// Also prevents rewriting in subclass constructor</span>
</code></td></tr><tr><td id="L776" class="css-a4x74f"><span>776</span></td><td id="LC776" class="css-1dcdqdg"><code>        writable: safeDescriptors ? <span class="code-literal">false</span> : <span class="code-literal">true</span>
</code></td></tr><tr><td id="L777" class="css-a4x74f"><span>777</span></td><td id="LC777" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L778" class="css-a4x74f"><span>778</span></td><td id="LC778" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L779" class="css-a4x74f"><span>779</span></td><td id="LC779" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L780" class="css-a4x74f"><span>780</span></td><td id="LC780" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createFlowAnnotation</span>(<span class="code-params">name, options</span>) </span>{
</code></td></tr><tr><td id="L781" class="css-a4x74f"><span>781</span></td><td id="LC781" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> {
</code></td></tr><tr><td id="L782" class="css-a4x74f"><span>782</span></td><td id="LC782" class="css-1dcdqdg"><code>        annotationType_: name,
</code></td></tr><tr><td id="L783" class="css-a4x74f"><span>783</span></td><td id="LC783" class="css-1dcdqdg"><code>        options_: options,
</code></td></tr><tr><td id="L784" class="css-a4x74f"><span>784</span></td><td id="LC784" class="css-1dcdqdg"><code>        make_: make_$<span class="code-number">2</span>,
</code></td></tr><tr><td id="L785" class="css-a4x74f"><span>785</span></td><td id="LC785" class="css-1dcdqdg"><code>        extend_: extend_$<span class="code-number">2</span>,
</code></td></tr><tr><td id="L786" class="css-a4x74f"><span>786</span></td><td id="LC786" class="css-1dcdqdg"><code>        decorate_20223_: decorate_20223_$<span class="code-number">2</span>
</code></td></tr><tr><td id="L787" class="css-a4x74f"><span>787</span></td><td id="LC787" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L788" class="css-a4x74f"><span>788</span></td><td id="LC788" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L789" class="css-a4x74f"><span>789</span></td><td id="LC789" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">make_$2</span>(<span class="code-params">adm, key, descriptor, source</span>) </span>{
</code></td></tr><tr><td id="L790" class="css-a4x74f"><span>790</span></td><td id="LC790" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _this$options_;
</code></td></tr><tr><td id="L791" class="css-a4x74f"><span>791</span></td><td id="LC791" class="css-1dcdqdg"><code>      <span class="code-comment">// own</span>
</code></td></tr><tr><td id="L792" class="css-a4x74f"><span>792</span></td><td id="LC792" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (source === adm.target_) {
</code></td></tr><tr><td id="L793" class="css-a4x74f"><span>793</span></td><td id="LC793" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.extend_(adm, key, descriptor, <span class="code-literal">false</span>) === <span class="code-literal">null</span> ? <span class="code-number">0</span> <span class="code-comment">/* MakeResult.Cancel */</span> : <span class="code-number">2</span> <span class="code-comment">/* MakeResult.Continue */</span>;
</code></td></tr><tr><td id="L794" class="css-a4x74f"><span>794</span></td><td id="LC794" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L795" class="css-a4x74f"><span>795</span></td><td id="LC795" class="css-1dcdqdg"><code>      <span class="code-comment">// prototype</span>
</code></td></tr><tr><td id="L796" class="css-a4x74f"><span>796</span></td><td id="LC796" class="css-1dcdqdg"><code>      <span class="code-comment">// bound - must annotate protos to support super.flow()</span>
</code></td></tr><tr><td id="L797" class="css-a4x74f"><span>797</span></td><td id="LC797" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ((_this$options_ = <span class="code-keyword">this</span>.options_) != <span class="code-literal">null</span> &amp;&amp; _this$options_.bound &amp;&amp; (!hasProp(adm.target_, key) || !isFlow(adm.target_[key]))) {
</code></td></tr><tr><td id="L798" class="css-a4x74f"><span>798</span></td><td id="LC798" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.extend_(adm, key, descriptor, <span class="code-literal">false</span>) === <span class="code-literal">null</span>) {
</code></td></tr><tr><td id="L799" class="css-a4x74f"><span>799</span></td><td id="LC799" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-number">0</span> <span class="code-comment">/* MakeResult.Cancel */</span>;
</code></td></tr><tr><td id="L800" class="css-a4x74f"><span>800</span></td><td id="LC800" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L801" class="css-a4x74f"><span>801</span></td><td id="LC801" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L802" class="css-a4x74f"><span>802</span></td><td id="LC802" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isFlow(descriptor.value)) {
</code></td></tr><tr><td id="L803" class="css-a4x74f"><span>803</span></td><td id="LC803" class="css-1dcdqdg"><code>        <span class="code-comment">// A prototype could have been annotated already by other constructor,</span>
</code></td></tr><tr><td id="L804" class="css-a4x74f"><span>804</span></td><td id="LC804" class="css-1dcdqdg"><code>        <span class="code-comment">// rest of the proto chain must be annotated already</span>
</code></td></tr><tr><td id="L805" class="css-a4x74f"><span>805</span></td><td id="LC805" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-number">1</span> <span class="code-comment">/* MakeResult.Break */</span>;
</code></td></tr><tr><td id="L806" class="css-a4x74f"><span>806</span></td><td id="LC806" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L807" class="css-a4x74f"><span>807</span></td><td id="LC807" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> flowDescriptor = createFlowDescriptor(adm, <span class="code-keyword">this</span>, key, descriptor, <span class="code-literal">false</span>, <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L808" class="css-a4x74f"><span>808</span></td><td id="LC808" class="css-1dcdqdg"><code>      defineProperty(source, key, flowDescriptor);
</code></td></tr><tr><td id="L809" class="css-a4x74f"><span>809</span></td><td id="LC809" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-number">2</span> <span class="code-comment">/* MakeResult.Continue */</span>;
</code></td></tr><tr><td id="L810" class="css-a4x74f"><span>810</span></td><td id="LC810" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L811" class="css-a4x74f"><span>811</span></td><td id="LC811" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">extend_$2</span>(<span class="code-params">adm, key, descriptor, proxyTrap</span>) </span>{
</code></td></tr><tr><td id="L812" class="css-a4x74f"><span>812</span></td><td id="LC812" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _this$options_2;
</code></td></tr><tr><td id="L813" class="css-a4x74f"><span>813</span></td><td id="LC813" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> flowDescriptor = createFlowDescriptor(adm, <span class="code-keyword">this</span>, key, descriptor, (_this$options_2 = <span class="code-keyword">this</span>.options_) == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : _this$options_2.bound);
</code></td></tr><tr><td id="L814" class="css-a4x74f"><span>814</span></td><td id="LC814" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> adm.defineProperty_(key, flowDescriptor, proxyTrap);
</code></td></tr><tr><td id="L815" class="css-a4x74f"><span>815</span></td><td id="LC815" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L816" class="css-a4x74f"><span>816</span></td><td id="LC816" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">decorate_20223_$2</span>(<span class="code-params">mthd, context</span>) </span>{
</code></td></tr><tr><td id="L817" class="css-a4x74f"><span>817</span></td><td id="LC817" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _this$options_3;
</code></td></tr><tr><td id="L818" class="css-a4x74f"><span>818</span></td><td id="LC818" class="css-1dcdqdg"><code>      {
</code></td></tr><tr><td id="L819" class="css-a4x74f"><span>819</span></td><td id="LC819" class="css-1dcdqdg"><code>        assert20223DecoratorType(context, [<span class="code-string">"method"</span>]);
</code></td></tr><tr><td id="L820" class="css-a4x74f"><span>820</span></td><td id="LC820" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L821" class="css-a4x74f"><span>821</span></td><td id="LC821" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> name = context.name,
</code></td></tr><tr><td id="L822" class="css-a4x74f"><span>822</span></td><td id="LC822" class="css-1dcdqdg"><code>        addInitializer = context.addInitializer;
</code></td></tr><tr><td id="L823" class="css-a4x74f"><span>823</span></td><td id="LC823" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!isFlow(mthd)) {
</code></td></tr><tr><td id="L824" class="css-a4x74f"><span>824</span></td><td id="LC824" class="css-1dcdqdg"><code>        mthd = flow(mthd);
</code></td></tr><tr><td id="L825" class="css-a4x74f"><span>825</span></td><td id="LC825" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L826" class="css-a4x74f"><span>826</span></td><td id="LC826" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ((_this$options_3 = <span class="code-keyword">this</span>.options_) != <span class="code-literal">null</span> &amp;&amp; _this$options_3.bound) {
</code></td></tr><tr><td id="L827" class="css-a4x74f"><span>827</span></td><td id="LC827" class="css-1dcdqdg"><code>        addInitializer(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L828" class="css-a4x74f"><span>828</span></td><td id="LC828" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> self = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L829" class="css-a4x74f"><span>829</span></td><td id="LC829" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> bound = self[name].bind(self);
</code></td></tr><tr><td id="L830" class="css-a4x74f"><span>830</span></td><td id="LC830" class="css-1dcdqdg"><code>          bound.isMobXFlow = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L831" class="css-a4x74f"><span>831</span></td><td id="LC831" class="css-1dcdqdg"><code>          self[name] = bound;
</code></td></tr><tr><td id="L832" class="css-a4x74f"><span>832</span></td><td id="LC832" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L833" class="css-a4x74f"><span>833</span></td><td id="LC833" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L834" class="css-a4x74f"><span>834</span></td><td id="LC834" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> mthd;
</code></td></tr><tr><td id="L835" class="css-a4x74f"><span>835</span></td><td id="LC835" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L836" class="css-a4x74f"><span>836</span></td><td id="LC836" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">assertFlowDescriptor</span>(<span class="code-params">adm, _ref, key, _ref2</span>) </span>{
</code></td></tr><tr><td id="L837" class="css-a4x74f"><span>837</span></td><td id="LC837" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> annotationType_ = _ref.annotationType_;
</code></td></tr><tr><td id="L838" class="css-a4x74f"><span>838</span></td><td id="LC838" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> value = _ref2.value;
</code></td></tr><tr><td id="L839" class="css-a4x74f"><span>839</span></td><td id="LC839" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( !isFunction(value)) {
</code></td></tr><tr><td id="L840" class="css-a4x74f"><span>840</span></td><td id="LC840" class="css-1dcdqdg"><code>        die(<span class="code-string">"Cannot apply '"</span> + annotationType_ + <span class="code-string">"' to '"</span> + adm.name_ + <span class="code-string">"."</span> + key.toString() + <span class="code-string">"':"</span> + (<span class="code-string">"\n'"</span> + annotationType_ + <span class="code-string">"' can only be used on properties with a generator function value."</span>));
</code></td></tr><tr><td id="L841" class="css-a4x74f"><span>841</span></td><td id="LC841" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L842" class="css-a4x74f"><span>842</span></td><td id="LC842" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L843" class="css-a4x74f"><span>843</span></td><td id="LC843" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createFlowDescriptor</span>(<span class="code-params">adm, annotation, key, descriptor, bound,
</span></span></code></td></tr><tr><td id="L844" class="css-a4x74f"><span>844</span></td><td id="LC844" class="css-1dcdqdg"><code><span class="code-function"><span class="code-params">    <span class="code-regexp">//</span> provides ability to disable safeDescriptors for prototypes
</span></span></code></td></tr><tr><td id="L845" class="css-a4x74f"><span>845</span></td><td id="LC845" class="css-1dcdqdg"><code><span class="code-function"><span class="code-params">    safeDescriptors</span>) </span>{
</code></td></tr><tr><td id="L846" class="css-a4x74f"><span>846</span></td><td id="LC846" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (safeDescriptors === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L847" class="css-a4x74f"><span>847</span></td><td id="LC847" class="css-1dcdqdg"><code>        safeDescriptors = globalState.safeDescriptors;
</code></td></tr><tr><td id="L848" class="css-a4x74f"><span>848</span></td><td id="LC848" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L849" class="css-a4x74f"><span>849</span></td><td id="LC849" class="css-1dcdqdg"><code>      assertFlowDescriptor(adm, annotation, key, descriptor);
</code></td></tr><tr><td id="L850" class="css-a4x74f"><span>850</span></td><td id="LC850" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> value = descriptor.value;
</code></td></tr><tr><td id="L851" class="css-a4x74f"><span>851</span></td><td id="LC851" class="css-1dcdqdg"><code>      <span class="code-comment">// In case of flow.bound, the descriptor can be from already annotated prototype</span>
</code></td></tr><tr><td id="L852" class="css-a4x74f"><span>852</span></td><td id="LC852" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!isFlow(value)) {
</code></td></tr><tr><td id="L853" class="css-a4x74f"><span>853</span></td><td id="LC853" class="css-1dcdqdg"><code>        value = flow(value);
</code></td></tr><tr><td id="L854" class="css-a4x74f"><span>854</span></td><td id="LC854" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L855" class="css-a4x74f"><span>855</span></td><td id="LC855" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (bound) {
</code></td></tr><tr><td id="L856" class="css-a4x74f"><span>856</span></td><td id="LC856" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _adm$proxy_;
</code></td></tr><tr><td id="L857" class="css-a4x74f"><span>857</span></td><td id="LC857" class="css-1dcdqdg"><code>        <span class="code-comment">// We do not keep original function around, so we bind the existing flow</span>
</code></td></tr><tr><td id="L858" class="css-a4x74f"><span>858</span></td><td id="LC858" class="css-1dcdqdg"><code>        value = value.bind((_adm$proxy_ = adm.proxy_) != <span class="code-literal">null</span> ? _adm$proxy_ : adm.target_);
</code></td></tr><tr><td id="L859" class="css-a4x74f"><span>859</span></td><td id="LC859" class="css-1dcdqdg"><code>        <span class="code-comment">// This is normally set by `flow`, but `bind` returns new function...</span>
</code></td></tr><tr><td id="L860" class="css-a4x74f"><span>860</span></td><td id="LC860" class="css-1dcdqdg"><code>        value.isMobXFlow = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L861" class="css-a4x74f"><span>861</span></td><td id="LC861" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L862" class="css-a4x74f"><span>862</span></td><td id="LC862" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> {
</code></td></tr><tr><td id="L863" class="css-a4x74f"><span>863</span></td><td id="LC863" class="css-1dcdqdg"><code>        value: value,
</code></td></tr><tr><td id="L864" class="css-a4x74f"><span>864</span></td><td id="LC864" class="css-1dcdqdg"><code>        <span class="code-comment">// Non-configurable for classes</span>
</code></td></tr><tr><td id="L865" class="css-a4x74f"><span>865</span></td><td id="LC865" class="css-1dcdqdg"><code>        <span class="code-comment">// prevents accidental field redefinition in subclass</span>
</code></td></tr><tr><td id="L866" class="css-a4x74f"><span>866</span></td><td id="LC866" class="css-1dcdqdg"><code>        configurable: safeDescriptors ? adm.isPlainObject_ : <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L867" class="css-a4x74f"><span>867</span></td><td id="LC867" class="css-1dcdqdg"><code>        <span class="code-comment">// https://github.com/mobxjs/mobx/pull/2641#issuecomment-737292058</span>
</code></td></tr><tr><td id="L868" class="css-a4x74f"><span>868</span></td><td id="LC868" class="css-1dcdqdg"><code>        enumerable: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L869" class="css-a4x74f"><span>869</span></td><td id="LC869" class="css-1dcdqdg"><code>        <span class="code-comment">// Non-obsevable, therefore non-writable</span>
</code></td></tr><tr><td id="L870" class="css-a4x74f"><span>870</span></td><td id="LC870" class="css-1dcdqdg"><code>        <span class="code-comment">// Also prevents rewriting in subclass constructor</span>
</code></td></tr><tr><td id="L871" class="css-a4x74f"><span>871</span></td><td id="LC871" class="css-1dcdqdg"><code>        writable: safeDescriptors ? <span class="code-literal">false</span> : <span class="code-literal">true</span>
</code></td></tr><tr><td id="L872" class="css-a4x74f"><span>872</span></td><td id="LC872" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L873" class="css-a4x74f"><span>873</span></td><td id="LC873" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L874" class="css-a4x74f"><span>874</span></td><td id="LC874" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L875" class="css-a4x74f"><span>875</span></td><td id="LC875" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createComputedAnnotation</span>(<span class="code-params">name, options</span>) </span>{
</code></td></tr><tr><td id="L876" class="css-a4x74f"><span>876</span></td><td id="LC876" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> {
</code></td></tr><tr><td id="L877" class="css-a4x74f"><span>877</span></td><td id="LC877" class="css-1dcdqdg"><code>        annotationType_: name,
</code></td></tr><tr><td id="L878" class="css-a4x74f"><span>878</span></td><td id="LC878" class="css-1dcdqdg"><code>        options_: options,
</code></td></tr><tr><td id="L879" class="css-a4x74f"><span>879</span></td><td id="LC879" class="css-1dcdqdg"><code>        make_: make_$<span class="code-number">3</span>,
</code></td></tr><tr><td id="L880" class="css-a4x74f"><span>880</span></td><td id="LC880" class="css-1dcdqdg"><code>        extend_: extend_$<span class="code-number">3</span>,
</code></td></tr><tr><td id="L881" class="css-a4x74f"><span>881</span></td><td id="LC881" class="css-1dcdqdg"><code>        decorate_20223_: decorate_20223_$<span class="code-number">3</span>
</code></td></tr><tr><td id="L882" class="css-a4x74f"><span>882</span></td><td id="LC882" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L883" class="css-a4x74f"><span>883</span></td><td id="LC883" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L884" class="css-a4x74f"><span>884</span></td><td id="LC884" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">make_$3</span>(<span class="code-params">adm, key, descriptor</span>) </span>{
</code></td></tr><tr><td id="L885" class="css-a4x74f"><span>885</span></td><td id="LC885" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-keyword">this</span>.extend_(adm, key, descriptor, <span class="code-literal">false</span>) === <span class="code-literal">null</span> ? <span class="code-number">0</span> <span class="code-comment">/* MakeResult.Cancel */</span> : <span class="code-number">1</span> <span class="code-comment">/* MakeResult.Break */</span>;
</code></td></tr><tr><td id="L886" class="css-a4x74f"><span>886</span></td><td id="LC886" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L887" class="css-a4x74f"><span>887</span></td><td id="LC887" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">extend_$3</span>(<span class="code-params">adm, key, descriptor, proxyTrap</span>) </span>{
</code></td></tr><tr><td id="L888" class="css-a4x74f"><span>888</span></td><td id="LC888" class="css-1dcdqdg"><code>      assertComputedDescriptor(adm, <span class="code-keyword">this</span>, key, descriptor);
</code></td></tr><tr><td id="L889" class="css-a4x74f"><span>889</span></td><td id="LC889" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> adm.defineComputedProperty_(key, _extends({}, <span class="code-keyword">this</span>.options_, {
</code></td></tr><tr><td id="L890" class="css-a4x74f"><span>890</span></td><td id="LC890" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: descriptor.<span class="code-keyword">get</span>,
</code></td></tr><tr><td id="L891" class="css-a4x74f"><span>891</span></td><td id="LC891" class="css-1dcdqdg"><code>        <span class="code-keyword">set</span>: descriptor.<span class="code-keyword">set</span>
</code></td></tr><tr><td id="L892" class="css-a4x74f"><span>892</span></td><td id="LC892" class="css-1dcdqdg"><code>      }), proxyTrap);
</code></td></tr><tr><td id="L893" class="css-a4x74f"><span>893</span></td><td id="LC893" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L894" class="css-a4x74f"><span>894</span></td><td id="LC894" class="css-1dcdqdg"><code>    function decorate_20223_$3(<span class="code-keyword">get</span>, context) {
</code></td></tr><tr><td id="L895" class="css-a4x74f"><span>895</span></td><td id="LC895" class="css-1dcdqdg"><code>      {
</code></td></tr><tr><td id="L896" class="css-a4x74f"><span>896</span></td><td id="LC896" class="css-1dcdqdg"><code>        assert20223DecoratorType(context, [<span class="code-string">"getter"</span>]);
</code></td></tr><tr><td id="L897" class="css-a4x74f"><span>897</span></td><td id="LC897" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L898" class="css-a4x74f"><span>898</span></td><td id="LC898" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> ann = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L899" class="css-a4x74f"><span>899</span></td><td id="LC899" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> key = context.name,
</code></td></tr><tr><td id="L900" class="css-a4x74f"><span>900</span></td><td id="LC900" class="css-1dcdqdg"><code>        addInitializer = context.addInitializer;
</code></td></tr><tr><td id="L901" class="css-a4x74f"><span>901</span></td><td id="LC901" class="css-1dcdqdg"><code>      addInitializer(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L902" class="css-a4x74f"><span>902</span></td><td id="LC902" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> adm = asObservableObject(<span class="code-keyword">this</span>)[$mobx];
</code></td></tr><tr><td id="L903" class="css-a4x74f"><span>903</span></td><td id="LC903" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> options = _extends({}, ann.options_, {
</code></td></tr><tr><td id="L904" class="css-a4x74f"><span>904</span></td><td id="LC904" class="css-1dcdqdg"><code>          <span class="code-keyword">get</span>: <span class="code-keyword">get</span>,
</code></td></tr><tr><td id="L905" class="css-a4x74f"><span>905</span></td><td id="LC905" class="css-1dcdqdg"><code>          context: this
</code></td></tr><tr><td id="L906" class="css-a4x74f"><span>906</span></td><td id="LC906" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L907" class="css-a4x74f"><span>907</span></td><td id="LC907" class="css-1dcdqdg"><code>        options.name || (options.name =  adm.name_ + "." + key.toString() );
</code></td></tr><tr><td id="L908" class="css-a4x74f"><span>908</span></td><td id="LC908" class="css-1dcdqdg"><code>        adm.values_.<span class="code-keyword">set</span>(key, new ComputedValue(options));
</code></td></tr><tr><td id="L909" class="css-a4x74f"><span>909</span></td><td id="LC909" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L910" class="css-a4x74f"><span>910</span></td><td id="LC910" class="css-1dcdqdg"><code>      return function () {
</code></td></tr><tr><td id="L911" class="css-a4x74f"><span>911</span></td><td id="LC911" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>[$mobx].getObservablePropValue_(key);
</code></td></tr><tr><td id="L912" class="css-a4x74f"><span>912</span></td><td id="LC912" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L913" class="css-a4x74f"><span>913</span></td><td id="LC913" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L914" class="css-a4x74f"><span>914</span></td><td id="LC914" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">assertComputedDescriptor</span>(<span class="code-params">adm, _ref, key, _ref2</span>) </span>{
</code></td></tr><tr><td id="L915" class="css-a4x74f"><span>915</span></td><td id="LC915" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> annotationType_ = _ref.annotationType_;
</code></td></tr><tr><td id="L916" class="css-a4x74f"><span>916</span></td><td id="LC916" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> <span class="code-keyword">get</span> = _ref2.<span class="code-keyword">get</span>;
</code></td></tr><tr><td id="L917" class="css-a4x74f"><span>917</span></td><td id="LC917" class="css-1dcdqdg"><code>      if ( !<span class="code-keyword">get</span>) {
</code></td></tr><tr><td id="L918" class="css-a4x74f"><span>918</span></td><td id="LC918" class="css-1dcdqdg"><code>        die(<span class="code-string">"Cannot apply '"</span> + annotationType_ + <span class="code-string">"' to '"</span> + adm.name_ + <span class="code-string">"."</span> + key.toString() + <span class="code-string">"':"</span> + (<span class="code-string">"\n'"</span> + annotationType_ + <span class="code-string">"' can only be used on getter(+setter) properties."</span>));
</code></td></tr><tr><td id="L919" class="css-a4x74f"><span>919</span></td><td id="LC919" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L920" class="css-a4x74f"><span>920</span></td><td id="LC920" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L921" class="css-a4x74f"><span>921</span></td><td id="LC921" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L922" class="css-a4x74f"><span>922</span></td><td id="LC922" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createObservableAnnotation</span>(<span class="code-params">name, options</span>) </span>{
</code></td></tr><tr><td id="L923" class="css-a4x74f"><span>923</span></td><td id="LC923" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> {
</code></td></tr><tr><td id="L924" class="css-a4x74f"><span>924</span></td><td id="LC924" class="css-1dcdqdg"><code>        annotationType_: name,
</code></td></tr><tr><td id="L925" class="css-a4x74f"><span>925</span></td><td id="LC925" class="css-1dcdqdg"><code>        options_: options,
</code></td></tr><tr><td id="L926" class="css-a4x74f"><span>926</span></td><td id="LC926" class="css-1dcdqdg"><code>        make_: make_$<span class="code-number">4</span>,
</code></td></tr><tr><td id="L927" class="css-a4x74f"><span>927</span></td><td id="LC927" class="css-1dcdqdg"><code>        extend_: extend_$<span class="code-number">4</span>,
</code></td></tr><tr><td id="L928" class="css-a4x74f"><span>928</span></td><td id="LC928" class="css-1dcdqdg"><code>        decorate_20223_: decorate_20223_$<span class="code-number">4</span>
</code></td></tr><tr><td id="L929" class="css-a4x74f"><span>929</span></td><td id="LC929" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L930" class="css-a4x74f"><span>930</span></td><td id="LC930" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L931" class="css-a4x74f"><span>931</span></td><td id="LC931" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">make_$4</span>(<span class="code-params">adm, key, descriptor</span>) </span>{
</code></td></tr><tr><td id="L932" class="css-a4x74f"><span>932</span></td><td id="LC932" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-keyword">this</span>.extend_(adm, key, descriptor, <span class="code-literal">false</span>) === <span class="code-literal">null</span> ? <span class="code-number">0</span> <span class="code-comment">/* MakeResult.Cancel */</span> : <span class="code-number">1</span> <span class="code-comment">/* MakeResult.Break */</span>;
</code></td></tr><tr><td id="L933" class="css-a4x74f"><span>933</span></td><td id="LC933" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L934" class="css-a4x74f"><span>934</span></td><td id="LC934" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">extend_$4</span>(<span class="code-params">adm, key, descriptor, proxyTrap</span>) </span>{
</code></td></tr><tr><td id="L935" class="css-a4x74f"><span>935</span></td><td id="LC935" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _this$options_$enhanc, _this$options_;
</code></td></tr><tr><td id="L936" class="css-a4x74f"><span>936</span></td><td id="LC936" class="css-1dcdqdg"><code>      assertObservableDescriptor(adm, <span class="code-keyword">this</span>, key, descriptor);
</code></td></tr><tr><td id="L937" class="css-a4x74f"><span>937</span></td><td id="LC937" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> adm.defineObservableProperty_(key, descriptor.value, (_this$options_$enhanc = (_this$options_ = <span class="code-keyword">this</span>.options_) == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : _this$options_.enhancer) != <span class="code-literal">null</span> ? _this$options_$enhanc : deepEnhancer, proxyTrap);
</code></td></tr><tr><td id="L938" class="css-a4x74f"><span>938</span></td><td id="LC938" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L939" class="css-a4x74f"><span>939</span></td><td id="LC939" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">decorate_20223_$4</span>(<span class="code-params">desc, context</span>) </span>{
</code></td></tr><tr><td id="L940" class="css-a4x74f"><span>940</span></td><td id="LC940" class="css-1dcdqdg"><code>      {
</code></td></tr><tr><td id="L941" class="css-a4x74f"><span>941</span></td><td id="LC941" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (context.kind === <span class="code-string">"field"</span>) {
</code></td></tr><tr><td id="L942" class="css-a4x74f"><span>942</span></td><td id="LC942" class="css-1dcdqdg"><code>          <span class="code-keyword">throw</span> die(<span class="code-string">"Please use `@observable accessor "</span> + <span class="code-built_in">String</span>(context.name) + <span class="code-string">"` instead of `@observable "</span> + <span class="code-built_in">String</span>(context.name) + <span class="code-string">"`"</span>);
</code></td></tr><tr><td id="L943" class="css-a4x74f"><span>943</span></td><td id="LC943" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L944" class="css-a4x74f"><span>944</span></td><td id="LC944" class="css-1dcdqdg"><code>        assert20223DecoratorType(context, [<span class="code-string">"accessor"</span>]);
</code></td></tr><tr><td id="L945" class="css-a4x74f"><span>945</span></td><td id="LC945" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L946" class="css-a4x74f"><span>946</span></td><td id="LC946" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> ann = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L947" class="css-a4x74f"><span>947</span></td><td id="LC947" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> kind = context.kind,
</code></td></tr><tr><td id="L948" class="css-a4x74f"><span>948</span></td><td id="LC948" class="css-1dcdqdg"><code>        name = context.name;
</code></td></tr><tr><td id="L949" class="css-a4x74f"><span>949</span></td><td id="LC949" class="css-1dcdqdg"><code>      <span class="code-comment">// The laziness here is not ideal... It's a workaround to how 2022.3 Decorators are implemented:</span>
</code></td></tr><tr><td id="L950" class="css-a4x74f"><span>950</span></td><td id="LC950" class="css-1dcdqdg"><code>      <span class="code-comment">//   `addInitializer` callbacks are executed _before_ any accessors are defined (instead of the ideal-for-us right after each).</span>
</code></td></tr><tr><td id="L951" class="css-a4x74f"><span>951</span></td><td id="LC951" class="css-1dcdqdg"><code>      <span class="code-comment">//   This means that, if we were to do our stuff in an `addInitializer`, we'd attempt to read a private slot</span>
</code></td></tr><tr><td id="L952" class="css-a4x74f"><span>952</span></td><td id="LC952" class="css-1dcdqdg"><code>      <span class="code-comment">//   before it has been initialized. The runtime doesn't like that and throws a `Cannot read private member</span>
</code></td></tr><tr><td id="L953" class="css-a4x74f"><span>953</span></td><td id="LC953" class="css-1dcdqdg"><code>      <span class="code-comment">//   from an object whose class did not declare it` error.</span>
</code></td></tr><tr><td id="L954" class="css-a4x74f"><span>954</span></td><td id="LC954" class="css-1dcdqdg"><code>      <span class="code-comment">// <span class="code-doctag">TODO:</span> it seems that this will not be required anymore in the final version of the spec</span>
</code></td></tr><tr><td id="L955" class="css-a4x74f"><span>955</span></td><td id="LC955" class="css-1dcdqdg"><code>      <span class="code-comment">// See <span class="code-doctag">TODO:</span> link</span>
</code></td></tr><tr><td id="L956" class="css-a4x74f"><span>956</span></td><td id="LC956" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> initializedObjects = <span class="code-keyword">new</span> <span class="code-built_in">WeakSet</span>();
</code></td></tr><tr><td id="L957" class="css-a4x74f"><span>957</span></td><td id="LC957" class="css-1dcdqdg"><code>      <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">initializeObservable</span>(<span class="code-params">target, value</span>) </span>{
</code></td></tr><tr><td id="L958" class="css-a4x74f"><span>958</span></td><td id="LC958" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _ann$options_$enhance, _ann$options_;
</code></td></tr><tr><td id="L959" class="css-a4x74f"><span>959</span></td><td id="LC959" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> adm = asObservableObject(target)[$mobx];
</code></td></tr><tr><td id="L960" class="css-a4x74f"><span>960</span></td><td id="LC960" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> observable = <span class="code-keyword">new</span> ObservableValue(value, (_ann$options_$enhance = (_ann$options_ = ann.options_) == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : _ann$options_.enhancer) != <span class="code-literal">null</span> ? _ann$options_$enhance : deepEnhancer,  adm.name_ + <span class="code-string">"."</span> + name.toString() , <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L961" class="css-a4x74f"><span>961</span></td><td id="LC961" class="css-1dcdqdg"><code>        adm.values_.set(name, observable);
</code></td></tr><tr><td id="L962" class="css-a4x74f"><span>962</span></td><td id="LC962" class="css-1dcdqdg"><code>        initializedObjects.add(target);
</code></td></tr><tr><td id="L963" class="css-a4x74f"><span>963</span></td><td id="LC963" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L964" class="css-a4x74f"><span>964</span></td><td id="LC964" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (kind == <span class="code-string">"accessor"</span>) {
</code></td></tr><tr><td id="L965" class="css-a4x74f"><span>965</span></td><td id="LC965" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> {
</code></td></tr><tr><td id="L966" class="css-a4x74f"><span>966</span></td><td id="LC966" class="css-1dcdqdg"><code>          <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L967" class="css-a4x74f"><span>967</span></td><td id="LC967" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (!initializedObjects.has(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L968" class="css-a4x74f"><span>968</span></td><td id="LC968" class="css-1dcdqdg"><code>              initializeObservable(<span class="code-keyword">this</span>, desc.get.call(<span class="code-keyword">this</span>));
</code></td></tr><tr><td id="L969" class="css-a4x74f"><span>969</span></td><td id="LC969" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L970" class="css-a4x74f"><span>970</span></td><td id="LC970" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> <span class="code-keyword">this</span>[$mobx].getObservablePropValue_(name);
</code></td></tr><tr><td id="L971" class="css-a4x74f"><span>971</span></td><td id="LC971" class="css-1dcdqdg"><code>          },
</code></td></tr><tr><td id="L972" class="css-a4x74f"><span>972</span></td><td id="LC972" class="css-1dcdqdg"><code>          <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(value) {
</code></td></tr><tr><td id="L973" class="css-a4x74f"><span>973</span></td><td id="LC973" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (!initializedObjects.has(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L974" class="css-a4x74f"><span>974</span></td><td id="LC974" class="css-1dcdqdg"><code>              initializeObservable(<span class="code-keyword">this</span>, value);
</code></td></tr><tr><td id="L975" class="css-a4x74f"><span>975</span></td><td id="LC975" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L976" class="css-a4x74f"><span>976</span></td><td id="LC976" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> <span class="code-keyword">this</span>[$mobx].setObservablePropValue_(name, value);
</code></td></tr><tr><td id="L977" class="css-a4x74f"><span>977</span></td><td id="LC977" class="css-1dcdqdg"><code>          },
</code></td></tr><tr><td id="L978" class="css-a4x74f"><span>978</span></td><td id="LC978" class="css-1dcdqdg"><code>          init: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">init</span>(<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L979" class="css-a4x74f"><span>979</span></td><td id="LC979" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (!initializedObjects.has(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L980" class="css-a4x74f"><span>980</span></td><td id="LC980" class="css-1dcdqdg"><code>              initializeObservable(<span class="code-keyword">this</span>, value);
</code></td></tr><tr><td id="L981" class="css-a4x74f"><span>981</span></td><td id="LC981" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L982" class="css-a4x74f"><span>982</span></td><td id="LC982" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> value;
</code></td></tr><tr><td id="L983" class="css-a4x74f"><span>983</span></td><td id="LC983" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L984" class="css-a4x74f"><span>984</span></td><td id="LC984" class="css-1dcdqdg"><code>        };
</code></td></tr><tr><td id="L985" class="css-a4x74f"><span>985</span></td><td id="LC985" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L986" class="css-a4x74f"><span>986</span></td><td id="LC986" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L987" class="css-a4x74f"><span>987</span></td><td id="LC987" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L988" class="css-a4x74f"><span>988</span></td><td id="LC988" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">assertObservableDescriptor</span>(<span class="code-params">adm, _ref, key, descriptor</span>) </span>{
</code></td></tr><tr><td id="L989" class="css-a4x74f"><span>989</span></td><td id="LC989" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> annotationType_ = _ref.annotationType_;
</code></td></tr><tr><td id="L990" class="css-a4x74f"><span>990</span></td><td id="LC990" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( !(<span class="code-string">"value"</span> <span class="code-keyword">in</span> descriptor)) {
</code></td></tr><tr><td id="L991" class="css-a4x74f"><span>991</span></td><td id="LC991" class="css-1dcdqdg"><code>        die(<span class="code-string">"Cannot apply '"</span> + annotationType_ + <span class="code-string">"' to '"</span> + adm.name_ + <span class="code-string">"."</span> + key.toString() + <span class="code-string">"':"</span> + (<span class="code-string">"\n'"</span> + annotationType_ + <span class="code-string">"' cannot be used on getter/setter properties"</span>));
</code></td></tr><tr><td id="L992" class="css-a4x74f"><span>992</span></td><td id="LC992" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L993" class="css-a4x74f"><span>993</span></td><td id="LC993" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L994" class="css-a4x74f"><span>994</span></td><td id="LC994" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L995" class="css-a4x74f"><span>995</span></td><td id="LC995" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> AUTO = <span class="code-string">"true"</span>;
</code></td></tr><tr><td id="L996" class="css-a4x74f"><span>996</span></td><td id="LC996" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> autoAnnotation = <span class="code-comment">/*#__PURE__*/</span>createAutoAnnotation();
</code></td></tr><tr><td id="L997" class="css-a4x74f"><span>997</span></td><td id="LC997" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createAutoAnnotation</span>(<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L998" class="css-a4x74f"><span>998</span></td><td id="LC998" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> {
</code></td></tr><tr><td id="L999" class="css-a4x74f"><span>999</span></td><td id="LC999" class="css-1dcdqdg"><code>        annotationType_: AUTO,
</code></td></tr><tr><td id="L1000" class="css-a4x74f"><span>1000</span></td><td id="LC1000" class="css-1dcdqdg"><code>        options_: options,
</code></td></tr><tr><td id="L1001" class="css-a4x74f"><span>1001</span></td><td id="LC1001" class="css-1dcdqdg"><code>        make_: make_$<span class="code-number">5</span>,
</code></td></tr><tr><td id="L1002" class="css-a4x74f"><span>1002</span></td><td id="LC1002" class="css-1dcdqdg"><code>        extend_: extend_$<span class="code-number">5</span>,
</code></td></tr><tr><td id="L1003" class="css-a4x74f"><span>1003</span></td><td id="LC1003" class="css-1dcdqdg"><code>        decorate_20223_: decorate_20223_$<span class="code-number">5</span>
</code></td></tr><tr><td id="L1004" class="css-a4x74f"><span>1004</span></td><td id="LC1004" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1005" class="css-a4x74f"><span>1005</span></td><td id="LC1005" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1006" class="css-a4x74f"><span>1006</span></td><td id="LC1006" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">make_$5</span>(<span class="code-params">adm, key, descriptor, source</span>) </span>{
</code></td></tr><tr><td id="L1007" class="css-a4x74f"><span>1007</span></td><td id="LC1007" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _this$options_3, _this$options_4;
</code></td></tr><tr><td id="L1008" class="css-a4x74f"><span>1008</span></td><td id="LC1008" class="css-1dcdqdg"><code>      <span class="code-comment">// getter -&gt; computed</span>
</code></td></tr><tr><td id="L1009" class="css-a4x74f"><span>1009</span></td><td id="LC1009" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (descriptor.get) {
</code></td></tr><tr><td id="L1010" class="css-a4x74f"><span>1010</span></td><td id="LC1010" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> computed.make_(adm, key, descriptor, source);
</code></td></tr><tr><td id="L1011" class="css-a4x74f"><span>1011</span></td><td id="LC1011" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1012" class="css-a4x74f"><span>1012</span></td><td id="LC1012" class="css-1dcdqdg"><code>      <span class="code-comment">// lone setter -&gt; action setter</span>
</code></td></tr><tr><td id="L1013" class="css-a4x74f"><span>1013</span></td><td id="LC1013" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (descriptor.set) {
</code></td></tr><tr><td id="L1014" class="css-a4x74f"><span>1014</span></td><td id="LC1014" class="css-1dcdqdg"><code>        <span class="code-comment">// TODO make action applicable to setter and delegate to action.make_</span>
</code></td></tr><tr><td id="L1015" class="css-a4x74f"><span>1015</span></td><td id="LC1015" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> <span class="code-keyword">set</span> = createAction(key.toString(), descriptor.<span class="code-keyword">set</span>);
</code></td></tr><tr><td id="L1016" class="css-a4x74f"><span>1016</span></td><td id="LC1016" class="css-1dcdqdg"><code>        // own
</code></td></tr><tr><td id="L1017" class="css-a4x74f"><span>1017</span></td><td id="LC1017" class="css-1dcdqdg"><code>        if (source === adm.target_) {
</code></td></tr><tr><td id="L1018" class="css-a4x74f"><span>1018</span></td><td id="LC1018" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> adm.defineProperty_(key, {
</code></td></tr><tr><td id="L1019" class="css-a4x74f"><span>1019</span></td><td id="LC1019" class="css-1dcdqdg"><code>            configurable: globalState.safeDescriptors ? adm.isPlainObject_ : <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L1020" class="css-a4x74f"><span>1020</span></td><td id="LC1020" class="css-1dcdqdg"><code>            <span class="code-keyword">set</span>: <span class="code-keyword">set</span>
</code></td></tr><tr><td id="L1021" class="css-a4x74f"><span>1021</span></td><td id="LC1021" class="css-1dcdqdg"><code>          }) === null ? 0 /* MakeResult.Cancel */ : 2 /* MakeResult.Continue */;
</code></td></tr><tr><td id="L1022" class="css-a4x74f"><span>1022</span></td><td id="LC1022" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1023" class="css-a4x74f"><span>1023</span></td><td id="LC1023" class="css-1dcdqdg"><code>        // proto
</code></td></tr><tr><td id="L1024" class="css-a4x74f"><span>1024</span></td><td id="LC1024" class="css-1dcdqdg"><code>        defineProperty(source, key, {
</code></td></tr><tr><td id="L1025" class="css-a4x74f"><span>1025</span></td><td id="LC1025" class="css-1dcdqdg"><code>          configurable: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L1026" class="css-a4x74f"><span>1026</span></td><td id="LC1026" class="css-1dcdqdg"><code>          <span class="code-keyword">set</span>: <span class="code-keyword">set</span>
</code></td></tr><tr><td id="L1027" class="css-a4x74f"><span>1027</span></td><td id="LC1027" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L1028" class="css-a4x74f"><span>1028</span></td><td id="LC1028" class="css-1dcdqdg"><code>        return 2 /* MakeResult.Continue */;
</code></td></tr><tr><td id="L1029" class="css-a4x74f"><span>1029</span></td><td id="LC1029" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1030" class="css-a4x74f"><span>1030</span></td><td id="LC1030" class="css-1dcdqdg"><code>      // function on proto -&gt; autoAction/flow
</code></td></tr><tr><td id="L1031" class="css-a4x74f"><span>1031</span></td><td id="LC1031" class="css-1dcdqdg"><code>      if (source !== adm.target_ &amp;&amp; typeof descriptor.value === "function") {
</code></td></tr><tr><td id="L1032" class="css-a4x74f"><span>1032</span></td><td id="LC1032" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this$options_2;
</code></td></tr><tr><td id="L1033" class="css-a4x74f"><span>1033</span></td><td id="LC1033" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isGenerator(descriptor.value)) {
</code></td></tr><tr><td id="L1034" class="css-a4x74f"><span>1034</span></td><td id="LC1034" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> _this$options_;
</code></td></tr><tr><td id="L1035" class="css-a4x74f"><span>1035</span></td><td id="LC1035" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> flowAnnotation = (_this$options_ = <span class="code-keyword">this</span>.options_) != <span class="code-literal">null</span> &amp;&amp; _this$options_.autoBind ? flow.bound : flow;
</code></td></tr><tr><td id="L1036" class="css-a4x74f"><span>1036</span></td><td id="LC1036" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> flowAnnotation.make_(adm, key, descriptor, source);
</code></td></tr><tr><td id="L1037" class="css-a4x74f"><span>1037</span></td><td id="LC1037" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1038" class="css-a4x74f"><span>1038</span></td><td id="LC1038" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> actionAnnotation = (_this$options_2 = <span class="code-keyword">this</span>.options_) != <span class="code-literal">null</span> &amp;&amp; _this$options_2.autoBind ? autoAction.bound : autoAction;
</code></td></tr><tr><td id="L1039" class="css-a4x74f"><span>1039</span></td><td id="LC1039" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> actionAnnotation.make_(adm, key, descriptor, source);
</code></td></tr><tr><td id="L1040" class="css-a4x74f"><span>1040</span></td><td id="LC1040" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1041" class="css-a4x74f"><span>1041</span></td><td id="LC1041" class="css-1dcdqdg"><code>      <span class="code-comment">// other -&gt; observable</span>
</code></td></tr><tr><td id="L1042" class="css-a4x74f"><span>1042</span></td><td id="LC1042" class="css-1dcdqdg"><code>      <span class="code-comment">// Copy props from proto as well, see test:</span>
</code></td></tr><tr><td id="L1043" class="css-a4x74f"><span>1043</span></td><td id="LC1043" class="css-1dcdqdg"><code>      <span class="code-comment">// "decorate should work with Object.create"</span>
</code></td></tr><tr><td id="L1044" class="css-a4x74f"><span>1044</span></td><td id="LC1044" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> observableAnnotation = ((_this$options_3 = <span class="code-keyword">this</span>.options_) == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : _this$options_3.deep) === <span class="code-literal">false</span> ? observable.ref : observable;
</code></td></tr><tr><td id="L1045" class="css-a4x74f"><span>1045</span></td><td id="LC1045" class="css-1dcdqdg"><code>      <span class="code-comment">// if function respect autoBind option</span>
</code></td></tr><tr><td id="L1046" class="css-a4x74f"><span>1046</span></td><td id="LC1046" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> descriptor.value === <span class="code-string">"function"</span> &amp;&amp; (_this$options_4 = <span class="code-keyword">this</span>.options_) != <span class="code-literal">null</span> &amp;&amp; _this$options_4.autoBind) {
</code></td></tr><tr><td id="L1047" class="css-a4x74f"><span>1047</span></td><td id="LC1047" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _adm$proxy_;
</code></td></tr><tr><td id="L1048" class="css-a4x74f"><span>1048</span></td><td id="LC1048" class="css-1dcdqdg"><code>        descriptor.value = descriptor.value.bind((_adm$proxy_ = adm.proxy_) != <span class="code-literal">null</span> ? _adm$proxy_ : adm.target_);
</code></td></tr><tr><td id="L1049" class="css-a4x74f"><span>1049</span></td><td id="LC1049" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1050" class="css-a4x74f"><span>1050</span></td><td id="LC1050" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> observableAnnotation.make_(adm, key, descriptor, source);
</code></td></tr><tr><td id="L1051" class="css-a4x74f"><span>1051</span></td><td id="LC1051" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1052" class="css-a4x74f"><span>1052</span></td><td id="LC1052" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">extend_$5</span>(<span class="code-params">adm, key, descriptor, proxyTrap</span>) </span>{
</code></td></tr><tr><td id="L1053" class="css-a4x74f"><span>1053</span></td><td id="LC1053" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _this$options_5, _this$options_6;
</code></td></tr><tr><td id="L1054" class="css-a4x74f"><span>1054</span></td><td id="LC1054" class="css-1dcdqdg"><code>      <span class="code-comment">// getter -&gt; computed</span>
</code></td></tr><tr><td id="L1055" class="css-a4x74f"><span>1055</span></td><td id="LC1055" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (descriptor.get) {
</code></td></tr><tr><td id="L1056" class="css-a4x74f"><span>1056</span></td><td id="LC1056" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> computed.extend_(adm, key, descriptor, proxyTrap);
</code></td></tr><tr><td id="L1057" class="css-a4x74f"><span>1057</span></td><td id="LC1057" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1058" class="css-a4x74f"><span>1058</span></td><td id="LC1058" class="css-1dcdqdg"><code>      <span class="code-comment">// lone setter -&gt; action setter</span>
</code></td></tr><tr><td id="L1059" class="css-a4x74f"><span>1059</span></td><td id="LC1059" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (descriptor.set) {
</code></td></tr><tr><td id="L1060" class="css-a4x74f"><span>1060</span></td><td id="LC1060" class="css-1dcdqdg"><code>        <span class="code-comment">// TODO make action applicable to setter and delegate to action.extend_</span>
</code></td></tr><tr><td id="L1061" class="css-a4x74f"><span>1061</span></td><td id="LC1061" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> adm.defineProperty_(key, {
</code></td></tr><tr><td id="L1062" class="css-a4x74f"><span>1062</span></td><td id="LC1062" class="css-1dcdqdg"><code>          configurable: globalState.safeDescriptors ? adm.isPlainObject_ : <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L1063" class="css-a4x74f"><span>1063</span></td><td id="LC1063" class="css-1dcdqdg"><code>          <span class="code-keyword">set</span>: createAction(key.toString(), descriptor.<span class="code-keyword">set</span>)
</code></td></tr><tr><td id="L1064" class="css-a4x74f"><span>1064</span></td><td id="LC1064" class="css-1dcdqdg"><code>        }, proxyTrap);
</code></td></tr><tr><td id="L1065" class="css-a4x74f"><span>1065</span></td><td id="LC1065" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1066" class="css-a4x74f"><span>1066</span></td><td id="LC1066" class="css-1dcdqdg"><code>      // other -&gt; observable
</code></td></tr><tr><td id="L1067" class="css-a4x74f"><span>1067</span></td><td id="LC1067" class="css-1dcdqdg"><code>      // if function respect autoBind option
</code></td></tr><tr><td id="L1068" class="css-a4x74f"><span>1068</span></td><td id="LC1068" class="css-1dcdqdg"><code>      if (typeof descriptor.value === "function" &amp;&amp; (_this$options_5 = this.options_) != null &amp;&amp; _this$options_5.autoBind) {
</code></td></tr><tr><td id="L1069" class="css-a4x74f"><span>1069</span></td><td id="LC1069" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _adm$proxy_2;
</code></td></tr><tr><td id="L1070" class="css-a4x74f"><span>1070</span></td><td id="LC1070" class="css-1dcdqdg"><code>        descriptor.value = descriptor.value.bind((_adm$proxy_2 = adm.proxy_) != <span class="code-literal">null</span> ? _adm$proxy_2 : adm.target_);
</code></td></tr><tr><td id="L1071" class="css-a4x74f"><span>1071</span></td><td id="LC1071" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1072" class="css-a4x74f"><span>1072</span></td><td id="LC1072" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> observableAnnotation = ((_this$options_6 = <span class="code-keyword">this</span>.options_) == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : _this$options_6.deep) === <span class="code-literal">false</span> ? observable.ref : observable;
</code></td></tr><tr><td id="L1073" class="css-a4x74f"><span>1073</span></td><td id="LC1073" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> observableAnnotation.extend_(adm, key, descriptor, proxyTrap);
</code></td></tr><tr><td id="L1074" class="css-a4x74f"><span>1074</span></td><td id="LC1074" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1075" class="css-a4x74f"><span>1075</span></td><td id="LC1075" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">decorate_20223_$5</span>(<span class="code-params">desc, context</span>) </span>{
</code></td></tr><tr><td id="L1076" class="css-a4x74f"><span>1076</span></td><td id="LC1076" class="css-1dcdqdg"><code>      die(<span class="code-string">"'"</span> + <span class="code-keyword">this</span>.annotationType_ + <span class="code-string">"' cannot be used as a decorator"</span>);
</code></td></tr><tr><td id="L1077" class="css-a4x74f"><span>1077</span></td><td id="LC1077" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1078" class="css-a4x74f"><span>1078</span></td><td id="LC1078" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1079" class="css-a4x74f"><span>1079</span></td><td id="LC1079" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> OBSERVABLE = <span class="code-string">"observable"</span>;
</code></td></tr><tr><td id="L1080" class="css-a4x74f"><span>1080</span></td><td id="LC1080" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> OBSERVABLE_REF = <span class="code-string">"observable.ref"</span>;
</code></td></tr><tr><td id="L1081" class="css-a4x74f"><span>1081</span></td><td id="LC1081" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> OBSERVABLE_SHALLOW = <span class="code-string">"observable.shallow"</span>;
</code></td></tr><tr><td id="L1082" class="css-a4x74f"><span>1082</span></td><td id="LC1082" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> OBSERVABLE_STRUCT = <span class="code-string">"observable.struct"</span>;
</code></td></tr><tr><td id="L1083" class="css-a4x74f"><span>1083</span></td><td id="LC1083" class="css-1dcdqdg"><code>    <span class="code-comment">// Predefined bags of create observable options, to avoid allocating temporarily option objects</span>
</code></td></tr><tr><td id="L1084" class="css-a4x74f"><span>1084</span></td><td id="LC1084" class="css-1dcdqdg"><code>    <span class="code-comment">// in the majority of cases</span>
</code></td></tr><tr><td id="L1085" class="css-a4x74f"><span>1085</span></td><td id="LC1085" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> defaultCreateObservableOptions = {
</code></td></tr><tr><td id="L1086" class="css-a4x74f"><span>1086</span></td><td id="LC1086" class="css-1dcdqdg"><code>      deep: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L1087" class="css-a4x74f"><span>1087</span></td><td id="LC1087" class="css-1dcdqdg"><code>      name: <span class="code-literal">undefined</span>,
</code></td></tr><tr><td id="L1088" class="css-a4x74f"><span>1088</span></td><td id="LC1088" class="css-1dcdqdg"><code>      defaultDecorator: <span class="code-literal">undefined</span>,
</code></td></tr><tr><td id="L1089" class="css-a4x74f"><span>1089</span></td><td id="LC1089" class="css-1dcdqdg"><code>      proxy: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L1090" class="css-a4x74f"><span>1090</span></td><td id="LC1090" class="css-1dcdqdg"><code>    };
</code></td></tr><tr><td id="L1091" class="css-a4x74f"><span>1091</span></td><td id="LC1091" class="css-1dcdqdg"><code>    <span class="code-built_in">Object</span>.freeze(defaultCreateObservableOptions);
</code></td></tr><tr><td id="L1092" class="css-a4x74f"><span>1092</span></td><td id="LC1092" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">asCreateObservableOptions</span>(<span class="code-params">thing</span>) </span>{
</code></td></tr><tr><td id="L1093" class="css-a4x74f"><span>1093</span></td><td id="LC1093" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> thing || defaultCreateObservableOptions;
</code></td></tr><tr><td id="L1094" class="css-a4x74f"><span>1094</span></td><td id="LC1094" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1095" class="css-a4x74f"><span>1095</span></td><td id="LC1095" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> observableAnnotation = <span class="code-comment">/*#__PURE__*/</span>createObservableAnnotation(OBSERVABLE);
</code></td></tr><tr><td id="L1096" class="css-a4x74f"><span>1096</span></td><td id="LC1096" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> observableRefAnnotation = <span class="code-comment">/*#__PURE__*/</span>createObservableAnnotation(OBSERVABLE_REF, {
</code></td></tr><tr><td id="L1097" class="css-a4x74f"><span>1097</span></td><td id="LC1097" class="css-1dcdqdg"><code>      enhancer: referenceEnhancer
</code></td></tr><tr><td id="L1098" class="css-a4x74f"><span>1098</span></td><td id="LC1098" class="css-1dcdqdg"><code>    });
</code></td></tr><tr><td id="L1099" class="css-a4x74f"><span>1099</span></td><td id="LC1099" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> observableShallowAnnotation = <span class="code-comment">/*#__PURE__*/</span>createObservableAnnotation(OBSERVABLE_SHALLOW, {
</code></td></tr><tr><td id="L1100" class="css-a4x74f"><span>1100</span></td><td id="LC1100" class="css-1dcdqdg"><code>      enhancer: shallowEnhancer
</code></td></tr><tr><td id="L1101" class="css-a4x74f"><span>1101</span></td><td id="LC1101" class="css-1dcdqdg"><code>    });
</code></td></tr><tr><td id="L1102" class="css-a4x74f"><span>1102</span></td><td id="LC1102" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> observableStructAnnotation = <span class="code-comment">/*#__PURE__*/</span>createObservableAnnotation(OBSERVABLE_STRUCT, {
</code></td></tr><tr><td id="L1103" class="css-a4x74f"><span>1103</span></td><td id="LC1103" class="css-1dcdqdg"><code>      enhancer: refStructEnhancer
</code></td></tr><tr><td id="L1104" class="css-a4x74f"><span>1104</span></td><td id="LC1104" class="css-1dcdqdg"><code>    });
</code></td></tr><tr><td id="L1105" class="css-a4x74f"><span>1105</span></td><td id="LC1105" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> observableDecoratorAnnotation = <span class="code-comment">/*#__PURE__*/</span>createDecoratorAnnotation(observableAnnotation);
</code></td></tr><tr><td id="L1106" class="css-a4x74f"><span>1106</span></td><td id="LC1106" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getEnhancerFromOptions</span>(<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L1107" class="css-a4x74f"><span>1107</span></td><td id="LC1107" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> options.deep === <span class="code-literal">true</span> ? deepEnhancer : options.deep === <span class="code-literal">false</span> ? referenceEnhancer : getEnhancerFromAnnotation(options.defaultDecorator);
</code></td></tr><tr><td id="L1108" class="css-a4x74f"><span>1108</span></td><td id="LC1108" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1109" class="css-a4x74f"><span>1109</span></td><td id="LC1109" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getAnnotationFromOptions</span>(<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L1110" class="css-a4x74f"><span>1110</span></td><td id="LC1110" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _options$defaultDecor;
</code></td></tr><tr><td id="L1111" class="css-a4x74f"><span>1111</span></td><td id="LC1111" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> options ? (_options$defaultDecor = options.defaultDecorator) != <span class="code-literal">null</span> ? _options$defaultDecor : createAutoAnnotation(options) : <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L1112" class="css-a4x74f"><span>1112</span></td><td id="LC1112" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1113" class="css-a4x74f"><span>1113</span></td><td id="LC1113" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getEnhancerFromAnnotation</span>(<span class="code-params">annotation</span>) </span>{
</code></td></tr><tr><td id="L1114" class="css-a4x74f"><span>1114</span></td><td id="LC1114" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _annotation$options_$, _annotation$options_;
</code></td></tr><tr><td id="L1115" class="css-a4x74f"><span>1115</span></td><td id="LC1115" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> !annotation ? deepEnhancer : (_annotation$options_$ = (_annotation$options_ = annotation.options_) == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : _annotation$options_.enhancer) != <span class="code-literal">null</span> ? _annotation$options_$ : deepEnhancer;
</code></td></tr><tr><td id="L1116" class="css-a4x74f"><span>1116</span></td><td id="LC1116" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1117" class="css-a4x74f"><span>1117</span></td><td id="LC1117" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L1118" class="css-a4x74f"><span>1118</span></td><td id="LC1118" class="css-1dcdqdg"><code><span class="code-comment">     * Turns an object, array or function into a reactive structure.
</span></code></td></tr><tr><td id="L1119" class="css-a4x74f"><span>1119</span></td><td id="LC1119" class="css-1dcdqdg"><code><span class="code-comment">     * @param v the value which should become observable.
</span></code></td></tr><tr><td id="L1120" class="css-a4x74f"><span>1120</span></td><td id="LC1120" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L1121" class="css-a4x74f"><span>1121</span></td><td id="LC1121" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createObservable</span>(<span class="code-params">v, arg2, arg3</span>) </span>{
</code></td></tr><tr><td id="L1122" class="css-a4x74f"><span>1122</span></td><td id="LC1122" class="css-1dcdqdg"><code>      <span class="code-comment">// @observable someProp; (2022.3 Decorators)</span>
</code></td></tr><tr><td id="L1123" class="css-a4x74f"><span>1123</span></td><td id="LC1123" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (is20223Decorator(arg2)) {
</code></td></tr><tr><td id="L1124" class="css-a4x74f"><span>1124</span></td><td id="LC1124" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> observableAnnotation.decorate_20223_(v, arg2);
</code></td></tr><tr><td id="L1125" class="css-a4x74f"><span>1125</span></td><td id="LC1125" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1126" class="css-a4x74f"><span>1126</span></td><td id="LC1126" class="css-1dcdqdg"><code>      <span class="code-comment">// @observable someProp;</span>
</code></td></tr><tr><td id="L1127" class="css-a4x74f"><span>1127</span></td><td id="LC1127" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isStringish(arg2)) {
</code></td></tr><tr><td id="L1128" class="css-a4x74f"><span>1128</span></td><td id="LC1128" class="css-1dcdqdg"><code>        storeAnnotation(v, arg2, observableAnnotation);
</code></td></tr><tr><td id="L1129" class="css-a4x74f"><span>1129</span></td><td id="LC1129" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L1130" class="css-a4x74f"><span>1130</span></td><td id="LC1130" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1131" class="css-a4x74f"><span>1131</span></td><td id="LC1131" class="css-1dcdqdg"><code>      <span class="code-comment">// already observable - ignore</span>
</code></td></tr><tr><td id="L1132" class="css-a4x74f"><span>1132</span></td><td id="LC1132" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservable(v)) {
</code></td></tr><tr><td id="L1133" class="css-a4x74f"><span>1133</span></td><td id="LC1133" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> v;
</code></td></tr><tr><td id="L1134" class="css-a4x74f"><span>1134</span></td><td id="LC1134" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1135" class="css-a4x74f"><span>1135</span></td><td id="LC1135" class="css-1dcdqdg"><code>      <span class="code-comment">// plain object</span>
</code></td></tr><tr><td id="L1136" class="css-a4x74f"><span>1136</span></td><td id="LC1136" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isPlainObject(v)) {
</code></td></tr><tr><td id="L1137" class="css-a4x74f"><span>1137</span></td><td id="LC1137" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> observable.object(v, arg2, arg3);
</code></td></tr><tr><td id="L1138" class="css-a4x74f"><span>1138</span></td><td id="LC1138" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1139" class="css-a4x74f"><span>1139</span></td><td id="LC1139" class="css-1dcdqdg"><code>      <span class="code-comment">// Array</span>
</code></td></tr><tr><td id="L1140" class="css-a4x74f"><span>1140</span></td><td id="LC1140" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-built_in">Array</span>.isArray(v)) {
</code></td></tr><tr><td id="L1141" class="css-a4x74f"><span>1141</span></td><td id="LC1141" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> observable.array(v, arg2);
</code></td></tr><tr><td id="L1142" class="css-a4x74f"><span>1142</span></td><td id="LC1142" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1143" class="css-a4x74f"><span>1143</span></td><td id="LC1143" class="css-1dcdqdg"><code>      <span class="code-comment">// Map</span>
</code></td></tr><tr><td id="L1144" class="css-a4x74f"><span>1144</span></td><td id="LC1144" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isES6Map(v)) {
</code></td></tr><tr><td id="L1145" class="css-a4x74f"><span>1145</span></td><td id="LC1145" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> observable.map(v, arg2);
</code></td></tr><tr><td id="L1146" class="css-a4x74f"><span>1146</span></td><td id="LC1146" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1147" class="css-a4x74f"><span>1147</span></td><td id="LC1147" class="css-1dcdqdg"><code>      <span class="code-comment">// Set</span>
</code></td></tr><tr><td id="L1148" class="css-a4x74f"><span>1148</span></td><td id="LC1148" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isES6Set(v)) {
</code></td></tr><tr><td id="L1149" class="css-a4x74f"><span>1149</span></td><td id="LC1149" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> observable.set(v, arg2);
</code></td></tr><tr><td id="L1150" class="css-a4x74f"><span>1150</span></td><td id="LC1150" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1151" class="css-a4x74f"><span>1151</span></td><td id="LC1151" class="css-1dcdqdg"><code>      <span class="code-comment">// other object - ignore</span>
</code></td></tr><tr><td id="L1152" class="css-a4x74f"><span>1152</span></td><td id="LC1152" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> v === <span class="code-string">"object"</span> &amp;&amp; v !== <span class="code-literal">null</span>) {
</code></td></tr><tr><td id="L1153" class="css-a4x74f"><span>1153</span></td><td id="LC1153" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> v;
</code></td></tr><tr><td id="L1154" class="css-a4x74f"><span>1154</span></td><td id="LC1154" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1155" class="css-a4x74f"><span>1155</span></td><td id="LC1155" class="css-1dcdqdg"><code>      <span class="code-comment">// anything else</span>
</code></td></tr><tr><td id="L1156" class="css-a4x74f"><span>1156</span></td><td id="LC1156" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> observable.box(v, arg2);
</code></td></tr><tr><td id="L1157" class="css-a4x74f"><span>1157</span></td><td id="LC1157" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1158" class="css-a4x74f"><span>1158</span></td><td id="LC1158" class="css-1dcdqdg"><code>    assign(createObservable, observableDecoratorAnnotation);
</code></td></tr><tr><td id="L1159" class="css-a4x74f"><span>1159</span></td><td id="LC1159" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> observableFactories = {
</code></td></tr><tr><td id="L1160" class="css-a4x74f"><span>1160</span></td><td id="LC1160" class="css-1dcdqdg"><code>      box: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">box</span>(<span class="code-params">value, options</span>) </span>{
</code></td></tr><tr><td id="L1161" class="css-a4x74f"><span>1161</span></td><td id="LC1161" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> o = asCreateObservableOptions(options);
</code></td></tr><tr><td id="L1162" class="css-a4x74f"><span>1162</span></td><td id="LC1162" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">new</span> ObservableValue(value, getEnhancerFromOptions(o), o.name, <span class="code-literal">true</span>, o.equals);
</code></td></tr><tr><td id="L1163" class="css-a4x74f"><span>1163</span></td><td id="LC1163" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L1164" class="css-a4x74f"><span>1164</span></td><td id="LC1164" class="css-1dcdqdg"><code>      array: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">array</span>(<span class="code-params">initialValues, options</span>) </span>{
</code></td></tr><tr><td id="L1165" class="css-a4x74f"><span>1165</span></td><td id="LC1165" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> o = asCreateObservableOptions(options);
</code></td></tr><tr><td id="L1166" class="css-a4x74f"><span>1166</span></td><td id="LC1166" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> (globalState.useProxies === <span class="code-literal">false</span> || o.proxy === <span class="code-literal">false</span> ? createLegacyArray : createObservableArray)(initialValues, getEnhancerFromOptions(o), o.name);
</code></td></tr><tr><td id="L1167" class="css-a4x74f"><span>1167</span></td><td id="LC1167" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L1168" class="css-a4x74f"><span>1168</span></td><td id="LC1168" class="css-1dcdqdg"><code>      map: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">map</span>(<span class="code-params">initialValues, options</span>) </span>{
</code></td></tr><tr><td id="L1169" class="css-a4x74f"><span>1169</span></td><td id="LC1169" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> o = asCreateObservableOptions(options);
</code></td></tr><tr><td id="L1170" class="css-a4x74f"><span>1170</span></td><td id="LC1170" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">new</span> ObservableMap(initialValues, getEnhancerFromOptions(o), o.name);
</code></td></tr><tr><td id="L1171" class="css-a4x74f"><span>1171</span></td><td id="LC1171" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L1172" class="css-a4x74f"><span>1172</span></td><td id="LC1172" class="css-1dcdqdg"><code>      <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(initialValues, options) {
</code></td></tr><tr><td id="L1173" class="css-a4x74f"><span>1173</span></td><td id="LC1173" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> o = asCreateObservableOptions(options);
</code></td></tr><tr><td id="L1174" class="css-a4x74f"><span>1174</span></td><td id="LC1174" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">new</span> ObservableSet(initialValues, getEnhancerFromOptions(o), o.name);
</code></td></tr><tr><td id="L1175" class="css-a4x74f"><span>1175</span></td><td id="LC1175" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L1176" class="css-a4x74f"><span>1176</span></td><td id="LC1176" class="css-1dcdqdg"><code>      object: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">object</span>(<span class="code-params">props, decorators, options</span>) </span>{
</code></td></tr><tr><td id="L1177" class="css-a4x74f"><span>1177</span></td><td id="LC1177" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> initObservable(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1178" class="css-a4x74f"><span>1178</span></td><td id="LC1178" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> extendObservable(globalState.useProxies === <span class="code-literal">false</span> || (options == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : options.proxy) === <span class="code-literal">false</span> ? asObservableObject({}, options) : asDynamicObservableObject({}, options), props, decorators);
</code></td></tr><tr><td id="L1179" class="css-a4x74f"><span>1179</span></td><td id="LC1179" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L1180" class="css-a4x74f"><span>1180</span></td><td id="LC1180" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L1181" class="css-a4x74f"><span>1181</span></td><td id="LC1181" class="css-1dcdqdg"><code>      ref: <span class="code-comment">/*#__PURE__*/</span>createDecoratorAnnotation(observableRefAnnotation),
</code></td></tr><tr><td id="L1182" class="css-a4x74f"><span>1182</span></td><td id="LC1182" class="css-1dcdqdg"><code>      shallow: <span class="code-comment">/*#__PURE__*/</span>createDecoratorAnnotation(observableShallowAnnotation),
</code></td></tr><tr><td id="L1183" class="css-a4x74f"><span>1183</span></td><td id="LC1183" class="css-1dcdqdg"><code>      deep: observableDecoratorAnnotation,
</code></td></tr><tr><td id="L1184" class="css-a4x74f"><span>1184</span></td><td id="LC1184" class="css-1dcdqdg"><code>      struct: <span class="code-comment">/*#__PURE__*/</span>createDecoratorAnnotation(observableStructAnnotation)
</code></td></tr><tr><td id="L1185" class="css-a4x74f"><span>1185</span></td><td id="LC1185" class="css-1dcdqdg"><code>    };
</code></td></tr><tr><td id="L1186" class="css-a4x74f"><span>1186</span></td><td id="LC1186" class="css-1dcdqdg"><code>    <span class="code-comment">// eslint-disable-next-line</span>
</code></td></tr><tr><td id="L1187" class="css-a4x74f"><span>1187</span></td><td id="LC1187" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> observable = <span class="code-comment">/*#__PURE__*/</span>assign(createObservable, observableFactories);
</code></td></tr><tr><td id="L1188" class="css-a4x74f"><span>1188</span></td><td id="LC1188" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1189" class="css-a4x74f"><span>1189</span></td><td id="LC1189" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> COMPUTED = <span class="code-string">"computed"</span>;
</code></td></tr><tr><td id="L1190" class="css-a4x74f"><span>1190</span></td><td id="LC1190" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> COMPUTED_STRUCT = <span class="code-string">"computed.struct"</span>;
</code></td></tr><tr><td id="L1191" class="css-a4x74f"><span>1191</span></td><td id="LC1191" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> computedAnnotation = <span class="code-comment">/*#__PURE__*/</span>createComputedAnnotation(COMPUTED);
</code></td></tr><tr><td id="L1192" class="css-a4x74f"><span>1192</span></td><td id="LC1192" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> computedStructAnnotation = <span class="code-comment">/*#__PURE__*/</span>createComputedAnnotation(COMPUTED_STRUCT, {
</code></td></tr><tr><td id="L1193" class="css-a4x74f"><span>1193</span></td><td id="LC1193" class="css-1dcdqdg"><code>      equals: comparer.structural
</code></td></tr><tr><td id="L1194" class="css-a4x74f"><span>1194</span></td><td id="LC1194" class="css-1dcdqdg"><code>    });
</code></td></tr><tr><td id="L1195" class="css-a4x74f"><span>1195</span></td><td id="LC1195" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L1196" class="css-a4x74f"><span>1196</span></td><td id="LC1196" class="css-1dcdqdg"><code><span class="code-comment">     * Decorator for class properties: @computed get value() { return expr; }.
</span></code></td></tr><tr><td id="L1197" class="css-a4x74f"><span>1197</span></td><td id="LC1197" class="css-1dcdqdg"><code><span class="code-comment">     * For legacy purposes also invokable as ES5 observable created: `computed(() =&gt; expr)`;
</span></code></td></tr><tr><td id="L1198" class="css-a4x74f"><span>1198</span></td><td id="LC1198" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L1199" class="css-a4x74f"><span>1199</span></td><td id="LC1199" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> computed = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">computed</span>(<span class="code-params">arg1, arg2</span>) </span>{
</code></td></tr><tr><td id="L1200" class="css-a4x74f"><span>1200</span></td><td id="LC1200" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (is20223Decorator(arg2)) {
</code></td></tr><tr><td id="L1201" class="css-a4x74f"><span>1201</span></td><td id="LC1201" class="css-1dcdqdg"><code>        <span class="code-comment">// @computed (2022.3 Decorators)</span>
</code></td></tr><tr><td id="L1202" class="css-a4x74f"><span>1202</span></td><td id="LC1202" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> computedAnnotation.decorate_20223_(arg1, arg2);
</code></td></tr><tr><td id="L1203" class="css-a4x74f"><span>1203</span></td><td id="LC1203" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1204" class="css-a4x74f"><span>1204</span></td><td id="LC1204" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isStringish(arg2)) {
</code></td></tr><tr><td id="L1205" class="css-a4x74f"><span>1205</span></td><td id="LC1205" class="css-1dcdqdg"><code>        <span class="code-comment">// @computed</span>
</code></td></tr><tr><td id="L1206" class="css-a4x74f"><span>1206</span></td><td id="LC1206" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> storeAnnotation(arg1, arg2, computedAnnotation);
</code></td></tr><tr><td id="L1207" class="css-a4x74f"><span>1207</span></td><td id="LC1207" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1208" class="css-a4x74f"><span>1208</span></td><td id="LC1208" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isPlainObject(arg1)) {
</code></td></tr><tr><td id="L1209" class="css-a4x74f"><span>1209</span></td><td id="LC1209" class="css-1dcdqdg"><code>        <span class="code-comment">// @computed({ options })</span>
</code></td></tr><tr><td id="L1210" class="css-a4x74f"><span>1210</span></td><td id="LC1210" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> createDecoratorAnnotation(createComputedAnnotation(COMPUTED, arg1));
</code></td></tr><tr><td id="L1211" class="css-a4x74f"><span>1211</span></td><td id="LC1211" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1212" class="css-a4x74f"><span>1212</span></td><td id="LC1212" class="css-1dcdqdg"><code>      <span class="code-comment">// computed(expr, options?)</span>
</code></td></tr><tr><td id="L1213" class="css-a4x74f"><span>1213</span></td><td id="LC1213" class="css-1dcdqdg"><code>      {
</code></td></tr><tr><td id="L1214" class="css-a4x74f"><span>1214</span></td><td id="LC1214" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!isFunction(arg1)) {
</code></td></tr><tr><td id="L1215" class="css-a4x74f"><span>1215</span></td><td id="LC1215" class="css-1dcdqdg"><code>          die(<span class="code-string">"First argument to `computed` should be an expression."</span>);
</code></td></tr><tr><td id="L1216" class="css-a4x74f"><span>1216</span></td><td id="LC1216" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1217" class="css-a4x74f"><span>1217</span></td><td id="LC1217" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isFunction(arg2)) {
</code></td></tr><tr><td id="L1218" class="css-a4x74f"><span>1218</span></td><td id="LC1218" class="css-1dcdqdg"><code>          die(<span class="code-string">"A setter as second argument is no longer supported, use `{ set: fn }` option instead"</span>);
</code></td></tr><tr><td id="L1219" class="css-a4x74f"><span>1219</span></td><td id="LC1219" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1220" class="css-a4x74f"><span>1220</span></td><td id="LC1220" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1221" class="css-a4x74f"><span>1221</span></td><td id="LC1221" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> opts = isPlainObject(arg2) ? arg2 : {};
</code></td></tr><tr><td id="L1222" class="css-a4x74f"><span>1222</span></td><td id="LC1222" class="css-1dcdqdg"><code>      opts.get = arg1;
</code></td></tr><tr><td id="L1223" class="css-a4x74f"><span>1223</span></td><td id="LC1223" class="css-1dcdqdg"><code>      opts.name || (opts.name = arg1.name || <span class="code-string">""</span>); <span class="code-comment">/* for generated name */</span>
</code></td></tr><tr><td id="L1224" class="css-a4x74f"><span>1224</span></td><td id="LC1224" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-keyword">new</span> ComputedValue(opts);
</code></td></tr><tr><td id="L1225" class="css-a4x74f"><span>1225</span></td><td id="LC1225" class="css-1dcdqdg"><code>    };
</code></td></tr><tr><td id="L1226" class="css-a4x74f"><span>1226</span></td><td id="LC1226" class="css-1dcdqdg"><code>    <span class="code-built_in">Object</span>.assign(computed, computedAnnotation);
</code></td></tr><tr><td id="L1227" class="css-a4x74f"><span>1227</span></td><td id="LC1227" class="css-1dcdqdg"><code>    computed.struct = <span class="code-comment">/*#__PURE__*/</span>createDecoratorAnnotation(computedStructAnnotation);
</code></td></tr><tr><td id="L1228" class="css-a4x74f"><span>1228</span></td><td id="LC1228" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1229" class="css-a4x74f"><span>1229</span></td><td id="LC1229" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> _getDescriptor$config, _getDescriptor;
</code></td></tr><tr><td id="L1230" class="css-a4x74f"><span>1230</span></td><td id="LC1230" class="css-1dcdqdg"><code>    <span class="code-comment">// we don't use globalState for these in order to avoid possible issues with multiple</span>
</code></td></tr><tr><td id="L1231" class="css-a4x74f"><span>1231</span></td><td id="LC1231" class="css-1dcdqdg"><code>    <span class="code-comment">// mobx versions</span>
</code></td></tr><tr><td id="L1232" class="css-a4x74f"><span>1232</span></td><td id="LC1232" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> currentActionId = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1233" class="css-a4x74f"><span>1233</span></td><td id="LC1233" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> nextActionId = <span class="code-number">1</span>;
</code></td></tr><tr><td id="L1234" class="css-a4x74f"><span>1234</span></td><td id="LC1234" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> isFunctionNameConfigurable = (_getDescriptor$config = (_getDescriptor = <span class="code-comment">/*#__PURE__*/</span>getDescriptor(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{}, <span class="code-string">"name"</span>)) == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : _getDescriptor.configurable) != <span class="code-literal">null</span> ? _getDescriptor$config : <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L1235" class="css-a4x74f"><span>1235</span></td><td id="LC1235" class="css-1dcdqdg"><code>    <span class="code-comment">// we can safely recycle this object</span>
</code></td></tr><tr><td id="L1236" class="css-a4x74f"><span>1236</span></td><td id="LC1236" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> tmpNameDescriptor = {
</code></td></tr><tr><td id="L1237" class="css-a4x74f"><span>1237</span></td><td id="LC1237" class="css-1dcdqdg"><code>      value: <span class="code-string">"action"</span>,
</code></td></tr><tr><td id="L1238" class="css-a4x74f"><span>1238</span></td><td id="LC1238" class="css-1dcdqdg"><code>      configurable: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L1239" class="css-a4x74f"><span>1239</span></td><td id="LC1239" class="css-1dcdqdg"><code>      writable: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L1240" class="css-a4x74f"><span>1240</span></td><td id="LC1240" class="css-1dcdqdg"><code>      enumerable: <span class="code-literal">false</span>
</code></td></tr><tr><td id="L1241" class="css-a4x74f"><span>1241</span></td><td id="LC1241" class="css-1dcdqdg"><code>    };
</code></td></tr><tr><td id="L1242" class="css-a4x74f"><span>1242</span></td><td id="LC1242" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createAction</span>(<span class="code-params">actionName, fn, autoAction, ref</span>) </span>{
</code></td></tr><tr><td id="L1243" class="css-a4x74f"><span>1243</span></td><td id="LC1243" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (autoAction === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L1244" class="css-a4x74f"><span>1244</span></td><td id="LC1244" class="css-1dcdqdg"><code>        autoAction = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L1245" class="css-a4x74f"><span>1245</span></td><td id="LC1245" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1246" class="css-a4x74f"><span>1246</span></td><td id="LC1246" class="css-1dcdqdg"><code>      {
</code></td></tr><tr><td id="L1247" class="css-a4x74f"><span>1247</span></td><td id="LC1247" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!isFunction(fn)) {
</code></td></tr><tr><td id="L1248" class="css-a4x74f"><span>1248</span></td><td id="LC1248" class="css-1dcdqdg"><code>          die(<span class="code-string">"`action` can only be invoked on functions"</span>);
</code></td></tr><tr><td id="L1249" class="css-a4x74f"><span>1249</span></td><td id="LC1249" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1250" class="css-a4x74f"><span>1250</span></td><td id="LC1250" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> actionName !== <span class="code-string">"string"</span> || !actionName) {
</code></td></tr><tr><td id="L1251" class="css-a4x74f"><span>1251</span></td><td id="LC1251" class="css-1dcdqdg"><code>          die(<span class="code-string">"actions should have valid names, got: '"</span> + actionName + <span class="code-string">"'"</span>);
</code></td></tr><tr><td id="L1252" class="css-a4x74f"><span>1252</span></td><td id="LC1252" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1253" class="css-a4x74f"><span>1253</span></td><td id="LC1253" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1254" class="css-a4x74f"><span>1254</span></td><td id="LC1254" class="css-1dcdqdg"><code>      <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">res</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1255" class="css-a4x74f"><span>1255</span></td><td id="LC1255" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> executeAction(actionName, autoAction, fn, ref || <span class="code-keyword">this</span>, <span class="code-built_in">arguments</span>);
</code></td></tr><tr><td id="L1256" class="css-a4x74f"><span>1256</span></td><td id="LC1256" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1257" class="css-a4x74f"><span>1257</span></td><td id="LC1257" class="css-1dcdqdg"><code>      res.isMobxAction = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L1258" class="css-a4x74f"><span>1258</span></td><td id="LC1258" class="css-1dcdqdg"><code>      res.toString = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1259" class="css-a4x74f"><span>1259</span></td><td id="LC1259" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> fn.toString();
</code></td></tr><tr><td id="L1260" class="css-a4x74f"><span>1260</span></td><td id="LC1260" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1261" class="css-a4x74f"><span>1261</span></td><td id="LC1261" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isFunctionNameConfigurable) {
</code></td></tr><tr><td id="L1262" class="css-a4x74f"><span>1262</span></td><td id="LC1262" class="css-1dcdqdg"><code>        tmpNameDescriptor.value = actionName;
</code></td></tr><tr><td id="L1263" class="css-a4x74f"><span>1263</span></td><td id="LC1263" class="css-1dcdqdg"><code>        defineProperty(res, <span class="code-string">"name"</span>, tmpNameDescriptor);
</code></td></tr><tr><td id="L1264" class="css-a4x74f"><span>1264</span></td><td id="LC1264" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1265" class="css-a4x74f"><span>1265</span></td><td id="LC1265" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> res;
</code></td></tr><tr><td id="L1266" class="css-a4x74f"><span>1266</span></td><td id="LC1266" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1267" class="css-a4x74f"><span>1267</span></td><td id="LC1267" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">executeAction</span>(<span class="code-params">actionName, canRunAsDerivation, fn, scope, args</span>) </span>{
</code></td></tr><tr><td id="L1268" class="css-a4x74f"><span>1268</span></td><td id="LC1268" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> runInfo = _startAction(actionName, canRunAsDerivation, scope, args);
</code></td></tr><tr><td id="L1269" class="css-a4x74f"><span>1269</span></td><td id="LC1269" class="css-1dcdqdg"><code>      <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L1270" class="css-a4x74f"><span>1270</span></td><td id="LC1270" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> fn.apply(scope, args);
</code></td></tr><tr><td id="L1271" class="css-a4x74f"><span>1271</span></td><td id="LC1271" class="css-1dcdqdg"><code>      } <span class="code-keyword">catch</span> (err) {
</code></td></tr><tr><td id="L1272" class="css-a4x74f"><span>1272</span></td><td id="LC1272" class="css-1dcdqdg"><code>        runInfo.error_ = err;
</code></td></tr><tr><td id="L1273" class="css-a4x74f"><span>1273</span></td><td id="LC1273" class="css-1dcdqdg"><code>        <span class="code-keyword">throw</span> err;
</code></td></tr><tr><td id="L1274" class="css-a4x74f"><span>1274</span></td><td id="LC1274" class="css-1dcdqdg"><code>      } <span class="code-keyword">finally</span> {
</code></td></tr><tr><td id="L1275" class="css-a4x74f"><span>1275</span></td><td id="LC1275" class="css-1dcdqdg"><code>        _endAction(runInfo);
</code></td></tr><tr><td id="L1276" class="css-a4x74f"><span>1276</span></td><td id="LC1276" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1277" class="css-a4x74f"><span>1277</span></td><td id="LC1277" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1278" class="css-a4x74f"><span>1278</span></td><td id="LC1278" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_startAction</span>(<span class="code-params">actionName, canRunAsDerivation,
</span></span></code></td></tr><tr><td id="L1279" class="css-a4x74f"><span>1279</span></td><td id="LC1279" class="css-1dcdqdg"><code><span class="code-function"><span class="code-params">    <span class="code-regexp">//</span> true for autoAction
</span></span></code></td></tr><tr><td id="L1280" class="css-a4x74f"><span>1280</span></td><td id="LC1280" class="css-1dcdqdg"><code><span class="code-function"><span class="code-params">    scope, args</span>) </span>{
</code></td></tr><tr><td id="L1281" class="css-a4x74f"><span>1281</span></td><td id="LC1281" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> notifySpy_ =  isSpyEnabled() &amp;&amp; !!actionName;
</code></td></tr><tr><td id="L1282" class="css-a4x74f"><span>1282</span></td><td id="LC1282" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> startTime_ = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1283" class="css-a4x74f"><span>1283</span></td><td id="LC1283" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( notifySpy_) {
</code></td></tr><tr><td id="L1284" class="css-a4x74f"><span>1284</span></td><td id="LC1284" class="css-1dcdqdg"><code>        startTime_ = <span class="code-built_in">Date</span>.now();
</code></td></tr><tr><td id="L1285" class="css-a4x74f"><span>1285</span></td><td id="LC1285" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> flattenedArgs = args ? <span class="code-built_in">Array</span>.from(args) : EMPTY_ARRAY;
</code></td></tr><tr><td id="L1286" class="css-a4x74f"><span>1286</span></td><td id="LC1286" class="css-1dcdqdg"><code>        spyReportStart({
</code></td></tr><tr><td id="L1287" class="css-a4x74f"><span>1287</span></td><td id="LC1287" class="css-1dcdqdg"><code>          type: ACTION,
</code></td></tr><tr><td id="L1288" class="css-a4x74f"><span>1288</span></td><td id="LC1288" class="css-1dcdqdg"><code>          name: actionName,
</code></td></tr><tr><td id="L1289" class="css-a4x74f"><span>1289</span></td><td id="LC1289" class="css-1dcdqdg"><code>          object: scope,
</code></td></tr><tr><td id="L1290" class="css-a4x74f"><span>1290</span></td><td id="LC1290" class="css-1dcdqdg"><code>          <span class="code-built_in">arguments</span>: flattenedArgs
</code></td></tr><tr><td id="L1291" class="css-a4x74f"><span>1291</span></td><td id="LC1291" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L1292" class="css-a4x74f"><span>1292</span></td><td id="LC1292" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1293" class="css-a4x74f"><span>1293</span></td><td id="LC1293" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> prevDerivation_ = globalState.trackingDerivation;
</code></td></tr><tr><td id="L1294" class="css-a4x74f"><span>1294</span></td><td id="LC1294" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> runAsAction = !canRunAsDerivation || !prevDerivation_;
</code></td></tr><tr><td id="L1295" class="css-a4x74f"><span>1295</span></td><td id="LC1295" class="css-1dcdqdg"><code>      startBatch();
</code></td></tr><tr><td id="L1296" class="css-a4x74f"><span>1296</span></td><td id="LC1296" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> prevAllowStateChanges_ = globalState.allowStateChanges; <span class="code-comment">// by default preserve previous allow</span>
</code></td></tr><tr><td id="L1297" class="css-a4x74f"><span>1297</span></td><td id="LC1297" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (runAsAction) {
</code></td></tr><tr><td id="L1298" class="css-a4x74f"><span>1298</span></td><td id="LC1298" class="css-1dcdqdg"><code>        untrackedStart();
</code></td></tr><tr><td id="L1299" class="css-a4x74f"><span>1299</span></td><td id="LC1299" class="css-1dcdqdg"><code>        prevAllowStateChanges_ = allowStateChangesStart(<span class="code-literal">true</span>);
</code></td></tr><tr><td id="L1300" class="css-a4x74f"><span>1300</span></td><td id="LC1300" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1301" class="css-a4x74f"><span>1301</span></td><td id="LC1301" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> prevAllowStateReads_ = allowStateReadsStart(<span class="code-literal">true</span>);
</code></td></tr><tr><td id="L1302" class="css-a4x74f"><span>1302</span></td><td id="LC1302" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> runInfo = {
</code></td></tr><tr><td id="L1303" class="css-a4x74f"><span>1303</span></td><td id="LC1303" class="css-1dcdqdg"><code>        runAsAction_: runAsAction,
</code></td></tr><tr><td id="L1304" class="css-a4x74f"><span>1304</span></td><td id="LC1304" class="css-1dcdqdg"><code>        prevDerivation_: prevDerivation_,
</code></td></tr><tr><td id="L1305" class="css-a4x74f"><span>1305</span></td><td id="LC1305" class="css-1dcdqdg"><code>        prevAllowStateChanges_: prevAllowStateChanges_,
</code></td></tr><tr><td id="L1306" class="css-a4x74f"><span>1306</span></td><td id="LC1306" class="css-1dcdqdg"><code>        prevAllowStateReads_: prevAllowStateReads_,
</code></td></tr><tr><td id="L1307" class="css-a4x74f"><span>1307</span></td><td id="LC1307" class="css-1dcdqdg"><code>        notifySpy_: notifySpy_,
</code></td></tr><tr><td id="L1308" class="css-a4x74f"><span>1308</span></td><td id="LC1308" class="css-1dcdqdg"><code>        startTime_: startTime_,
</code></td></tr><tr><td id="L1309" class="css-a4x74f"><span>1309</span></td><td id="LC1309" class="css-1dcdqdg"><code>        actionId_: nextActionId++,
</code></td></tr><tr><td id="L1310" class="css-a4x74f"><span>1310</span></td><td id="LC1310" class="css-1dcdqdg"><code>        parentActionId_: currentActionId
</code></td></tr><tr><td id="L1311" class="css-a4x74f"><span>1311</span></td><td id="LC1311" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1312" class="css-a4x74f"><span>1312</span></td><td id="LC1312" class="css-1dcdqdg"><code>      currentActionId = runInfo.actionId_;
</code></td></tr><tr><td id="L1313" class="css-a4x74f"><span>1313</span></td><td id="LC1313" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> runInfo;
</code></td></tr><tr><td id="L1314" class="css-a4x74f"><span>1314</span></td><td id="LC1314" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1315" class="css-a4x74f"><span>1315</span></td><td id="LC1315" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_endAction</span>(<span class="code-params">runInfo</span>) </span>{
</code></td></tr><tr><td id="L1316" class="css-a4x74f"><span>1316</span></td><td id="LC1316" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (currentActionId !== runInfo.actionId_) {
</code></td></tr><tr><td id="L1317" class="css-a4x74f"><span>1317</span></td><td id="LC1317" class="css-1dcdqdg"><code>        die(<span class="code-number">30</span>);
</code></td></tr><tr><td id="L1318" class="css-a4x74f"><span>1318</span></td><td id="LC1318" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1319" class="css-a4x74f"><span>1319</span></td><td id="LC1319" class="css-1dcdqdg"><code>      currentActionId = runInfo.parentActionId_;
</code></td></tr><tr><td id="L1320" class="css-a4x74f"><span>1320</span></td><td id="LC1320" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (runInfo.error_ !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L1321" class="css-a4x74f"><span>1321</span></td><td id="LC1321" class="css-1dcdqdg"><code>        globalState.suppressReactionErrors = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L1322" class="css-a4x74f"><span>1322</span></td><td id="LC1322" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1323" class="css-a4x74f"><span>1323</span></td><td id="LC1323" class="css-1dcdqdg"><code>      allowStateChangesEnd(runInfo.prevAllowStateChanges_);
</code></td></tr><tr><td id="L1324" class="css-a4x74f"><span>1324</span></td><td id="LC1324" class="css-1dcdqdg"><code>      allowStateReadsEnd(runInfo.prevAllowStateReads_);
</code></td></tr><tr><td id="L1325" class="css-a4x74f"><span>1325</span></td><td id="LC1325" class="css-1dcdqdg"><code>      endBatch();
</code></td></tr><tr><td id="L1326" class="css-a4x74f"><span>1326</span></td><td id="LC1326" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (runInfo.runAsAction_) {
</code></td></tr><tr><td id="L1327" class="css-a4x74f"><span>1327</span></td><td id="LC1327" class="css-1dcdqdg"><code>        untrackedEnd(runInfo.prevDerivation_);
</code></td></tr><tr><td id="L1328" class="css-a4x74f"><span>1328</span></td><td id="LC1328" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1329" class="css-a4x74f"><span>1329</span></td><td id="LC1329" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( runInfo.notifySpy_) {
</code></td></tr><tr><td id="L1330" class="css-a4x74f"><span>1330</span></td><td id="LC1330" class="css-1dcdqdg"><code>        spyReportEnd({
</code></td></tr><tr><td id="L1331" class="css-a4x74f"><span>1331</span></td><td id="LC1331" class="css-1dcdqdg"><code>          time: <span class="code-built_in">Date</span>.now() - runInfo.startTime_
</code></td></tr><tr><td id="L1332" class="css-a4x74f"><span>1332</span></td><td id="LC1332" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L1333" class="css-a4x74f"><span>1333</span></td><td id="LC1333" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1334" class="css-a4x74f"><span>1334</span></td><td id="LC1334" class="css-1dcdqdg"><code>      globalState.suppressReactionErrors = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L1335" class="css-a4x74f"><span>1335</span></td><td id="LC1335" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1336" class="css-a4x74f"><span>1336</span></td><td id="LC1336" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">allowStateChanges</span>(<span class="code-params">allowStateChanges, func</span>) </span>{
</code></td></tr><tr><td id="L1337" class="css-a4x74f"><span>1337</span></td><td id="LC1337" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> prev = allowStateChangesStart(allowStateChanges);
</code></td></tr><tr><td id="L1338" class="css-a4x74f"><span>1338</span></td><td id="LC1338" class="css-1dcdqdg"><code>      <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L1339" class="css-a4x74f"><span>1339</span></td><td id="LC1339" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> func();
</code></td></tr><tr><td id="L1340" class="css-a4x74f"><span>1340</span></td><td id="LC1340" class="css-1dcdqdg"><code>      } <span class="code-keyword">finally</span> {
</code></td></tr><tr><td id="L1341" class="css-a4x74f"><span>1341</span></td><td id="LC1341" class="css-1dcdqdg"><code>        allowStateChangesEnd(prev);
</code></td></tr><tr><td id="L1342" class="css-a4x74f"><span>1342</span></td><td id="LC1342" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1343" class="css-a4x74f"><span>1343</span></td><td id="LC1343" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1344" class="css-a4x74f"><span>1344</span></td><td id="LC1344" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">allowStateChangesStart</span>(<span class="code-params">allowStateChanges</span>) </span>{
</code></td></tr><tr><td id="L1345" class="css-a4x74f"><span>1345</span></td><td id="LC1345" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> prev = globalState.allowStateChanges;
</code></td></tr><tr><td id="L1346" class="css-a4x74f"><span>1346</span></td><td id="LC1346" class="css-1dcdqdg"><code>      globalState.allowStateChanges = allowStateChanges;
</code></td></tr><tr><td id="L1347" class="css-a4x74f"><span>1347</span></td><td id="LC1347" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> prev;
</code></td></tr><tr><td id="L1348" class="css-a4x74f"><span>1348</span></td><td id="LC1348" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1349" class="css-a4x74f"><span>1349</span></td><td id="LC1349" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">allowStateChangesEnd</span>(<span class="code-params">prev</span>) </span>{
</code></td></tr><tr><td id="L1350" class="css-a4x74f"><span>1350</span></td><td id="LC1350" class="css-1dcdqdg"><code>      globalState.allowStateChanges = prev;
</code></td></tr><tr><td id="L1351" class="css-a4x74f"><span>1351</span></td><td id="LC1351" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1352" class="css-a4x74f"><span>1352</span></td><td id="LC1352" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1353" class="css-a4x74f"><span>1353</span></td><td id="LC1353" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> CREATE = <span class="code-string">"create"</span>;
</code></td></tr><tr><td id="L1354" class="css-a4x74f"><span>1354</span></td><td id="LC1354" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> ObservableValue = <span class="code-comment">/*#__PURE__*/</span><span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">_Atom</span>) </span>{
</code></td></tr><tr><td id="L1355" class="css-a4x74f"><span>1355</span></td><td id="LC1355" class="css-1dcdqdg"><code>      <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ObservableValue</span>(<span class="code-params">value, enhancer, name_, notifySpy, equals</span>) </span>{
</code></td></tr><tr><td id="L1356" class="css-a4x74f"><span>1356</span></td><td id="LC1356" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this;
</code></td></tr><tr><td id="L1357" class="css-a4x74f"><span>1357</span></td><td id="LC1357" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (name_ === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L1358" class="css-a4x74f"><span>1358</span></td><td id="LC1358" class="css-1dcdqdg"><code>          name_ =  <span class="code-string">"ObservableValue@"</span> + getNextId() ;
</code></td></tr><tr><td id="L1359" class="css-a4x74f"><span>1359</span></td><td id="LC1359" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1360" class="css-a4x74f"><span>1360</span></td><td id="LC1360" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (notifySpy === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L1361" class="css-a4x74f"><span>1361</span></td><td id="LC1361" class="css-1dcdqdg"><code>          notifySpy = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L1362" class="css-a4x74f"><span>1362</span></td><td id="LC1362" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1363" class="css-a4x74f"><span>1363</span></td><td id="LC1363" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (equals === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L1364" class="css-a4x74f"><span>1364</span></td><td id="LC1364" class="css-1dcdqdg"><code>          equals = comparer[<span class="code-string">"default"</span>];
</code></td></tr><tr><td id="L1365" class="css-a4x74f"><span>1365</span></td><td id="LC1365" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1366" class="css-a4x74f"><span>1366</span></td><td id="LC1366" class="css-1dcdqdg"><code>        _this = _Atom.call(<span class="code-keyword">this</span>, name_) || <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L1367" class="css-a4x74f"><span>1367</span></td><td id="LC1367" class="css-1dcdqdg"><code>        _this.enhancer = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1368" class="css-a4x74f"><span>1368</span></td><td id="LC1368" class="css-1dcdqdg"><code>        _this.name_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1369" class="css-a4x74f"><span>1369</span></td><td id="LC1369" class="css-1dcdqdg"><code>        _this.equals = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1370" class="css-a4x74f"><span>1370</span></td><td id="LC1370" class="css-1dcdqdg"><code>        _this.hasUnreportedChange_ = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L1371" class="css-a4x74f"><span>1371</span></td><td id="LC1371" class="css-1dcdqdg"><code>        _this.interceptors_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1372" class="css-a4x74f"><span>1372</span></td><td id="LC1372" class="css-1dcdqdg"><code>        _this.changeListeners_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1373" class="css-a4x74f"><span>1373</span></td><td id="LC1373" class="css-1dcdqdg"><code>        _this.value_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1374" class="css-a4x74f"><span>1374</span></td><td id="LC1374" class="css-1dcdqdg"><code>        _this.dehancer = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1375" class="css-a4x74f"><span>1375</span></td><td id="LC1375" class="css-1dcdqdg"><code>        _this.enhancer = enhancer;
</code></td></tr><tr><td id="L1376" class="css-a4x74f"><span>1376</span></td><td id="LC1376" class="css-1dcdqdg"><code>        _this.name_ = name_;
</code></td></tr><tr><td id="L1377" class="css-a4x74f"><span>1377</span></td><td id="LC1377" class="css-1dcdqdg"><code>        _this.equals = equals;
</code></td></tr><tr><td id="L1378" class="css-a4x74f"><span>1378</span></td><td id="LC1378" class="css-1dcdqdg"><code>        _this.value_ = enhancer(value, <span class="code-literal">undefined</span>, name_);
</code></td></tr><tr><td id="L1379" class="css-a4x74f"><span>1379</span></td><td id="LC1379" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( notifySpy &amp;&amp; isSpyEnabled()) {
</code></td></tr><tr><td id="L1380" class="css-a4x74f"><span>1380</span></td><td id="LC1380" class="css-1dcdqdg"><code>          <span class="code-comment">// only notify spy if this is a stand-alone observable</span>
</code></td></tr><tr><td id="L1381" class="css-a4x74f"><span>1381</span></td><td id="LC1381" class="css-1dcdqdg"><code>          spyReport({
</code></td></tr><tr><td id="L1382" class="css-a4x74f"><span>1382</span></td><td id="LC1382" class="css-1dcdqdg"><code>            type: CREATE,
</code></td></tr><tr><td id="L1383" class="css-a4x74f"><span>1383</span></td><td id="LC1383" class="css-1dcdqdg"><code>            object: _this,
</code></td></tr><tr><td id="L1384" class="css-a4x74f"><span>1384</span></td><td id="LC1384" class="css-1dcdqdg"><code>            observableKind: <span class="code-string">"value"</span>,
</code></td></tr><tr><td id="L1385" class="css-a4x74f"><span>1385</span></td><td id="LC1385" class="css-1dcdqdg"><code>            debugObjectName: _this.name_,
</code></td></tr><tr><td id="L1386" class="css-a4x74f"><span>1386</span></td><td id="LC1386" class="css-1dcdqdg"><code>            newValue: <span class="code-string">""</span> + _this.value_
</code></td></tr><tr><td id="L1387" class="css-a4x74f"><span>1387</span></td><td id="LC1387" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L1388" class="css-a4x74f"><span>1388</span></td><td id="LC1388" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1389" class="css-a4x74f"><span>1389</span></td><td id="LC1389" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> _this;
</code></td></tr><tr><td id="L1390" class="css-a4x74f"><span>1390</span></td><td id="LC1390" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1391" class="css-a4x74f"><span>1391</span></td><td id="LC1391" class="css-1dcdqdg"><code>      _inheritsLoose(ObservableValue, _Atom);
</code></td></tr><tr><td id="L1392" class="css-a4x74f"><span>1392</span></td><td id="LC1392" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _proto = ObservableValue.prototype;
</code></td></tr><tr><td id="L1393" class="css-a4x74f"><span>1393</span></td><td id="LC1393" class="css-1dcdqdg"><code>      _proto.dehanceValue = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">dehanceValue</span>(<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L1394" class="css-a4x74f"><span>1394</span></td><td id="LC1394" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.dehancer !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L1395" class="css-a4x74f"><span>1395</span></td><td id="LC1395" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-keyword">this</span>.dehancer(value);
</code></td></tr><tr><td id="L1396" class="css-a4x74f"><span>1396</span></td><td id="LC1396" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1397" class="css-a4x74f"><span>1397</span></td><td id="LC1397" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> value;
</code></td></tr><tr><td id="L1398" class="css-a4x74f"><span>1398</span></td><td id="LC1398" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1399" class="css-a4x74f"><span>1399</span></td><td id="LC1399" class="css-1dcdqdg"><code>      _proto.set = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">set</span>(<span class="code-params">newValue</span>) </span>{
</code></td></tr><tr><td id="L1400" class="css-a4x74f"><span>1400</span></td><td id="LC1400" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> oldValue = <span class="code-keyword">this</span>.value_;
</code></td></tr><tr><td id="L1401" class="css-a4x74f"><span>1401</span></td><td id="LC1401" class="css-1dcdqdg"><code>        newValue = <span class="code-keyword">this</span>.prepareNewValue_(newValue);
</code></td></tr><tr><td id="L1402" class="css-a4x74f"><span>1402</span></td><td id="LC1402" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (newValue !== globalState.UNCHANGED) {
</code></td></tr><tr><td id="L1403" class="css-a4x74f"><span>1403</span></td><td id="LC1403" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> notifySpy = isSpyEnabled();
</code></td></tr><tr><td id="L1404" class="css-a4x74f"><span>1404</span></td><td id="LC1404" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> ( notifySpy) {
</code></td></tr><tr><td id="L1405" class="css-a4x74f"><span>1405</span></td><td id="LC1405" class="css-1dcdqdg"><code>            spyReportStart({
</code></td></tr><tr><td id="L1406" class="css-a4x74f"><span>1406</span></td><td id="LC1406" class="css-1dcdqdg"><code>              type: UPDATE,
</code></td></tr><tr><td id="L1407" class="css-a4x74f"><span>1407</span></td><td id="LC1407" class="css-1dcdqdg"><code>              object: <span class="code-keyword">this</span>,
</code></td></tr><tr><td id="L1408" class="css-a4x74f"><span>1408</span></td><td id="LC1408" class="css-1dcdqdg"><code>              observableKind: <span class="code-string">"value"</span>,
</code></td></tr><tr><td id="L1409" class="css-a4x74f"><span>1409</span></td><td id="LC1409" class="css-1dcdqdg"><code>              debugObjectName: <span class="code-keyword">this</span>.name_,
</code></td></tr><tr><td id="L1410" class="css-a4x74f"><span>1410</span></td><td id="LC1410" class="css-1dcdqdg"><code>              newValue: newValue,
</code></td></tr><tr><td id="L1411" class="css-a4x74f"><span>1411</span></td><td id="LC1411" class="css-1dcdqdg"><code>              oldValue: oldValue
</code></td></tr><tr><td id="L1412" class="css-a4x74f"><span>1412</span></td><td id="LC1412" class="css-1dcdqdg"><code>            });
</code></td></tr><tr><td id="L1413" class="css-a4x74f"><span>1413</span></td><td id="LC1413" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L1414" class="css-a4x74f"><span>1414</span></td><td id="LC1414" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.setNewValue_(newValue);
</code></td></tr><tr><td id="L1415" class="css-a4x74f"><span>1415</span></td><td id="LC1415" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> ( notifySpy) {
</code></td></tr><tr><td id="L1416" class="css-a4x74f"><span>1416</span></td><td id="LC1416" class="css-1dcdqdg"><code>            spyReportEnd();
</code></td></tr><tr><td id="L1417" class="css-a4x74f"><span>1417</span></td><td id="LC1417" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L1418" class="css-a4x74f"><span>1418</span></td><td id="LC1418" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1419" class="css-a4x74f"><span>1419</span></td><td id="LC1419" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1420" class="css-a4x74f"><span>1420</span></td><td id="LC1420" class="css-1dcdqdg"><code>      _proto.prepareNewValue_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">prepareNewValue_</span>(<span class="code-params">newValue</span>) </span>{
</code></td></tr><tr><td id="L1421" class="css-a4x74f"><span>1421</span></td><td id="LC1421" class="css-1dcdqdg"><code>        checkIfStateModificationsAreAllowed(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L1422" class="css-a4x74f"><span>1422</span></td><td id="LC1422" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (hasInterceptors(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L1423" class="css-a4x74f"><span>1423</span></td><td id="LC1423" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> change = interceptChange(<span class="code-keyword">this</span>, {
</code></td></tr><tr><td id="L1424" class="css-a4x74f"><span>1424</span></td><td id="LC1424" class="css-1dcdqdg"><code>            object: <span class="code-keyword">this</span>,
</code></td></tr><tr><td id="L1425" class="css-a4x74f"><span>1425</span></td><td id="LC1425" class="css-1dcdqdg"><code>            type: UPDATE,
</code></td></tr><tr><td id="L1426" class="css-a4x74f"><span>1426</span></td><td id="LC1426" class="css-1dcdqdg"><code>            newValue: newValue
</code></td></tr><tr><td id="L1427" class="css-a4x74f"><span>1427</span></td><td id="LC1427" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L1428" class="css-a4x74f"><span>1428</span></td><td id="LC1428" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!change) {
</code></td></tr><tr><td id="L1429" class="css-a4x74f"><span>1429</span></td><td id="LC1429" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> globalState.UNCHANGED;
</code></td></tr><tr><td id="L1430" class="css-a4x74f"><span>1430</span></td><td id="LC1430" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L1431" class="css-a4x74f"><span>1431</span></td><td id="LC1431" class="css-1dcdqdg"><code>          newValue = change.newValue;
</code></td></tr><tr><td id="L1432" class="css-a4x74f"><span>1432</span></td><td id="LC1432" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1433" class="css-a4x74f"><span>1433</span></td><td id="LC1433" class="css-1dcdqdg"><code>        <span class="code-comment">// apply modifier</span>
</code></td></tr><tr><td id="L1434" class="css-a4x74f"><span>1434</span></td><td id="LC1434" class="css-1dcdqdg"><code>        newValue = <span class="code-keyword">this</span>.enhancer(newValue, <span class="code-keyword">this</span>.value_, <span class="code-keyword">this</span>.name_);
</code></td></tr><tr><td id="L1435" class="css-a4x74f"><span>1435</span></td><td id="LC1435" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.equals(<span class="code-keyword">this</span>.value_, newValue) ? globalState.UNCHANGED : newValue;
</code></td></tr><tr><td id="L1436" class="css-a4x74f"><span>1436</span></td><td id="LC1436" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1437" class="css-a4x74f"><span>1437</span></td><td id="LC1437" class="css-1dcdqdg"><code>      _proto.setNewValue_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">setNewValue_</span>(<span class="code-params">newValue</span>) </span>{
</code></td></tr><tr><td id="L1438" class="css-a4x74f"><span>1438</span></td><td id="LC1438" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> oldValue = <span class="code-keyword">this</span>.value_;
</code></td></tr><tr><td id="L1439" class="css-a4x74f"><span>1439</span></td><td id="LC1439" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.value_ = newValue;
</code></td></tr><tr><td id="L1440" class="css-a4x74f"><span>1440</span></td><td id="LC1440" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.reportChanged();
</code></td></tr><tr><td id="L1441" class="css-a4x74f"><span>1441</span></td><td id="LC1441" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (hasListeners(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L1442" class="css-a4x74f"><span>1442</span></td><td id="LC1442" class="css-1dcdqdg"><code>          notifyListeners(<span class="code-keyword">this</span>, {
</code></td></tr><tr><td id="L1443" class="css-a4x74f"><span>1443</span></td><td id="LC1443" class="css-1dcdqdg"><code>            type: UPDATE,
</code></td></tr><tr><td id="L1444" class="css-a4x74f"><span>1444</span></td><td id="LC1444" class="css-1dcdqdg"><code>            object: <span class="code-keyword">this</span>,
</code></td></tr><tr><td id="L1445" class="css-a4x74f"><span>1445</span></td><td id="LC1445" class="css-1dcdqdg"><code>            newValue: newValue,
</code></td></tr><tr><td id="L1446" class="css-a4x74f"><span>1446</span></td><td id="LC1446" class="css-1dcdqdg"><code>            oldValue: oldValue
</code></td></tr><tr><td id="L1447" class="css-a4x74f"><span>1447</span></td><td id="LC1447" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L1448" class="css-a4x74f"><span>1448</span></td><td id="LC1448" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1449" class="css-a4x74f"><span>1449</span></td><td id="LC1449" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1450" class="css-a4x74f"><span>1450</span></td><td id="LC1450" class="css-1dcdqdg"><code>      _proto.get = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">get</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1451" class="css-a4x74f"><span>1451</span></td><td id="LC1451" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.reportObserved();
</code></td></tr><tr><td id="L1452" class="css-a4x74f"><span>1452</span></td><td id="LC1452" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.dehanceValue(<span class="code-keyword">this</span>.value_);
</code></td></tr><tr><td id="L1453" class="css-a4x74f"><span>1453</span></td><td id="LC1453" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1454" class="css-a4x74f"><span>1454</span></td><td id="LC1454" class="css-1dcdqdg"><code>      _proto.intercept_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">intercept_</span>(<span class="code-params">handler</span>) </span>{
</code></td></tr><tr><td id="L1455" class="css-a4x74f"><span>1455</span></td><td id="LC1455" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> registerInterceptor(<span class="code-keyword">this</span>, handler);
</code></td></tr><tr><td id="L1456" class="css-a4x74f"><span>1456</span></td><td id="LC1456" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1457" class="css-a4x74f"><span>1457</span></td><td id="LC1457" class="css-1dcdqdg"><code>      _proto.observe_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">observe_</span>(<span class="code-params">listener, fireImmediately</span>) </span>{
</code></td></tr><tr><td id="L1458" class="css-a4x74f"><span>1458</span></td><td id="LC1458" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (fireImmediately) {
</code></td></tr><tr><td id="L1459" class="css-a4x74f"><span>1459</span></td><td id="LC1459" class="css-1dcdqdg"><code>          listener({
</code></td></tr><tr><td id="L1460" class="css-a4x74f"><span>1460</span></td><td id="LC1460" class="css-1dcdqdg"><code>            observableKind: <span class="code-string">"value"</span>,
</code></td></tr><tr><td id="L1461" class="css-a4x74f"><span>1461</span></td><td id="LC1461" class="css-1dcdqdg"><code>            debugObjectName: <span class="code-keyword">this</span>.name_,
</code></td></tr><tr><td id="L1462" class="css-a4x74f"><span>1462</span></td><td id="LC1462" class="css-1dcdqdg"><code>            object: <span class="code-keyword">this</span>,
</code></td></tr><tr><td id="L1463" class="css-a4x74f"><span>1463</span></td><td id="LC1463" class="css-1dcdqdg"><code>            type: UPDATE,
</code></td></tr><tr><td id="L1464" class="css-a4x74f"><span>1464</span></td><td id="LC1464" class="css-1dcdqdg"><code>            newValue: <span class="code-keyword">this</span>.value_,
</code></td></tr><tr><td id="L1465" class="css-a4x74f"><span>1465</span></td><td id="LC1465" class="css-1dcdqdg"><code>            oldValue: <span class="code-literal">undefined</span>
</code></td></tr><tr><td id="L1466" class="css-a4x74f"><span>1466</span></td><td id="LC1466" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L1467" class="css-a4x74f"><span>1467</span></td><td id="LC1467" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1468" class="css-a4x74f"><span>1468</span></td><td id="LC1468" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> registerListener(<span class="code-keyword">this</span>, listener);
</code></td></tr><tr><td id="L1469" class="css-a4x74f"><span>1469</span></td><td id="LC1469" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1470" class="css-a4x74f"><span>1470</span></td><td id="LC1470" class="css-1dcdqdg"><code>      _proto.raw = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">raw</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1471" class="css-a4x74f"><span>1471</span></td><td id="LC1471" class="css-1dcdqdg"><code>        <span class="code-comment">// used by MST ot get undehanced value</span>
</code></td></tr><tr><td id="L1472" class="css-a4x74f"><span>1472</span></td><td id="LC1472" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.value_;
</code></td></tr><tr><td id="L1473" class="css-a4x74f"><span>1473</span></td><td id="LC1473" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1474" class="css-a4x74f"><span>1474</span></td><td id="LC1474" class="css-1dcdqdg"><code>      _proto.toJSON = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toJSON</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1475" class="css-a4x74f"><span>1475</span></td><td id="LC1475" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.get();
</code></td></tr><tr><td id="L1476" class="css-a4x74f"><span>1476</span></td><td id="LC1476" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1477" class="css-a4x74f"><span>1477</span></td><td id="LC1477" class="css-1dcdqdg"><code>      _proto.toString = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toString</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1478" class="css-a4x74f"><span>1478</span></td><td id="LC1478" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.name_ + <span class="code-string">"["</span> + <span class="code-keyword">this</span>.value_ + <span class="code-string">"]"</span>;
</code></td></tr><tr><td id="L1479" class="css-a4x74f"><span>1479</span></td><td id="LC1479" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1480" class="css-a4x74f"><span>1480</span></td><td id="LC1480" class="css-1dcdqdg"><code>      _proto.valueOf = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">valueOf</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1481" class="css-a4x74f"><span>1481</span></td><td id="LC1481" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> toPrimitive(<span class="code-keyword">this</span>.get());
</code></td></tr><tr><td id="L1482" class="css-a4x74f"><span>1482</span></td><td id="LC1482" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1483" class="css-a4x74f"><span>1483</span></td><td id="LC1483" class="css-1dcdqdg"><code>      _proto[<span class="code-built_in">Symbol</span>.toPrimitive] = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1484" class="css-a4x74f"><span>1484</span></td><td id="LC1484" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.valueOf();
</code></td></tr><tr><td id="L1485" class="css-a4x74f"><span>1485</span></td><td id="LC1485" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1486" class="css-a4x74f"><span>1486</span></td><td id="LC1486" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> ObservableValue;
</code></td></tr><tr><td id="L1487" class="css-a4x74f"><span>1487</span></td><td id="LC1487" class="css-1dcdqdg"><code>    }(Atom);
</code></td></tr><tr><td id="L1488" class="css-a4x74f"><span>1488</span></td><td id="LC1488" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> isObservableValue = <span class="code-comment">/*#__PURE__*/</span>createInstanceofPredicate(<span class="code-string">"ObservableValue"</span>, ObservableValue);
</code></td></tr><tr><td id="L1489" class="css-a4x74f"><span>1489</span></td><td id="LC1489" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1490" class="css-a4x74f"><span>1490</span></td><td id="LC1490" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L1491" class="css-a4x74f"><span>1491</span></td><td id="LC1491" class="css-1dcdqdg"><code><span class="code-comment">     * A node in the state dependency root that observes other nodes, and can be observed itself.
</span></code></td></tr><tr><td id="L1492" class="css-a4x74f"><span>1492</span></td><td id="LC1492" class="css-1dcdqdg"><code><span class="code-comment">     *
</span></code></td></tr><tr><td id="L1493" class="css-a4x74f"><span>1493</span></td><td id="LC1493" class="css-1dcdqdg"><code><span class="code-comment">     * ComputedValue will remember the result of the computation for the duration of the batch, or
</span></code></td></tr><tr><td id="L1494" class="css-a4x74f"><span>1494</span></td><td id="LC1494" class="css-1dcdqdg"><code><span class="code-comment">     * while being observed.
</span></code></td></tr><tr><td id="L1495" class="css-a4x74f"><span>1495</span></td><td id="LC1495" class="css-1dcdqdg"><code><span class="code-comment">     *
</span></code></td></tr><tr><td id="L1496" class="css-a4x74f"><span>1496</span></td><td id="LC1496" class="css-1dcdqdg"><code><span class="code-comment">     * During this time it will recompute only when one of its direct dependencies changed,
</span></code></td></tr><tr><td id="L1497" class="css-a4x74f"><span>1497</span></td><td id="LC1497" class="css-1dcdqdg"><code><span class="code-comment">     * but only when it is being accessed with `ComputedValue.get()`.
</span></code></td></tr><tr><td id="L1498" class="css-a4x74f"><span>1498</span></td><td id="LC1498" class="css-1dcdqdg"><code><span class="code-comment">     *
</span></code></td></tr><tr><td id="L1499" class="css-a4x74f"><span>1499</span></td><td id="LC1499" class="css-1dcdqdg"><code><span class="code-comment">     * Implementation description:
</span></code></td></tr><tr><td id="L1500" class="css-a4x74f"><span>1500</span></td><td id="LC1500" class="css-1dcdqdg"><code><span class="code-comment">     * 1. First time it's being accessed it will compute and remember result
</span></code></td></tr><tr><td id="L1501" class="css-a4x74f"><span>1501</span></td><td id="LC1501" class="css-1dcdqdg"><code><span class="code-comment">     *    give back remembered result until 2. happens
</span></code></td></tr><tr><td id="L1502" class="css-a4x74f"><span>1502</span></td><td id="LC1502" class="css-1dcdqdg"><code><span class="code-comment">     * 2. First time any deep dependency change, propagate POSSIBLY_STALE to all observers, wait for 3.
</span></code></td></tr><tr><td id="L1503" class="css-a4x74f"><span>1503</span></td><td id="LC1503" class="css-1dcdqdg"><code><span class="code-comment">     * 3. When it's being accessed, recompute if any shallow dependency changed.
</span></code></td></tr><tr><td id="L1504" class="css-a4x74f"><span>1504</span></td><td id="LC1504" class="css-1dcdqdg"><code><span class="code-comment">     *    if result changed: propagate STALE to all observers, that were POSSIBLY_STALE from the last step.
</span></code></td></tr><tr><td id="L1505" class="css-a4x74f"><span>1505</span></td><td id="LC1505" class="css-1dcdqdg"><code><span class="code-comment">     *    go to step 2. either way
</span></code></td></tr><tr><td id="L1506" class="css-a4x74f"><span>1506</span></td><td id="LC1506" class="css-1dcdqdg"><code><span class="code-comment">     *
</span></code></td></tr><tr><td id="L1507" class="css-a4x74f"><span>1507</span></td><td id="LC1507" class="css-1dcdqdg"><code><span class="code-comment">     * If at any point it's outside batch and it isn't observed: reset everything and go to 1.
</span></code></td></tr><tr><td id="L1508" class="css-a4x74f"><span>1508</span></td><td id="LC1508" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L1509" class="css-a4x74f"><span>1509</span></td><td id="LC1509" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> ComputedValue = <span class="code-comment">/*#__PURE__*/</span><span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1510" class="css-a4x74f"><span>1510</span></td><td id="LC1510" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L1511" class="css-a4x74f"><span>1511</span></td><td id="LC1511" class="css-1dcdqdg"><code><span class="code-comment">       * Create a new computed value based on a function expression.
</span></code></td></tr><tr><td id="L1512" class="css-a4x74f"><span>1512</span></td><td id="LC1512" class="css-1dcdqdg"><code><span class="code-comment">       *
</span></code></td></tr><tr><td id="L1513" class="css-a4x74f"><span>1513</span></td><td id="LC1513" class="css-1dcdqdg"><code><span class="code-comment">       * The `name` property is for debug purposes only.
</span></code></td></tr><tr><td id="L1514" class="css-a4x74f"><span>1514</span></td><td id="LC1514" class="css-1dcdqdg"><code><span class="code-comment">       *
</span></code></td></tr><tr><td id="L1515" class="css-a4x74f"><span>1515</span></td><td id="LC1515" class="css-1dcdqdg"><code><span class="code-comment">       * The `equals` property specifies the comparer function to use to determine if a newly produced
</span></code></td></tr><tr><td id="L1516" class="css-a4x74f"><span>1516</span></td><td id="LC1516" class="css-1dcdqdg"><code><span class="code-comment">       * value differs from the previous value. Two comparers are provided in the library; `defaultComparer`
</span></code></td></tr><tr><td id="L1517" class="css-a4x74f"><span>1517</span></td><td id="LC1517" class="css-1dcdqdg"><code><span class="code-comment">       * compares based on identity comparison (===), and `structuralComparer` deeply compares the structure.
</span></code></td></tr><tr><td id="L1518" class="css-a4x74f"><span>1518</span></td><td id="LC1518" class="css-1dcdqdg"><code><span class="code-comment">       * Structural comparison can be convenient if you always produce a new aggregated object and
</span></code></td></tr><tr><td id="L1519" class="css-a4x74f"><span>1519</span></td><td id="LC1519" class="css-1dcdqdg"><code><span class="code-comment">       * don't want to notify observers if it is structurally the same.
</span></code></td></tr><tr><td id="L1520" class="css-a4x74f"><span>1520</span></td><td id="LC1520" class="css-1dcdqdg"><code><span class="code-comment">       * This is useful for working with vectors, mouse coordinates etc.
</span></code></td></tr><tr><td id="L1521" class="css-a4x74f"><span>1521</span></td><td id="LC1521" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L1522" class="css-a4x74f"><span>1522</span></td><td id="LC1522" class="css-1dcdqdg"><code>      <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ComputedValue</span>(<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L1523" class="css-a4x74f"><span>1523</span></td><td id="LC1523" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.dependenciesState_ = IDerivationState_.NOT_TRACKING_;
</code></td></tr><tr><td id="L1524" class="css-a4x74f"><span>1524</span></td><td id="LC1524" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.observing_ = [];
</code></td></tr><tr><td id="L1525" class="css-a4x74f"><span>1525</span></td><td id="LC1525" class="css-1dcdqdg"><code>        <span class="code-comment">// nodes we are looking at. Our value depends on these nodes</span>
</code></td></tr><tr><td id="L1526" class="css-a4x74f"><span>1526</span></td><td id="LC1526" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.newObserving_ = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L1527" class="css-a4x74f"><span>1527</span></td><td id="LC1527" class="css-1dcdqdg"><code>        <span class="code-comment">// during tracking it's an array with new observed observers</span>
</code></td></tr><tr><td id="L1528" class="css-a4x74f"><span>1528</span></td><td id="LC1528" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.observers_ = <span class="code-keyword">new</span> <span class="code-built_in">Set</span>();
</code></td></tr><tr><td id="L1529" class="css-a4x74f"><span>1529</span></td><td id="LC1529" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.runId_ = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1530" class="css-a4x74f"><span>1530</span></td><td id="LC1530" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.lastAccessedBy_ = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1531" class="css-a4x74f"><span>1531</span></td><td id="LC1531" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.lowestObserverState_ = IDerivationState_.UP_TO_DATE_;
</code></td></tr><tr><td id="L1532" class="css-a4x74f"><span>1532</span></td><td id="LC1532" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.unboundDepsCount_ = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1533" class="css-a4x74f"><span>1533</span></td><td id="LC1533" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.value_ = <span class="code-keyword">new</span> CaughtException(<span class="code-literal">null</span>);
</code></td></tr><tr><td id="L1534" class="css-a4x74f"><span>1534</span></td><td id="LC1534" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.name_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1535" class="css-a4x74f"><span>1535</span></td><td id="LC1535" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.triggeredBy_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1536" class="css-a4x74f"><span>1536</span></td><td id="LC1536" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.flags_ = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1537" class="css-a4x74f"><span>1537</span></td><td id="LC1537" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.derivation = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1538" class="css-a4x74f"><span>1538</span></td><td id="LC1538" class="css-1dcdqdg"><code>        <span class="code-comment">// N.B: unminified as it is used by MST</span>
</code></td></tr><tr><td id="L1539" class="css-a4x74f"><span>1539</span></td><td id="LC1539" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.setter_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1540" class="css-a4x74f"><span>1540</span></td><td id="LC1540" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.isTracing_ = TraceMode.NONE;
</code></td></tr><tr><td id="L1541" class="css-a4x74f"><span>1541</span></td><td id="LC1541" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.scope_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1542" class="css-a4x74f"><span>1542</span></td><td id="LC1542" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.equals_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1543" class="css-a4x74f"><span>1543</span></td><td id="LC1543" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.requiresReaction_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1544" class="css-a4x74f"><span>1544</span></td><td id="LC1544" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.keepAlive_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1545" class="css-a4x74f"><span>1545</span></td><td id="LC1545" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.onBOL = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1546" class="css-a4x74f"><span>1546</span></td><td id="LC1546" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.onBUOL = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1547" class="css-a4x74f"><span>1547</span></td><td id="LC1547" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!options.get) {
</code></td></tr><tr><td id="L1548" class="css-a4x74f"><span>1548</span></td><td id="LC1548" class="css-1dcdqdg"><code>          die(<span class="code-number">31</span>);
</code></td></tr><tr><td id="L1549" class="css-a4x74f"><span>1549</span></td><td id="LC1549" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1550" class="css-a4x74f"><span>1550</span></td><td id="LC1550" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.derivation = options.get;
</code></td></tr><tr><td id="L1551" class="css-a4x74f"><span>1551</span></td><td id="LC1551" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.name_ = options.name || ( <span class="code-string">"ComputedValue@"</span> + getNextId() );
</code></td></tr><tr><td id="L1552" class="css-a4x74f"><span>1552</span></td><td id="LC1552" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (options.set) {
</code></td></tr><tr><td id="L1553" class="css-a4x74f"><span>1553</span></td><td id="LC1553" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.setter_ = createAction( <span class="code-keyword">this</span>.name_ + <span class="code-string">"-setter"</span> , options.set);
</code></td></tr><tr><td id="L1554" class="css-a4x74f"><span>1554</span></td><td id="LC1554" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1555" class="css-a4x74f"><span>1555</span></td><td id="LC1555" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.equals_ = options.equals || (options.compareStructural || options.struct ? comparer.structural : comparer[<span class="code-string">"default"</span>]);
</code></td></tr><tr><td id="L1556" class="css-a4x74f"><span>1556</span></td><td id="LC1556" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.scope_ = options.context;
</code></td></tr><tr><td id="L1557" class="css-a4x74f"><span>1557</span></td><td id="LC1557" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.requiresReaction_ = options.requiresReaction;
</code></td></tr><tr><td id="L1558" class="css-a4x74f"><span>1558</span></td><td id="LC1558" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.keepAlive_ = !!options.keepAlive;
</code></td></tr><tr><td id="L1559" class="css-a4x74f"><span>1559</span></td><td id="LC1559" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1560" class="css-a4x74f"><span>1560</span></td><td id="LC1560" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _proto = ComputedValue.prototype;
</code></td></tr><tr><td id="L1561" class="css-a4x74f"><span>1561</span></td><td id="LC1561" class="css-1dcdqdg"><code>      _proto.onBecomeStale_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">onBecomeStale_</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1562" class="css-a4x74f"><span>1562</span></td><td id="LC1562" class="css-1dcdqdg"><code>        propagateMaybeChanged(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L1563" class="css-a4x74f"><span>1563</span></td><td id="LC1563" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1564" class="css-a4x74f"><span>1564</span></td><td id="LC1564" class="css-1dcdqdg"><code>      _proto.onBO = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">onBO</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1565" class="css-a4x74f"><span>1565</span></td><td id="LC1565" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.onBOL) {
</code></td></tr><tr><td id="L1566" class="css-a4x74f"><span>1566</span></td><td id="LC1566" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.onBOL.forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">listener</span>) </span>{
</code></td></tr><tr><td id="L1567" class="css-a4x74f"><span>1567</span></td><td id="LC1567" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> listener();
</code></td></tr><tr><td id="L1568" class="css-a4x74f"><span>1568</span></td><td id="LC1568" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L1569" class="css-a4x74f"><span>1569</span></td><td id="LC1569" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1570" class="css-a4x74f"><span>1570</span></td><td id="LC1570" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1571" class="css-a4x74f"><span>1571</span></td><td id="LC1571" class="css-1dcdqdg"><code>      _proto.onBUO = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">onBUO</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1572" class="css-a4x74f"><span>1572</span></td><td id="LC1572" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.onBUOL) {
</code></td></tr><tr><td id="L1573" class="css-a4x74f"><span>1573</span></td><td id="LC1573" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.onBUOL.forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">listener</span>) </span>{
</code></td></tr><tr><td id="L1574" class="css-a4x74f"><span>1574</span></td><td id="LC1574" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> listener();
</code></td></tr><tr><td id="L1575" class="css-a4x74f"><span>1575</span></td><td id="LC1575" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L1576" class="css-a4x74f"><span>1576</span></td><td id="LC1576" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1577" class="css-a4x74f"><span>1577</span></td><td id="LC1577" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1578" class="css-a4x74f"><span>1578</span></td><td id="LC1578" class="css-1dcdqdg"><code>      <span class="code-comment">// to check for cycles</span>
</code></td></tr><tr><td id="L1579" class="css-a4x74f"><span>1579</span></td><td id="LC1579" class="css-1dcdqdg"><code>      ;
</code></td></tr><tr><td id="L1580" class="css-a4x74f"><span>1580</span></td><td id="LC1580" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L1581" class="css-a4x74f"><span>1581</span></td><td id="LC1581" class="css-1dcdqdg"><code><span class="code-comment">       * Returns the current value of this computed value.
</span></code></td></tr><tr><td id="L1582" class="css-a4x74f"><span>1582</span></td><td id="LC1582" class="css-1dcdqdg"><code><span class="code-comment">       * Will evaluate its computation first if needed.
</span></code></td></tr><tr><td id="L1583" class="css-a4x74f"><span>1583</span></td><td id="LC1583" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L1584" class="css-a4x74f"><span>1584</span></td><td id="LC1584" class="css-1dcdqdg"><code>      _proto.get = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">get</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1585" class="css-a4x74f"><span>1585</span></td><td id="LC1585" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.isComputing) {
</code></td></tr><tr><td id="L1586" class="css-a4x74f"><span>1586</span></td><td id="LC1586" class="css-1dcdqdg"><code>          die(<span class="code-number">32</span>, <span class="code-keyword">this</span>.name_, <span class="code-keyword">this</span>.derivation);
</code></td></tr><tr><td id="L1587" class="css-a4x74f"><span>1587</span></td><td id="LC1587" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1588" class="css-a4x74f"><span>1588</span></td><td id="LC1588" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (globalState.inBatch === <span class="code-number">0</span> &amp;&amp;
</code></td></tr><tr><td id="L1589" class="css-a4x74f"><span>1589</span></td><td id="LC1589" class="css-1dcdqdg"><code>        <span class="code-comment">// !globalState.trackingDerivatpion &amp;&amp;</span>
</code></td></tr><tr><td id="L1590" class="css-a4x74f"><span>1590</span></td><td id="LC1590" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.observers_.size === <span class="code-number">0</span> &amp;&amp; !<span class="code-keyword">this</span>.keepAlive_) {
</code></td></tr><tr><td id="L1591" class="css-a4x74f"><span>1591</span></td><td id="LC1591" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (shouldCompute(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L1592" class="css-a4x74f"><span>1592</span></td><td id="LC1592" class="css-1dcdqdg"><code>            <span class="code-keyword">this</span>.warnAboutUntrackedRead_();
</code></td></tr><tr><td id="L1593" class="css-a4x74f"><span>1593</span></td><td id="LC1593" class="css-1dcdqdg"><code>            startBatch(); <span class="code-comment">// See perf test 'computed memoization'</span>
</code></td></tr><tr><td id="L1594" class="css-a4x74f"><span>1594</span></td><td id="LC1594" class="css-1dcdqdg"><code>            <span class="code-keyword">this</span>.value_ = <span class="code-keyword">this</span>.computeValue_(<span class="code-literal">false</span>);
</code></td></tr><tr><td id="L1595" class="css-a4x74f"><span>1595</span></td><td id="LC1595" class="css-1dcdqdg"><code>            endBatch();
</code></td></tr><tr><td id="L1596" class="css-a4x74f"><span>1596</span></td><td id="LC1596" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L1597" class="css-a4x74f"><span>1597</span></td><td id="LC1597" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L1598" class="css-a4x74f"><span>1598</span></td><td id="LC1598" class="css-1dcdqdg"><code>          reportObserved(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L1599" class="css-a4x74f"><span>1599</span></td><td id="LC1599" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (shouldCompute(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L1600" class="css-a4x74f"><span>1600</span></td><td id="LC1600" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> prevTrackingContext = globalState.trackingContext;
</code></td></tr><tr><td id="L1601" class="css-a4x74f"><span>1601</span></td><td id="LC1601" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.keepAlive_ &amp;&amp; !prevTrackingContext) {
</code></td></tr><tr><td id="L1602" class="css-a4x74f"><span>1602</span></td><td id="LC1602" class="css-1dcdqdg"><code>              globalState.trackingContext = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L1603" class="css-a4x74f"><span>1603</span></td><td id="LC1603" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L1604" class="css-a4x74f"><span>1604</span></td><td id="LC1604" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.trackAndCompute()) {
</code></td></tr><tr><td id="L1605" class="css-a4x74f"><span>1605</span></td><td id="LC1605" class="css-1dcdqdg"><code>              propagateChangeConfirmed(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L1606" class="css-a4x74f"><span>1606</span></td><td id="LC1606" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L1607" class="css-a4x74f"><span>1607</span></td><td id="LC1607" class="css-1dcdqdg"><code>            globalState.trackingContext = prevTrackingContext;
</code></td></tr><tr><td id="L1608" class="css-a4x74f"><span>1608</span></td><td id="LC1608" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L1609" class="css-a4x74f"><span>1609</span></td><td id="LC1609" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1610" class="css-a4x74f"><span>1610</span></td><td id="LC1610" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> result = <span class="code-keyword">this</span>.value_;
</code></td></tr><tr><td id="L1611" class="css-a4x74f"><span>1611</span></td><td id="LC1611" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isCaughtException(result)) {
</code></td></tr><tr><td id="L1612" class="css-a4x74f"><span>1612</span></td><td id="LC1612" class="css-1dcdqdg"><code>          <span class="code-keyword">throw</span> result.cause;
</code></td></tr><tr><td id="L1613" class="css-a4x74f"><span>1613</span></td><td id="LC1613" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1614" class="css-a4x74f"><span>1614</span></td><td id="LC1614" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> result;
</code></td></tr><tr><td id="L1615" class="css-a4x74f"><span>1615</span></td><td id="LC1615" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1616" class="css-a4x74f"><span>1616</span></td><td id="LC1616" class="css-1dcdqdg"><code>      _proto.set = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">set</span>(<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L1617" class="css-a4x74f"><span>1617</span></td><td id="LC1617" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.setter_) {
</code></td></tr><tr><td id="L1618" class="css-a4x74f"><span>1618</span></td><td id="LC1618" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.isRunningSetter) {
</code></td></tr><tr><td id="L1619" class="css-a4x74f"><span>1619</span></td><td id="LC1619" class="css-1dcdqdg"><code>            die(<span class="code-number">33</span>, <span class="code-keyword">this</span>.name_);
</code></td></tr><tr><td id="L1620" class="css-a4x74f"><span>1620</span></td><td id="LC1620" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L1621" class="css-a4x74f"><span>1621</span></td><td id="LC1621" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.isRunningSetter = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L1622" class="css-a4x74f"><span>1622</span></td><td id="LC1622" class="css-1dcdqdg"><code>          <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L1623" class="css-a4x74f"><span>1623</span></td><td id="LC1623" class="css-1dcdqdg"><code>            <span class="code-keyword">this</span>.setter_.call(<span class="code-keyword">this</span>.scope_, value);
</code></td></tr><tr><td id="L1624" class="css-a4x74f"><span>1624</span></td><td id="LC1624" class="css-1dcdqdg"><code>          } <span class="code-keyword">finally</span> {
</code></td></tr><tr><td id="L1625" class="css-a4x74f"><span>1625</span></td><td id="LC1625" class="css-1dcdqdg"><code>            <span class="code-keyword">this</span>.isRunningSetter = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L1626" class="css-a4x74f"><span>1626</span></td><td id="LC1626" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L1627" class="css-a4x74f"><span>1627</span></td><td id="LC1627" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L1628" class="css-a4x74f"><span>1628</span></td><td id="LC1628" class="css-1dcdqdg"><code>          die(<span class="code-number">34</span>, <span class="code-keyword">this</span>.name_);
</code></td></tr><tr><td id="L1629" class="css-a4x74f"><span>1629</span></td><td id="LC1629" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1630" class="css-a4x74f"><span>1630</span></td><td id="LC1630" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1631" class="css-a4x74f"><span>1631</span></td><td id="LC1631" class="css-1dcdqdg"><code>      _proto.trackAndCompute = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">trackAndCompute</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1632" class="css-a4x74f"><span>1632</span></td><td id="LC1632" class="css-1dcdqdg"><code>        <span class="code-comment">// N.B: unminified as it is used by MST</span>
</code></td></tr><tr><td id="L1633" class="css-a4x74f"><span>1633</span></td><td id="LC1633" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> oldValue = <span class="code-keyword">this</span>.value_;
</code></td></tr><tr><td id="L1634" class="css-a4x74f"><span>1634</span></td><td id="LC1634" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> wasSuspended = <span class="code-comment">/* see #1208 */</span><span class="code-keyword">this</span>.dependenciesState_ === IDerivationState_.NOT_TRACKING_;
</code></td></tr><tr><td id="L1635" class="css-a4x74f"><span>1635</span></td><td id="LC1635" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> newValue = <span class="code-keyword">this</span>.computeValue_(<span class="code-literal">true</span>);
</code></td></tr><tr><td id="L1636" class="css-a4x74f"><span>1636</span></td><td id="LC1636" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> changed = wasSuspended || isCaughtException(oldValue) || isCaughtException(newValue) || !<span class="code-keyword">this</span>.equals_(oldValue, newValue);
</code></td></tr><tr><td id="L1637" class="css-a4x74f"><span>1637</span></td><td id="LC1637" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (changed) {
</code></td></tr><tr><td id="L1638" class="css-a4x74f"><span>1638</span></td><td id="LC1638" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.value_ = newValue;
</code></td></tr><tr><td id="L1639" class="css-a4x74f"><span>1639</span></td><td id="LC1639" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> ( isSpyEnabled()) {
</code></td></tr><tr><td id="L1640" class="css-a4x74f"><span>1640</span></td><td id="LC1640" class="css-1dcdqdg"><code>            spyReport({
</code></td></tr><tr><td id="L1641" class="css-a4x74f"><span>1641</span></td><td id="LC1641" class="css-1dcdqdg"><code>              observableKind: <span class="code-string">"computed"</span>,
</code></td></tr><tr><td id="L1642" class="css-a4x74f"><span>1642</span></td><td id="LC1642" class="css-1dcdqdg"><code>              debugObjectName: <span class="code-keyword">this</span>.name_,
</code></td></tr><tr><td id="L1643" class="css-a4x74f"><span>1643</span></td><td id="LC1643" class="css-1dcdqdg"><code>              object: <span class="code-keyword">this</span>.scope_,
</code></td></tr><tr><td id="L1644" class="css-a4x74f"><span>1644</span></td><td id="LC1644" class="css-1dcdqdg"><code>              type: <span class="code-string">"update"</span>,
</code></td></tr><tr><td id="L1645" class="css-a4x74f"><span>1645</span></td><td id="LC1645" class="css-1dcdqdg"><code>              oldValue: oldValue,
</code></td></tr><tr><td id="L1646" class="css-a4x74f"><span>1646</span></td><td id="LC1646" class="css-1dcdqdg"><code>              newValue: newValue
</code></td></tr><tr><td id="L1647" class="css-a4x74f"><span>1647</span></td><td id="LC1647" class="css-1dcdqdg"><code>            });
</code></td></tr><tr><td id="L1648" class="css-a4x74f"><span>1648</span></td><td id="LC1648" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L1649" class="css-a4x74f"><span>1649</span></td><td id="LC1649" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1650" class="css-a4x74f"><span>1650</span></td><td id="LC1650" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> changed;
</code></td></tr><tr><td id="L1651" class="css-a4x74f"><span>1651</span></td><td id="LC1651" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1652" class="css-a4x74f"><span>1652</span></td><td id="LC1652" class="css-1dcdqdg"><code>      _proto.computeValue_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">computeValue_</span>(<span class="code-params">track</span>) </span>{
</code></td></tr><tr><td id="L1653" class="css-a4x74f"><span>1653</span></td><td id="LC1653" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.isComputing = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L1654" class="css-a4x74f"><span>1654</span></td><td id="LC1654" class="css-1dcdqdg"><code>        <span class="code-comment">// don't allow state changes during computation</span>
</code></td></tr><tr><td id="L1655" class="css-a4x74f"><span>1655</span></td><td id="LC1655" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> prev = allowStateChangesStart(<span class="code-literal">false</span>);
</code></td></tr><tr><td id="L1656" class="css-a4x74f"><span>1656</span></td><td id="LC1656" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> res;
</code></td></tr><tr><td id="L1657" class="css-a4x74f"><span>1657</span></td><td id="LC1657" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (track) {
</code></td></tr><tr><td id="L1658" class="css-a4x74f"><span>1658</span></td><td id="LC1658" class="css-1dcdqdg"><code>          res = trackDerivedFunction(<span class="code-keyword">this</span>, <span class="code-keyword">this</span>.derivation, <span class="code-keyword">this</span>.scope_);
</code></td></tr><tr><td id="L1659" class="css-a4x74f"><span>1659</span></td><td id="LC1659" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L1660" class="css-a4x74f"><span>1660</span></td><td id="LC1660" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (globalState.disableErrorBoundaries === <span class="code-literal">true</span>) {
</code></td></tr><tr><td id="L1661" class="css-a4x74f"><span>1661</span></td><td id="LC1661" class="css-1dcdqdg"><code>            res = <span class="code-keyword">this</span>.derivation.call(<span class="code-keyword">this</span>.scope_);
</code></td></tr><tr><td id="L1662" class="css-a4x74f"><span>1662</span></td><td id="LC1662" class="css-1dcdqdg"><code>          } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L1663" class="css-a4x74f"><span>1663</span></td><td id="LC1663" class="css-1dcdqdg"><code>            <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L1664" class="css-a4x74f"><span>1664</span></td><td id="LC1664" class="css-1dcdqdg"><code>              res = <span class="code-keyword">this</span>.derivation.call(<span class="code-keyword">this</span>.scope_);
</code></td></tr><tr><td id="L1665" class="css-a4x74f"><span>1665</span></td><td id="LC1665" class="css-1dcdqdg"><code>            } <span class="code-keyword">catch</span> (e) {
</code></td></tr><tr><td id="L1666" class="css-a4x74f"><span>1666</span></td><td id="LC1666" class="css-1dcdqdg"><code>              res = <span class="code-keyword">new</span> CaughtException(e);
</code></td></tr><tr><td id="L1667" class="css-a4x74f"><span>1667</span></td><td id="LC1667" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L1668" class="css-a4x74f"><span>1668</span></td><td id="LC1668" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L1669" class="css-a4x74f"><span>1669</span></td><td id="LC1669" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1670" class="css-a4x74f"><span>1670</span></td><td id="LC1670" class="css-1dcdqdg"><code>        allowStateChangesEnd(prev);
</code></td></tr><tr><td id="L1671" class="css-a4x74f"><span>1671</span></td><td id="LC1671" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.isComputing = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L1672" class="css-a4x74f"><span>1672</span></td><td id="LC1672" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> res;
</code></td></tr><tr><td id="L1673" class="css-a4x74f"><span>1673</span></td><td id="LC1673" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1674" class="css-a4x74f"><span>1674</span></td><td id="LC1674" class="css-1dcdqdg"><code>      _proto.suspend_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">suspend_</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1675" class="css-a4x74f"><span>1675</span></td><td id="LC1675" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.keepAlive_) {
</code></td></tr><tr><td id="L1676" class="css-a4x74f"><span>1676</span></td><td id="LC1676" class="css-1dcdqdg"><code>          clearObserving(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L1677" class="css-a4x74f"><span>1677</span></td><td id="LC1677" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.value_ = <span class="code-literal">undefined</span>; <span class="code-comment">// don't hold on to computed value!</span>
</code></td></tr><tr><td id="L1678" class="css-a4x74f"><span>1678</span></td><td id="LC1678" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> ( <span class="code-keyword">this</span>.isTracing_ !== TraceMode.NONE) {
</code></td></tr><tr><td id="L1679" class="css-a4x74f"><span>1679</span></td><td id="LC1679" class="css-1dcdqdg"><code>            <span class="code-built_in">console</span>.log(<span class="code-string">"[mobx.trace] Computed value '"</span> + <span class="code-keyword">this</span>.name_ + <span class="code-string">"' was suspended and it will recompute on the next access."</span>);
</code></td></tr><tr><td id="L1680" class="css-a4x74f"><span>1680</span></td><td id="LC1680" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L1681" class="css-a4x74f"><span>1681</span></td><td id="LC1681" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1682" class="css-a4x74f"><span>1682</span></td><td id="LC1682" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1683" class="css-a4x74f"><span>1683</span></td><td id="LC1683" class="css-1dcdqdg"><code>      _proto.observe_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">observe_</span>(<span class="code-params">listener, fireImmediately</span>) </span>{
</code></td></tr><tr><td id="L1684" class="css-a4x74f"><span>1684</span></td><td id="LC1684" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L1685" class="css-a4x74f"><span>1685</span></td><td id="LC1685" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> firstTime = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L1686" class="css-a4x74f"><span>1686</span></td><td id="LC1686" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> prevValue = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L1687" class="css-a4x74f"><span>1687</span></td><td id="LC1687" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> autorun(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1688" class="css-a4x74f"><span>1688</span></td><td id="LC1688" class="css-1dcdqdg"><code>          <span class="code-comment">// <span class="code-doctag">TODO:</span> why is this in a different place than the spyReport() function? in all other observables it's called in the same place</span>
</code></td></tr><tr><td id="L1689" class="css-a4x74f"><span>1689</span></td><td id="LC1689" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> newValue = _this.get();
</code></td></tr><tr><td id="L1690" class="css-a4x74f"><span>1690</span></td><td id="LC1690" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!firstTime || fireImmediately) {
</code></td></tr><tr><td id="L1691" class="css-a4x74f"><span>1691</span></td><td id="LC1691" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> prevU = untrackedStart();
</code></td></tr><tr><td id="L1692" class="css-a4x74f"><span>1692</span></td><td id="LC1692" class="css-1dcdqdg"><code>            listener({
</code></td></tr><tr><td id="L1693" class="css-a4x74f"><span>1693</span></td><td id="LC1693" class="css-1dcdqdg"><code>              observableKind: <span class="code-string">"computed"</span>,
</code></td></tr><tr><td id="L1694" class="css-a4x74f"><span>1694</span></td><td id="LC1694" class="css-1dcdqdg"><code>              debugObjectName: _this.name_,
</code></td></tr><tr><td id="L1695" class="css-a4x74f"><span>1695</span></td><td id="LC1695" class="css-1dcdqdg"><code>              type: UPDATE,
</code></td></tr><tr><td id="L1696" class="css-a4x74f"><span>1696</span></td><td id="LC1696" class="css-1dcdqdg"><code>              object: _this,
</code></td></tr><tr><td id="L1697" class="css-a4x74f"><span>1697</span></td><td id="LC1697" class="css-1dcdqdg"><code>              newValue: newValue,
</code></td></tr><tr><td id="L1698" class="css-a4x74f"><span>1698</span></td><td id="LC1698" class="css-1dcdqdg"><code>              oldValue: prevValue
</code></td></tr><tr><td id="L1699" class="css-a4x74f"><span>1699</span></td><td id="LC1699" class="css-1dcdqdg"><code>            });
</code></td></tr><tr><td id="L1700" class="css-a4x74f"><span>1700</span></td><td id="LC1700" class="css-1dcdqdg"><code>            untrackedEnd(prevU);
</code></td></tr><tr><td id="L1701" class="css-a4x74f"><span>1701</span></td><td id="LC1701" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L1702" class="css-a4x74f"><span>1702</span></td><td id="LC1702" class="css-1dcdqdg"><code>          firstTime = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L1703" class="css-a4x74f"><span>1703</span></td><td id="LC1703" class="css-1dcdqdg"><code>          prevValue = newValue;
</code></td></tr><tr><td id="L1704" class="css-a4x74f"><span>1704</span></td><td id="LC1704" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L1705" class="css-a4x74f"><span>1705</span></td><td id="LC1705" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1706" class="css-a4x74f"><span>1706</span></td><td id="LC1706" class="css-1dcdqdg"><code>      _proto.warnAboutUntrackedRead_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">warnAboutUntrackedRead_</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1707" class="css-a4x74f"><span>1707</span></td><td id="LC1707" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.isTracing_ !== TraceMode.NONE) {
</code></td></tr><tr><td id="L1708" class="css-a4x74f"><span>1708</span></td><td id="LC1708" class="css-1dcdqdg"><code>          <span class="code-built_in">console</span>.log(<span class="code-string">"[mobx.trace] Computed value '"</span> + <span class="code-keyword">this</span>.name_ + <span class="code-string">"' is being read outside a reactive context. Doing a full recompute."</span>);
</code></td></tr><tr><td id="L1709" class="css-a4x74f"><span>1709</span></td><td id="LC1709" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1710" class="css-a4x74f"><span>1710</span></td><td id="LC1710" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.requiresReaction_ === <span class="code-string">"boolean"</span> ? <span class="code-keyword">this</span>.requiresReaction_ : globalState.computedRequiresReaction) {
</code></td></tr><tr><td id="L1711" class="css-a4x74f"><span>1711</span></td><td id="LC1711" class="css-1dcdqdg"><code>          <span class="code-built_in">console</span>.warn(<span class="code-string">"[mobx] Computed value '"</span> + <span class="code-keyword">this</span>.name_ + <span class="code-string">"' is being read outside a reactive context. Doing a full recompute."</span>);
</code></td></tr><tr><td id="L1712" class="css-a4x74f"><span>1712</span></td><td id="LC1712" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1713" class="css-a4x74f"><span>1713</span></td><td id="LC1713" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1714" class="css-a4x74f"><span>1714</span></td><td id="LC1714" class="css-1dcdqdg"><code>      _proto.toString = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toString</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1715" class="css-a4x74f"><span>1715</span></td><td id="LC1715" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.name_ + <span class="code-string">"["</span> + <span class="code-keyword">this</span>.derivation.toString() + <span class="code-string">"]"</span>;
</code></td></tr><tr><td id="L1716" class="css-a4x74f"><span>1716</span></td><td id="LC1716" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1717" class="css-a4x74f"><span>1717</span></td><td id="LC1717" class="css-1dcdqdg"><code>      _proto.valueOf = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">valueOf</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1718" class="css-a4x74f"><span>1718</span></td><td id="LC1718" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> toPrimitive(<span class="code-keyword">this</span>.get());
</code></td></tr><tr><td id="L1719" class="css-a4x74f"><span>1719</span></td><td id="LC1719" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1720" class="css-a4x74f"><span>1720</span></td><td id="LC1720" class="css-1dcdqdg"><code>      _proto[<span class="code-built_in">Symbol</span>.toPrimitive] = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1721" class="css-a4x74f"><span>1721</span></td><td id="LC1721" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.valueOf();
</code></td></tr><tr><td id="L1722" class="css-a4x74f"><span>1722</span></td><td id="LC1722" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L1723" class="css-a4x74f"><span>1723</span></td><td id="LC1723" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> _createClass(ComputedValue, [{
</code></td></tr><tr><td id="L1724" class="css-a4x74f"><span>1724</span></td><td id="LC1724" class="css-1dcdqdg"><code>        key: <span class="code-string">"isComputing"</span>,
</code></td></tr><tr><td id="L1725" class="css-a4x74f"><span>1725</span></td><td id="LC1725" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L1726" class="css-a4x74f"><span>1726</span></td><td id="LC1726" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> getFlag(<span class="code-keyword">this</span>.flags_, ComputedValue.isComputingMask_);
</code></td></tr><tr><td id="L1727" class="css-a4x74f"><span>1727</span></td><td id="LC1727" class="css-1dcdqdg"><code>        },
</code></td></tr><tr><td id="L1728" class="css-a4x74f"><span>1728</span></td><td id="LC1728" class="css-1dcdqdg"><code>        <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(newValue) {
</code></td></tr><tr><td id="L1729" class="css-a4x74f"><span>1729</span></td><td id="LC1729" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.flags_ = setFlag(<span class="code-keyword">this</span>.flags_, ComputedValue.isComputingMask_, newValue);
</code></td></tr><tr><td id="L1730" class="css-a4x74f"><span>1730</span></td><td id="LC1730" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1731" class="css-a4x74f"><span>1731</span></td><td id="LC1731" class="css-1dcdqdg"><code>      }, {
</code></td></tr><tr><td id="L1732" class="css-a4x74f"><span>1732</span></td><td id="LC1732" class="css-1dcdqdg"><code>        key: <span class="code-string">"isRunningSetter"</span>,
</code></td></tr><tr><td id="L1733" class="css-a4x74f"><span>1733</span></td><td id="LC1733" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L1734" class="css-a4x74f"><span>1734</span></td><td id="LC1734" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> getFlag(<span class="code-keyword">this</span>.flags_, ComputedValue.isRunningSetterMask_);
</code></td></tr><tr><td id="L1735" class="css-a4x74f"><span>1735</span></td><td id="LC1735" class="css-1dcdqdg"><code>        },
</code></td></tr><tr><td id="L1736" class="css-a4x74f"><span>1736</span></td><td id="LC1736" class="css-1dcdqdg"><code>        <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(newValue) {
</code></td></tr><tr><td id="L1737" class="css-a4x74f"><span>1737</span></td><td id="LC1737" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.flags_ = setFlag(<span class="code-keyword">this</span>.flags_, ComputedValue.isRunningSetterMask_, newValue);
</code></td></tr><tr><td id="L1738" class="css-a4x74f"><span>1738</span></td><td id="LC1738" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1739" class="css-a4x74f"><span>1739</span></td><td id="LC1739" class="css-1dcdqdg"><code>      }, {
</code></td></tr><tr><td id="L1740" class="css-a4x74f"><span>1740</span></td><td id="LC1740" class="css-1dcdqdg"><code>        key: <span class="code-string">"isBeingObserved"</span>,
</code></td></tr><tr><td id="L1741" class="css-a4x74f"><span>1741</span></td><td id="LC1741" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L1742" class="css-a4x74f"><span>1742</span></td><td id="LC1742" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> getFlag(<span class="code-keyword">this</span>.flags_, ComputedValue.isBeingObservedMask_);
</code></td></tr><tr><td id="L1743" class="css-a4x74f"><span>1743</span></td><td id="LC1743" class="css-1dcdqdg"><code>        },
</code></td></tr><tr><td id="L1744" class="css-a4x74f"><span>1744</span></td><td id="LC1744" class="css-1dcdqdg"><code>        <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(newValue) {
</code></td></tr><tr><td id="L1745" class="css-a4x74f"><span>1745</span></td><td id="LC1745" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.flags_ = setFlag(<span class="code-keyword">this</span>.flags_, ComputedValue.isBeingObservedMask_, newValue);
</code></td></tr><tr><td id="L1746" class="css-a4x74f"><span>1746</span></td><td id="LC1746" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1747" class="css-a4x74f"><span>1747</span></td><td id="LC1747" class="css-1dcdqdg"><code>      }, {
</code></td></tr><tr><td id="L1748" class="css-a4x74f"><span>1748</span></td><td id="LC1748" class="css-1dcdqdg"><code>        key: <span class="code-string">"isPendingUnobservation"</span>,
</code></td></tr><tr><td id="L1749" class="css-a4x74f"><span>1749</span></td><td id="LC1749" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L1750" class="css-a4x74f"><span>1750</span></td><td id="LC1750" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> getFlag(<span class="code-keyword">this</span>.flags_, ComputedValue.isPendingUnobservationMask_);
</code></td></tr><tr><td id="L1751" class="css-a4x74f"><span>1751</span></td><td id="LC1751" class="css-1dcdqdg"><code>        },
</code></td></tr><tr><td id="L1752" class="css-a4x74f"><span>1752</span></td><td id="LC1752" class="css-1dcdqdg"><code>        <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(newValue) {
</code></td></tr><tr><td id="L1753" class="css-a4x74f"><span>1753</span></td><td id="LC1753" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.flags_ = setFlag(<span class="code-keyword">this</span>.flags_, ComputedValue.isPendingUnobservationMask_, newValue);
</code></td></tr><tr><td id="L1754" class="css-a4x74f"><span>1754</span></td><td id="LC1754" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1755" class="css-a4x74f"><span>1755</span></td><td id="LC1755" class="css-1dcdqdg"><code>      }, {
</code></td></tr><tr><td id="L1756" class="css-a4x74f"><span>1756</span></td><td id="LC1756" class="css-1dcdqdg"><code>        key: <span class="code-string">"diffValue"</span>,
</code></td></tr><tr><td id="L1757" class="css-a4x74f"><span>1757</span></td><td id="LC1757" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L1758" class="css-a4x74f"><span>1758</span></td><td id="LC1758" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> getFlag(<span class="code-keyword">this</span>.flags_, ComputedValue.diffValueMask_) ? <span class="code-number">1</span> : <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1759" class="css-a4x74f"><span>1759</span></td><td id="LC1759" class="css-1dcdqdg"><code>        },
</code></td></tr><tr><td id="L1760" class="css-a4x74f"><span>1760</span></td><td id="LC1760" class="css-1dcdqdg"><code>        <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(newValue) {
</code></td></tr><tr><td id="L1761" class="css-a4x74f"><span>1761</span></td><td id="LC1761" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.flags_ = setFlag(<span class="code-keyword">this</span>.flags_, ComputedValue.diffValueMask_, newValue === <span class="code-number">1</span> ? <span class="code-literal">true</span> : <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L1762" class="css-a4x74f"><span>1762</span></td><td id="LC1762" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1763" class="css-a4x74f"><span>1763</span></td><td id="LC1763" class="css-1dcdqdg"><code>      }]);
</code></td></tr><tr><td id="L1764" class="css-a4x74f"><span>1764</span></td><td id="LC1764" class="css-1dcdqdg"><code>    }();
</code></td></tr><tr><td id="L1765" class="css-a4x74f"><span>1765</span></td><td id="LC1765" class="css-1dcdqdg"><code>    ComputedValue.isComputingMask_ = <span class="code-number">1</span>;
</code></td></tr><tr><td id="L1766" class="css-a4x74f"><span>1766</span></td><td id="LC1766" class="css-1dcdqdg"><code>    ComputedValue.isRunningSetterMask_ = <span class="code-number">2</span>;
</code></td></tr><tr><td id="L1767" class="css-a4x74f"><span>1767</span></td><td id="LC1767" class="css-1dcdqdg"><code>    ComputedValue.isBeingObservedMask_ = <span class="code-number">4</span>;
</code></td></tr><tr><td id="L1768" class="css-a4x74f"><span>1768</span></td><td id="LC1768" class="css-1dcdqdg"><code>    ComputedValue.isPendingUnobservationMask_ = <span class="code-number">8</span>;
</code></td></tr><tr><td id="L1769" class="css-a4x74f"><span>1769</span></td><td id="LC1769" class="css-1dcdqdg"><code>    ComputedValue.diffValueMask_ = <span class="code-number">16</span>;
</code></td></tr><tr><td id="L1770" class="css-a4x74f"><span>1770</span></td><td id="LC1770" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> isComputedValue = <span class="code-comment">/*#__PURE__*/</span>createInstanceofPredicate(<span class="code-string">"ComputedValue"</span>, ComputedValue);
</code></td></tr><tr><td id="L1771" class="css-a4x74f"><span>1771</span></td><td id="LC1771" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1772" class="css-a4x74f"><span>1772</span></td><td id="LC1772" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> IDerivationState_;
</code></td></tr><tr><td id="L1773" class="css-a4x74f"><span>1773</span></td><td id="LC1773" class="css-1dcdqdg"><code>    (<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">IDerivationState_</span>) </span>{
</code></td></tr><tr><td id="L1774" class="css-a4x74f"><span>1774</span></td><td id="LC1774" class="css-1dcdqdg"><code>      <span class="code-comment">// before being run or (outside batch and not being observed)</span>
</code></td></tr><tr><td id="L1775" class="css-a4x74f"><span>1775</span></td><td id="LC1775" class="css-1dcdqdg"><code>      <span class="code-comment">// at this point derivation is not holding any data about dependency tree</span>
</code></td></tr><tr><td id="L1776" class="css-a4x74f"><span>1776</span></td><td id="LC1776" class="css-1dcdqdg"><code>      IDerivationState_[IDerivationState_[<span class="code-string">"NOT_TRACKING_"</span>] = <span class="code-number">-1</span>] = <span class="code-string">"NOT_TRACKING_"</span>;
</code></td></tr><tr><td id="L1777" class="css-a4x74f"><span>1777</span></td><td id="LC1777" class="css-1dcdqdg"><code>      <span class="code-comment">// no shallow dependency changed since last computation</span>
</code></td></tr><tr><td id="L1778" class="css-a4x74f"><span>1778</span></td><td id="LC1778" class="css-1dcdqdg"><code>      <span class="code-comment">// won't recalculate derivation</span>
</code></td></tr><tr><td id="L1779" class="css-a4x74f"><span>1779</span></td><td id="LC1779" class="css-1dcdqdg"><code>      <span class="code-comment">// this is what makes mobx fast</span>
</code></td></tr><tr><td id="L1780" class="css-a4x74f"><span>1780</span></td><td id="LC1780" class="css-1dcdqdg"><code>      IDerivationState_[IDerivationState_[<span class="code-string">"UP_TO_DATE_"</span>] = <span class="code-number">0</span>] = <span class="code-string">"UP_TO_DATE_"</span>;
</code></td></tr><tr><td id="L1781" class="css-a4x74f"><span>1781</span></td><td id="LC1781" class="css-1dcdqdg"><code>      <span class="code-comment">// some deep dependency changed, but don't know if shallow dependency changed</span>
</code></td></tr><tr><td id="L1782" class="css-a4x74f"><span>1782</span></td><td id="LC1782" class="css-1dcdqdg"><code>      <span class="code-comment">// will require to check first if UP_TO_DATE or POSSIBLY_STALE</span>
</code></td></tr><tr><td id="L1783" class="css-a4x74f"><span>1783</span></td><td id="LC1783" class="css-1dcdqdg"><code>      <span class="code-comment">// currently only ComputedValue will propagate POSSIBLY_STALE</span>
</code></td></tr><tr><td id="L1784" class="css-a4x74f"><span>1784</span></td><td id="LC1784" class="css-1dcdqdg"><code>      <span class="code-comment">//</span>
</code></td></tr><tr><td id="L1785" class="css-a4x74f"><span>1785</span></td><td id="LC1785" class="css-1dcdqdg"><code>      <span class="code-comment">// having this state is second big optimization:</span>
</code></td></tr><tr><td id="L1786" class="css-a4x74f"><span>1786</span></td><td id="LC1786" class="css-1dcdqdg"><code>      <span class="code-comment">// don't have to recompute on every dependency change, but only when it's needed</span>
</code></td></tr><tr><td id="L1787" class="css-a4x74f"><span>1787</span></td><td id="LC1787" class="css-1dcdqdg"><code>      IDerivationState_[IDerivationState_[<span class="code-string">"POSSIBLY_STALE_"</span>] = <span class="code-number">1</span>] = <span class="code-string">"POSSIBLY_STALE_"</span>;
</code></td></tr><tr><td id="L1788" class="css-a4x74f"><span>1788</span></td><td id="LC1788" class="css-1dcdqdg"><code>      <span class="code-comment">// A shallow dependency has changed since last computation and the derivation</span>
</code></td></tr><tr><td id="L1789" class="css-a4x74f"><span>1789</span></td><td id="LC1789" class="css-1dcdqdg"><code>      <span class="code-comment">// will need to recompute when it's needed next.</span>
</code></td></tr><tr><td id="L1790" class="css-a4x74f"><span>1790</span></td><td id="LC1790" class="css-1dcdqdg"><code>      IDerivationState_[IDerivationState_[<span class="code-string">"STALE_"</span>] = <span class="code-number">2</span>] = <span class="code-string">"STALE_"</span>;
</code></td></tr><tr><td id="L1791" class="css-a4x74f"><span>1791</span></td><td id="LC1791" class="css-1dcdqdg"><code>    })(IDerivationState_ || (IDerivationState_ = {}));
</code></td></tr><tr><td id="L1792" class="css-a4x74f"><span>1792</span></td><td id="LC1792" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> TraceMode;
</code></td></tr><tr><td id="L1793" class="css-a4x74f"><span>1793</span></td><td id="LC1793" class="css-1dcdqdg"><code>    (<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">TraceMode</span>) </span>{
</code></td></tr><tr><td id="L1794" class="css-a4x74f"><span>1794</span></td><td id="LC1794" class="css-1dcdqdg"><code>      TraceMode[TraceMode[<span class="code-string">"NONE"</span>] = <span class="code-number">0</span>] = <span class="code-string">"NONE"</span>;
</code></td></tr><tr><td id="L1795" class="css-a4x74f"><span>1795</span></td><td id="LC1795" class="css-1dcdqdg"><code>      TraceMode[TraceMode[<span class="code-string">"LOG"</span>] = <span class="code-number">1</span>] = <span class="code-string">"LOG"</span>;
</code></td></tr><tr><td id="L1796" class="css-a4x74f"><span>1796</span></td><td id="LC1796" class="css-1dcdqdg"><code>      TraceMode[TraceMode[<span class="code-string">"BREAK"</span>] = <span class="code-number">2</span>] = <span class="code-string">"BREAK"</span>;
</code></td></tr><tr><td id="L1797" class="css-a4x74f"><span>1797</span></td><td id="LC1797" class="css-1dcdqdg"><code>    })(TraceMode || (TraceMode = {}));
</code></td></tr><tr><td id="L1798" class="css-a4x74f"><span>1798</span></td><td id="LC1798" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> CaughtException = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">CaughtException</span>(<span class="code-params">cause</span>) </span>{
</code></td></tr><tr><td id="L1799" class="css-a4x74f"><span>1799</span></td><td id="LC1799" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.cause = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1800" class="css-a4x74f"><span>1800</span></td><td id="LC1800" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.cause = cause;
</code></td></tr><tr><td id="L1801" class="css-a4x74f"><span>1801</span></td><td id="LC1801" class="css-1dcdqdg"><code>      <span class="code-comment">// Empty</span>
</code></td></tr><tr><td id="L1802" class="css-a4x74f"><span>1802</span></td><td id="LC1802" class="css-1dcdqdg"><code>    };
</code></td></tr><tr><td id="L1803" class="css-a4x74f"><span>1803</span></td><td id="LC1803" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isCaughtException</span>(<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L1804" class="css-a4x74f"><span>1804</span></td><td id="LC1804" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> e <span class="code-keyword">instanceof</span> CaughtException;
</code></td></tr><tr><td id="L1805" class="css-a4x74f"><span>1805</span></td><td id="LC1805" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1806" class="css-a4x74f"><span>1806</span></td><td id="LC1806" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L1807" class="css-a4x74f"><span>1807</span></td><td id="LC1807" class="css-1dcdqdg"><code><span class="code-comment">     * Finds out whether any dependency of the derivation has actually changed.
</span></code></td></tr><tr><td id="L1808" class="css-a4x74f"><span>1808</span></td><td id="LC1808" class="css-1dcdqdg"><code><span class="code-comment">     * If dependenciesState is 1 then it will recalculate dependencies,
</span></code></td></tr><tr><td id="L1809" class="css-a4x74f"><span>1809</span></td><td id="LC1809" class="css-1dcdqdg"><code><span class="code-comment">     * if any dependency changed it will propagate it by changing dependenciesState to 2.
</span></code></td></tr><tr><td id="L1810" class="css-a4x74f"><span>1810</span></td><td id="LC1810" class="css-1dcdqdg"><code><span class="code-comment">     *
</span></code></td></tr><tr><td id="L1811" class="css-a4x74f"><span>1811</span></td><td id="LC1811" class="css-1dcdqdg"><code><span class="code-comment">     * By iterating over the dependencies in the same order that they were reported and
</span></code></td></tr><tr><td id="L1812" class="css-a4x74f"><span>1812</span></td><td id="LC1812" class="css-1dcdqdg"><code><span class="code-comment">     * stopping on the first change, all the recalculations are only called for ComputedValues
</span></code></td></tr><tr><td id="L1813" class="css-a4x74f"><span>1813</span></td><td id="LC1813" class="css-1dcdqdg"><code><span class="code-comment">     * that will be tracked by derivation. That is because we assume that if the first x
</span></code></td></tr><tr><td id="L1814" class="css-a4x74f"><span>1814</span></td><td id="LC1814" class="css-1dcdqdg"><code><span class="code-comment">     * dependencies of the derivation doesn't change then the derivation should run the same way
</span></code></td></tr><tr><td id="L1815" class="css-a4x74f"><span>1815</span></td><td id="LC1815" class="css-1dcdqdg"><code><span class="code-comment">     * up until accessing x-th dependency.
</span></code></td></tr><tr><td id="L1816" class="css-a4x74f"><span>1816</span></td><td id="LC1816" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L1817" class="css-a4x74f"><span>1817</span></td><td id="LC1817" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">shouldCompute</span>(<span class="code-params">derivation</span>) </span>{
</code></td></tr><tr><td id="L1818" class="css-a4x74f"><span>1818</span></td><td id="LC1818" class="css-1dcdqdg"><code>      <span class="code-keyword">switch</span> (derivation.dependenciesState_) {
</code></td></tr><tr><td id="L1819" class="css-a4x74f"><span>1819</span></td><td id="LC1819" class="css-1dcdqdg"><code>        <span class="code-keyword">case</span> IDerivationState_.UP_TO_DATE_:
</code></td></tr><tr><td id="L1820" class="css-a4x74f"><span>1820</span></td><td id="LC1820" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L1821" class="css-a4x74f"><span>1821</span></td><td id="LC1821" class="css-1dcdqdg"><code>        <span class="code-keyword">case</span> IDerivationState_.NOT_TRACKING_:
</code></td></tr><tr><td id="L1822" class="css-a4x74f"><span>1822</span></td><td id="LC1822" class="css-1dcdqdg"><code>        <span class="code-keyword">case</span> IDerivationState_.STALE_:
</code></td></tr><tr><td id="L1823" class="css-a4x74f"><span>1823</span></td><td id="LC1823" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L1824" class="css-a4x74f"><span>1824</span></td><td id="LC1824" class="css-1dcdqdg"><code>        <span class="code-keyword">case</span> IDerivationState_.POSSIBLY_STALE_:
</code></td></tr><tr><td id="L1825" class="css-a4x74f"><span>1825</span></td><td id="LC1825" class="css-1dcdqdg"><code>          {
</code></td></tr><tr><td id="L1826" class="css-a4x74f"><span>1826</span></td><td id="LC1826" class="css-1dcdqdg"><code>            <span class="code-comment">// state propagation can occur outside of action/reactive context #2195</span>
</code></td></tr><tr><td id="L1827" class="css-a4x74f"><span>1827</span></td><td id="LC1827" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> prevAllowStateReads = allowStateReadsStart(<span class="code-literal">true</span>);
</code></td></tr><tr><td id="L1828" class="css-a4x74f"><span>1828</span></td><td id="LC1828" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> prevUntracked = untrackedStart(); <span class="code-comment">// no need for those computeds to be reported, they will be picked up in trackDerivedFunction.</span>
</code></td></tr><tr><td id="L1829" class="css-a4x74f"><span>1829</span></td><td id="LC1829" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> obs = derivation.observing_,
</code></td></tr><tr><td id="L1830" class="css-a4x74f"><span>1830</span></td><td id="LC1830" class="css-1dcdqdg"><code>              l = obs.length;
</code></td></tr><tr><td id="L1831" class="css-a4x74f"><span>1831</span></td><td id="LC1831" class="css-1dcdqdg"><code>            <span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>; i &lt; l; i++) {
</code></td></tr><tr><td id="L1832" class="css-a4x74f"><span>1832</span></td><td id="LC1832" class="css-1dcdqdg"><code>              <span class="code-keyword">var</span> obj = obs[i];
</code></td></tr><tr><td id="L1833" class="css-a4x74f"><span>1833</span></td><td id="LC1833" class="css-1dcdqdg"><code>              <span class="code-keyword">if</span> (isComputedValue(obj)) {
</code></td></tr><tr><td id="L1834" class="css-a4x74f"><span>1834</span></td><td id="LC1834" class="css-1dcdqdg"><code>                <span class="code-keyword">if</span> (globalState.disableErrorBoundaries) {
</code></td></tr><tr><td id="L1835" class="css-a4x74f"><span>1835</span></td><td id="LC1835" class="css-1dcdqdg"><code>                  obj.get();
</code></td></tr><tr><td id="L1836" class="css-a4x74f"><span>1836</span></td><td id="LC1836" class="css-1dcdqdg"><code>                } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L1837" class="css-a4x74f"><span>1837</span></td><td id="LC1837" class="css-1dcdqdg"><code>                  <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L1838" class="css-a4x74f"><span>1838</span></td><td id="LC1838" class="css-1dcdqdg"><code>                    obj.get();
</code></td></tr><tr><td id="L1839" class="css-a4x74f"><span>1839</span></td><td id="LC1839" class="css-1dcdqdg"><code>                  } <span class="code-keyword">catch</span> (e) {
</code></td></tr><tr><td id="L1840" class="css-a4x74f"><span>1840</span></td><td id="LC1840" class="css-1dcdqdg"><code>                    <span class="code-comment">// we are not interested in the value *or* exception at this moment, but if there is one, notify all</span>
</code></td></tr><tr><td id="L1841" class="css-a4x74f"><span>1841</span></td><td id="LC1841" class="css-1dcdqdg"><code>                    untrackedEnd(prevUntracked);
</code></td></tr><tr><td id="L1842" class="css-a4x74f"><span>1842</span></td><td id="LC1842" class="css-1dcdqdg"><code>                    allowStateReadsEnd(prevAllowStateReads);
</code></td></tr><tr><td id="L1843" class="css-a4x74f"><span>1843</span></td><td id="LC1843" class="css-1dcdqdg"><code>                    <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L1844" class="css-a4x74f"><span>1844</span></td><td id="LC1844" class="css-1dcdqdg"><code>                  }
</code></td></tr><tr><td id="L1845" class="css-a4x74f"><span>1845</span></td><td id="LC1845" class="css-1dcdqdg"><code>                }
</code></td></tr><tr><td id="L1846" class="css-a4x74f"><span>1846</span></td><td id="LC1846" class="css-1dcdqdg"><code>                <span class="code-comment">// if ComputedValue `obj` actually changed it will be computed and propagated to its observers.</span>
</code></td></tr><tr><td id="L1847" class="css-a4x74f"><span>1847</span></td><td id="LC1847" class="css-1dcdqdg"><code>                <span class="code-comment">// and `derivation` is an observer of `obj`</span>
</code></td></tr><tr><td id="L1848" class="css-a4x74f"><span>1848</span></td><td id="LC1848" class="css-1dcdqdg"><code>                <span class="code-comment">// invariantShouldCompute(derivation)</span>
</code></td></tr><tr><td id="L1849" class="css-a4x74f"><span>1849</span></td><td id="LC1849" class="css-1dcdqdg"><code>                <span class="code-keyword">if</span> (derivation.dependenciesState_ === IDerivationState_.STALE_) {
</code></td></tr><tr><td id="L1850" class="css-a4x74f"><span>1850</span></td><td id="LC1850" class="css-1dcdqdg"><code>                  untrackedEnd(prevUntracked);
</code></td></tr><tr><td id="L1851" class="css-a4x74f"><span>1851</span></td><td id="LC1851" class="css-1dcdqdg"><code>                  allowStateReadsEnd(prevAllowStateReads);
</code></td></tr><tr><td id="L1852" class="css-a4x74f"><span>1852</span></td><td id="LC1852" class="css-1dcdqdg"><code>                  <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L1853" class="css-a4x74f"><span>1853</span></td><td id="LC1853" class="css-1dcdqdg"><code>                }
</code></td></tr><tr><td id="L1854" class="css-a4x74f"><span>1854</span></td><td id="LC1854" class="css-1dcdqdg"><code>              }
</code></td></tr><tr><td id="L1855" class="css-a4x74f"><span>1855</span></td><td id="LC1855" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L1856" class="css-a4x74f"><span>1856</span></td><td id="LC1856" class="css-1dcdqdg"><code>            changeDependenciesStateTo0(derivation);
</code></td></tr><tr><td id="L1857" class="css-a4x74f"><span>1857</span></td><td id="LC1857" class="css-1dcdqdg"><code>            untrackedEnd(prevUntracked);
</code></td></tr><tr><td id="L1858" class="css-a4x74f"><span>1858</span></td><td id="LC1858" class="css-1dcdqdg"><code>            allowStateReadsEnd(prevAllowStateReads);
</code></td></tr><tr><td id="L1859" class="css-a4x74f"><span>1859</span></td><td id="LC1859" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L1860" class="css-a4x74f"><span>1860</span></td><td id="LC1860" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L1861" class="css-a4x74f"><span>1861</span></td><td id="LC1861" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1862" class="css-a4x74f"><span>1862</span></td><td id="LC1862" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1863" class="css-a4x74f"><span>1863</span></td><td id="LC1863" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isComputingDerivation</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1864" class="css-a4x74f"><span>1864</span></td><td id="LC1864" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> globalState.trackingDerivation !== <span class="code-literal">null</span>; <span class="code-comment">// filter out actions inside computations</span>
</code></td></tr><tr><td id="L1865" class="css-a4x74f"><span>1865</span></td><td id="LC1865" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1866" class="css-a4x74f"><span>1866</span></td><td id="LC1866" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">checkIfStateModificationsAreAllowed</span>(<span class="code-params">atom</span>) </span>{
</code></td></tr><tr><td id="L1867" class="css-a4x74f"><span>1867</span></td><td id="LC1867" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> hasObservers = atom.observers_.size &gt; <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1868" class="css-a4x74f"><span>1868</span></td><td id="LC1868" class="css-1dcdqdg"><code>      <span class="code-comment">// Should not be possible to change observed state outside strict mode, except during initialization, see #563</span>
</code></td></tr><tr><td id="L1869" class="css-a4x74f"><span>1869</span></td><td id="LC1869" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!globalState.allowStateChanges &amp;&amp; (hasObservers || globalState.enforceActions === <span class="code-string">"always"</span>)) {
</code></td></tr><tr><td id="L1870" class="css-a4x74f"><span>1870</span></td><td id="LC1870" class="css-1dcdqdg"><code>        <span class="code-built_in">console</span>.warn(<span class="code-string">"[MobX] "</span> + (globalState.enforceActions ? <span class="code-string">"Since strict-mode is enabled, changing (observed) observable values without using an action is not allowed. Tried to modify: "</span> : <span class="code-string">"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, a computed value or the render function of a React component? You can wrap side effects in 'runInAction' (or decorate functions with 'action') if needed. Tried to modify: "</span>) + atom.name_);
</code></td></tr><tr><td id="L1871" class="css-a4x74f"><span>1871</span></td><td id="LC1871" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1872" class="css-a4x74f"><span>1872</span></td><td id="LC1872" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1873" class="css-a4x74f"><span>1873</span></td><td id="LC1873" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">checkIfStateReadsAreAllowed</span>(<span class="code-params">observable</span>) </span>{
</code></td></tr><tr><td id="L1874" class="css-a4x74f"><span>1874</span></td><td id="LC1874" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( !globalState.allowStateReads &amp;&amp; globalState.observableRequiresReaction) {
</code></td></tr><tr><td id="L1875" class="css-a4x74f"><span>1875</span></td><td id="LC1875" class="css-1dcdqdg"><code>        <span class="code-built_in">console</span>.warn(<span class="code-string">"[mobx] Observable '"</span> + observable.name_ + <span class="code-string">"' being read outside a reactive context."</span>);
</code></td></tr><tr><td id="L1876" class="css-a4x74f"><span>1876</span></td><td id="LC1876" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1877" class="css-a4x74f"><span>1877</span></td><td id="LC1877" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1878" class="css-a4x74f"><span>1878</span></td><td id="LC1878" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L1879" class="css-a4x74f"><span>1879</span></td><td id="LC1879" class="css-1dcdqdg"><code><span class="code-comment">     * Executes the provided function `f` and tracks which observables are being accessed.
</span></code></td></tr><tr><td id="L1880" class="css-a4x74f"><span>1880</span></td><td id="LC1880" class="css-1dcdqdg"><code><span class="code-comment">     * The tracking information is stored on the `derivation` object and the derivation is registered
</span></code></td></tr><tr><td id="L1881" class="css-a4x74f"><span>1881</span></td><td id="LC1881" class="css-1dcdqdg"><code><span class="code-comment">     * as observer of any of the accessed observables.
</span></code></td></tr><tr><td id="L1882" class="css-a4x74f"><span>1882</span></td><td id="LC1882" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L1883" class="css-a4x74f"><span>1883</span></td><td id="LC1883" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">trackDerivedFunction</span>(<span class="code-params">derivation, f, context</span>) </span>{
</code></td></tr><tr><td id="L1884" class="css-a4x74f"><span>1884</span></td><td id="LC1884" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> prevAllowStateReads = allowStateReadsStart(<span class="code-literal">true</span>);
</code></td></tr><tr><td id="L1885" class="css-a4x74f"><span>1885</span></td><td id="LC1885" class="css-1dcdqdg"><code>      changeDependenciesStateTo0(derivation);
</code></td></tr><tr><td id="L1886" class="css-a4x74f"><span>1886</span></td><td id="LC1886" class="css-1dcdqdg"><code>      <span class="code-comment">// Preallocate array; will be trimmed by bindDependencies.</span>
</code></td></tr><tr><td id="L1887" class="css-a4x74f"><span>1887</span></td><td id="LC1887" class="css-1dcdqdg"><code>      derivation.newObserving_ = <span class="code-keyword">new</span> <span class="code-built_in">Array</span>(
</code></td></tr><tr><td id="L1888" class="css-a4x74f"><span>1888</span></td><td id="LC1888" class="css-1dcdqdg"><code>      <span class="code-comment">// Reserve constant space for initial dependencies, dynamic space otherwise.</span>
</code></td></tr><tr><td id="L1889" class="css-a4x74f"><span>1889</span></td><td id="LC1889" class="css-1dcdqdg"><code>      <span class="code-comment">// See https://github.com/mobxjs/mobx/pull/3833</span>
</code></td></tr><tr><td id="L1890" class="css-a4x74f"><span>1890</span></td><td id="LC1890" class="css-1dcdqdg"><code>      derivation.runId_ === <span class="code-number">0</span> ? <span class="code-number">100</span> : derivation.observing_.length);
</code></td></tr><tr><td id="L1891" class="css-a4x74f"><span>1891</span></td><td id="LC1891" class="css-1dcdqdg"><code>      derivation.unboundDepsCount_ = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1892" class="css-a4x74f"><span>1892</span></td><td id="LC1892" class="css-1dcdqdg"><code>      derivation.runId_ = ++globalState.runId;
</code></td></tr><tr><td id="L1893" class="css-a4x74f"><span>1893</span></td><td id="LC1893" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> prevTracking = globalState.trackingDerivation;
</code></td></tr><tr><td id="L1894" class="css-a4x74f"><span>1894</span></td><td id="LC1894" class="css-1dcdqdg"><code>      globalState.trackingDerivation = derivation;
</code></td></tr><tr><td id="L1895" class="css-a4x74f"><span>1895</span></td><td id="LC1895" class="css-1dcdqdg"><code>      globalState.inBatch++;
</code></td></tr><tr><td id="L1896" class="css-a4x74f"><span>1896</span></td><td id="LC1896" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> result;
</code></td></tr><tr><td id="L1897" class="css-a4x74f"><span>1897</span></td><td id="LC1897" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (globalState.disableErrorBoundaries === <span class="code-literal">true</span>) {
</code></td></tr><tr><td id="L1898" class="css-a4x74f"><span>1898</span></td><td id="LC1898" class="css-1dcdqdg"><code>        result = f.call(context);
</code></td></tr><tr><td id="L1899" class="css-a4x74f"><span>1899</span></td><td id="LC1899" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L1900" class="css-a4x74f"><span>1900</span></td><td id="LC1900" class="css-1dcdqdg"><code>        <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L1901" class="css-a4x74f"><span>1901</span></td><td id="LC1901" class="css-1dcdqdg"><code>          result = f.call(context);
</code></td></tr><tr><td id="L1902" class="css-a4x74f"><span>1902</span></td><td id="LC1902" class="css-1dcdqdg"><code>        } <span class="code-keyword">catch</span> (e) {
</code></td></tr><tr><td id="L1903" class="css-a4x74f"><span>1903</span></td><td id="LC1903" class="css-1dcdqdg"><code>          result = <span class="code-keyword">new</span> CaughtException(e);
</code></td></tr><tr><td id="L1904" class="css-a4x74f"><span>1904</span></td><td id="LC1904" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1905" class="css-a4x74f"><span>1905</span></td><td id="LC1905" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1906" class="css-a4x74f"><span>1906</span></td><td id="LC1906" class="css-1dcdqdg"><code>      globalState.inBatch--;
</code></td></tr><tr><td id="L1907" class="css-a4x74f"><span>1907</span></td><td id="LC1907" class="css-1dcdqdg"><code>      globalState.trackingDerivation = prevTracking;
</code></td></tr><tr><td id="L1908" class="css-a4x74f"><span>1908</span></td><td id="LC1908" class="css-1dcdqdg"><code>      bindDependencies(derivation);
</code></td></tr><tr><td id="L1909" class="css-a4x74f"><span>1909</span></td><td id="LC1909" class="css-1dcdqdg"><code>      warnAboutDerivationWithoutDependencies(derivation);
</code></td></tr><tr><td id="L1910" class="css-a4x74f"><span>1910</span></td><td id="LC1910" class="css-1dcdqdg"><code>      allowStateReadsEnd(prevAllowStateReads);
</code></td></tr><tr><td id="L1911" class="css-a4x74f"><span>1911</span></td><td id="LC1911" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> result;
</code></td></tr><tr><td id="L1912" class="css-a4x74f"><span>1912</span></td><td id="LC1912" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1913" class="css-a4x74f"><span>1913</span></td><td id="LC1913" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">warnAboutDerivationWithoutDependencies</span>(<span class="code-params">derivation</span>) </span>{
</code></td></tr><tr><td id="L1914" class="css-a4x74f"><span>1914</span></td><td id="LC1914" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (derivation.observing_.length !== <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L1915" class="css-a4x74f"><span>1915</span></td><td id="LC1915" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L1916" class="css-a4x74f"><span>1916</span></td><td id="LC1916" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1917" class="css-a4x74f"><span>1917</span></td><td id="LC1917" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> derivation.requiresObservable_ === <span class="code-string">"boolean"</span> ? derivation.requiresObservable_ : globalState.reactionRequiresObservable) {
</code></td></tr><tr><td id="L1918" class="css-a4x74f"><span>1918</span></td><td id="LC1918" class="css-1dcdqdg"><code>        <span class="code-built_in">console</span>.warn(<span class="code-string">"[mobx] Derivation '"</span> + derivation.name_ + <span class="code-string">"' is created/updated without reading any observable value."</span>);
</code></td></tr><tr><td id="L1919" class="css-a4x74f"><span>1919</span></td><td id="LC1919" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1920" class="css-a4x74f"><span>1920</span></td><td id="LC1920" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1921" class="css-a4x74f"><span>1921</span></td><td id="LC1921" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L1922" class="css-a4x74f"><span>1922</span></td><td id="LC1922" class="css-1dcdqdg"><code><span class="code-comment">     * diffs newObserving with observing.
</span></code></td></tr><tr><td id="L1923" class="css-a4x74f"><span>1923</span></td><td id="LC1923" class="css-1dcdqdg"><code><span class="code-comment">     * update observing to be newObserving with unique observables
</span></code></td></tr><tr><td id="L1924" class="css-a4x74f"><span>1924</span></td><td id="LC1924" class="css-1dcdqdg"><code><span class="code-comment">     * notify observers that become observed/unobserved
</span></code></td></tr><tr><td id="L1925" class="css-a4x74f"><span>1925</span></td><td id="LC1925" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L1926" class="css-a4x74f"><span>1926</span></td><td id="LC1926" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">bindDependencies</span>(<span class="code-params">derivation</span>) </span>{
</code></td></tr><tr><td id="L1927" class="css-a4x74f"><span>1927</span></td><td id="LC1927" class="css-1dcdqdg"><code>      <span class="code-comment">// invariant(derivation.dependenciesState !== IDerivationState.NOT_TRACKING, "INTERNAL ERROR bindDependencies expects derivation.dependenciesState !== -1");</span>
</code></td></tr><tr><td id="L1928" class="css-a4x74f"><span>1928</span></td><td id="LC1928" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> prevObserving = derivation.observing_;
</code></td></tr><tr><td id="L1929" class="css-a4x74f"><span>1929</span></td><td id="LC1929" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> observing = derivation.observing_ = derivation.newObserving_;
</code></td></tr><tr><td id="L1930" class="css-a4x74f"><span>1930</span></td><td id="LC1930" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> lowestNewObservingDerivationState = IDerivationState_.UP_TO_DATE_;
</code></td></tr><tr><td id="L1931" class="css-a4x74f"><span>1931</span></td><td id="LC1931" class="css-1dcdqdg"><code>      <span class="code-comment">// Go through all new observables and check diffValue: (this list can contain duplicates):</span>
</code></td></tr><tr><td id="L1932" class="css-a4x74f"><span>1932</span></td><td id="LC1932" class="css-1dcdqdg"><code>      <span class="code-comment">//   0: first occurrence, change to 1 and keep it</span>
</code></td></tr><tr><td id="L1933" class="css-a4x74f"><span>1933</span></td><td id="LC1933" class="css-1dcdqdg"><code>      <span class="code-comment">//   1: extra occurrence, drop it</span>
</code></td></tr><tr><td id="L1934" class="css-a4x74f"><span>1934</span></td><td id="LC1934" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> i0 = <span class="code-number">0</span>,
</code></td></tr><tr><td id="L1935" class="css-a4x74f"><span>1935</span></td><td id="LC1935" class="css-1dcdqdg"><code>        l = derivation.unboundDepsCount_;
</code></td></tr><tr><td id="L1936" class="css-a4x74f"><span>1936</span></td><td id="LC1936" class="css-1dcdqdg"><code>      <span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>; i &lt; l; i++) {
</code></td></tr><tr><td id="L1937" class="css-a4x74f"><span>1937</span></td><td id="LC1937" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> dep = observing[i];
</code></td></tr><tr><td id="L1938" class="css-a4x74f"><span>1938</span></td><td id="LC1938" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (dep.diffValue === <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L1939" class="css-a4x74f"><span>1939</span></td><td id="LC1939" class="css-1dcdqdg"><code>          dep.diffValue = <span class="code-number">1</span>;
</code></td></tr><tr><td id="L1940" class="css-a4x74f"><span>1940</span></td><td id="LC1940" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (i0 !== i) {
</code></td></tr><tr><td id="L1941" class="css-a4x74f"><span>1941</span></td><td id="LC1941" class="css-1dcdqdg"><code>            observing[i0] = dep;
</code></td></tr><tr><td id="L1942" class="css-a4x74f"><span>1942</span></td><td id="LC1942" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L1943" class="css-a4x74f"><span>1943</span></td><td id="LC1943" class="css-1dcdqdg"><code>          i0++;
</code></td></tr><tr><td id="L1944" class="css-a4x74f"><span>1944</span></td><td id="LC1944" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1945" class="css-a4x74f"><span>1945</span></td><td id="LC1945" class="css-1dcdqdg"><code>        <span class="code-comment">// Upcast is 'safe' here, because if dep is IObservable, `dependenciesState` will be undefined,</span>
</code></td></tr><tr><td id="L1946" class="css-a4x74f"><span>1946</span></td><td id="LC1946" class="css-1dcdqdg"><code>        <span class="code-comment">// not hitting the condition</span>
</code></td></tr><tr><td id="L1947" class="css-a4x74f"><span>1947</span></td><td id="LC1947" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (dep.dependenciesState_ &gt; lowestNewObservingDerivationState) {
</code></td></tr><tr><td id="L1948" class="css-a4x74f"><span>1948</span></td><td id="LC1948" class="css-1dcdqdg"><code>          lowestNewObservingDerivationState = dep.dependenciesState_;
</code></td></tr><tr><td id="L1949" class="css-a4x74f"><span>1949</span></td><td id="LC1949" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1950" class="css-a4x74f"><span>1950</span></td><td id="LC1950" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1951" class="css-a4x74f"><span>1951</span></td><td id="LC1951" class="css-1dcdqdg"><code>      observing.length = i0;
</code></td></tr><tr><td id="L1952" class="css-a4x74f"><span>1952</span></td><td id="LC1952" class="css-1dcdqdg"><code>      derivation.newObserving_ = <span class="code-literal">null</span>; <span class="code-comment">// newObserving shouldn't be needed outside tracking (statement moved down to work around FF bug, see #614)</span>
</code></td></tr><tr><td id="L1953" class="css-a4x74f"><span>1953</span></td><td id="LC1953" class="css-1dcdqdg"><code>      <span class="code-comment">// Go through all old observables and check diffValue: (it is unique after last bindDependencies)</span>
</code></td></tr><tr><td id="L1954" class="css-a4x74f"><span>1954</span></td><td id="LC1954" class="css-1dcdqdg"><code>      <span class="code-comment">//   0: it's not in new observables, unobserve it</span>
</code></td></tr><tr><td id="L1955" class="css-a4x74f"><span>1955</span></td><td id="LC1955" class="css-1dcdqdg"><code>      <span class="code-comment">//   1: it keeps being observed, don't want to notify it. change to 0</span>
</code></td></tr><tr><td id="L1956" class="css-a4x74f"><span>1956</span></td><td id="LC1956" class="css-1dcdqdg"><code>      l = prevObserving.length;
</code></td></tr><tr><td id="L1957" class="css-a4x74f"><span>1957</span></td><td id="LC1957" class="css-1dcdqdg"><code>      <span class="code-keyword">while</span> (l--) {
</code></td></tr><tr><td id="L1958" class="css-a4x74f"><span>1958</span></td><td id="LC1958" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _dep = prevObserving[l];
</code></td></tr><tr><td id="L1959" class="css-a4x74f"><span>1959</span></td><td id="LC1959" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (_dep.diffValue === <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L1960" class="css-a4x74f"><span>1960</span></td><td id="LC1960" class="css-1dcdqdg"><code>          removeObserver(_dep, derivation);
</code></td></tr><tr><td id="L1961" class="css-a4x74f"><span>1961</span></td><td id="LC1961" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1962" class="css-a4x74f"><span>1962</span></td><td id="LC1962" class="css-1dcdqdg"><code>        _dep.diffValue = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1963" class="css-a4x74f"><span>1963</span></td><td id="LC1963" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1964" class="css-a4x74f"><span>1964</span></td><td id="LC1964" class="css-1dcdqdg"><code>      <span class="code-comment">// Go through all new observables and check diffValue: (now it should be unique)</span>
</code></td></tr><tr><td id="L1965" class="css-a4x74f"><span>1965</span></td><td id="LC1965" class="css-1dcdqdg"><code>      <span class="code-comment">//   0: it was set to 0 in last loop. don't need to do anything.</span>
</code></td></tr><tr><td id="L1966" class="css-a4x74f"><span>1966</span></td><td id="LC1966" class="css-1dcdqdg"><code>      <span class="code-comment">//   1: it wasn't observed, let's observe it. set back to 0</span>
</code></td></tr><tr><td id="L1967" class="css-a4x74f"><span>1967</span></td><td id="LC1967" class="css-1dcdqdg"><code>      <span class="code-keyword">while</span> (i0--) {
</code></td></tr><tr><td id="L1968" class="css-a4x74f"><span>1968</span></td><td id="LC1968" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _dep2 = observing[i0];
</code></td></tr><tr><td id="L1969" class="css-a4x74f"><span>1969</span></td><td id="LC1969" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (_dep2.diffValue === <span class="code-number">1</span>) {
</code></td></tr><tr><td id="L1970" class="css-a4x74f"><span>1970</span></td><td id="LC1970" class="css-1dcdqdg"><code>          _dep2.diffValue = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1971" class="css-a4x74f"><span>1971</span></td><td id="LC1971" class="css-1dcdqdg"><code>          addObserver(_dep2, derivation);
</code></td></tr><tr><td id="L1972" class="css-a4x74f"><span>1972</span></td><td id="LC1972" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L1973" class="css-a4x74f"><span>1973</span></td><td id="LC1973" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1974" class="css-a4x74f"><span>1974</span></td><td id="LC1974" class="css-1dcdqdg"><code>      <span class="code-comment">// Some new observed derivations may become stale during this derivation computation</span>
</code></td></tr><tr><td id="L1975" class="css-a4x74f"><span>1975</span></td><td id="LC1975" class="css-1dcdqdg"><code>      <span class="code-comment">// so they have had no chance to propagate staleness (#916)</span>
</code></td></tr><tr><td id="L1976" class="css-a4x74f"><span>1976</span></td><td id="LC1976" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (lowestNewObservingDerivationState !== IDerivationState_.UP_TO_DATE_) {
</code></td></tr><tr><td id="L1977" class="css-a4x74f"><span>1977</span></td><td id="LC1977" class="css-1dcdqdg"><code>        derivation.dependenciesState_ = lowestNewObservingDerivationState;
</code></td></tr><tr><td id="L1978" class="css-a4x74f"><span>1978</span></td><td id="LC1978" class="css-1dcdqdg"><code>        derivation.onBecomeStale_();
</code></td></tr><tr><td id="L1979" class="css-a4x74f"><span>1979</span></td><td id="LC1979" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1980" class="css-a4x74f"><span>1980</span></td><td id="LC1980" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1981" class="css-a4x74f"><span>1981</span></td><td id="LC1981" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">clearObserving</span>(<span class="code-params">derivation</span>) </span>{
</code></td></tr><tr><td id="L1982" class="css-a4x74f"><span>1982</span></td><td id="LC1982" class="css-1dcdqdg"><code>      <span class="code-comment">// invariant(globalState.inBatch &gt; 0, "INTERNAL ERROR clearObserving should be called only inside batch");</span>
</code></td></tr><tr><td id="L1983" class="css-a4x74f"><span>1983</span></td><td id="LC1983" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> obs = derivation.observing_;
</code></td></tr><tr><td id="L1984" class="css-a4x74f"><span>1984</span></td><td id="LC1984" class="css-1dcdqdg"><code>      derivation.observing_ = [];
</code></td></tr><tr><td id="L1985" class="css-a4x74f"><span>1985</span></td><td id="LC1985" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> i = obs.length;
</code></td></tr><tr><td id="L1986" class="css-a4x74f"><span>1986</span></td><td id="LC1986" class="css-1dcdqdg"><code>      <span class="code-keyword">while</span> (i--) {
</code></td></tr><tr><td id="L1987" class="css-a4x74f"><span>1987</span></td><td id="LC1987" class="css-1dcdqdg"><code>        removeObserver(obs[i], derivation);
</code></td></tr><tr><td id="L1988" class="css-a4x74f"><span>1988</span></td><td id="LC1988" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1989" class="css-a4x74f"><span>1989</span></td><td id="LC1989" class="css-1dcdqdg"><code>      derivation.dependenciesState_ = IDerivationState_.NOT_TRACKING_;
</code></td></tr><tr><td id="L1990" class="css-a4x74f"><span>1990</span></td><td id="LC1990" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1991" class="css-a4x74f"><span>1991</span></td><td id="LC1991" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">untracked</span>(<span class="code-params">action</span>) </span>{
</code></td></tr><tr><td id="L1992" class="css-a4x74f"><span>1992</span></td><td id="LC1992" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> prev = untrackedStart();
</code></td></tr><tr><td id="L1993" class="css-a4x74f"><span>1993</span></td><td id="LC1993" class="css-1dcdqdg"><code>      <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L1994" class="css-a4x74f"><span>1994</span></td><td id="LC1994" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> action();
</code></td></tr><tr><td id="L1995" class="css-a4x74f"><span>1995</span></td><td id="LC1995" class="css-1dcdqdg"><code>      } <span class="code-keyword">finally</span> {
</code></td></tr><tr><td id="L1996" class="css-a4x74f"><span>1996</span></td><td id="LC1996" class="css-1dcdqdg"><code>        untrackedEnd(prev);
</code></td></tr><tr><td id="L1997" class="css-a4x74f"><span>1997</span></td><td id="LC1997" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L1998" class="css-a4x74f"><span>1998</span></td><td id="LC1998" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L1999" class="css-a4x74f"><span>1999</span></td><td id="LC1999" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">untrackedStart</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2000" class="css-a4x74f"><span>2000</span></td><td id="LC2000" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> prev = globalState.trackingDerivation;
</code></td></tr><tr><td id="L2001" class="css-a4x74f"><span>2001</span></td><td id="LC2001" class="css-1dcdqdg"><code>      globalState.trackingDerivation = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L2002" class="css-a4x74f"><span>2002</span></td><td id="LC2002" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> prev;
</code></td></tr><tr><td id="L2003" class="css-a4x74f"><span>2003</span></td><td id="LC2003" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2004" class="css-a4x74f"><span>2004</span></td><td id="LC2004" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">untrackedEnd</span>(<span class="code-params">prev</span>) </span>{
</code></td></tr><tr><td id="L2005" class="css-a4x74f"><span>2005</span></td><td id="LC2005" class="css-1dcdqdg"><code>      globalState.trackingDerivation = prev;
</code></td></tr><tr><td id="L2006" class="css-a4x74f"><span>2006</span></td><td id="LC2006" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2007" class="css-a4x74f"><span>2007</span></td><td id="LC2007" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">allowStateReadsStart</span>(<span class="code-params">allowStateReads</span>) </span>{
</code></td></tr><tr><td id="L2008" class="css-a4x74f"><span>2008</span></td><td id="LC2008" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> prev = globalState.allowStateReads;
</code></td></tr><tr><td id="L2009" class="css-a4x74f"><span>2009</span></td><td id="LC2009" class="css-1dcdqdg"><code>      globalState.allowStateReads = allowStateReads;
</code></td></tr><tr><td id="L2010" class="css-a4x74f"><span>2010</span></td><td id="LC2010" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> prev;
</code></td></tr><tr><td id="L2011" class="css-a4x74f"><span>2011</span></td><td id="LC2011" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2012" class="css-a4x74f"><span>2012</span></td><td id="LC2012" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">allowStateReadsEnd</span>(<span class="code-params">prev</span>) </span>{
</code></td></tr><tr><td id="L2013" class="css-a4x74f"><span>2013</span></td><td id="LC2013" class="css-1dcdqdg"><code>      globalState.allowStateReads = prev;
</code></td></tr><tr><td id="L2014" class="css-a4x74f"><span>2014</span></td><td id="LC2014" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2015" class="css-a4x74f"><span>2015</span></td><td id="LC2015" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2016" class="css-a4x74f"><span>2016</span></td><td id="LC2016" class="css-1dcdqdg"><code><span class="code-comment">     * needed to keep `lowestObserverState` correct. when changing from (2 or 1) to 0
</span></code></td></tr><tr><td id="L2017" class="css-a4x74f"><span>2017</span></td><td id="LC2017" class="css-1dcdqdg"><code><span class="code-comment">     *
</span></code></td></tr><tr><td id="L2018" class="css-a4x74f"><span>2018</span></td><td id="LC2018" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L2019" class="css-a4x74f"><span>2019</span></td><td id="LC2019" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">changeDependenciesStateTo0</span>(<span class="code-params">derivation</span>) </span>{
</code></td></tr><tr><td id="L2020" class="css-a4x74f"><span>2020</span></td><td id="LC2020" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (derivation.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {
</code></td></tr><tr><td id="L2021" class="css-a4x74f"><span>2021</span></td><td id="LC2021" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L2022" class="css-a4x74f"><span>2022</span></td><td id="LC2022" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2023" class="css-a4x74f"><span>2023</span></td><td id="LC2023" class="css-1dcdqdg"><code>      derivation.dependenciesState_ = IDerivationState_.UP_TO_DATE_;
</code></td></tr><tr><td id="L2024" class="css-a4x74f"><span>2024</span></td><td id="LC2024" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> obs = derivation.observing_;
</code></td></tr><tr><td id="L2025" class="css-a4x74f"><span>2025</span></td><td id="LC2025" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> i = obs.length;
</code></td></tr><tr><td id="L2026" class="css-a4x74f"><span>2026</span></td><td id="LC2026" class="css-1dcdqdg"><code>      <span class="code-keyword">while</span> (i--) {
</code></td></tr><tr><td id="L2027" class="css-a4x74f"><span>2027</span></td><td id="LC2027" class="css-1dcdqdg"><code>        obs[i].lowestObserverState_ = IDerivationState_.UP_TO_DATE_;
</code></td></tr><tr><td id="L2028" class="css-a4x74f"><span>2028</span></td><td id="LC2028" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2029" class="css-a4x74f"><span>2029</span></td><td id="LC2029" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2030" class="css-a4x74f"><span>2030</span></td><td id="LC2030" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2031" class="css-a4x74f"><span>2031</span></td><td id="LC2031" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2032" class="css-a4x74f"><span>2032</span></td><td id="LC2032" class="css-1dcdqdg"><code><span class="code-comment">     * These values will persist if global state is reset
</span></code></td></tr><tr><td id="L2033" class="css-a4x74f"><span>2033</span></td><td id="LC2033" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L2034" class="css-a4x74f"><span>2034</span></td><td id="LC2034" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> persistentKeys = [<span class="code-string">"mobxGuid"</span>, <span class="code-string">"spyListeners"</span>, <span class="code-string">"enforceActions"</span>, <span class="code-string">"computedRequiresReaction"</span>, <span class="code-string">"reactionRequiresObservable"</span>, <span class="code-string">"observableRequiresReaction"</span>, <span class="code-string">"allowStateReads"</span>, <span class="code-string">"disableErrorBoundaries"</span>, <span class="code-string">"runId"</span>, <span class="code-string">"UNCHANGED"</span>, <span class="code-string">"useProxies"</span>];
</code></td></tr><tr><td id="L2035" class="css-a4x74f"><span>2035</span></td><td id="LC2035" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> MobXGlobals = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">MobXGlobals</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2036" class="css-a4x74f"><span>2036</span></td><td id="LC2036" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2037" class="css-a4x74f"><span>2037</span></td><td id="LC2037" class="css-1dcdqdg"><code><span class="code-comment">       * MobXGlobals version.
</span></code></td></tr><tr><td id="L2038" class="css-a4x74f"><span>2038</span></td><td id="LC2038" class="css-1dcdqdg"><code><span class="code-comment">       * MobX compatiblity with other versions loaded in memory as long as this version matches.
</span></code></td></tr><tr><td id="L2039" class="css-a4x74f"><span>2039</span></td><td id="LC2039" class="css-1dcdqdg"><code><span class="code-comment">       * It indicates that the global state still stores similar information
</span></code></td></tr><tr><td id="L2040" class="css-a4x74f"><span>2040</span></td><td id="LC2040" class="css-1dcdqdg"><code><span class="code-comment">       *
</span></code></td></tr><tr><td id="L2041" class="css-a4x74f"><span>2041</span></td><td id="LC2041" class="css-1dcdqdg"><code><span class="code-comment">       * N.B: this version is unrelated to the package version of MobX, and is only the version of the
</span></code></td></tr><tr><td id="L2042" class="css-a4x74f"><span>2042</span></td><td id="LC2042" class="css-1dcdqdg"><code><span class="code-comment">       * internal state storage of MobX, and can be the same across many different package versions
</span></code></td></tr><tr><td id="L2043" class="css-a4x74f"><span>2043</span></td><td id="LC2043" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2044" class="css-a4x74f"><span>2044</span></td><td id="LC2044" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.version = <span class="code-number">6</span>;
</code></td></tr><tr><td id="L2045" class="css-a4x74f"><span>2045</span></td><td id="LC2045" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2046" class="css-a4x74f"><span>2046</span></td><td id="LC2046" class="css-1dcdqdg"><code><span class="code-comment">       * globally unique token to signal unchanged
</span></code></td></tr><tr><td id="L2047" class="css-a4x74f"><span>2047</span></td><td id="LC2047" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2048" class="css-a4x74f"><span>2048</span></td><td id="LC2048" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.UNCHANGED = {};
</code></td></tr><tr><td id="L2049" class="css-a4x74f"><span>2049</span></td><td id="LC2049" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2050" class="css-a4x74f"><span>2050</span></td><td id="LC2050" class="css-1dcdqdg"><code><span class="code-comment">       * Currently running derivation
</span></code></td></tr><tr><td id="L2051" class="css-a4x74f"><span>2051</span></td><td id="LC2051" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2052" class="css-a4x74f"><span>2052</span></td><td id="LC2052" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.trackingDerivation = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L2053" class="css-a4x74f"><span>2053</span></td><td id="LC2053" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2054" class="css-a4x74f"><span>2054</span></td><td id="LC2054" class="css-1dcdqdg"><code><span class="code-comment">       * Currently running reaction. This determines if we currently have a reactive context.
</span></code></td></tr><tr><td id="L2055" class="css-a4x74f"><span>2055</span></td><td id="LC2055" class="css-1dcdqdg"><code><span class="code-comment">       * (Tracking derivation is also set for temporal tracking of computed values inside actions,
</span></code></td></tr><tr><td id="L2056" class="css-a4x74f"><span>2056</span></td><td id="LC2056" class="css-1dcdqdg"><code><span class="code-comment">       * but trackingReaction can only be set by a form of Reaction)
</span></code></td></tr><tr><td id="L2057" class="css-a4x74f"><span>2057</span></td><td id="LC2057" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2058" class="css-a4x74f"><span>2058</span></td><td id="LC2058" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.trackingContext = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L2059" class="css-a4x74f"><span>2059</span></td><td id="LC2059" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2060" class="css-a4x74f"><span>2060</span></td><td id="LC2060" class="css-1dcdqdg"><code><span class="code-comment">       * Each time a derivation is tracked, it is assigned a unique run-id
</span></code></td></tr><tr><td id="L2061" class="css-a4x74f"><span>2061</span></td><td id="LC2061" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2062" class="css-a4x74f"><span>2062</span></td><td id="LC2062" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.runId = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L2063" class="css-a4x74f"><span>2063</span></td><td id="LC2063" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2064" class="css-a4x74f"><span>2064</span></td><td id="LC2064" class="css-1dcdqdg"><code><span class="code-comment">       * 'guid' for general purpose. Will be persisted amongst resets.
</span></code></td></tr><tr><td id="L2065" class="css-a4x74f"><span>2065</span></td><td id="LC2065" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2066" class="css-a4x74f"><span>2066</span></td><td id="LC2066" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.mobxGuid = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L2067" class="css-a4x74f"><span>2067</span></td><td id="LC2067" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2068" class="css-a4x74f"><span>2068</span></td><td id="LC2068" class="css-1dcdqdg"><code><span class="code-comment">       * Are we in a batch block? (and how many of them)
</span></code></td></tr><tr><td id="L2069" class="css-a4x74f"><span>2069</span></td><td id="LC2069" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2070" class="css-a4x74f"><span>2070</span></td><td id="LC2070" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.inBatch = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L2071" class="css-a4x74f"><span>2071</span></td><td id="LC2071" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2072" class="css-a4x74f"><span>2072</span></td><td id="LC2072" class="css-1dcdqdg"><code><span class="code-comment">       * Observables that don't have observers anymore, and are about to be
</span></code></td></tr><tr><td id="L2073" class="css-a4x74f"><span>2073</span></td><td id="LC2073" class="css-1dcdqdg"><code><span class="code-comment">       * suspended, unless somebody else accesses it in the same batch
</span></code></td></tr><tr><td id="L2074" class="css-a4x74f"><span>2074</span></td><td id="LC2074" class="css-1dcdqdg"><code><span class="code-comment">       *
</span></code></td></tr><tr><td id="L2075" class="css-a4x74f"><span>2075</span></td><td id="LC2075" class="css-1dcdqdg"><code><span class="code-comment">       * @type {IObservable[]}
</span></code></td></tr><tr><td id="L2076" class="css-a4x74f"><span>2076</span></td><td id="LC2076" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2077" class="css-a4x74f"><span>2077</span></td><td id="LC2077" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.pendingUnobservations = [];
</code></td></tr><tr><td id="L2078" class="css-a4x74f"><span>2078</span></td><td id="LC2078" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2079" class="css-a4x74f"><span>2079</span></td><td id="LC2079" class="css-1dcdqdg"><code><span class="code-comment">       * List of scheduled, not yet executed, reactions.
</span></code></td></tr><tr><td id="L2080" class="css-a4x74f"><span>2080</span></td><td id="LC2080" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2081" class="css-a4x74f"><span>2081</span></td><td id="LC2081" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.pendingReactions = [];
</code></td></tr><tr><td id="L2082" class="css-a4x74f"><span>2082</span></td><td id="LC2082" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2083" class="css-a4x74f"><span>2083</span></td><td id="LC2083" class="css-1dcdqdg"><code><span class="code-comment">       * Are we currently processing reactions?
</span></code></td></tr><tr><td id="L2084" class="css-a4x74f"><span>2084</span></td><td id="LC2084" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2085" class="css-a4x74f"><span>2085</span></td><td id="LC2085" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.isRunningReactions = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2086" class="css-a4x74f"><span>2086</span></td><td id="LC2086" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2087" class="css-a4x74f"><span>2087</span></td><td id="LC2087" class="css-1dcdqdg"><code><span class="code-comment">       * Is it allowed to change observables at this point?
</span></code></td></tr><tr><td id="L2088" class="css-a4x74f"><span>2088</span></td><td id="LC2088" class="css-1dcdqdg"><code><span class="code-comment">       * In general, MobX doesn't allow that when running computations and React.render.
</span></code></td></tr><tr><td id="L2089" class="css-a4x74f"><span>2089</span></td><td id="LC2089" class="css-1dcdqdg"><code><span class="code-comment">       * To ensure that those functions stay pure.
</span></code></td></tr><tr><td id="L2090" class="css-a4x74f"><span>2090</span></td><td id="LC2090" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2091" class="css-a4x74f"><span>2091</span></td><td id="LC2091" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.allowStateChanges = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2092" class="css-a4x74f"><span>2092</span></td><td id="LC2092" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2093" class="css-a4x74f"><span>2093</span></td><td id="LC2093" class="css-1dcdqdg"><code><span class="code-comment">       * Is it allowed to read observables at this point?
</span></code></td></tr><tr><td id="L2094" class="css-a4x74f"><span>2094</span></td><td id="LC2094" class="css-1dcdqdg"><code><span class="code-comment">       * Used to hold the state needed for `observableRequiresReaction`
</span></code></td></tr><tr><td id="L2095" class="css-a4x74f"><span>2095</span></td><td id="LC2095" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2096" class="css-a4x74f"><span>2096</span></td><td id="LC2096" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.allowStateReads = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2097" class="css-a4x74f"><span>2097</span></td><td id="LC2097" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2098" class="css-a4x74f"><span>2098</span></td><td id="LC2098" class="css-1dcdqdg"><code><span class="code-comment">       * If strict mode is enabled, state changes are by default not allowed
</span></code></td></tr><tr><td id="L2099" class="css-a4x74f"><span>2099</span></td><td id="LC2099" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2100" class="css-a4x74f"><span>2100</span></td><td id="LC2100" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.enforceActions = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2101" class="css-a4x74f"><span>2101</span></td><td id="LC2101" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2102" class="css-a4x74f"><span>2102</span></td><td id="LC2102" class="css-1dcdqdg"><code><span class="code-comment">       * Spy callbacks
</span></code></td></tr><tr><td id="L2103" class="css-a4x74f"><span>2103</span></td><td id="LC2103" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2104" class="css-a4x74f"><span>2104</span></td><td id="LC2104" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.spyListeners = [];
</code></td></tr><tr><td id="L2105" class="css-a4x74f"><span>2105</span></td><td id="LC2105" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2106" class="css-a4x74f"><span>2106</span></td><td id="LC2106" class="css-1dcdqdg"><code><span class="code-comment">       * Globally attached error handlers that react specifically to errors in reactions
</span></code></td></tr><tr><td id="L2107" class="css-a4x74f"><span>2107</span></td><td id="LC2107" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2108" class="css-a4x74f"><span>2108</span></td><td id="LC2108" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.globalReactionErrorHandlers = [];
</code></td></tr><tr><td id="L2109" class="css-a4x74f"><span>2109</span></td><td id="LC2109" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2110" class="css-a4x74f"><span>2110</span></td><td id="LC2110" class="css-1dcdqdg"><code><span class="code-comment">       * Warn if computed values are accessed outside a reactive context
</span></code></td></tr><tr><td id="L2111" class="css-a4x74f"><span>2111</span></td><td id="LC2111" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2112" class="css-a4x74f"><span>2112</span></td><td id="LC2112" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.computedRequiresReaction = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2113" class="css-a4x74f"><span>2113</span></td><td id="LC2113" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2114" class="css-a4x74f"><span>2114</span></td><td id="LC2114" class="css-1dcdqdg"><code><span class="code-comment">       * (Experimental)
</span></code></td></tr><tr><td id="L2115" class="css-a4x74f"><span>2115</span></td><td id="LC2115" class="css-1dcdqdg"><code><span class="code-comment">       * Warn if you try to create to derivation / reactive context without accessing any observable.
</span></code></td></tr><tr><td id="L2116" class="css-a4x74f"><span>2116</span></td><td id="LC2116" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2117" class="css-a4x74f"><span>2117</span></td><td id="LC2117" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.reactionRequiresObservable = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2118" class="css-a4x74f"><span>2118</span></td><td id="LC2118" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2119" class="css-a4x74f"><span>2119</span></td><td id="LC2119" class="css-1dcdqdg"><code><span class="code-comment">       * (Experimental)
</span></code></td></tr><tr><td id="L2120" class="css-a4x74f"><span>2120</span></td><td id="LC2120" class="css-1dcdqdg"><code><span class="code-comment">       * Warn if observables are accessed outside a reactive context
</span></code></td></tr><tr><td id="L2121" class="css-a4x74f"><span>2121</span></td><td id="LC2121" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2122" class="css-a4x74f"><span>2122</span></td><td id="LC2122" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.observableRequiresReaction = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2123" class="css-a4x74f"><span>2123</span></td><td id="LC2123" class="css-1dcdqdg"><code>      <span class="code-comment">/*
</span></code></td></tr><tr><td id="L2124" class="css-a4x74f"><span>2124</span></td><td id="LC2124" class="css-1dcdqdg"><code><span class="code-comment">       * Don't catch and rethrow exceptions. This is useful for inspecting the state of
</span></code></td></tr><tr><td id="L2125" class="css-a4x74f"><span>2125</span></td><td id="LC2125" class="css-1dcdqdg"><code><span class="code-comment">       * the stack when an exception occurs while debugging.
</span></code></td></tr><tr><td id="L2126" class="css-a4x74f"><span>2126</span></td><td id="LC2126" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2127" class="css-a4x74f"><span>2127</span></td><td id="LC2127" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.disableErrorBoundaries = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2128" class="css-a4x74f"><span>2128</span></td><td id="LC2128" class="css-1dcdqdg"><code>      <span class="code-comment">/*
</span></code></td></tr><tr><td id="L2129" class="css-a4x74f"><span>2129</span></td><td id="LC2129" class="css-1dcdqdg"><code><span class="code-comment">       * If true, we are already handling an exception in an action. Any errors in reactions should be suppressed, as
</span></code></td></tr><tr><td id="L2130" class="css-a4x74f"><span>2130</span></td><td id="LC2130" class="css-1dcdqdg"><code><span class="code-comment">       * they are not the cause, see: https://github.com/mobxjs/mobx/issues/1836
</span></code></td></tr><tr><td id="L2131" class="css-a4x74f"><span>2131</span></td><td id="LC2131" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2132" class="css-a4x74f"><span>2132</span></td><td id="LC2132" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.suppressReactionErrors = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2133" class="css-a4x74f"><span>2133</span></td><td id="LC2133" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.useProxies = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2134" class="css-a4x74f"><span>2134</span></td><td id="LC2134" class="css-1dcdqdg"><code>      <span class="code-comment">/*
</span></code></td></tr><tr><td id="L2135" class="css-a4x74f"><span>2135</span></td><td id="LC2135" class="css-1dcdqdg"><code><span class="code-comment">       * print warnings about code that would fail if proxies weren't available
</span></code></td></tr><tr><td id="L2136" class="css-a4x74f"><span>2136</span></td><td id="LC2136" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2137" class="css-a4x74f"><span>2137</span></td><td id="LC2137" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.verifyProxies = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2138" class="css-a4x74f"><span>2138</span></td><td id="LC2138" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2139" class="css-a4x74f"><span>2139</span></td><td id="LC2139" class="css-1dcdqdg"><code><span class="code-comment">       * False forces all object's descriptors to
</span></code></td></tr><tr><td id="L2140" class="css-a4x74f"><span>2140</span></td><td id="LC2140" class="css-1dcdqdg"><code><span class="code-comment">       * writable: true
</span></code></td></tr><tr><td id="L2141" class="css-a4x74f"><span>2141</span></td><td id="LC2141" class="css-1dcdqdg"><code><span class="code-comment">       * configurable: true
</span></code></td></tr><tr><td id="L2142" class="css-a4x74f"><span>2142</span></td><td id="LC2142" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L2143" class="css-a4x74f"><span>2143</span></td><td id="LC2143" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.safeDescriptors = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2144" class="css-a4x74f"><span>2144</span></td><td id="LC2144" class="css-1dcdqdg"><code>    };
</code></td></tr><tr><td id="L2145" class="css-a4x74f"><span>2145</span></td><td id="LC2145" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> canMergeGlobalState = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2146" class="css-a4x74f"><span>2146</span></td><td id="LC2146" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> isolateCalled = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2147" class="css-a4x74f"><span>2147</span></td><td id="LC2147" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> globalState = <span class="code-comment">/*#__PURE__*/</span><span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2148" class="css-a4x74f"><span>2148</span></td><td id="LC2148" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> global = <span class="code-comment">/*#__PURE__*/</span>getGlobal();
</code></td></tr><tr><td id="L2149" class="css-a4x74f"><span>2149</span></td><td id="LC2149" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (global.__mobxInstanceCount &gt; <span class="code-number">0</span> &amp;&amp; !global.__mobxGlobals) {
</code></td></tr><tr><td id="L2150" class="css-a4x74f"><span>2150</span></td><td id="LC2150" class="css-1dcdqdg"><code>        canMergeGlobalState = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2151" class="css-a4x74f"><span>2151</span></td><td id="LC2151" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2152" class="css-a4x74f"><span>2152</span></td><td id="LC2152" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (global.__mobxGlobals &amp;&amp; global.__mobxGlobals.version !== <span class="code-keyword">new</span> MobXGlobals().version) {
</code></td></tr><tr><td id="L2153" class="css-a4x74f"><span>2153</span></td><td id="LC2153" class="css-1dcdqdg"><code>        canMergeGlobalState = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2154" class="css-a4x74f"><span>2154</span></td><td id="LC2154" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2155" class="css-a4x74f"><span>2155</span></td><td id="LC2155" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!canMergeGlobalState) {
</code></td></tr><tr><td id="L2156" class="css-a4x74f"><span>2156</span></td><td id="LC2156" class="css-1dcdqdg"><code>        <span class="code-comment">// Because this is a IIFE we need to let isolateCalled a chance to change</span>
</code></td></tr><tr><td id="L2157" class="css-a4x74f"><span>2157</span></td><td id="LC2157" class="css-1dcdqdg"><code>        <span class="code-comment">// so we run it after the event loop completed at least 1 iteration</span>
</code></td></tr><tr><td id="L2158" class="css-a4x74f"><span>2158</span></td><td id="LC2158" class="css-1dcdqdg"><code>        setTimeout(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2159" class="css-a4x74f"><span>2159</span></td><td id="LC2159" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!isolateCalled) {
</code></td></tr><tr><td id="L2160" class="css-a4x74f"><span>2160</span></td><td id="LC2160" class="css-1dcdqdg"><code>            die(<span class="code-number">35</span>);
</code></td></tr><tr><td id="L2161" class="css-a4x74f"><span>2161</span></td><td id="LC2161" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L2162" class="css-a4x74f"><span>2162</span></td><td id="LC2162" class="css-1dcdqdg"><code>        }, <span class="code-number">1</span>);
</code></td></tr><tr><td id="L2163" class="css-a4x74f"><span>2163</span></td><td id="LC2163" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">new</span> MobXGlobals();
</code></td></tr><tr><td id="L2164" class="css-a4x74f"><span>2164</span></td><td id="LC2164" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (global.__mobxGlobals) {
</code></td></tr><tr><td id="L2165" class="css-a4x74f"><span>2165</span></td><td id="LC2165" class="css-1dcdqdg"><code>        global.__mobxInstanceCount += <span class="code-number">1</span>;
</code></td></tr><tr><td id="L2166" class="css-a4x74f"><span>2166</span></td><td id="LC2166" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!global.__mobxGlobals.UNCHANGED) {
</code></td></tr><tr><td id="L2167" class="css-a4x74f"><span>2167</span></td><td id="LC2167" class="css-1dcdqdg"><code>          global.__mobxGlobals.UNCHANGED = {};
</code></td></tr><tr><td id="L2168" class="css-a4x74f"><span>2168</span></td><td id="LC2168" class="css-1dcdqdg"><code>        } <span class="code-comment">// make merge backward compatible</span>
</code></td></tr><tr><td id="L2169" class="css-a4x74f"><span>2169</span></td><td id="LC2169" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> global.__mobxGlobals;
</code></td></tr><tr><td id="L2170" class="css-a4x74f"><span>2170</span></td><td id="LC2170" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2171" class="css-a4x74f"><span>2171</span></td><td id="LC2171" class="css-1dcdqdg"><code>        global.__mobxInstanceCount = <span class="code-number">1</span>;
</code></td></tr><tr><td id="L2172" class="css-a4x74f"><span>2172</span></td><td id="LC2172" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> global.__mobxGlobals = <span class="code-comment">/*#__PURE__*/</span><span class="code-keyword">new</span> MobXGlobals();
</code></td></tr><tr><td id="L2173" class="css-a4x74f"><span>2173</span></td><td id="LC2173" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2174" class="css-a4x74f"><span>2174</span></td><td id="LC2174" class="css-1dcdqdg"><code>    }();
</code></td></tr><tr><td id="L2175" class="css-a4x74f"><span>2175</span></td><td id="LC2175" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isolateGlobalState</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2176" class="css-a4x74f"><span>2176</span></td><td id="LC2176" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (globalState.pendingReactions.length || globalState.inBatch || globalState.isRunningReactions) {
</code></td></tr><tr><td id="L2177" class="css-a4x74f"><span>2177</span></td><td id="LC2177" class="css-1dcdqdg"><code>        die(<span class="code-number">36</span>);
</code></td></tr><tr><td id="L2178" class="css-a4x74f"><span>2178</span></td><td id="LC2178" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2179" class="css-a4x74f"><span>2179</span></td><td id="LC2179" class="css-1dcdqdg"><code>      isolateCalled = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2180" class="css-a4x74f"><span>2180</span></td><td id="LC2180" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (canMergeGlobalState) {
</code></td></tr><tr><td id="L2181" class="css-a4x74f"><span>2181</span></td><td id="LC2181" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> global = getGlobal();
</code></td></tr><tr><td id="L2182" class="css-a4x74f"><span>2182</span></td><td id="LC2182" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (--global.__mobxInstanceCount === <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L2183" class="css-a4x74f"><span>2183</span></td><td id="LC2183" class="css-1dcdqdg"><code>          global.__mobxGlobals = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L2184" class="css-a4x74f"><span>2184</span></td><td id="LC2184" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2185" class="css-a4x74f"><span>2185</span></td><td id="LC2185" class="css-1dcdqdg"><code>        globalState = <span class="code-keyword">new</span> MobXGlobals();
</code></td></tr><tr><td id="L2186" class="css-a4x74f"><span>2186</span></td><td id="LC2186" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2187" class="css-a4x74f"><span>2187</span></td><td id="LC2187" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2188" class="css-a4x74f"><span>2188</span></td><td id="LC2188" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getGlobalState</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2189" class="css-a4x74f"><span>2189</span></td><td id="LC2189" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> globalState;
</code></td></tr><tr><td id="L2190" class="css-a4x74f"><span>2190</span></td><td id="LC2190" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2191" class="css-a4x74f"><span>2191</span></td><td id="LC2191" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2192" class="css-a4x74f"><span>2192</span></td><td id="LC2192" class="css-1dcdqdg"><code><span class="code-comment">     * For testing purposes only; this will break the internal state of existing observables,
</span></code></td></tr><tr><td id="L2193" class="css-a4x74f"><span>2193</span></td><td id="LC2193" class="css-1dcdqdg"><code><span class="code-comment">     * but can be used to get back at a stable state after throwing errors
</span></code></td></tr><tr><td id="L2194" class="css-a4x74f"><span>2194</span></td><td id="LC2194" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L2195" class="css-a4x74f"><span>2195</span></td><td id="LC2195" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">resetGlobalState</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2196" class="css-a4x74f"><span>2196</span></td><td id="LC2196" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> defaultGlobals = <span class="code-keyword">new</span> MobXGlobals();
</code></td></tr><tr><td id="L2197" class="css-a4x74f"><span>2197</span></td><td id="LC2197" class="css-1dcdqdg"><code>      <span class="code-keyword">for</span> (<span class="code-keyword">var</span> key <span class="code-keyword">in</span> defaultGlobals) {
</code></td></tr><tr><td id="L2198" class="css-a4x74f"><span>2198</span></td><td id="LC2198" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (persistentKeys.indexOf(key) === <span class="code-number">-1</span>) {
</code></td></tr><tr><td id="L2199" class="css-a4x74f"><span>2199</span></td><td id="LC2199" class="css-1dcdqdg"><code>          globalState[key] = defaultGlobals[key];
</code></td></tr><tr><td id="L2200" class="css-a4x74f"><span>2200</span></td><td id="LC2200" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2201" class="css-a4x74f"><span>2201</span></td><td id="LC2201" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2202" class="css-a4x74f"><span>2202</span></td><td id="LC2202" class="css-1dcdqdg"><code>      globalState.allowStateChanges = !globalState.enforceActions;
</code></td></tr><tr><td id="L2203" class="css-a4x74f"><span>2203</span></td><td id="LC2203" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2204" class="css-a4x74f"><span>2204</span></td><td id="LC2204" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2205" class="css-a4x74f"><span>2205</span></td><td id="LC2205" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">hasObservers</span>(<span class="code-params">observable</span>) </span>{
</code></td></tr><tr><td id="L2206" class="css-a4x74f"><span>2206</span></td><td id="LC2206" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> observable.observers_ &amp;&amp; observable.observers_.size &gt; <span class="code-number">0</span>;
</code></td></tr><tr><td id="L2207" class="css-a4x74f"><span>2207</span></td><td id="LC2207" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2208" class="css-a4x74f"><span>2208</span></td><td id="LC2208" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getObservers</span>(<span class="code-params">observable</span>) </span>{
</code></td></tr><tr><td id="L2209" class="css-a4x74f"><span>2209</span></td><td id="LC2209" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> observable.observers_;
</code></td></tr><tr><td id="L2210" class="css-a4x74f"><span>2210</span></td><td id="LC2210" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2211" class="css-a4x74f"><span>2211</span></td><td id="LC2211" class="css-1dcdqdg"><code>    <span class="code-comment">// function invariantObservers(observable: IObservable) {</span>
</code></td></tr><tr><td id="L2212" class="css-a4x74f"><span>2212</span></td><td id="LC2212" class="css-1dcdqdg"><code>    <span class="code-comment">//     const list = observable.observers</span>
</code></td></tr><tr><td id="L2213" class="css-a4x74f"><span>2213</span></td><td id="LC2213" class="css-1dcdqdg"><code>    <span class="code-comment">//     const map = observable.observersIndexes</span>
</code></td></tr><tr><td id="L2214" class="css-a4x74f"><span>2214</span></td><td id="LC2214" class="css-1dcdqdg"><code>    <span class="code-comment">//     const l = list.length</span>
</code></td></tr><tr><td id="L2215" class="css-a4x74f"><span>2215</span></td><td id="LC2215" class="css-1dcdqdg"><code>    <span class="code-comment">//     for (let i = 0; i &lt; l; i++) {</span>
</code></td></tr><tr><td id="L2216" class="css-a4x74f"><span>2216</span></td><td id="LC2216" class="css-1dcdqdg"><code>    <span class="code-comment">//         const id = list[i].__mapid</span>
</code></td></tr><tr><td id="L2217" class="css-a4x74f"><span>2217</span></td><td id="LC2217" class="css-1dcdqdg"><code>    <span class="code-comment">//         if (i) {</span>
</code></td></tr><tr><td id="L2218" class="css-a4x74f"><span>2218</span></td><td id="LC2218" class="css-1dcdqdg"><code>    <span class="code-comment">//             invariant(map[id] === i, "INTERNAL ERROR maps derivation.__mapid to index in list") // for performance</span>
</code></td></tr><tr><td id="L2219" class="css-a4x74f"><span>2219</span></td><td id="LC2219" class="css-1dcdqdg"><code>    <span class="code-comment">//         } else {</span>
</code></td></tr><tr><td id="L2220" class="css-a4x74f"><span>2220</span></td><td id="LC2220" class="css-1dcdqdg"><code>    <span class="code-comment">//             invariant(!(id in map), "INTERNAL ERROR observer on index 0 shouldn't be held in map.") // for performance</span>
</code></td></tr><tr><td id="L2221" class="css-a4x74f"><span>2221</span></td><td id="LC2221" class="css-1dcdqdg"><code>    <span class="code-comment">//         }</span>
</code></td></tr><tr><td id="L2222" class="css-a4x74f"><span>2222</span></td><td id="LC2222" class="css-1dcdqdg"><code>    <span class="code-comment">//     }</span>
</code></td></tr><tr><td id="L2223" class="css-a4x74f"><span>2223</span></td><td id="LC2223" class="css-1dcdqdg"><code>    <span class="code-comment">//     invariant(</span>
</code></td></tr><tr><td id="L2224" class="css-a4x74f"><span>2224</span></td><td id="LC2224" class="css-1dcdqdg"><code>    <span class="code-comment">//         list.length === 0 || Object.keys(map).length === list.length - 1,</span>
</code></td></tr><tr><td id="L2225" class="css-a4x74f"><span>2225</span></td><td id="LC2225" class="css-1dcdqdg"><code>    <span class="code-comment">//         "INTERNAL ERROR there is no junk in map"</span>
</code></td></tr><tr><td id="L2226" class="css-a4x74f"><span>2226</span></td><td id="LC2226" class="css-1dcdqdg"><code>    <span class="code-comment">//     )</span>
</code></td></tr><tr><td id="L2227" class="css-a4x74f"><span>2227</span></td><td id="LC2227" class="css-1dcdqdg"><code>    <span class="code-comment">// }</span>
</code></td></tr><tr><td id="L2228" class="css-a4x74f"><span>2228</span></td><td id="LC2228" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">addObserver</span>(<span class="code-params">observable, node</span>) </span>{
</code></td></tr><tr><td id="L2229" class="css-a4x74f"><span>2229</span></td><td id="LC2229" class="css-1dcdqdg"><code>      <span class="code-comment">// invariant(node.dependenciesState !== -1, "INTERNAL ERROR, can add only dependenciesState !== -1");</span>
</code></td></tr><tr><td id="L2230" class="css-a4x74f"><span>2230</span></td><td id="LC2230" class="css-1dcdqdg"><code>      <span class="code-comment">// invariant(observable._observers.indexOf(node) === -1, "INTERNAL ERROR add already added node");</span>
</code></td></tr><tr><td id="L2231" class="css-a4x74f"><span>2231</span></td><td id="LC2231" class="css-1dcdqdg"><code>      <span class="code-comment">// invariantObservers(observable);</span>
</code></td></tr><tr><td id="L2232" class="css-a4x74f"><span>2232</span></td><td id="LC2232" class="css-1dcdqdg"><code>      observable.observers_.add(node);
</code></td></tr><tr><td id="L2233" class="css-a4x74f"><span>2233</span></td><td id="LC2233" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (observable.lowestObserverState_ &gt; node.dependenciesState_) {
</code></td></tr><tr><td id="L2234" class="css-a4x74f"><span>2234</span></td><td id="LC2234" class="css-1dcdqdg"><code>        observable.lowestObserverState_ = node.dependenciesState_;
</code></td></tr><tr><td id="L2235" class="css-a4x74f"><span>2235</span></td><td id="LC2235" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2236" class="css-a4x74f"><span>2236</span></td><td id="LC2236" class="css-1dcdqdg"><code>      <span class="code-comment">// invariantObservers(observable);</span>
</code></td></tr><tr><td id="L2237" class="css-a4x74f"><span>2237</span></td><td id="LC2237" class="css-1dcdqdg"><code>      <span class="code-comment">// invariant(observable._observers.indexOf(node) !== -1, "INTERNAL ERROR didn't add node");</span>
</code></td></tr><tr><td id="L2238" class="css-a4x74f"><span>2238</span></td><td id="LC2238" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2239" class="css-a4x74f"><span>2239</span></td><td id="LC2239" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">removeObserver</span>(<span class="code-params">observable, node</span>) </span>{
</code></td></tr><tr><td id="L2240" class="css-a4x74f"><span>2240</span></td><td id="LC2240" class="css-1dcdqdg"><code>      <span class="code-comment">// invariant(globalState.inBatch &gt; 0, "INTERNAL ERROR, remove should be called only inside batch");</span>
</code></td></tr><tr><td id="L2241" class="css-a4x74f"><span>2241</span></td><td id="LC2241" class="css-1dcdqdg"><code>      <span class="code-comment">// invariant(observable._observers.indexOf(node) !== -1, "INTERNAL ERROR remove already removed node");</span>
</code></td></tr><tr><td id="L2242" class="css-a4x74f"><span>2242</span></td><td id="LC2242" class="css-1dcdqdg"><code>      <span class="code-comment">// invariantObservers(observable);</span>
</code></td></tr><tr><td id="L2243" class="css-a4x74f"><span>2243</span></td><td id="LC2243" class="css-1dcdqdg"><code>      observable.observers_[<span class="code-string">"delete"</span>](node);
</code></td></tr><tr><td id="L2244" class="css-a4x74f"><span>2244</span></td><td id="LC2244" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (observable.observers_.size === <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L2245" class="css-a4x74f"><span>2245</span></td><td id="LC2245" class="css-1dcdqdg"><code>        <span class="code-comment">// deleting last observer</span>
</code></td></tr><tr><td id="L2246" class="css-a4x74f"><span>2246</span></td><td id="LC2246" class="css-1dcdqdg"><code>        queueForUnobservation(observable);
</code></td></tr><tr><td id="L2247" class="css-a4x74f"><span>2247</span></td><td id="LC2247" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2248" class="css-a4x74f"><span>2248</span></td><td id="LC2248" class="css-1dcdqdg"><code>      <span class="code-comment">// invariantObservers(observable);</span>
</code></td></tr><tr><td id="L2249" class="css-a4x74f"><span>2249</span></td><td id="LC2249" class="css-1dcdqdg"><code>      <span class="code-comment">// invariant(observable._observers.indexOf(node) === -1, "INTERNAL ERROR remove already removed node2");</span>
</code></td></tr><tr><td id="L2250" class="css-a4x74f"><span>2250</span></td><td id="LC2250" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2251" class="css-a4x74f"><span>2251</span></td><td id="LC2251" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">queueForUnobservation</span>(<span class="code-params">observable</span>) </span>{
</code></td></tr><tr><td id="L2252" class="css-a4x74f"><span>2252</span></td><td id="LC2252" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (observable.isPendingUnobservation === <span class="code-literal">false</span>) {
</code></td></tr><tr><td id="L2253" class="css-a4x74f"><span>2253</span></td><td id="LC2253" class="css-1dcdqdg"><code>        <span class="code-comment">// invariant(observable._observers.length === 0, "INTERNAL ERROR, should only queue for unobservation unobserved observables");</span>
</code></td></tr><tr><td id="L2254" class="css-a4x74f"><span>2254</span></td><td id="LC2254" class="css-1dcdqdg"><code>        observable.isPendingUnobservation = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2255" class="css-a4x74f"><span>2255</span></td><td id="LC2255" class="css-1dcdqdg"><code>        globalState.pendingUnobservations.push(observable);
</code></td></tr><tr><td id="L2256" class="css-a4x74f"><span>2256</span></td><td id="LC2256" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2257" class="css-a4x74f"><span>2257</span></td><td id="LC2257" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2258" class="css-a4x74f"><span>2258</span></td><td id="LC2258" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2259" class="css-a4x74f"><span>2259</span></td><td id="LC2259" class="css-1dcdqdg"><code><span class="code-comment">     * Batch starts a transaction, at least for purposes of memoizing ComputedValues when nothing else does.
</span></code></td></tr><tr><td id="L2260" class="css-a4x74f"><span>2260</span></td><td id="LC2260" class="css-1dcdqdg"><code><span class="code-comment">     * During a batch `onBecomeUnobserved` will be called at most once per observable.
</span></code></td></tr><tr><td id="L2261" class="css-a4x74f"><span>2261</span></td><td id="LC2261" class="css-1dcdqdg"><code><span class="code-comment">     * Avoids unnecessary recalculations.
</span></code></td></tr><tr><td id="L2262" class="css-a4x74f"><span>2262</span></td><td id="LC2262" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L2263" class="css-a4x74f"><span>2263</span></td><td id="LC2263" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">startBatch</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2264" class="css-a4x74f"><span>2264</span></td><td id="LC2264" class="css-1dcdqdg"><code>      globalState.inBatch++;
</code></td></tr><tr><td id="L2265" class="css-a4x74f"><span>2265</span></td><td id="LC2265" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2266" class="css-a4x74f"><span>2266</span></td><td id="LC2266" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">endBatch</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2267" class="css-a4x74f"><span>2267</span></td><td id="LC2267" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (--globalState.inBatch === <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L2268" class="css-a4x74f"><span>2268</span></td><td id="LC2268" class="css-1dcdqdg"><code>        runReactions();
</code></td></tr><tr><td id="L2269" class="css-a4x74f"><span>2269</span></td><td id="LC2269" class="css-1dcdqdg"><code>        <span class="code-comment">// the batch is actually about to finish, all unobserving should happen here.</span>
</code></td></tr><tr><td id="L2270" class="css-a4x74f"><span>2270</span></td><td id="LC2270" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> list = globalState.pendingUnobservations;
</code></td></tr><tr><td id="L2271" class="css-a4x74f"><span>2271</span></td><td id="LC2271" class="css-1dcdqdg"><code>        <span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>; i &lt; list.length; i++) {
</code></td></tr><tr><td id="L2272" class="css-a4x74f"><span>2272</span></td><td id="LC2272" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> observable = list[i];
</code></td></tr><tr><td id="L2273" class="css-a4x74f"><span>2273</span></td><td id="LC2273" class="css-1dcdqdg"><code>          observable.isPendingUnobservation = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2274" class="css-a4x74f"><span>2274</span></td><td id="LC2274" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (observable.observers_.size === <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L2275" class="css-a4x74f"><span>2275</span></td><td id="LC2275" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (observable.isBeingObserved) {
</code></td></tr><tr><td id="L2276" class="css-a4x74f"><span>2276</span></td><td id="LC2276" class="css-1dcdqdg"><code>              <span class="code-comment">// if this observable had reactive observers, trigger the hooks</span>
</code></td></tr><tr><td id="L2277" class="css-a4x74f"><span>2277</span></td><td id="LC2277" class="css-1dcdqdg"><code>              observable.isBeingObserved = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2278" class="css-a4x74f"><span>2278</span></td><td id="LC2278" class="css-1dcdqdg"><code>              observable.onBUO();
</code></td></tr><tr><td id="L2279" class="css-a4x74f"><span>2279</span></td><td id="LC2279" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L2280" class="css-a4x74f"><span>2280</span></td><td id="LC2280" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (observable <span class="code-keyword">instanceof</span> ComputedValue) {
</code></td></tr><tr><td id="L2281" class="css-a4x74f"><span>2281</span></td><td id="LC2281" class="css-1dcdqdg"><code>              <span class="code-comment">// computed values are automatically teared down when the last observer leaves</span>
</code></td></tr><tr><td id="L2282" class="css-a4x74f"><span>2282</span></td><td id="LC2282" class="css-1dcdqdg"><code>              <span class="code-comment">// this process happens recursively, this computed might be the last observabe of another, etc..</span>
</code></td></tr><tr><td id="L2283" class="css-a4x74f"><span>2283</span></td><td id="LC2283" class="css-1dcdqdg"><code>              observable.suspend_();
</code></td></tr><tr><td id="L2284" class="css-a4x74f"><span>2284</span></td><td id="LC2284" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L2285" class="css-a4x74f"><span>2285</span></td><td id="LC2285" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L2286" class="css-a4x74f"><span>2286</span></td><td id="LC2286" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2287" class="css-a4x74f"><span>2287</span></td><td id="LC2287" class="css-1dcdqdg"><code>        globalState.pendingUnobservations = [];
</code></td></tr><tr><td id="L2288" class="css-a4x74f"><span>2288</span></td><td id="LC2288" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2289" class="css-a4x74f"><span>2289</span></td><td id="LC2289" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2290" class="css-a4x74f"><span>2290</span></td><td id="LC2290" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">reportObserved</span>(<span class="code-params">observable</span>) </span>{
</code></td></tr><tr><td id="L2291" class="css-a4x74f"><span>2291</span></td><td id="LC2291" class="css-1dcdqdg"><code>      checkIfStateReadsAreAllowed(observable);
</code></td></tr><tr><td id="L2292" class="css-a4x74f"><span>2292</span></td><td id="LC2292" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> derivation = globalState.trackingDerivation;
</code></td></tr><tr><td id="L2293" class="css-a4x74f"><span>2293</span></td><td id="LC2293" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (derivation !== <span class="code-literal">null</span>) {
</code></td></tr><tr><td id="L2294" class="css-a4x74f"><span>2294</span></td><td id="LC2294" class="css-1dcdqdg"><code>        <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2295" class="css-a4x74f"><span>2295</span></td><td id="LC2295" class="css-1dcdqdg"><code><span class="code-comment">         * Simple optimization, give each derivation run an unique id (runId)
</span></code></td></tr><tr><td id="L2296" class="css-a4x74f"><span>2296</span></td><td id="LC2296" class="css-1dcdqdg"><code><span class="code-comment">         * Check if last time this observable was accessed the same runId is used
</span></code></td></tr><tr><td id="L2297" class="css-a4x74f"><span>2297</span></td><td id="LC2297" class="css-1dcdqdg"><code><span class="code-comment">         * if this is the case, the relation is already known
</span></code></td></tr><tr><td id="L2298" class="css-a4x74f"><span>2298</span></td><td id="LC2298" class="css-1dcdqdg"><code><span class="code-comment">         */</span>
</code></td></tr><tr><td id="L2299" class="css-a4x74f"><span>2299</span></td><td id="LC2299" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (derivation.runId_ !== observable.lastAccessedBy_) {
</code></td></tr><tr><td id="L2300" class="css-a4x74f"><span>2300</span></td><td id="LC2300" class="css-1dcdqdg"><code>          observable.lastAccessedBy_ = derivation.runId_;
</code></td></tr><tr><td id="L2301" class="css-a4x74f"><span>2301</span></td><td id="LC2301" class="css-1dcdqdg"><code>          <span class="code-comment">// Tried storing newObserving, or observing, or both as Set, but performance didn't come close...</span>
</code></td></tr><tr><td id="L2302" class="css-a4x74f"><span>2302</span></td><td id="LC2302" class="css-1dcdqdg"><code>          derivation.newObserving_[derivation.unboundDepsCount_++] = observable;
</code></td></tr><tr><td id="L2303" class="css-a4x74f"><span>2303</span></td><td id="LC2303" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!observable.isBeingObserved &amp;&amp; globalState.trackingContext) {
</code></td></tr><tr><td id="L2304" class="css-a4x74f"><span>2304</span></td><td id="LC2304" class="css-1dcdqdg"><code>            observable.isBeingObserved = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2305" class="css-a4x74f"><span>2305</span></td><td id="LC2305" class="css-1dcdqdg"><code>            observable.onBO();
</code></td></tr><tr><td id="L2306" class="css-a4x74f"><span>2306</span></td><td id="LC2306" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L2307" class="css-a4x74f"><span>2307</span></td><td id="LC2307" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2308" class="css-a4x74f"><span>2308</span></td><td id="LC2308" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> observable.isBeingObserved;
</code></td></tr><tr><td id="L2309" class="css-a4x74f"><span>2309</span></td><td id="LC2309" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (observable.observers_.size === <span class="code-number">0</span> &amp;&amp; globalState.inBatch &gt; <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L2310" class="css-a4x74f"><span>2310</span></td><td id="LC2310" class="css-1dcdqdg"><code>        queueForUnobservation(observable);
</code></td></tr><tr><td id="L2311" class="css-a4x74f"><span>2311</span></td><td id="LC2311" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2312" class="css-a4x74f"><span>2312</span></td><td id="LC2312" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2313" class="css-a4x74f"><span>2313</span></td><td id="LC2313" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2314" class="css-a4x74f"><span>2314</span></td><td id="LC2314" class="css-1dcdqdg"><code>    <span class="code-comment">// function invariantLOS(observable: IObservable, msg: string) {</span>
</code></td></tr><tr><td id="L2315" class="css-a4x74f"><span>2315</span></td><td id="LC2315" class="css-1dcdqdg"><code>    <span class="code-comment">//     // it's expensive so better not run it in produciton. but temporarily helpful for testing</span>
</code></td></tr><tr><td id="L2316" class="css-a4x74f"><span>2316</span></td><td id="LC2316" class="css-1dcdqdg"><code>    <span class="code-comment">//     const min = getObservers(observable).reduce((a, b) =&gt; Math.min(a, b.dependenciesState), 2)</span>
</code></td></tr><tr><td id="L2317" class="css-a4x74f"><span>2317</span></td><td id="LC2317" class="css-1dcdqdg"><code>    <span class="code-comment">//     if (min &gt;= observable.lowestObserverState) return // &lt;- the only assumption about `lowestObserverState`</span>
</code></td></tr><tr><td id="L2318" class="css-a4x74f"><span>2318</span></td><td id="LC2318" class="css-1dcdqdg"><code>    <span class="code-comment">//     throw new Error(</span>
</code></td></tr><tr><td id="L2319" class="css-a4x74f"><span>2319</span></td><td id="LC2319" class="css-1dcdqdg"><code>    <span class="code-comment">//         "lowestObserverState is wrong for " +</span>
</code></td></tr><tr><td id="L2320" class="css-a4x74f"><span>2320</span></td><td id="LC2320" class="css-1dcdqdg"><code>    <span class="code-comment">//             msg +</span>
</code></td></tr><tr><td id="L2321" class="css-a4x74f"><span>2321</span></td><td id="LC2321" class="css-1dcdqdg"><code>    <span class="code-comment">//             " because " +</span>
</code></td></tr><tr><td id="L2322" class="css-a4x74f"><span>2322</span></td><td id="LC2322" class="css-1dcdqdg"><code>    <span class="code-comment">//             min +</span>
</code></td></tr><tr><td id="L2323" class="css-a4x74f"><span>2323</span></td><td id="LC2323" class="css-1dcdqdg"><code>    <span class="code-comment">//             " &lt; " +</span>
</code></td></tr><tr><td id="L2324" class="css-a4x74f"><span>2324</span></td><td id="LC2324" class="css-1dcdqdg"><code>    <span class="code-comment">//             observable.lowestObserverState</span>
</code></td></tr><tr><td id="L2325" class="css-a4x74f"><span>2325</span></td><td id="LC2325" class="css-1dcdqdg"><code>    <span class="code-comment">//     )</span>
</code></td></tr><tr><td id="L2326" class="css-a4x74f"><span>2326</span></td><td id="LC2326" class="css-1dcdqdg"><code>    <span class="code-comment">// }</span>
</code></td></tr><tr><td id="L2327" class="css-a4x74f"><span>2327</span></td><td id="LC2327" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2328" class="css-a4x74f"><span>2328</span></td><td id="LC2328" class="css-1dcdqdg"><code><span class="code-comment">     * <span class="code-doctag">NOTE:</span> current propagation mechanism will in case of self reruning autoruns behave unexpectedly
</span></code></td></tr><tr><td id="L2329" class="css-a4x74f"><span>2329</span></td><td id="LC2329" class="css-1dcdqdg"><code><span class="code-comment">     * It will propagate changes to observers from previous run
</span></code></td></tr><tr><td id="L2330" class="css-a4x74f"><span>2330</span></td><td id="LC2330" class="css-1dcdqdg"><code><span class="code-comment">     * It's hard or maybe impossible (with reasonable perf) to get it right with current approach
</span></code></td></tr><tr><td id="L2331" class="css-a4x74f"><span>2331</span></td><td id="LC2331" class="css-1dcdqdg"><code><span class="code-comment">     * Hopefully self reruning autoruns aren't a feature people should depend on
</span></code></td></tr><tr><td id="L2332" class="css-a4x74f"><span>2332</span></td><td id="LC2332" class="css-1dcdqdg"><code><span class="code-comment">     * Also most basic use cases should be ok
</span></code></td></tr><tr><td id="L2333" class="css-a4x74f"><span>2333</span></td><td id="LC2333" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L2334" class="css-a4x74f"><span>2334</span></td><td id="LC2334" class="css-1dcdqdg"><code>    <span class="code-comment">// Called by Atom when its value changes</span>
</code></td></tr><tr><td id="L2335" class="css-a4x74f"><span>2335</span></td><td id="LC2335" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">propagateChanged</span>(<span class="code-params">observable</span>) </span>{
</code></td></tr><tr><td id="L2336" class="css-a4x74f"><span>2336</span></td><td id="LC2336" class="css-1dcdqdg"><code>      <span class="code-comment">// invariantLOS(observable, "changed start");</span>
</code></td></tr><tr><td id="L2337" class="css-a4x74f"><span>2337</span></td><td id="LC2337" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (observable.lowestObserverState_ === IDerivationState_.STALE_) {
</code></td></tr><tr><td id="L2338" class="css-a4x74f"><span>2338</span></td><td id="LC2338" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L2339" class="css-a4x74f"><span>2339</span></td><td id="LC2339" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2340" class="css-a4x74f"><span>2340</span></td><td id="LC2340" class="css-1dcdqdg"><code>      observable.lowestObserverState_ = IDerivationState_.STALE_;
</code></td></tr><tr><td id="L2341" class="css-a4x74f"><span>2341</span></td><td id="LC2341" class="css-1dcdqdg"><code>      <span class="code-comment">// Ideally we use for..of here, but the downcompiled version is really slow...</span>
</code></td></tr><tr><td id="L2342" class="css-a4x74f"><span>2342</span></td><td id="LC2342" class="css-1dcdqdg"><code>      observable.observers_.forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">d</span>) </span>{
</code></td></tr><tr><td id="L2343" class="css-a4x74f"><span>2343</span></td><td id="LC2343" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (d.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {
</code></td></tr><tr><td id="L2344" class="css-a4x74f"><span>2344</span></td><td id="LC2344" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> ( d.isTracing_ !== TraceMode.NONE) {
</code></td></tr><tr><td id="L2345" class="css-a4x74f"><span>2345</span></td><td id="LC2345" class="css-1dcdqdg"><code>            logTraceInfo(d, observable);
</code></td></tr><tr><td id="L2346" class="css-a4x74f"><span>2346</span></td><td id="LC2346" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L2347" class="css-a4x74f"><span>2347</span></td><td id="LC2347" class="css-1dcdqdg"><code>          d.onBecomeStale_();
</code></td></tr><tr><td id="L2348" class="css-a4x74f"><span>2348</span></td><td id="LC2348" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2349" class="css-a4x74f"><span>2349</span></td><td id="LC2349" class="css-1dcdqdg"><code>        d.dependenciesState_ = IDerivationState_.STALE_;
</code></td></tr><tr><td id="L2350" class="css-a4x74f"><span>2350</span></td><td id="LC2350" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L2351" class="css-a4x74f"><span>2351</span></td><td id="LC2351" class="css-1dcdqdg"><code>      <span class="code-comment">// invariantLOS(observable, "changed end");</span>
</code></td></tr><tr><td id="L2352" class="css-a4x74f"><span>2352</span></td><td id="LC2352" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2353" class="css-a4x74f"><span>2353</span></td><td id="LC2353" class="css-1dcdqdg"><code>    <span class="code-comment">// Called by ComputedValue when it recalculate and its value changed</span>
</code></td></tr><tr><td id="L2354" class="css-a4x74f"><span>2354</span></td><td id="LC2354" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">propagateChangeConfirmed</span>(<span class="code-params">observable</span>) </span>{
</code></td></tr><tr><td id="L2355" class="css-a4x74f"><span>2355</span></td><td id="LC2355" class="css-1dcdqdg"><code>      <span class="code-comment">// invariantLOS(observable, "confirmed start");</span>
</code></td></tr><tr><td id="L2356" class="css-a4x74f"><span>2356</span></td><td id="LC2356" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (observable.lowestObserverState_ === IDerivationState_.STALE_) {
</code></td></tr><tr><td id="L2357" class="css-a4x74f"><span>2357</span></td><td id="LC2357" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L2358" class="css-a4x74f"><span>2358</span></td><td id="LC2358" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2359" class="css-a4x74f"><span>2359</span></td><td id="LC2359" class="css-1dcdqdg"><code>      observable.lowestObserverState_ = IDerivationState_.STALE_;
</code></td></tr><tr><td id="L2360" class="css-a4x74f"><span>2360</span></td><td id="LC2360" class="css-1dcdqdg"><code>      observable.observers_.forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">d</span>) </span>{
</code></td></tr><tr><td id="L2361" class="css-a4x74f"><span>2361</span></td><td id="LC2361" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (d.dependenciesState_ === IDerivationState_.POSSIBLY_STALE_) {
</code></td></tr><tr><td id="L2362" class="css-a4x74f"><span>2362</span></td><td id="LC2362" class="css-1dcdqdg"><code>          d.dependenciesState_ = IDerivationState_.STALE_;
</code></td></tr><tr><td id="L2363" class="css-a4x74f"><span>2363</span></td><td id="LC2363" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> ( d.isTracing_ !== TraceMode.NONE) {
</code></td></tr><tr><td id="L2364" class="css-a4x74f"><span>2364</span></td><td id="LC2364" class="css-1dcdqdg"><code>            logTraceInfo(d, observable);
</code></td></tr><tr><td id="L2365" class="css-a4x74f"><span>2365</span></td><td id="LC2365" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L2366" class="css-a4x74f"><span>2366</span></td><td id="LC2366" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (d.dependenciesState_ === IDerivationState_.UP_TO_DATE_ <span class="code-comment">// this happens during computing of `d`, just keep lowestObserverState up to date.</span>
</code></td></tr><tr><td id="L2367" class="css-a4x74f"><span>2367</span></td><td id="LC2367" class="css-1dcdqdg"><code>        ) {
</code></td></tr><tr><td id="L2368" class="css-a4x74f"><span>2368</span></td><td id="LC2368" class="css-1dcdqdg"><code>          observable.lowestObserverState_ = IDerivationState_.UP_TO_DATE_;
</code></td></tr><tr><td id="L2369" class="css-a4x74f"><span>2369</span></td><td id="LC2369" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2370" class="css-a4x74f"><span>2370</span></td><td id="LC2370" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L2371" class="css-a4x74f"><span>2371</span></td><td id="LC2371" class="css-1dcdqdg"><code>      <span class="code-comment">// invariantLOS(observable, "confirmed end");</span>
</code></td></tr><tr><td id="L2372" class="css-a4x74f"><span>2372</span></td><td id="LC2372" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2373" class="css-a4x74f"><span>2373</span></td><td id="LC2373" class="css-1dcdqdg"><code>    <span class="code-comment">// Used by computed when its dependency changed, but we don't wan't to immediately recompute.</span>
</code></td></tr><tr><td id="L2374" class="css-a4x74f"><span>2374</span></td><td id="LC2374" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">propagateMaybeChanged</span>(<span class="code-params">observable</span>) </span>{
</code></td></tr><tr><td id="L2375" class="css-a4x74f"><span>2375</span></td><td id="LC2375" class="css-1dcdqdg"><code>      <span class="code-comment">// invariantLOS(observable, "maybe start");</span>
</code></td></tr><tr><td id="L2376" class="css-a4x74f"><span>2376</span></td><td id="LC2376" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (observable.lowestObserverState_ !== IDerivationState_.UP_TO_DATE_) {
</code></td></tr><tr><td id="L2377" class="css-a4x74f"><span>2377</span></td><td id="LC2377" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L2378" class="css-a4x74f"><span>2378</span></td><td id="LC2378" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2379" class="css-a4x74f"><span>2379</span></td><td id="LC2379" class="css-1dcdqdg"><code>      observable.lowestObserverState_ = IDerivationState_.POSSIBLY_STALE_;
</code></td></tr><tr><td id="L2380" class="css-a4x74f"><span>2380</span></td><td id="LC2380" class="css-1dcdqdg"><code>      observable.observers_.forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">d</span>) </span>{
</code></td></tr><tr><td id="L2381" class="css-a4x74f"><span>2381</span></td><td id="LC2381" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (d.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {
</code></td></tr><tr><td id="L2382" class="css-a4x74f"><span>2382</span></td><td id="LC2382" class="css-1dcdqdg"><code>          d.dependenciesState_ = IDerivationState_.POSSIBLY_STALE_;
</code></td></tr><tr><td id="L2383" class="css-a4x74f"><span>2383</span></td><td id="LC2383" class="css-1dcdqdg"><code>          d.onBecomeStale_();
</code></td></tr><tr><td id="L2384" class="css-a4x74f"><span>2384</span></td><td id="LC2384" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2385" class="css-a4x74f"><span>2385</span></td><td id="LC2385" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L2386" class="css-a4x74f"><span>2386</span></td><td id="LC2386" class="css-1dcdqdg"><code>      <span class="code-comment">// invariantLOS(observable, "maybe end");</span>
</code></td></tr><tr><td id="L2387" class="css-a4x74f"><span>2387</span></td><td id="LC2387" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2388" class="css-a4x74f"><span>2388</span></td><td id="LC2388" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">logTraceInfo</span>(<span class="code-params">derivation, observable</span>) </span>{
</code></td></tr><tr><td id="L2389" class="css-a4x74f"><span>2389</span></td><td id="LC2389" class="css-1dcdqdg"><code>      <span class="code-built_in">console</span>.log(<span class="code-string">"[mobx.trace] '"</span> + derivation.name_ + <span class="code-string">"' is invalidated due to a change in: '"</span> + observable.name_ + <span class="code-string">"'"</span>);
</code></td></tr><tr><td id="L2390" class="css-a4x74f"><span>2390</span></td><td id="LC2390" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (derivation.isTracing_ === TraceMode.BREAK) {
</code></td></tr><tr><td id="L2391" class="css-a4x74f"><span>2391</span></td><td id="LC2391" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> lines = [];
</code></td></tr><tr><td id="L2392" class="css-a4x74f"><span>2392</span></td><td id="LC2392" class="css-1dcdqdg"><code>        printDepTree(getDependencyTree(derivation), lines, <span class="code-number">1</span>);
</code></td></tr><tr><td id="L2393" class="css-a4x74f"><span>2393</span></td><td id="LC2393" class="css-1dcdqdg"><code>        <span class="code-comment">// prettier-ignore</span>
</code></td></tr><tr><td id="L2394" class="css-a4x74f"><span>2394</span></td><td id="LC2394" class="css-1dcdqdg"><code>        <span class="code-keyword">new</span> <span class="code-built_in">Function</span>(<span class="code-string">"debugger;\n/*\nTracing '"</span> + derivation.name_ + <span class="code-string">"'\n\nYou are entering this break point because derivation '"</span> + derivation.name_ + <span class="code-string">"' is being traced and '"</span> + observable.name_ + <span class="code-string">"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"</span> + (derivation <span class="code-keyword">instanceof</span> ComputedValue ? derivation.derivation.toString().replace(<span class="code-regexp">/[*]\//g</span>, <span class="code-string">"/"</span>) : <span class="code-string">""</span>) + <span class="code-string">"\n\nThe dependencies for this derivation are:\n\n"</span> + lines.join(<span class="code-string">"\n"</span>) + <span class="code-string">"\n*/\n    "</span>)();
</code></td></tr><tr><td id="L2395" class="css-a4x74f"><span>2395</span></td><td id="LC2395" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2396" class="css-a4x74f"><span>2396</span></td><td id="LC2396" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2397" class="css-a4x74f"><span>2397</span></td><td id="LC2397" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">printDepTree</span>(<span class="code-params">tree, lines, depth</span>) </span>{
</code></td></tr><tr><td id="L2398" class="css-a4x74f"><span>2398</span></td><td id="LC2398" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (lines.length &gt;= <span class="code-number">1000</span>) {
</code></td></tr><tr><td id="L2399" class="css-a4x74f"><span>2399</span></td><td id="LC2399" class="css-1dcdqdg"><code>        lines.push(<span class="code-string">"(and many more)"</span>);
</code></td></tr><tr><td id="L2400" class="css-a4x74f"><span>2400</span></td><td id="LC2400" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L2401" class="css-a4x74f"><span>2401</span></td><td id="LC2401" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2402" class="css-a4x74f"><span>2402</span></td><td id="LC2402" class="css-1dcdqdg"><code>      lines.push(<span class="code-string">""</span> + <span class="code-string">"\t"</span>.repeat(depth - <span class="code-number">1</span>) + tree.name);
</code></td></tr><tr><td id="L2403" class="css-a4x74f"><span>2403</span></td><td id="LC2403" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (tree.dependencies) {
</code></td></tr><tr><td id="L2404" class="css-a4x74f"><span>2404</span></td><td id="LC2404" class="css-1dcdqdg"><code>        tree.dependencies.forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">child</span>) </span>{
</code></td></tr><tr><td id="L2405" class="css-a4x74f"><span>2405</span></td><td id="LC2405" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> printDepTree(child, lines, depth + <span class="code-number">1</span>);
</code></td></tr><tr><td id="L2406" class="css-a4x74f"><span>2406</span></td><td id="LC2406" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L2407" class="css-a4x74f"><span>2407</span></td><td id="LC2407" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2408" class="css-a4x74f"><span>2408</span></td><td id="LC2408" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2409" class="css-a4x74f"><span>2409</span></td><td id="LC2409" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2410" class="css-a4x74f"><span>2410</span></td><td id="LC2410" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> Reaction = <span class="code-comment">/*#__PURE__*/</span><span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2411" class="css-a4x74f"><span>2411</span></td><td id="LC2411" class="css-1dcdqdg"><code>      <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Reaction</span>(<span class="code-params">name_, onInvalidate_, errorHandler_, requiresObservable_</span>) </span>{
</code></td></tr><tr><td id="L2412" class="css-a4x74f"><span>2412</span></td><td id="LC2412" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (name_ === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L2413" class="css-a4x74f"><span>2413</span></td><td id="LC2413" class="css-1dcdqdg"><code>          name_ =  <span class="code-string">"Reaction@"</span> + getNextId() ;
</code></td></tr><tr><td id="L2414" class="css-a4x74f"><span>2414</span></td><td id="LC2414" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2415" class="css-a4x74f"><span>2415</span></td><td id="LC2415" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.name_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L2416" class="css-a4x74f"><span>2416</span></td><td id="LC2416" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.onInvalidate_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L2417" class="css-a4x74f"><span>2417</span></td><td id="LC2417" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.errorHandler_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L2418" class="css-a4x74f"><span>2418</span></td><td id="LC2418" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.requiresObservable_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L2419" class="css-a4x74f"><span>2419</span></td><td id="LC2419" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.observing_ = [];
</code></td></tr><tr><td id="L2420" class="css-a4x74f"><span>2420</span></td><td id="LC2420" class="css-1dcdqdg"><code>        <span class="code-comment">// nodes we are looking at. Our value depends on these nodes</span>
</code></td></tr><tr><td id="L2421" class="css-a4x74f"><span>2421</span></td><td id="LC2421" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.newObserving_ = [];
</code></td></tr><tr><td id="L2422" class="css-a4x74f"><span>2422</span></td><td id="LC2422" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.dependenciesState_ = IDerivationState_.NOT_TRACKING_;
</code></td></tr><tr><td id="L2423" class="css-a4x74f"><span>2423</span></td><td id="LC2423" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.runId_ = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L2424" class="css-a4x74f"><span>2424</span></td><td id="LC2424" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.unboundDepsCount_ = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L2425" class="css-a4x74f"><span>2425</span></td><td id="LC2425" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.flags_ = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L2426" class="css-a4x74f"><span>2426</span></td><td id="LC2426" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.isTracing_ = TraceMode.NONE;
</code></td></tr><tr><td id="L2427" class="css-a4x74f"><span>2427</span></td><td id="LC2427" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.name_ = name_;
</code></td></tr><tr><td id="L2428" class="css-a4x74f"><span>2428</span></td><td id="LC2428" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.onInvalidate_ = onInvalidate_;
</code></td></tr><tr><td id="L2429" class="css-a4x74f"><span>2429</span></td><td id="LC2429" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.errorHandler_ = errorHandler_;
</code></td></tr><tr><td id="L2430" class="css-a4x74f"><span>2430</span></td><td id="LC2430" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.requiresObservable_ = requiresObservable_;
</code></td></tr><tr><td id="L2431" class="css-a4x74f"><span>2431</span></td><td id="LC2431" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2432" class="css-a4x74f"><span>2432</span></td><td id="LC2432" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _proto = Reaction.prototype;
</code></td></tr><tr><td id="L2433" class="css-a4x74f"><span>2433</span></td><td id="LC2433" class="css-1dcdqdg"><code>      _proto.onBecomeStale_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">onBecomeStale_</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2434" class="css-a4x74f"><span>2434</span></td><td id="LC2434" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.schedule_();
</code></td></tr><tr><td id="L2435" class="css-a4x74f"><span>2435</span></td><td id="LC2435" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L2436" class="css-a4x74f"><span>2436</span></td><td id="LC2436" class="css-1dcdqdg"><code>      _proto.schedule_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">schedule_</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2437" class="css-a4x74f"><span>2437</span></td><td id="LC2437" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.isScheduled) {
</code></td></tr><tr><td id="L2438" class="css-a4x74f"><span>2438</span></td><td id="LC2438" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.isScheduled = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2439" class="css-a4x74f"><span>2439</span></td><td id="LC2439" class="css-1dcdqdg"><code>          globalState.pendingReactions.push(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L2440" class="css-a4x74f"><span>2440</span></td><td id="LC2440" class="css-1dcdqdg"><code>          runReactions();
</code></td></tr><tr><td id="L2441" class="css-a4x74f"><span>2441</span></td><td id="LC2441" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2442" class="css-a4x74f"><span>2442</span></td><td id="LC2442" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2443" class="css-a4x74f"><span>2443</span></td><td id="LC2443" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2444" class="css-a4x74f"><span>2444</span></td><td id="LC2444" class="css-1dcdqdg"><code><span class="code-comment">       * internal, use schedule() if you intend to kick off a reaction
</span></code></td></tr><tr><td id="L2445" class="css-a4x74f"><span>2445</span></td><td id="LC2445" class="css-1dcdqdg"><code><span class="code-comment">       */</span>;
</code></td></tr><tr><td id="L2446" class="css-a4x74f"><span>2446</span></td><td id="LC2446" class="css-1dcdqdg"><code>      _proto.runReaction_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">runReaction_</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2447" class="css-a4x74f"><span>2447</span></td><td id="LC2447" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.isDisposed) {
</code></td></tr><tr><td id="L2448" class="css-a4x74f"><span>2448</span></td><td id="LC2448" class="css-1dcdqdg"><code>          startBatch();
</code></td></tr><tr><td id="L2449" class="css-a4x74f"><span>2449</span></td><td id="LC2449" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.isScheduled = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2450" class="css-a4x74f"><span>2450</span></td><td id="LC2450" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> prev = globalState.trackingContext;
</code></td></tr><tr><td id="L2451" class="css-a4x74f"><span>2451</span></td><td id="LC2451" class="css-1dcdqdg"><code>          globalState.trackingContext = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L2452" class="css-a4x74f"><span>2452</span></td><td id="LC2452" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (shouldCompute(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L2453" class="css-a4x74f"><span>2453</span></td><td id="LC2453" class="css-1dcdqdg"><code>            <span class="code-keyword">this</span>.isTrackPending = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2454" class="css-a4x74f"><span>2454</span></td><td id="LC2454" class="css-1dcdqdg"><code>            <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L2455" class="css-a4x74f"><span>2455</span></td><td id="LC2455" class="css-1dcdqdg"><code>              <span class="code-keyword">this</span>.onInvalidate_();
</code></td></tr><tr><td id="L2456" class="css-a4x74f"><span>2456</span></td><td id="LC2456" class="css-1dcdqdg"><code>              <span class="code-keyword">if</span> (<span class="code-string">"development"</span> !== <span class="code-string">"production"</span> &amp;&amp; <span class="code-keyword">this</span>.isTrackPending &amp;&amp; isSpyEnabled()) {
</code></td></tr><tr><td id="L2457" class="css-a4x74f"><span>2457</span></td><td id="LC2457" class="css-1dcdqdg"><code>                <span class="code-comment">// onInvalidate didn't trigger track right away..</span>
</code></td></tr><tr><td id="L2458" class="css-a4x74f"><span>2458</span></td><td id="LC2458" class="css-1dcdqdg"><code>                spyReport({
</code></td></tr><tr><td id="L2459" class="css-a4x74f"><span>2459</span></td><td id="LC2459" class="css-1dcdqdg"><code>                  name: <span class="code-keyword">this</span>.name_,
</code></td></tr><tr><td id="L2460" class="css-a4x74f"><span>2460</span></td><td id="LC2460" class="css-1dcdqdg"><code>                  type: <span class="code-string">"scheduled-reaction"</span>
</code></td></tr><tr><td id="L2461" class="css-a4x74f"><span>2461</span></td><td id="LC2461" class="css-1dcdqdg"><code>                });
</code></td></tr><tr><td id="L2462" class="css-a4x74f"><span>2462</span></td><td id="LC2462" class="css-1dcdqdg"><code>              }
</code></td></tr><tr><td id="L2463" class="css-a4x74f"><span>2463</span></td><td id="LC2463" class="css-1dcdqdg"><code>            } <span class="code-keyword">catch</span> (e) {
</code></td></tr><tr><td id="L2464" class="css-a4x74f"><span>2464</span></td><td id="LC2464" class="css-1dcdqdg"><code>              <span class="code-keyword">this</span>.reportExceptionInDerivation_(e);
</code></td></tr><tr><td id="L2465" class="css-a4x74f"><span>2465</span></td><td id="LC2465" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L2466" class="css-a4x74f"><span>2466</span></td><td id="LC2466" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L2467" class="css-a4x74f"><span>2467</span></td><td id="LC2467" class="css-1dcdqdg"><code>          globalState.trackingContext = prev;
</code></td></tr><tr><td id="L2468" class="css-a4x74f"><span>2468</span></td><td id="LC2468" class="css-1dcdqdg"><code>          endBatch();
</code></td></tr><tr><td id="L2469" class="css-a4x74f"><span>2469</span></td><td id="LC2469" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2470" class="css-a4x74f"><span>2470</span></td><td id="LC2470" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L2471" class="css-a4x74f"><span>2471</span></td><td id="LC2471" class="css-1dcdqdg"><code>      _proto.track = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">track</span>(<span class="code-params">fn</span>) </span>{
</code></td></tr><tr><td id="L2472" class="css-a4x74f"><span>2472</span></td><td id="LC2472" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.isDisposed) {
</code></td></tr><tr><td id="L2473" class="css-a4x74f"><span>2473</span></td><td id="LC2473" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L2474" class="css-a4x74f"><span>2474</span></td><td id="LC2474" class="css-1dcdqdg"><code>          <span class="code-comment">// console.warn("Reaction already disposed") // Note: Not a warning / error in mobx 4 either</span>
</code></td></tr><tr><td id="L2475" class="css-a4x74f"><span>2475</span></td><td id="LC2475" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2476" class="css-a4x74f"><span>2476</span></td><td id="LC2476" class="css-1dcdqdg"><code>        startBatch();
</code></td></tr><tr><td id="L2477" class="css-a4x74f"><span>2477</span></td><td id="LC2477" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> notify = isSpyEnabled();
</code></td></tr><tr><td id="L2478" class="css-a4x74f"><span>2478</span></td><td id="LC2478" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> startTime;
</code></td></tr><tr><td id="L2479" class="css-a4x74f"><span>2479</span></td><td id="LC2479" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( notify) {
</code></td></tr><tr><td id="L2480" class="css-a4x74f"><span>2480</span></td><td id="LC2480" class="css-1dcdqdg"><code>          startTime = <span class="code-built_in">Date</span>.now();
</code></td></tr><tr><td id="L2481" class="css-a4x74f"><span>2481</span></td><td id="LC2481" class="css-1dcdqdg"><code>          spyReportStart({
</code></td></tr><tr><td id="L2482" class="css-a4x74f"><span>2482</span></td><td id="LC2482" class="css-1dcdqdg"><code>            name: <span class="code-keyword">this</span>.name_,
</code></td></tr><tr><td id="L2483" class="css-a4x74f"><span>2483</span></td><td id="LC2483" class="css-1dcdqdg"><code>            type: <span class="code-string">"reaction"</span>
</code></td></tr><tr><td id="L2484" class="css-a4x74f"><span>2484</span></td><td id="LC2484" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L2485" class="css-a4x74f"><span>2485</span></td><td id="LC2485" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2486" class="css-a4x74f"><span>2486</span></td><td id="LC2486" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.isRunning = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2487" class="css-a4x74f"><span>2487</span></td><td id="LC2487" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> prevReaction = globalState.trackingContext; <span class="code-comment">// reactions could create reactions...</span>
</code></td></tr><tr><td id="L2488" class="css-a4x74f"><span>2488</span></td><td id="LC2488" class="css-1dcdqdg"><code>        globalState.trackingContext = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L2489" class="css-a4x74f"><span>2489</span></td><td id="LC2489" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> result = trackDerivedFunction(<span class="code-keyword">this</span>, fn, <span class="code-literal">undefined</span>);
</code></td></tr><tr><td id="L2490" class="css-a4x74f"><span>2490</span></td><td id="LC2490" class="css-1dcdqdg"><code>        globalState.trackingContext = prevReaction;
</code></td></tr><tr><td id="L2491" class="css-a4x74f"><span>2491</span></td><td id="LC2491" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.isRunning = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2492" class="css-a4x74f"><span>2492</span></td><td id="LC2492" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.isTrackPending = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2493" class="css-a4x74f"><span>2493</span></td><td id="LC2493" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.isDisposed) {
</code></td></tr><tr><td id="L2494" class="css-a4x74f"><span>2494</span></td><td id="LC2494" class="css-1dcdqdg"><code>          <span class="code-comment">// disposed during last run. Clean up everything that was bound after the dispose call.</span>
</code></td></tr><tr><td id="L2495" class="css-a4x74f"><span>2495</span></td><td id="LC2495" class="css-1dcdqdg"><code>          clearObserving(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L2496" class="css-a4x74f"><span>2496</span></td><td id="LC2496" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2497" class="css-a4x74f"><span>2497</span></td><td id="LC2497" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isCaughtException(result)) {
</code></td></tr><tr><td id="L2498" class="css-a4x74f"><span>2498</span></td><td id="LC2498" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.reportExceptionInDerivation_(result.cause);
</code></td></tr><tr><td id="L2499" class="css-a4x74f"><span>2499</span></td><td id="LC2499" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2500" class="css-a4x74f"><span>2500</span></td><td id="LC2500" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( notify) {
</code></td></tr><tr><td id="L2501" class="css-a4x74f"><span>2501</span></td><td id="LC2501" class="css-1dcdqdg"><code>          spyReportEnd({
</code></td></tr><tr><td id="L2502" class="css-a4x74f"><span>2502</span></td><td id="LC2502" class="css-1dcdqdg"><code>            time: <span class="code-built_in">Date</span>.now() - startTime
</code></td></tr><tr><td id="L2503" class="css-a4x74f"><span>2503</span></td><td id="LC2503" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L2504" class="css-a4x74f"><span>2504</span></td><td id="LC2504" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2505" class="css-a4x74f"><span>2505</span></td><td id="LC2505" class="css-1dcdqdg"><code>        endBatch();
</code></td></tr><tr><td id="L2506" class="css-a4x74f"><span>2506</span></td><td id="LC2506" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L2507" class="css-a4x74f"><span>2507</span></td><td id="LC2507" class="css-1dcdqdg"><code>      _proto.reportExceptionInDerivation_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">reportExceptionInDerivation_</span>(<span class="code-params">error</span>) </span>{
</code></td></tr><tr><td id="L2508" class="css-a4x74f"><span>2508</span></td><td id="LC2508" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L2509" class="css-a4x74f"><span>2509</span></td><td id="LC2509" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.errorHandler_) {
</code></td></tr><tr><td id="L2510" class="css-a4x74f"><span>2510</span></td><td id="LC2510" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.errorHandler_(error, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L2511" class="css-a4x74f"><span>2511</span></td><td id="LC2511" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L2512" class="css-a4x74f"><span>2512</span></td><td id="LC2512" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2513" class="css-a4x74f"><span>2513</span></td><td id="LC2513" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (globalState.disableErrorBoundaries) {
</code></td></tr><tr><td id="L2514" class="css-a4x74f"><span>2514</span></td><td id="LC2514" class="css-1dcdqdg"><code>          <span class="code-keyword">throw</span> error;
</code></td></tr><tr><td id="L2515" class="css-a4x74f"><span>2515</span></td><td id="LC2515" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2516" class="css-a4x74f"><span>2516</span></td><td id="LC2516" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> message =  <span class="code-string">"[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"</span> + <span class="code-keyword">this</span> + <span class="code-string">"'"</span> ;
</code></td></tr><tr><td id="L2517" class="css-a4x74f"><span>2517</span></td><td id="LC2517" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!globalState.suppressReactionErrors) {
</code></td></tr><tr><td id="L2518" class="css-a4x74f"><span>2518</span></td><td id="LC2518" class="css-1dcdqdg"><code>          <span class="code-built_in">console</span>.error(message, error);
</code></td></tr><tr><td id="L2519" class="css-a4x74f"><span>2519</span></td><td id="LC2519" class="css-1dcdqdg"><code>          <span class="code-comment">/** If debugging brought you here, please, read the above message :-). Tnx! */</span>
</code></td></tr><tr><td id="L2520" class="css-a4x74f"><span>2520</span></td><td id="LC2520" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2521" class="css-a4x74f"><span>2521</span></td><td id="LC2521" class="css-1dcdqdg"><code>          <span class="code-built_in">console</span>.warn(<span class="code-string">"[mobx] (error in reaction '"</span> + <span class="code-keyword">this</span>.name_ + <span class="code-string">"' suppressed, fix error of causing action below)"</span>);
</code></td></tr><tr><td id="L2522" class="css-a4x74f"><span>2522</span></td><td id="LC2522" class="css-1dcdqdg"><code>        } <span class="code-comment">// prettier-ignore</span>
</code></td></tr><tr><td id="L2523" class="css-a4x74f"><span>2523</span></td><td id="LC2523" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( isSpyEnabled()) {
</code></td></tr><tr><td id="L2524" class="css-a4x74f"><span>2524</span></td><td id="LC2524" class="css-1dcdqdg"><code>          spyReport({
</code></td></tr><tr><td id="L2525" class="css-a4x74f"><span>2525</span></td><td id="LC2525" class="css-1dcdqdg"><code>            type: <span class="code-string">"error"</span>,
</code></td></tr><tr><td id="L2526" class="css-a4x74f"><span>2526</span></td><td id="LC2526" class="css-1dcdqdg"><code>            name: <span class="code-keyword">this</span>.name_,
</code></td></tr><tr><td id="L2527" class="css-a4x74f"><span>2527</span></td><td id="LC2527" class="css-1dcdqdg"><code>            message: message,
</code></td></tr><tr><td id="L2528" class="css-a4x74f"><span>2528</span></td><td id="LC2528" class="css-1dcdqdg"><code>            error: <span class="code-string">""</span> + error
</code></td></tr><tr><td id="L2529" class="css-a4x74f"><span>2529</span></td><td id="LC2529" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L2530" class="css-a4x74f"><span>2530</span></td><td id="LC2530" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2531" class="css-a4x74f"><span>2531</span></td><td id="LC2531" class="css-1dcdqdg"><code>        globalState.globalReactionErrorHandlers.forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">f</span>) </span>{
</code></td></tr><tr><td id="L2532" class="css-a4x74f"><span>2532</span></td><td id="LC2532" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> f(error, _this);
</code></td></tr><tr><td id="L2533" class="css-a4x74f"><span>2533</span></td><td id="LC2533" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L2534" class="css-a4x74f"><span>2534</span></td><td id="LC2534" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L2535" class="css-a4x74f"><span>2535</span></td><td id="LC2535" class="css-1dcdqdg"><code>      _proto.dispose = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">dispose</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2536" class="css-a4x74f"><span>2536</span></td><td id="LC2536" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.isDisposed) {
</code></td></tr><tr><td id="L2537" class="css-a4x74f"><span>2537</span></td><td id="LC2537" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.isDisposed = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2538" class="css-a4x74f"><span>2538</span></td><td id="LC2538" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.isRunning) {
</code></td></tr><tr><td id="L2539" class="css-a4x74f"><span>2539</span></td><td id="LC2539" class="css-1dcdqdg"><code>            <span class="code-comment">// if disposed while running, clean up later. Maybe not optimal, but rare case</span>
</code></td></tr><tr><td id="L2540" class="css-a4x74f"><span>2540</span></td><td id="LC2540" class="css-1dcdqdg"><code>            startBatch();
</code></td></tr><tr><td id="L2541" class="css-a4x74f"><span>2541</span></td><td id="LC2541" class="css-1dcdqdg"><code>            clearObserving(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L2542" class="css-a4x74f"><span>2542</span></td><td id="LC2542" class="css-1dcdqdg"><code>            endBatch();
</code></td></tr><tr><td id="L2543" class="css-a4x74f"><span>2543</span></td><td id="LC2543" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L2544" class="css-a4x74f"><span>2544</span></td><td id="LC2544" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2545" class="css-a4x74f"><span>2545</span></td><td id="LC2545" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L2546" class="css-a4x74f"><span>2546</span></td><td id="LC2546" class="css-1dcdqdg"><code>      _proto.getDisposer_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getDisposer_</span>(<span class="code-params">abortSignal</span>) </span>{
</code></td></tr><tr><td id="L2547" class="css-a4x74f"><span>2547</span></td><td id="LC2547" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this2 = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L2548" class="css-a4x74f"><span>2548</span></td><td id="LC2548" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> dispose = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">dispose</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2549" class="css-a4x74f"><span>2549</span></td><td id="LC2549" class="css-1dcdqdg"><code>          _this2.dispose();
</code></td></tr><tr><td id="L2550" class="css-a4x74f"><span>2550</span></td><td id="LC2550" class="css-1dcdqdg"><code>          abortSignal == <span class="code-literal">null</span> || abortSignal.removeEventListener == <span class="code-literal">null</span> || abortSignal.removeEventListener(<span class="code-string">"abort"</span>, dispose);
</code></td></tr><tr><td id="L2551" class="css-a4x74f"><span>2551</span></td><td id="LC2551" class="css-1dcdqdg"><code>        };
</code></td></tr><tr><td id="L2552" class="css-a4x74f"><span>2552</span></td><td id="LC2552" class="css-1dcdqdg"><code>        abortSignal == <span class="code-literal">null</span> || abortSignal.addEventListener == <span class="code-literal">null</span> || abortSignal.addEventListener(<span class="code-string">"abort"</span>, dispose);
</code></td></tr><tr><td id="L2553" class="css-a4x74f"><span>2553</span></td><td id="LC2553" class="css-1dcdqdg"><code>        dispose[$mobx] = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L2554" class="css-a4x74f"><span>2554</span></td><td id="LC2554" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> dispose;
</code></td></tr><tr><td id="L2555" class="css-a4x74f"><span>2555</span></td><td id="LC2555" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L2556" class="css-a4x74f"><span>2556</span></td><td id="LC2556" class="css-1dcdqdg"><code>      _proto.toString = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toString</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2557" class="css-a4x74f"><span>2557</span></td><td id="LC2557" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-string">"Reaction["</span> + <span class="code-keyword">this</span>.name_ + <span class="code-string">"]"</span>;
</code></td></tr><tr><td id="L2558" class="css-a4x74f"><span>2558</span></td><td id="LC2558" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L2559" class="css-a4x74f"><span>2559</span></td><td id="LC2559" class="css-1dcdqdg"><code>      _proto.trace = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">trace$1</span>(<span class="code-params">enterBreakPoint</span>) </span>{
</code></td></tr><tr><td id="L2560" class="css-a4x74f"><span>2560</span></td><td id="LC2560" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (enterBreakPoint === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L2561" class="css-a4x74f"><span>2561</span></td><td id="LC2561" class="css-1dcdqdg"><code>          enterBreakPoint = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2562" class="css-a4x74f"><span>2562</span></td><td id="LC2562" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2563" class="css-a4x74f"><span>2563</span></td><td id="LC2563" class="css-1dcdqdg"><code>        trace(<span class="code-keyword">this</span>, enterBreakPoint);
</code></td></tr><tr><td id="L2564" class="css-a4x74f"><span>2564</span></td><td id="LC2564" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L2565" class="css-a4x74f"><span>2565</span></td><td id="LC2565" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> _createClass(Reaction, [{
</code></td></tr><tr><td id="L2566" class="css-a4x74f"><span>2566</span></td><td id="LC2566" class="css-1dcdqdg"><code>        key: <span class="code-string">"isDisposed"</span>,
</code></td></tr><tr><td id="L2567" class="css-a4x74f"><span>2567</span></td><td id="LC2567" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L2568" class="css-a4x74f"><span>2568</span></td><td id="LC2568" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> getFlag(<span class="code-keyword">this</span>.flags_, Reaction.isDisposedMask_);
</code></td></tr><tr><td id="L2569" class="css-a4x74f"><span>2569</span></td><td id="LC2569" class="css-1dcdqdg"><code>        },
</code></td></tr><tr><td id="L2570" class="css-a4x74f"><span>2570</span></td><td id="LC2570" class="css-1dcdqdg"><code>        <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(newValue) {
</code></td></tr><tr><td id="L2571" class="css-a4x74f"><span>2571</span></td><td id="LC2571" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.flags_ = setFlag(<span class="code-keyword">this</span>.flags_, Reaction.isDisposedMask_, newValue);
</code></td></tr><tr><td id="L2572" class="css-a4x74f"><span>2572</span></td><td id="LC2572" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2573" class="css-a4x74f"><span>2573</span></td><td id="LC2573" class="css-1dcdqdg"><code>      }, {
</code></td></tr><tr><td id="L2574" class="css-a4x74f"><span>2574</span></td><td id="LC2574" class="css-1dcdqdg"><code>        key: <span class="code-string">"isScheduled"</span>,
</code></td></tr><tr><td id="L2575" class="css-a4x74f"><span>2575</span></td><td id="LC2575" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L2576" class="css-a4x74f"><span>2576</span></td><td id="LC2576" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> getFlag(<span class="code-keyword">this</span>.flags_, Reaction.isScheduledMask_);
</code></td></tr><tr><td id="L2577" class="css-a4x74f"><span>2577</span></td><td id="LC2577" class="css-1dcdqdg"><code>        },
</code></td></tr><tr><td id="L2578" class="css-a4x74f"><span>2578</span></td><td id="LC2578" class="css-1dcdqdg"><code>        <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(newValue) {
</code></td></tr><tr><td id="L2579" class="css-a4x74f"><span>2579</span></td><td id="LC2579" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.flags_ = setFlag(<span class="code-keyword">this</span>.flags_, Reaction.isScheduledMask_, newValue);
</code></td></tr><tr><td id="L2580" class="css-a4x74f"><span>2580</span></td><td id="LC2580" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2581" class="css-a4x74f"><span>2581</span></td><td id="LC2581" class="css-1dcdqdg"><code>      }, {
</code></td></tr><tr><td id="L2582" class="css-a4x74f"><span>2582</span></td><td id="LC2582" class="css-1dcdqdg"><code>        key: <span class="code-string">"isTrackPending"</span>,
</code></td></tr><tr><td id="L2583" class="css-a4x74f"><span>2583</span></td><td id="LC2583" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L2584" class="css-a4x74f"><span>2584</span></td><td id="LC2584" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> getFlag(<span class="code-keyword">this</span>.flags_, Reaction.isTrackPendingMask_);
</code></td></tr><tr><td id="L2585" class="css-a4x74f"><span>2585</span></td><td id="LC2585" class="css-1dcdqdg"><code>        },
</code></td></tr><tr><td id="L2586" class="css-a4x74f"><span>2586</span></td><td id="LC2586" class="css-1dcdqdg"><code>        <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(newValue) {
</code></td></tr><tr><td id="L2587" class="css-a4x74f"><span>2587</span></td><td id="LC2587" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.flags_ = setFlag(<span class="code-keyword">this</span>.flags_, Reaction.isTrackPendingMask_, newValue);
</code></td></tr><tr><td id="L2588" class="css-a4x74f"><span>2588</span></td><td id="LC2588" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2589" class="css-a4x74f"><span>2589</span></td><td id="LC2589" class="css-1dcdqdg"><code>      }, {
</code></td></tr><tr><td id="L2590" class="css-a4x74f"><span>2590</span></td><td id="LC2590" class="css-1dcdqdg"><code>        key: <span class="code-string">"isRunning"</span>,
</code></td></tr><tr><td id="L2591" class="css-a4x74f"><span>2591</span></td><td id="LC2591" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L2592" class="css-a4x74f"><span>2592</span></td><td id="LC2592" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> getFlag(<span class="code-keyword">this</span>.flags_, Reaction.isRunningMask_);
</code></td></tr><tr><td id="L2593" class="css-a4x74f"><span>2593</span></td><td id="LC2593" class="css-1dcdqdg"><code>        },
</code></td></tr><tr><td id="L2594" class="css-a4x74f"><span>2594</span></td><td id="LC2594" class="css-1dcdqdg"><code>        <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(newValue) {
</code></td></tr><tr><td id="L2595" class="css-a4x74f"><span>2595</span></td><td id="LC2595" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.flags_ = setFlag(<span class="code-keyword">this</span>.flags_, Reaction.isRunningMask_, newValue);
</code></td></tr><tr><td id="L2596" class="css-a4x74f"><span>2596</span></td><td id="LC2596" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2597" class="css-a4x74f"><span>2597</span></td><td id="LC2597" class="css-1dcdqdg"><code>      }, {
</code></td></tr><tr><td id="L2598" class="css-a4x74f"><span>2598</span></td><td id="LC2598" class="css-1dcdqdg"><code>        key: <span class="code-string">"diffValue"</span>,
</code></td></tr><tr><td id="L2599" class="css-a4x74f"><span>2599</span></td><td id="LC2599" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L2600" class="css-a4x74f"><span>2600</span></td><td id="LC2600" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> getFlag(<span class="code-keyword">this</span>.flags_, Reaction.diffValueMask_) ? <span class="code-number">1</span> : <span class="code-number">0</span>;
</code></td></tr><tr><td id="L2601" class="css-a4x74f"><span>2601</span></td><td id="LC2601" class="css-1dcdqdg"><code>        },
</code></td></tr><tr><td id="L2602" class="css-a4x74f"><span>2602</span></td><td id="LC2602" class="css-1dcdqdg"><code>        <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(newValue) {
</code></td></tr><tr><td id="L2603" class="css-a4x74f"><span>2603</span></td><td id="LC2603" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.flags_ = setFlag(<span class="code-keyword">this</span>.flags_, Reaction.diffValueMask_, newValue === <span class="code-number">1</span> ? <span class="code-literal">true</span> : <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L2604" class="css-a4x74f"><span>2604</span></td><td id="LC2604" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2605" class="css-a4x74f"><span>2605</span></td><td id="LC2605" class="css-1dcdqdg"><code>      }]);
</code></td></tr><tr><td id="L2606" class="css-a4x74f"><span>2606</span></td><td id="LC2606" class="css-1dcdqdg"><code>    }();
</code></td></tr><tr><td id="L2607" class="css-a4x74f"><span>2607</span></td><td id="LC2607" class="css-1dcdqdg"><code>    Reaction.isDisposedMask_ = <span class="code-number">1</span>;
</code></td></tr><tr><td id="L2608" class="css-a4x74f"><span>2608</span></td><td id="LC2608" class="css-1dcdqdg"><code>    Reaction.isScheduledMask_ = <span class="code-number">2</span>;
</code></td></tr><tr><td id="L2609" class="css-a4x74f"><span>2609</span></td><td id="LC2609" class="css-1dcdqdg"><code>    Reaction.isTrackPendingMask_ = <span class="code-number">4</span>;
</code></td></tr><tr><td id="L2610" class="css-a4x74f"><span>2610</span></td><td id="LC2610" class="css-1dcdqdg"><code>    Reaction.isRunningMask_ = <span class="code-number">8</span>;
</code></td></tr><tr><td id="L2611" class="css-a4x74f"><span>2611</span></td><td id="LC2611" class="css-1dcdqdg"><code>    Reaction.diffValueMask_ = <span class="code-number">16</span>;
</code></td></tr><tr><td id="L2612" class="css-a4x74f"><span>2612</span></td><td id="LC2612" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">onReactionError</span>(<span class="code-params">handler</span>) </span>{
</code></td></tr><tr><td id="L2613" class="css-a4x74f"><span>2613</span></td><td id="LC2613" class="css-1dcdqdg"><code>      globalState.globalReactionErrorHandlers.push(handler);
</code></td></tr><tr><td id="L2614" class="css-a4x74f"><span>2614</span></td><td id="LC2614" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2615" class="css-a4x74f"><span>2615</span></td><td id="LC2615" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> idx = globalState.globalReactionErrorHandlers.indexOf(handler);
</code></td></tr><tr><td id="L2616" class="css-a4x74f"><span>2616</span></td><td id="LC2616" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (idx &gt;= <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L2617" class="css-a4x74f"><span>2617</span></td><td id="LC2617" class="css-1dcdqdg"><code>          globalState.globalReactionErrorHandlers.splice(idx, <span class="code-number">1</span>);
</code></td></tr><tr><td id="L2618" class="css-a4x74f"><span>2618</span></td><td id="LC2618" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2619" class="css-a4x74f"><span>2619</span></td><td id="LC2619" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L2620" class="css-a4x74f"><span>2620</span></td><td id="LC2620" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2621" class="css-a4x74f"><span>2621</span></td><td id="LC2621" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2622" class="css-a4x74f"><span>2622</span></td><td id="LC2622" class="css-1dcdqdg"><code><span class="code-comment">     * Magic number alert!
</span></code></td></tr><tr><td id="L2623" class="css-a4x74f"><span>2623</span></td><td id="LC2623" class="css-1dcdqdg"><code><span class="code-comment">     * Defines within how many times a reaction is allowed to re-trigger itself
</span></code></td></tr><tr><td id="L2624" class="css-a4x74f"><span>2624</span></td><td id="LC2624" class="css-1dcdqdg"><code><span class="code-comment">     * until it is assumed that this is gonna be a never ending loop...
</span></code></td></tr><tr><td id="L2625" class="css-a4x74f"><span>2625</span></td><td id="LC2625" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L2626" class="css-a4x74f"><span>2626</span></td><td id="LC2626" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> MAX_REACTION_ITERATIONS = <span class="code-number">100</span>;
</code></td></tr><tr><td id="L2627" class="css-a4x74f"><span>2627</span></td><td id="LC2627" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> reactionScheduler = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">reactionScheduler</span>(<span class="code-params">f</span>) </span>{
</code></td></tr><tr><td id="L2628" class="css-a4x74f"><span>2628</span></td><td id="LC2628" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> f();
</code></td></tr><tr><td id="L2629" class="css-a4x74f"><span>2629</span></td><td id="LC2629" class="css-1dcdqdg"><code>    };
</code></td></tr><tr><td id="L2630" class="css-a4x74f"><span>2630</span></td><td id="LC2630" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">runReactions</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2631" class="css-a4x74f"><span>2631</span></td><td id="LC2631" class="css-1dcdqdg"><code>      <span class="code-comment">// Trampolining, if runReactions are already running, new reactions will be picked up</span>
</code></td></tr><tr><td id="L2632" class="css-a4x74f"><span>2632</span></td><td id="LC2632" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (globalState.inBatch &gt; <span class="code-number">0</span> || globalState.isRunningReactions) {
</code></td></tr><tr><td id="L2633" class="css-a4x74f"><span>2633</span></td><td id="LC2633" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L2634" class="css-a4x74f"><span>2634</span></td><td id="LC2634" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2635" class="css-a4x74f"><span>2635</span></td><td id="LC2635" class="css-1dcdqdg"><code>      reactionScheduler(runReactionsHelper);
</code></td></tr><tr><td id="L2636" class="css-a4x74f"><span>2636</span></td><td id="LC2636" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2637" class="css-a4x74f"><span>2637</span></td><td id="LC2637" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">runReactionsHelper</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2638" class="css-a4x74f"><span>2638</span></td><td id="LC2638" class="css-1dcdqdg"><code>      globalState.isRunningReactions = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2639" class="css-a4x74f"><span>2639</span></td><td id="LC2639" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> allReactions = globalState.pendingReactions;
</code></td></tr><tr><td id="L2640" class="css-a4x74f"><span>2640</span></td><td id="LC2640" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> iterations = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L2641" class="css-a4x74f"><span>2641</span></td><td id="LC2641" class="css-1dcdqdg"><code>      <span class="code-comment">// While running reactions, new reactions might be triggered.</span>
</code></td></tr><tr><td id="L2642" class="css-a4x74f"><span>2642</span></td><td id="LC2642" class="css-1dcdqdg"><code>      <span class="code-comment">// Hence we work with two variables and check whether</span>
</code></td></tr><tr><td id="L2643" class="css-a4x74f"><span>2643</span></td><td id="LC2643" class="css-1dcdqdg"><code>      <span class="code-comment">// we converge to no remaining reactions after a while.</span>
</code></td></tr><tr><td id="L2644" class="css-a4x74f"><span>2644</span></td><td id="LC2644" class="css-1dcdqdg"><code>      <span class="code-keyword">while</span> (allReactions.length &gt; <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L2645" class="css-a4x74f"><span>2645</span></td><td id="LC2645" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (++iterations === MAX_REACTION_ITERATIONS) {
</code></td></tr><tr><td id="L2646" class="css-a4x74f"><span>2646</span></td><td id="LC2646" class="css-1dcdqdg"><code>          <span class="code-built_in">console</span>.error( <span class="code-string">"Reaction doesn't converge to a stable state after "</span> + MAX_REACTION_ITERATIONS + <span class="code-string">" iterations."</span> + (<span class="code-string">" Probably there is a cycle in the reactive function: "</span> + allReactions[<span class="code-number">0</span>]) );
</code></td></tr><tr><td id="L2647" class="css-a4x74f"><span>2647</span></td><td id="LC2647" class="css-1dcdqdg"><code>          allReactions.splice(<span class="code-number">0</span>); <span class="code-comment">// clear reactions</span>
</code></td></tr><tr><td id="L2648" class="css-a4x74f"><span>2648</span></td><td id="LC2648" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2649" class="css-a4x74f"><span>2649</span></td><td id="LC2649" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> remainingReactions = allReactions.splice(<span class="code-number">0</span>);
</code></td></tr><tr><td id="L2650" class="css-a4x74f"><span>2650</span></td><td id="LC2650" class="css-1dcdqdg"><code>        <span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, l = remainingReactions.length; i &lt; l; i++) {
</code></td></tr><tr><td id="L2651" class="css-a4x74f"><span>2651</span></td><td id="LC2651" class="css-1dcdqdg"><code>          remainingReactions[i].runReaction_();
</code></td></tr><tr><td id="L2652" class="css-a4x74f"><span>2652</span></td><td id="LC2652" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2653" class="css-a4x74f"><span>2653</span></td><td id="LC2653" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2654" class="css-a4x74f"><span>2654</span></td><td id="LC2654" class="css-1dcdqdg"><code>      globalState.isRunningReactions = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2655" class="css-a4x74f"><span>2655</span></td><td id="LC2655" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2656" class="css-a4x74f"><span>2656</span></td><td id="LC2656" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> isReaction = <span class="code-comment">/*#__PURE__*/</span>createInstanceofPredicate(<span class="code-string">"Reaction"</span>, Reaction);
</code></td></tr><tr><td id="L2657" class="css-a4x74f"><span>2657</span></td><td id="LC2657" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">setReactionScheduler</span>(<span class="code-params">fn</span>) </span>{
</code></td></tr><tr><td id="L2658" class="css-a4x74f"><span>2658</span></td><td id="LC2658" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> baseScheduler = reactionScheduler;
</code></td></tr><tr><td id="L2659" class="css-a4x74f"><span>2659</span></td><td id="LC2659" class="css-1dcdqdg"><code>      reactionScheduler = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">reactionScheduler</span>(<span class="code-params">f</span>) </span>{
</code></td></tr><tr><td id="L2660" class="css-a4x74f"><span>2660</span></td><td id="LC2660" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> fn(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2661" class="css-a4x74f"><span>2661</span></td><td id="LC2661" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> baseScheduler(f);
</code></td></tr><tr><td id="L2662" class="css-a4x74f"><span>2662</span></td><td id="LC2662" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L2663" class="css-a4x74f"><span>2663</span></td><td id="LC2663" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L2664" class="css-a4x74f"><span>2664</span></td><td id="LC2664" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2665" class="css-a4x74f"><span>2665</span></td><td id="LC2665" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2666" class="css-a4x74f"><span>2666</span></td><td id="LC2666" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isSpyEnabled</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2667" class="css-a4x74f"><span>2667</span></td><td id="LC2667" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span>  !!globalState.spyListeners.length;
</code></td></tr><tr><td id="L2668" class="css-a4x74f"><span>2668</span></td><td id="LC2668" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2669" class="css-a4x74f"><span>2669</span></td><td id="LC2669" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">spyReport</span>(<span class="code-params">event</span>) </span>{
</code></td></tr><tr><td id="L2670" class="css-a4x74f"><span>2670</span></td><td id="LC2670" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!globalState.spyListeners.length) {
</code></td></tr><tr><td id="L2671" class="css-a4x74f"><span>2671</span></td><td id="LC2671" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L2672" class="css-a4x74f"><span>2672</span></td><td id="LC2672" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2673" class="css-a4x74f"><span>2673</span></td><td id="LC2673" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> listeners = globalState.spyListeners;
</code></td></tr><tr><td id="L2674" class="css-a4x74f"><span>2674</span></td><td id="LC2674" class="css-1dcdqdg"><code>      <span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, l = listeners.length; i &lt; l; i++) {
</code></td></tr><tr><td id="L2675" class="css-a4x74f"><span>2675</span></td><td id="LC2675" class="css-1dcdqdg"><code>        listeners[i](event);
</code></td></tr><tr><td id="L2676" class="css-a4x74f"><span>2676</span></td><td id="LC2676" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2677" class="css-a4x74f"><span>2677</span></td><td id="LC2677" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2678" class="css-a4x74f"><span>2678</span></td><td id="LC2678" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">spyReportStart</span>(<span class="code-params">event</span>) </span>{
</code></td></tr><tr><td id="L2679" class="css-a4x74f"><span>2679</span></td><td id="LC2679" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> change = _extends({}, event, {
</code></td></tr><tr><td id="L2680" class="css-a4x74f"><span>2680</span></td><td id="LC2680" class="css-1dcdqdg"><code>        spyReportStart: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L2681" class="css-a4x74f"><span>2681</span></td><td id="LC2681" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L2682" class="css-a4x74f"><span>2682</span></td><td id="LC2682" class="css-1dcdqdg"><code>      spyReport(change);
</code></td></tr><tr><td id="L2683" class="css-a4x74f"><span>2683</span></td><td id="LC2683" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2684" class="css-a4x74f"><span>2684</span></td><td id="LC2684" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> END_EVENT = {
</code></td></tr><tr><td id="L2685" class="css-a4x74f"><span>2685</span></td><td id="LC2685" class="css-1dcdqdg"><code>      type: <span class="code-string">"report-end"</span>,
</code></td></tr><tr><td id="L2686" class="css-a4x74f"><span>2686</span></td><td id="LC2686" class="css-1dcdqdg"><code>      spyReportEnd: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L2687" class="css-a4x74f"><span>2687</span></td><td id="LC2687" class="css-1dcdqdg"><code>    };
</code></td></tr><tr><td id="L2688" class="css-a4x74f"><span>2688</span></td><td id="LC2688" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">spyReportEnd</span>(<span class="code-params">change</span>) </span>{
</code></td></tr><tr><td id="L2689" class="css-a4x74f"><span>2689</span></td><td id="LC2689" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (change) {
</code></td></tr><tr><td id="L2690" class="css-a4x74f"><span>2690</span></td><td id="LC2690" class="css-1dcdqdg"><code>        spyReport(_extends({}, change, {
</code></td></tr><tr><td id="L2691" class="css-a4x74f"><span>2691</span></td><td id="LC2691" class="css-1dcdqdg"><code>          type: <span class="code-string">"report-end"</span>,
</code></td></tr><tr><td id="L2692" class="css-a4x74f"><span>2692</span></td><td id="LC2692" class="css-1dcdqdg"><code>          spyReportEnd: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L2693" class="css-a4x74f"><span>2693</span></td><td id="LC2693" class="css-1dcdqdg"><code>        }));
</code></td></tr><tr><td id="L2694" class="css-a4x74f"><span>2694</span></td><td id="LC2694" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2695" class="css-a4x74f"><span>2695</span></td><td id="LC2695" class="css-1dcdqdg"><code>        spyReport(END_EVENT);
</code></td></tr><tr><td id="L2696" class="css-a4x74f"><span>2696</span></td><td id="LC2696" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2697" class="css-a4x74f"><span>2697</span></td><td id="LC2697" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2698" class="css-a4x74f"><span>2698</span></td><td id="LC2698" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">spy</span>(<span class="code-params">listener</span>) </span>{
</code></td></tr><tr><td id="L2699" class="css-a4x74f"><span>2699</span></td><td id="LC2699" class="css-1dcdqdg"><code>      {
</code></td></tr><tr><td id="L2700" class="css-a4x74f"><span>2700</span></td><td id="LC2700" class="css-1dcdqdg"><code>        globalState.spyListeners.push(listener);
</code></td></tr><tr><td id="L2701" class="css-a4x74f"><span>2701</span></td><td id="LC2701" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> once(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2702" class="css-a4x74f"><span>2702</span></td><td id="LC2702" class="css-1dcdqdg"><code>          globalState.spyListeners = globalState.spyListeners.filter(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">l</span>) </span>{
</code></td></tr><tr><td id="L2703" class="css-a4x74f"><span>2703</span></td><td id="LC2703" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> l !== listener;
</code></td></tr><tr><td id="L2704" class="css-a4x74f"><span>2704</span></td><td id="LC2704" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L2705" class="css-a4x74f"><span>2705</span></td><td id="LC2705" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L2706" class="css-a4x74f"><span>2706</span></td><td id="LC2706" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2707" class="css-a4x74f"><span>2707</span></td><td id="LC2707" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2708" class="css-a4x74f"><span>2708</span></td><td id="LC2708" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2709" class="css-a4x74f"><span>2709</span></td><td id="LC2709" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> ACTION = <span class="code-string">"action"</span>;
</code></td></tr><tr><td id="L2710" class="css-a4x74f"><span>2710</span></td><td id="LC2710" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> ACTION_BOUND = <span class="code-string">"action.bound"</span>;
</code></td></tr><tr><td id="L2711" class="css-a4x74f"><span>2711</span></td><td id="LC2711" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> AUTOACTION = <span class="code-string">"autoAction"</span>;
</code></td></tr><tr><td id="L2712" class="css-a4x74f"><span>2712</span></td><td id="LC2712" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> AUTOACTION_BOUND = <span class="code-string">"autoAction.bound"</span>;
</code></td></tr><tr><td id="L2713" class="css-a4x74f"><span>2713</span></td><td id="LC2713" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> DEFAULT_ACTION_NAME = <span class="code-string">"&lt;unnamed action&gt;"</span>;
</code></td></tr><tr><td id="L2714" class="css-a4x74f"><span>2714</span></td><td id="LC2714" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> actionAnnotation = <span class="code-comment">/*#__PURE__*/</span>createActionAnnotation(ACTION);
</code></td></tr><tr><td id="L2715" class="css-a4x74f"><span>2715</span></td><td id="LC2715" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> actionBoundAnnotation = <span class="code-comment">/*#__PURE__*/</span>createActionAnnotation(ACTION_BOUND, {
</code></td></tr><tr><td id="L2716" class="css-a4x74f"><span>2716</span></td><td id="LC2716" class="css-1dcdqdg"><code>      bound: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L2717" class="css-a4x74f"><span>2717</span></td><td id="LC2717" class="css-1dcdqdg"><code>    });
</code></td></tr><tr><td id="L2718" class="css-a4x74f"><span>2718</span></td><td id="LC2718" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> autoActionAnnotation = <span class="code-comment">/*#__PURE__*/</span>createActionAnnotation(AUTOACTION, {
</code></td></tr><tr><td id="L2719" class="css-a4x74f"><span>2719</span></td><td id="LC2719" class="css-1dcdqdg"><code>      autoAction: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L2720" class="css-a4x74f"><span>2720</span></td><td id="LC2720" class="css-1dcdqdg"><code>    });
</code></td></tr><tr><td id="L2721" class="css-a4x74f"><span>2721</span></td><td id="LC2721" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> autoActionBoundAnnotation = <span class="code-comment">/*#__PURE__*/</span>createActionAnnotation(AUTOACTION_BOUND, {
</code></td></tr><tr><td id="L2722" class="css-a4x74f"><span>2722</span></td><td id="LC2722" class="css-1dcdqdg"><code>      autoAction: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L2723" class="css-a4x74f"><span>2723</span></td><td id="LC2723" class="css-1dcdqdg"><code>      bound: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L2724" class="css-a4x74f"><span>2724</span></td><td id="LC2724" class="css-1dcdqdg"><code>    });
</code></td></tr><tr><td id="L2725" class="css-a4x74f"><span>2725</span></td><td id="LC2725" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createActionFactory</span>(<span class="code-params">autoAction</span>) </span>{
</code></td></tr><tr><td id="L2726" class="css-a4x74f"><span>2726</span></td><td id="LC2726" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> res = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">action</span>(<span class="code-params">arg1, arg2</span>) </span>{
</code></td></tr><tr><td id="L2727" class="css-a4x74f"><span>2727</span></td><td id="LC2727" class="css-1dcdqdg"><code>        <span class="code-comment">// action(fn() {})</span>
</code></td></tr><tr><td id="L2728" class="css-a4x74f"><span>2728</span></td><td id="LC2728" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isFunction(arg1)) {
</code></td></tr><tr><td id="L2729" class="css-a4x74f"><span>2729</span></td><td id="LC2729" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> createAction(arg1.name || DEFAULT_ACTION_NAME, arg1, autoAction);
</code></td></tr><tr><td id="L2730" class="css-a4x74f"><span>2730</span></td><td id="LC2730" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2731" class="css-a4x74f"><span>2731</span></td><td id="LC2731" class="css-1dcdqdg"><code>        <span class="code-comment">// action("name", fn() {})</span>
</code></td></tr><tr><td id="L2732" class="css-a4x74f"><span>2732</span></td><td id="LC2732" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isFunction(arg2)) {
</code></td></tr><tr><td id="L2733" class="css-a4x74f"><span>2733</span></td><td id="LC2733" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> createAction(arg1, arg2, autoAction);
</code></td></tr><tr><td id="L2734" class="css-a4x74f"><span>2734</span></td><td id="LC2734" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2735" class="css-a4x74f"><span>2735</span></td><td id="LC2735" class="css-1dcdqdg"><code>        <span class="code-comment">// @action (2022.3 Decorators)</span>
</code></td></tr><tr><td id="L2736" class="css-a4x74f"><span>2736</span></td><td id="LC2736" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (is20223Decorator(arg2)) {
</code></td></tr><tr><td id="L2737" class="css-a4x74f"><span>2737</span></td><td id="LC2737" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> (autoAction ? autoActionAnnotation : actionAnnotation).decorate_20223_(arg1, arg2);
</code></td></tr><tr><td id="L2738" class="css-a4x74f"><span>2738</span></td><td id="LC2738" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2739" class="css-a4x74f"><span>2739</span></td><td id="LC2739" class="css-1dcdqdg"><code>        <span class="code-comment">// @action</span>
</code></td></tr><tr><td id="L2740" class="css-a4x74f"><span>2740</span></td><td id="LC2740" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isStringish(arg2)) {
</code></td></tr><tr><td id="L2741" class="css-a4x74f"><span>2741</span></td><td id="LC2741" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> storeAnnotation(arg1, arg2, autoAction ? autoActionAnnotation : actionAnnotation);
</code></td></tr><tr><td id="L2742" class="css-a4x74f"><span>2742</span></td><td id="LC2742" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2743" class="css-a4x74f"><span>2743</span></td><td id="LC2743" class="css-1dcdqdg"><code>        <span class="code-comment">// action("name") &amp; @action("name")</span>
</code></td></tr><tr><td id="L2744" class="css-a4x74f"><span>2744</span></td><td id="LC2744" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isStringish(arg1)) {
</code></td></tr><tr><td id="L2745" class="css-a4x74f"><span>2745</span></td><td id="LC2745" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> createDecoratorAnnotation(createActionAnnotation(autoAction ? AUTOACTION : ACTION, {
</code></td></tr><tr><td id="L2746" class="css-a4x74f"><span>2746</span></td><td id="LC2746" class="css-1dcdqdg"><code>            name: arg1,
</code></td></tr><tr><td id="L2747" class="css-a4x74f"><span>2747</span></td><td id="LC2747" class="css-1dcdqdg"><code>            autoAction: autoAction
</code></td></tr><tr><td id="L2748" class="css-a4x74f"><span>2748</span></td><td id="LC2748" class="css-1dcdqdg"><code>          }));
</code></td></tr><tr><td id="L2749" class="css-a4x74f"><span>2749</span></td><td id="LC2749" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2750" class="css-a4x74f"><span>2750</span></td><td id="LC2750" class="css-1dcdqdg"><code>        {
</code></td></tr><tr><td id="L2751" class="css-a4x74f"><span>2751</span></td><td id="LC2751" class="css-1dcdqdg"><code>          die(<span class="code-string">"Invalid arguments for `action`"</span>);
</code></td></tr><tr><td id="L2752" class="css-a4x74f"><span>2752</span></td><td id="LC2752" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2753" class="css-a4x74f"><span>2753</span></td><td id="LC2753" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L2754" class="css-a4x74f"><span>2754</span></td><td id="LC2754" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> res;
</code></td></tr><tr><td id="L2755" class="css-a4x74f"><span>2755</span></td><td id="LC2755" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2756" class="css-a4x74f"><span>2756</span></td><td id="LC2756" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> action = <span class="code-comment">/*#__PURE__*/</span>createActionFactory(<span class="code-literal">false</span>);
</code></td></tr><tr><td id="L2757" class="css-a4x74f"><span>2757</span></td><td id="LC2757" class="css-1dcdqdg"><code>    <span class="code-built_in">Object</span>.assign(action, actionAnnotation);
</code></td></tr><tr><td id="L2758" class="css-a4x74f"><span>2758</span></td><td id="LC2758" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> autoAction = <span class="code-comment">/*#__PURE__*/</span>createActionFactory(<span class="code-literal">true</span>);
</code></td></tr><tr><td id="L2759" class="css-a4x74f"><span>2759</span></td><td id="LC2759" class="css-1dcdqdg"><code>    <span class="code-built_in">Object</span>.assign(autoAction, autoActionAnnotation);
</code></td></tr><tr><td id="L2760" class="css-a4x74f"><span>2760</span></td><td id="LC2760" class="css-1dcdqdg"><code>    action.bound = <span class="code-comment">/*#__PURE__*/</span>createDecoratorAnnotation(actionBoundAnnotation);
</code></td></tr><tr><td id="L2761" class="css-a4x74f"><span>2761</span></td><td id="LC2761" class="css-1dcdqdg"><code>    autoAction.bound = <span class="code-comment">/*#__PURE__*/</span>createDecoratorAnnotation(autoActionBoundAnnotation);
</code></td></tr><tr><td id="L2762" class="css-a4x74f"><span>2762</span></td><td id="LC2762" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">runInAction</span>(<span class="code-params">fn</span>) </span>{
</code></td></tr><tr><td id="L2763" class="css-a4x74f"><span>2763</span></td><td id="LC2763" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> executeAction(fn.name || DEFAULT_ACTION_NAME, <span class="code-literal">false</span>, fn, <span class="code-keyword">this</span>, <span class="code-literal">undefined</span>);
</code></td></tr><tr><td id="L2764" class="css-a4x74f"><span>2764</span></td><td id="LC2764" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2765" class="css-a4x74f"><span>2765</span></td><td id="LC2765" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isAction</span>(<span class="code-params">thing</span>) </span>{
</code></td></tr><tr><td id="L2766" class="css-a4x74f"><span>2766</span></td><td id="LC2766" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> isFunction(thing) &amp;&amp; thing.isMobxAction === <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2767" class="css-a4x74f"><span>2767</span></td><td id="LC2767" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2768" class="css-a4x74f"><span>2768</span></td><td id="LC2768" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2769" class="css-a4x74f"><span>2769</span></td><td id="LC2769" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L2770" class="css-a4x74f"><span>2770</span></td><td id="LC2770" class="css-1dcdqdg"><code><span class="code-comment">     * Creates a named reactive view and keeps it alive, so that the view is always
</span></code></td></tr><tr><td id="L2771" class="css-a4x74f"><span>2771</span></td><td id="LC2771" class="css-1dcdqdg"><code><span class="code-comment">     * updated if one of the dependencies changes, even when the view is not further used by something else.
</span></code></td></tr><tr><td id="L2772" class="css-a4x74f"><span>2772</span></td><td id="LC2772" class="css-1dcdqdg"><code><span class="code-comment">     * @param view The reactive view
</span></code></td></tr><tr><td id="L2773" class="css-a4x74f"><span>2773</span></td><td id="LC2773" class="css-1dcdqdg"><code><span class="code-comment">     * @returns disposer function, which can be used to stop the view from being updated in the future.
</span></code></td></tr><tr><td id="L2774" class="css-a4x74f"><span>2774</span></td><td id="LC2774" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L2775" class="css-a4x74f"><span>2775</span></td><td id="LC2775" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">autorun</span>(<span class="code-params">view, opts</span>) </span>{
</code></td></tr><tr><td id="L2776" class="css-a4x74f"><span>2776</span></td><td id="LC2776" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _opts$name, _opts, _opts2, _opts3;
</code></td></tr><tr><td id="L2777" class="css-a4x74f"><span>2777</span></td><td id="LC2777" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (opts === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L2778" class="css-a4x74f"><span>2778</span></td><td id="LC2778" class="css-1dcdqdg"><code>        opts = EMPTY_OBJECT;
</code></td></tr><tr><td id="L2779" class="css-a4x74f"><span>2779</span></td><td id="LC2779" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2780" class="css-a4x74f"><span>2780</span></td><td id="LC2780" class="css-1dcdqdg"><code>      {
</code></td></tr><tr><td id="L2781" class="css-a4x74f"><span>2781</span></td><td id="LC2781" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!isFunction(view)) {
</code></td></tr><tr><td id="L2782" class="css-a4x74f"><span>2782</span></td><td id="LC2782" class="css-1dcdqdg"><code>          die(<span class="code-string">"Autorun expects a function as first argument"</span>);
</code></td></tr><tr><td id="L2783" class="css-a4x74f"><span>2783</span></td><td id="LC2783" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2784" class="css-a4x74f"><span>2784</span></td><td id="LC2784" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isAction(view)) {
</code></td></tr><tr><td id="L2785" class="css-a4x74f"><span>2785</span></td><td id="LC2785" class="css-1dcdqdg"><code>          die(<span class="code-string">"Autorun does not accept actions since actions are untrackable"</span>);
</code></td></tr><tr><td id="L2786" class="css-a4x74f"><span>2786</span></td><td id="LC2786" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2787" class="css-a4x74f"><span>2787</span></td><td id="LC2787" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2788" class="css-a4x74f"><span>2788</span></td><td id="LC2788" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> name = (_opts$name = (_opts = opts) == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : _opts.name) != <span class="code-literal">null</span> ? _opts$name :  view.name || <span class="code-string">"Autorun@"</span> + getNextId() ;
</code></td></tr><tr><td id="L2789" class="css-a4x74f"><span>2789</span></td><td id="LC2789" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> runSync = !opts.scheduler &amp;&amp; !opts.delay;
</code></td></tr><tr><td id="L2790" class="css-a4x74f"><span>2790</span></td><td id="LC2790" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> reaction;
</code></td></tr><tr><td id="L2791" class="css-a4x74f"><span>2791</span></td><td id="LC2791" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (runSync) {
</code></td></tr><tr><td id="L2792" class="css-a4x74f"><span>2792</span></td><td id="LC2792" class="css-1dcdqdg"><code>        <span class="code-comment">// normal autorun</span>
</code></td></tr><tr><td id="L2793" class="css-a4x74f"><span>2793</span></td><td id="LC2793" class="css-1dcdqdg"><code>        reaction = <span class="code-keyword">new</span> Reaction(name, <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2794" class="css-a4x74f"><span>2794</span></td><td id="LC2794" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.track(reactionRunner);
</code></td></tr><tr><td id="L2795" class="css-a4x74f"><span>2795</span></td><td id="LC2795" class="css-1dcdqdg"><code>        }, opts.onError, opts.requiresObservable);
</code></td></tr><tr><td id="L2796" class="css-a4x74f"><span>2796</span></td><td id="LC2796" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2797" class="css-a4x74f"><span>2797</span></td><td id="LC2797" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> scheduler = createSchedulerFromOptions(opts);
</code></td></tr><tr><td id="L2798" class="css-a4x74f"><span>2798</span></td><td id="LC2798" class="css-1dcdqdg"><code>        <span class="code-comment">// debounced autorun</span>
</code></td></tr><tr><td id="L2799" class="css-a4x74f"><span>2799</span></td><td id="LC2799" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> isScheduled = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2800" class="css-a4x74f"><span>2800</span></td><td id="LC2800" class="css-1dcdqdg"><code>        reaction = <span class="code-keyword">new</span> Reaction(name, <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2801" class="css-a4x74f"><span>2801</span></td><td id="LC2801" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!isScheduled) {
</code></td></tr><tr><td id="L2802" class="css-a4x74f"><span>2802</span></td><td id="LC2802" class="css-1dcdqdg"><code>            isScheduled = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2803" class="css-a4x74f"><span>2803</span></td><td id="LC2803" class="css-1dcdqdg"><code>            scheduler(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2804" class="css-a4x74f"><span>2804</span></td><td id="LC2804" class="css-1dcdqdg"><code>              isScheduled = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2805" class="css-a4x74f"><span>2805</span></td><td id="LC2805" class="css-1dcdqdg"><code>              <span class="code-keyword">if</span> (!reaction.isDisposed) {
</code></td></tr><tr><td id="L2806" class="css-a4x74f"><span>2806</span></td><td id="LC2806" class="css-1dcdqdg"><code>                reaction.track(reactionRunner);
</code></td></tr><tr><td id="L2807" class="css-a4x74f"><span>2807</span></td><td id="LC2807" class="css-1dcdqdg"><code>              }
</code></td></tr><tr><td id="L2808" class="css-a4x74f"><span>2808</span></td><td id="LC2808" class="css-1dcdqdg"><code>            });
</code></td></tr><tr><td id="L2809" class="css-a4x74f"><span>2809</span></td><td id="LC2809" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L2810" class="css-a4x74f"><span>2810</span></td><td id="LC2810" class="css-1dcdqdg"><code>        }, opts.onError, opts.requiresObservable);
</code></td></tr><tr><td id="L2811" class="css-a4x74f"><span>2811</span></td><td id="LC2811" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2812" class="css-a4x74f"><span>2812</span></td><td id="LC2812" class="css-1dcdqdg"><code>      <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">reactionRunner</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2813" class="css-a4x74f"><span>2813</span></td><td id="LC2813" class="css-1dcdqdg"><code>        view(reaction);
</code></td></tr><tr><td id="L2814" class="css-a4x74f"><span>2814</span></td><td id="LC2814" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2815" class="css-a4x74f"><span>2815</span></td><td id="LC2815" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!((_opts2 = opts) != <span class="code-literal">null</span> &amp;&amp; (_opts2 = _opts2.signal) != <span class="code-literal">null</span> &amp;&amp; _opts2.aborted)) {
</code></td></tr><tr><td id="L2816" class="css-a4x74f"><span>2816</span></td><td id="LC2816" class="css-1dcdqdg"><code>        reaction.schedule_();
</code></td></tr><tr><td id="L2817" class="css-a4x74f"><span>2817</span></td><td id="LC2817" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2818" class="css-a4x74f"><span>2818</span></td><td id="LC2818" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> reaction.getDisposer_((_opts3 = opts) == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : _opts3.signal);
</code></td></tr><tr><td id="L2819" class="css-a4x74f"><span>2819</span></td><td id="LC2819" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2820" class="css-a4x74f"><span>2820</span></td><td id="LC2820" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> run = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">run</span>(<span class="code-params">f</span>) </span>{
</code></td></tr><tr><td id="L2821" class="css-a4x74f"><span>2821</span></td><td id="LC2821" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> f();
</code></td></tr><tr><td id="L2822" class="css-a4x74f"><span>2822</span></td><td id="LC2822" class="css-1dcdqdg"><code>    };
</code></td></tr><tr><td id="L2823" class="css-a4x74f"><span>2823</span></td><td id="LC2823" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createSchedulerFromOptions</span>(<span class="code-params">opts</span>) </span>{
</code></td></tr><tr><td id="L2824" class="css-a4x74f"><span>2824</span></td><td id="LC2824" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> opts.scheduler ? opts.scheduler : opts.delay ? <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">f</span>) </span>{
</code></td></tr><tr><td id="L2825" class="css-a4x74f"><span>2825</span></td><td id="LC2825" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> setTimeout(f, opts.delay);
</code></td></tr><tr><td id="L2826" class="css-a4x74f"><span>2826</span></td><td id="LC2826" class="css-1dcdqdg"><code>      } : run;
</code></td></tr><tr><td id="L2827" class="css-a4x74f"><span>2827</span></td><td id="LC2827" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2828" class="css-a4x74f"><span>2828</span></td><td id="LC2828" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">reaction</span>(<span class="code-params">expression, effect, opts</span>) </span>{
</code></td></tr><tr><td id="L2829" class="css-a4x74f"><span>2829</span></td><td id="LC2829" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _opts$name2, _opts4, _opts5;
</code></td></tr><tr><td id="L2830" class="css-a4x74f"><span>2830</span></td><td id="LC2830" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (opts === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L2831" class="css-a4x74f"><span>2831</span></td><td id="LC2831" class="css-1dcdqdg"><code>        opts = EMPTY_OBJECT;
</code></td></tr><tr><td id="L2832" class="css-a4x74f"><span>2832</span></td><td id="LC2832" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2833" class="css-a4x74f"><span>2833</span></td><td id="LC2833" class="css-1dcdqdg"><code>      {
</code></td></tr><tr><td id="L2834" class="css-a4x74f"><span>2834</span></td><td id="LC2834" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!isFunction(expression) || !isFunction(effect)) {
</code></td></tr><tr><td id="L2835" class="css-a4x74f"><span>2835</span></td><td id="LC2835" class="css-1dcdqdg"><code>          die(<span class="code-string">"First and second argument to reaction should be functions"</span>);
</code></td></tr><tr><td id="L2836" class="css-a4x74f"><span>2836</span></td><td id="LC2836" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2837" class="css-a4x74f"><span>2837</span></td><td id="LC2837" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!isPlainObject(opts)) {
</code></td></tr><tr><td id="L2838" class="css-a4x74f"><span>2838</span></td><td id="LC2838" class="css-1dcdqdg"><code>          die(<span class="code-string">"Third argument of reactions should be an object"</span>);
</code></td></tr><tr><td id="L2839" class="css-a4x74f"><span>2839</span></td><td id="LC2839" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2840" class="css-a4x74f"><span>2840</span></td><td id="LC2840" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2841" class="css-a4x74f"><span>2841</span></td><td id="LC2841" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> name = (_opts$name2 = opts.name) != <span class="code-literal">null</span> ? _opts$name2 :  <span class="code-string">"Reaction@"</span> + getNextId() ;
</code></td></tr><tr><td id="L2842" class="css-a4x74f"><span>2842</span></td><td id="LC2842" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> effectAction = action(name, opts.onError ? wrapErrorHandler(opts.onError, effect) : effect);
</code></td></tr><tr><td id="L2843" class="css-a4x74f"><span>2843</span></td><td id="LC2843" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> runSync = !opts.scheduler &amp;&amp; !opts.delay;
</code></td></tr><tr><td id="L2844" class="css-a4x74f"><span>2844</span></td><td id="LC2844" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> scheduler = createSchedulerFromOptions(opts);
</code></td></tr><tr><td id="L2845" class="css-a4x74f"><span>2845</span></td><td id="LC2845" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> firstTime = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2846" class="css-a4x74f"><span>2846</span></td><td id="LC2846" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> isScheduled = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2847" class="css-a4x74f"><span>2847</span></td><td id="LC2847" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> value;
</code></td></tr><tr><td id="L2848" class="css-a4x74f"><span>2848</span></td><td id="LC2848" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> equals = opts.compareStructural ? comparer.structural : opts.equals || comparer[<span class="code-string">"default"</span>];
</code></td></tr><tr><td id="L2849" class="css-a4x74f"><span>2849</span></td><td id="LC2849" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> r = <span class="code-keyword">new</span> Reaction(name, <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2850" class="css-a4x74f"><span>2850</span></td><td id="LC2850" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (firstTime || runSync) {
</code></td></tr><tr><td id="L2851" class="css-a4x74f"><span>2851</span></td><td id="LC2851" class="css-1dcdqdg"><code>          reactionRunner();
</code></td></tr><tr><td id="L2852" class="css-a4x74f"><span>2852</span></td><td id="LC2852" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (!isScheduled) {
</code></td></tr><tr><td id="L2853" class="css-a4x74f"><span>2853</span></td><td id="LC2853" class="css-1dcdqdg"><code>          isScheduled = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2854" class="css-a4x74f"><span>2854</span></td><td id="LC2854" class="css-1dcdqdg"><code>          scheduler(reactionRunner);
</code></td></tr><tr><td id="L2855" class="css-a4x74f"><span>2855</span></td><td id="LC2855" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2856" class="css-a4x74f"><span>2856</span></td><td id="LC2856" class="css-1dcdqdg"><code>      }, opts.onError, opts.requiresObservable);
</code></td></tr><tr><td id="L2857" class="css-a4x74f"><span>2857</span></td><td id="LC2857" class="css-1dcdqdg"><code>      <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">reactionRunner</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2858" class="css-a4x74f"><span>2858</span></td><td id="LC2858" class="css-1dcdqdg"><code>        isScheduled = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2859" class="css-a4x74f"><span>2859</span></td><td id="LC2859" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (r.isDisposed) {
</code></td></tr><tr><td id="L2860" class="css-a4x74f"><span>2860</span></td><td id="LC2860" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L2861" class="css-a4x74f"><span>2861</span></td><td id="LC2861" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2862" class="css-a4x74f"><span>2862</span></td><td id="LC2862" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> changed = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2863" class="css-a4x74f"><span>2863</span></td><td id="LC2863" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> oldValue = value;
</code></td></tr><tr><td id="L2864" class="css-a4x74f"><span>2864</span></td><td id="LC2864" class="css-1dcdqdg"><code>        r.track(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2865" class="css-a4x74f"><span>2865</span></td><td id="LC2865" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> nextValue = allowStateChanges(<span class="code-literal">false</span>, <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2866" class="css-a4x74f"><span>2866</span></td><td id="LC2866" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> expression(r);
</code></td></tr><tr><td id="L2867" class="css-a4x74f"><span>2867</span></td><td id="LC2867" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L2868" class="css-a4x74f"><span>2868</span></td><td id="LC2868" class="css-1dcdqdg"><code>          changed = firstTime || !equals(value, nextValue);
</code></td></tr><tr><td id="L2869" class="css-a4x74f"><span>2869</span></td><td id="LC2869" class="css-1dcdqdg"><code>          value = nextValue;
</code></td></tr><tr><td id="L2870" class="css-a4x74f"><span>2870</span></td><td id="LC2870" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L2871" class="css-a4x74f"><span>2871</span></td><td id="LC2871" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (firstTime &amp;&amp; opts.fireImmediately) {
</code></td></tr><tr><td id="L2872" class="css-a4x74f"><span>2872</span></td><td id="LC2872" class="css-1dcdqdg"><code>          effectAction(value, oldValue, r);
</code></td></tr><tr><td id="L2873" class="css-a4x74f"><span>2873</span></td><td id="LC2873" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (!firstTime &amp;&amp; changed) {
</code></td></tr><tr><td id="L2874" class="css-a4x74f"><span>2874</span></td><td id="LC2874" class="css-1dcdqdg"><code>          effectAction(value, oldValue, r);
</code></td></tr><tr><td id="L2875" class="css-a4x74f"><span>2875</span></td><td id="LC2875" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2876" class="css-a4x74f"><span>2876</span></td><td id="LC2876" class="css-1dcdqdg"><code>        firstTime = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2877" class="css-a4x74f"><span>2877</span></td><td id="LC2877" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2878" class="css-a4x74f"><span>2878</span></td><td id="LC2878" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!((_opts4 = opts) != <span class="code-literal">null</span> &amp;&amp; (_opts4 = _opts4.signal) != <span class="code-literal">null</span> &amp;&amp; _opts4.aborted)) {
</code></td></tr><tr><td id="L2879" class="css-a4x74f"><span>2879</span></td><td id="LC2879" class="css-1dcdqdg"><code>        r.schedule_();
</code></td></tr><tr><td id="L2880" class="css-a4x74f"><span>2880</span></td><td id="LC2880" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2881" class="css-a4x74f"><span>2881</span></td><td id="LC2881" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> r.getDisposer_((_opts5 = opts) == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : _opts5.signal);
</code></td></tr><tr><td id="L2882" class="css-a4x74f"><span>2882</span></td><td id="LC2882" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2883" class="css-a4x74f"><span>2883</span></td><td id="LC2883" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">wrapErrorHandler</span>(<span class="code-params">errorHandler, baseFn</span>) </span>{
</code></td></tr><tr><td id="L2884" class="css-a4x74f"><span>2884</span></td><td id="LC2884" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2885" class="css-a4x74f"><span>2885</span></td><td id="LC2885" class="css-1dcdqdg"><code>        <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L2886" class="css-a4x74f"><span>2886</span></td><td id="LC2886" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> baseFn.apply(<span class="code-keyword">this</span>, <span class="code-built_in">arguments</span>);
</code></td></tr><tr><td id="L2887" class="css-a4x74f"><span>2887</span></td><td id="LC2887" class="css-1dcdqdg"><code>        } <span class="code-keyword">catch</span> (e) {
</code></td></tr><tr><td id="L2888" class="css-a4x74f"><span>2888</span></td><td id="LC2888" class="css-1dcdqdg"><code>          errorHandler.call(<span class="code-keyword">this</span>, e);
</code></td></tr><tr><td id="L2889" class="css-a4x74f"><span>2889</span></td><td id="LC2889" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2890" class="css-a4x74f"><span>2890</span></td><td id="LC2890" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L2891" class="css-a4x74f"><span>2891</span></td><td id="LC2891" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2892" class="css-a4x74f"><span>2892</span></td><td id="LC2892" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2893" class="css-a4x74f"><span>2893</span></td><td id="LC2893" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> ON_BECOME_OBSERVED = <span class="code-string">"onBO"</span>;
</code></td></tr><tr><td id="L2894" class="css-a4x74f"><span>2894</span></td><td id="LC2894" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> ON_BECOME_UNOBSERVED = <span class="code-string">"onBUO"</span>;
</code></td></tr><tr><td id="L2895" class="css-a4x74f"><span>2895</span></td><td id="LC2895" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">onBecomeObserved</span>(<span class="code-params">thing, arg2, arg3</span>) </span>{
</code></td></tr><tr><td id="L2896" class="css-a4x74f"><span>2896</span></td><td id="LC2896" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> interceptHook(ON_BECOME_OBSERVED, thing, arg2, arg3);
</code></td></tr><tr><td id="L2897" class="css-a4x74f"><span>2897</span></td><td id="LC2897" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2898" class="css-a4x74f"><span>2898</span></td><td id="LC2898" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">onBecomeUnobserved</span>(<span class="code-params">thing, arg2, arg3</span>) </span>{
</code></td></tr><tr><td id="L2899" class="css-a4x74f"><span>2899</span></td><td id="LC2899" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> interceptHook(ON_BECOME_UNOBSERVED, thing, arg2, arg3);
</code></td></tr><tr><td id="L2900" class="css-a4x74f"><span>2900</span></td><td id="LC2900" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2901" class="css-a4x74f"><span>2901</span></td><td id="LC2901" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">interceptHook</span>(<span class="code-params">hook, thing, arg2, arg3</span>) </span>{
</code></td></tr><tr><td id="L2902" class="css-a4x74f"><span>2902</span></td><td id="LC2902" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> atom = <span class="code-keyword">typeof</span> arg3 === <span class="code-string">"function"</span> ? getAtom(thing, arg2) : getAtom(thing);
</code></td></tr><tr><td id="L2903" class="css-a4x74f"><span>2903</span></td><td id="LC2903" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> cb = isFunction(arg3) ? arg3 : arg2;
</code></td></tr><tr><td id="L2904" class="css-a4x74f"><span>2904</span></td><td id="LC2904" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> listenersKey = hook + <span class="code-string">"L"</span>;
</code></td></tr><tr><td id="L2905" class="css-a4x74f"><span>2905</span></td><td id="LC2905" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (atom[listenersKey]) {
</code></td></tr><tr><td id="L2906" class="css-a4x74f"><span>2906</span></td><td id="LC2906" class="css-1dcdqdg"><code>        atom[listenersKey].add(cb);
</code></td></tr><tr><td id="L2907" class="css-a4x74f"><span>2907</span></td><td id="LC2907" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2908" class="css-a4x74f"><span>2908</span></td><td id="LC2908" class="css-1dcdqdg"><code>        atom[listenersKey] = <span class="code-keyword">new</span> <span class="code-built_in">Set</span>([cb]);
</code></td></tr><tr><td id="L2909" class="css-a4x74f"><span>2909</span></td><td id="LC2909" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2910" class="css-a4x74f"><span>2910</span></td><td id="LC2910" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2911" class="css-a4x74f"><span>2911</span></td><td id="LC2911" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> hookListeners = atom[listenersKey];
</code></td></tr><tr><td id="L2912" class="css-a4x74f"><span>2912</span></td><td id="LC2912" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (hookListeners) {
</code></td></tr><tr><td id="L2913" class="css-a4x74f"><span>2913</span></td><td id="LC2913" class="css-1dcdqdg"><code>          hookListeners[<span class="code-string">"delete"</span>](cb);
</code></td></tr><tr><td id="L2914" class="css-a4x74f"><span>2914</span></td><td id="LC2914" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (hookListeners.size === <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L2915" class="css-a4x74f"><span>2915</span></td><td id="LC2915" class="css-1dcdqdg"><code>            <span class="code-keyword">delete</span> atom[listenersKey];
</code></td></tr><tr><td id="L2916" class="css-a4x74f"><span>2916</span></td><td id="LC2916" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L2917" class="css-a4x74f"><span>2917</span></td><td id="LC2917" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2918" class="css-a4x74f"><span>2918</span></td><td id="LC2918" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L2919" class="css-a4x74f"><span>2919</span></td><td id="LC2919" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2920" class="css-a4x74f"><span>2920</span></td><td id="LC2920" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2921" class="css-a4x74f"><span>2921</span></td><td id="LC2921" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> NEVER = <span class="code-string">"never"</span>;
</code></td></tr><tr><td id="L2922" class="css-a4x74f"><span>2922</span></td><td id="LC2922" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> ALWAYS = <span class="code-string">"always"</span>;
</code></td></tr><tr><td id="L2923" class="css-a4x74f"><span>2923</span></td><td id="LC2923" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> OBSERVED = <span class="code-string">"observed"</span>;
</code></td></tr><tr><td id="L2924" class="css-a4x74f"><span>2924</span></td><td id="LC2924" class="css-1dcdqdg"><code>    <span class="code-comment">// const IF_AVAILABLE = "ifavailable"</span>
</code></td></tr><tr><td id="L2925" class="css-a4x74f"><span>2925</span></td><td id="LC2925" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">configure</span>(<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L2926" class="css-a4x74f"><span>2926</span></td><td id="LC2926" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (options.isolateGlobalState === <span class="code-literal">true</span>) {
</code></td></tr><tr><td id="L2927" class="css-a4x74f"><span>2927</span></td><td id="LC2927" class="css-1dcdqdg"><code>        isolateGlobalState();
</code></td></tr><tr><td id="L2928" class="css-a4x74f"><span>2928</span></td><td id="LC2928" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2929" class="css-a4x74f"><span>2929</span></td><td id="LC2929" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> useProxies = options.useProxies,
</code></td></tr><tr><td id="L2930" class="css-a4x74f"><span>2930</span></td><td id="LC2930" class="css-1dcdqdg"><code>        enforceActions = options.enforceActions;
</code></td></tr><tr><td id="L2931" class="css-a4x74f"><span>2931</span></td><td id="LC2931" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (useProxies !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L2932" class="css-a4x74f"><span>2932</span></td><td id="LC2932" class="css-1dcdqdg"><code>        globalState.useProxies = useProxies === ALWAYS ? <span class="code-literal">true</span> : useProxies === NEVER ? <span class="code-literal">false</span> : <span class="code-keyword">typeof</span> <span class="code-built_in">Proxy</span> !== <span class="code-string">"undefined"</span>;
</code></td></tr><tr><td id="L2933" class="css-a4x74f"><span>2933</span></td><td id="LC2933" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2934" class="css-a4x74f"><span>2934</span></td><td id="LC2934" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (useProxies === <span class="code-string">"ifavailable"</span>) {
</code></td></tr><tr><td id="L2935" class="css-a4x74f"><span>2935</span></td><td id="LC2935" class="css-1dcdqdg"><code>        globalState.verifyProxies = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2936" class="css-a4x74f"><span>2936</span></td><td id="LC2936" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2937" class="css-a4x74f"><span>2937</span></td><td id="LC2937" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (enforceActions !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L2938" class="css-a4x74f"><span>2938</span></td><td id="LC2938" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> ea = enforceActions === ALWAYS ? ALWAYS : enforceActions === OBSERVED;
</code></td></tr><tr><td id="L2939" class="css-a4x74f"><span>2939</span></td><td id="LC2939" class="css-1dcdqdg"><code>        globalState.enforceActions = ea;
</code></td></tr><tr><td id="L2940" class="css-a4x74f"><span>2940</span></td><td id="LC2940" class="css-1dcdqdg"><code>        globalState.allowStateChanges = ea === <span class="code-literal">true</span> || ea === ALWAYS ? <span class="code-literal">false</span> : <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2941" class="css-a4x74f"><span>2941</span></td><td id="LC2941" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2942" class="css-a4x74f"><span>2942</span></td><td id="LC2942" class="css-1dcdqdg"><code>      [<span class="code-string">"computedRequiresReaction"</span>, <span class="code-string">"reactionRequiresObservable"</span>, <span class="code-string">"observableRequiresReaction"</span>, <span class="code-string">"disableErrorBoundaries"</span>, <span class="code-string">"safeDescriptors"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L2943" class="css-a4x74f"><span>2943</span></td><td id="LC2943" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (key <span class="code-keyword">in</span> options) {
</code></td></tr><tr><td id="L2944" class="css-a4x74f"><span>2944</span></td><td id="LC2944" class="css-1dcdqdg"><code>          globalState[key] = !!options[key];
</code></td></tr><tr><td id="L2945" class="css-a4x74f"><span>2945</span></td><td id="LC2945" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2946" class="css-a4x74f"><span>2946</span></td><td id="LC2946" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L2947" class="css-a4x74f"><span>2947</span></td><td id="LC2947" class="css-1dcdqdg"><code>      globalState.allowStateReads = !globalState.observableRequiresReaction;
</code></td></tr><tr><td id="L2948" class="css-a4x74f"><span>2948</span></td><td id="LC2948" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( globalState.disableErrorBoundaries === <span class="code-literal">true</span>) {
</code></td></tr><tr><td id="L2949" class="css-a4x74f"><span>2949</span></td><td id="LC2949" class="css-1dcdqdg"><code>        <span class="code-built_in">console</span>.warn(<span class="code-string">"WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."</span>);
</code></td></tr><tr><td id="L2950" class="css-a4x74f"><span>2950</span></td><td id="LC2950" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2951" class="css-a4x74f"><span>2951</span></td><td id="LC2951" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (options.reactionScheduler) {
</code></td></tr><tr><td id="L2952" class="css-a4x74f"><span>2952</span></td><td id="LC2952" class="css-1dcdqdg"><code>        setReactionScheduler(options.reactionScheduler);
</code></td></tr><tr><td id="L2953" class="css-a4x74f"><span>2953</span></td><td id="LC2953" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2954" class="css-a4x74f"><span>2954</span></td><td id="LC2954" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2955" class="css-a4x74f"><span>2955</span></td><td id="LC2955" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2956" class="css-a4x74f"><span>2956</span></td><td id="LC2956" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">extendObservable</span>(<span class="code-params">target, properties, annotations, options</span>) </span>{
</code></td></tr><tr><td id="L2957" class="css-a4x74f"><span>2957</span></td><td id="LC2957" class="css-1dcdqdg"><code>      {
</code></td></tr><tr><td id="L2958" class="css-a4x74f"><span>2958</span></td><td id="LC2958" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-built_in">arguments</span>.length &gt; <span class="code-number">4</span>) {
</code></td></tr><tr><td id="L2959" class="css-a4x74f"><span>2959</span></td><td id="LC2959" class="css-1dcdqdg"><code>          die(<span class="code-string">"'extendObservable' expected 2-4 arguments"</span>);
</code></td></tr><tr><td id="L2960" class="css-a4x74f"><span>2960</span></td><td id="LC2960" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2961" class="css-a4x74f"><span>2961</span></td><td id="LC2961" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> target !== <span class="code-string">"object"</span>) {
</code></td></tr><tr><td id="L2962" class="css-a4x74f"><span>2962</span></td><td id="LC2962" class="css-1dcdqdg"><code>          die(<span class="code-string">"'extendObservable' expects an object as first argument"</span>);
</code></td></tr><tr><td id="L2963" class="css-a4x74f"><span>2963</span></td><td id="LC2963" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2964" class="css-a4x74f"><span>2964</span></td><td id="LC2964" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isObservableMap(target)) {
</code></td></tr><tr><td id="L2965" class="css-a4x74f"><span>2965</span></td><td id="LC2965" class="css-1dcdqdg"><code>          die(<span class="code-string">"'extendObservable' should not be used on maps, use map.merge instead"</span>);
</code></td></tr><tr><td id="L2966" class="css-a4x74f"><span>2966</span></td><td id="LC2966" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2967" class="css-a4x74f"><span>2967</span></td><td id="LC2967" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!isPlainObject(properties)) {
</code></td></tr><tr><td id="L2968" class="css-a4x74f"><span>2968</span></td><td id="LC2968" class="css-1dcdqdg"><code>          die(<span class="code-string">"'extendObservable' only accepts plain objects as second argument"</span>);
</code></td></tr><tr><td id="L2969" class="css-a4x74f"><span>2969</span></td><td id="LC2969" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2970" class="css-a4x74f"><span>2970</span></td><td id="LC2970" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isObservable(properties) || isObservable(annotations)) {
</code></td></tr><tr><td id="L2971" class="css-a4x74f"><span>2971</span></td><td id="LC2971" class="css-1dcdqdg"><code>          die(<span class="code-string">"Extending an object with another observable (object) is not supported"</span>);
</code></td></tr><tr><td id="L2972" class="css-a4x74f"><span>2972</span></td><td id="LC2972" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L2973" class="css-a4x74f"><span>2973</span></td><td id="LC2973" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2974" class="css-a4x74f"><span>2974</span></td><td id="LC2974" class="css-1dcdqdg"><code>      <span class="code-comment">// Pull descriptors first, so we don't have to deal with props added by administration ($mobx)</span>
</code></td></tr><tr><td id="L2975" class="css-a4x74f"><span>2975</span></td><td id="LC2975" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> descriptors = getOwnPropertyDescriptors(properties);
</code></td></tr><tr><td id="L2976" class="css-a4x74f"><span>2976</span></td><td id="LC2976" class="css-1dcdqdg"><code>      initObservable(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2977" class="css-a4x74f"><span>2977</span></td><td id="LC2977" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> adm = asObservableObject(target, options)[$mobx];
</code></td></tr><tr><td id="L2978" class="css-a4x74f"><span>2978</span></td><td id="LC2978" class="css-1dcdqdg"><code>        ownKeys(descriptors).forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L2979" class="css-a4x74f"><span>2979</span></td><td id="LC2979" class="css-1dcdqdg"><code>          adm.extend_(key, descriptors[key],
</code></td></tr><tr><td id="L2980" class="css-a4x74f"><span>2980</span></td><td id="LC2980" class="css-1dcdqdg"><code>          <span class="code-comment">// must pass "undefined" for { key: undefined }</span>
</code></td></tr><tr><td id="L2981" class="css-a4x74f"><span>2981</span></td><td id="LC2981" class="css-1dcdqdg"><code>          !annotations ? <span class="code-literal">true</span> : key <span class="code-keyword">in</span> annotations ? annotations[key] : <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L2982" class="css-a4x74f"><span>2982</span></td><td id="LC2982" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L2983" class="css-a4x74f"><span>2983</span></td><td id="LC2983" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L2984" class="css-a4x74f"><span>2984</span></td><td id="LC2984" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> target;
</code></td></tr><tr><td id="L2985" class="css-a4x74f"><span>2985</span></td><td id="LC2985" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2986" class="css-a4x74f"><span>2986</span></td><td id="LC2986" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2987" class="css-a4x74f"><span>2987</span></td><td id="LC2987" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getDependencyTree</span>(<span class="code-params">thing, property</span>) </span>{
</code></td></tr><tr><td id="L2988" class="css-a4x74f"><span>2988</span></td><td id="LC2988" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> nodeToDependencyTree(getAtom(thing, property));
</code></td></tr><tr><td id="L2989" class="css-a4x74f"><span>2989</span></td><td id="LC2989" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2990" class="css-a4x74f"><span>2990</span></td><td id="LC2990" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">nodeToDependencyTree</span>(<span class="code-params">node</span>) </span>{
</code></td></tr><tr><td id="L2991" class="css-a4x74f"><span>2991</span></td><td id="LC2991" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> result = {
</code></td></tr><tr><td id="L2992" class="css-a4x74f"><span>2992</span></td><td id="LC2992" class="css-1dcdqdg"><code>        name: node.name_
</code></td></tr><tr><td id="L2993" class="css-a4x74f"><span>2993</span></td><td id="LC2993" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L2994" class="css-a4x74f"><span>2994</span></td><td id="LC2994" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (node.observing_ &amp;&amp; node.observing_.length &gt; <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L2995" class="css-a4x74f"><span>2995</span></td><td id="LC2995" class="css-1dcdqdg"><code>        result.dependencies = unique(node.observing_).map(nodeToDependencyTree);
</code></td></tr><tr><td id="L2996" class="css-a4x74f"><span>2996</span></td><td id="LC2996" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L2997" class="css-a4x74f"><span>2997</span></td><td id="LC2997" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> result;
</code></td></tr><tr><td id="L2998" class="css-a4x74f"><span>2998</span></td><td id="LC2998" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L2999" class="css-a4x74f"><span>2999</span></td><td id="LC2999" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getObserverTree</span>(<span class="code-params">thing, property</span>) </span>{
</code></td></tr><tr><td id="L3000" class="css-a4x74f"><span>3000</span></td><td id="LC3000" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> nodeToObserverTree(getAtom(thing, property));
</code></td></tr><tr><td id="L3001" class="css-a4x74f"><span>3001</span></td><td id="LC3001" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3002" class="css-a4x74f"><span>3002</span></td><td id="LC3002" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">nodeToObserverTree</span>(<span class="code-params">node</span>) </span>{
</code></td></tr><tr><td id="L3003" class="css-a4x74f"><span>3003</span></td><td id="LC3003" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> result = {
</code></td></tr><tr><td id="L3004" class="css-a4x74f"><span>3004</span></td><td id="LC3004" class="css-1dcdqdg"><code>        name: node.name_
</code></td></tr><tr><td id="L3005" class="css-a4x74f"><span>3005</span></td><td id="LC3005" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L3006" class="css-a4x74f"><span>3006</span></td><td id="LC3006" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (hasObservers(node)) {
</code></td></tr><tr><td id="L3007" class="css-a4x74f"><span>3007</span></td><td id="LC3007" class="css-1dcdqdg"><code>        result.observers = <span class="code-built_in">Array</span>.from(getObservers(node)).map(nodeToObserverTree);
</code></td></tr><tr><td id="L3008" class="css-a4x74f"><span>3008</span></td><td id="LC3008" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3009" class="css-a4x74f"><span>3009</span></td><td id="LC3009" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> result;
</code></td></tr><tr><td id="L3010" class="css-a4x74f"><span>3010</span></td><td id="LC3010" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3011" class="css-a4x74f"><span>3011</span></td><td id="LC3011" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">unique</span>(<span class="code-params">list</span>) </span>{
</code></td></tr><tr><td id="L3012" class="css-a4x74f"><span>3012</span></td><td id="LC3012" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-built_in">Array</span>.from(<span class="code-keyword">new</span> <span class="code-built_in">Set</span>(list));
</code></td></tr><tr><td id="L3013" class="css-a4x74f"><span>3013</span></td><td id="LC3013" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3014" class="css-a4x74f"><span>3014</span></td><td id="LC3014" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3015" class="css-a4x74f"><span>3015</span></td><td id="LC3015" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> generatorId = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L3016" class="css-a4x74f"><span>3016</span></td><td id="LC3016" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">FlowCancellationError</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3017" class="css-a4x74f"><span>3017</span></td><td id="LC3017" class="css-1dcdqdg"><code>      <span class="code-keyword">this</span>.message = <span class="code-string">"FLOW_CANCELLED"</span>;
</code></td></tr><tr><td id="L3018" class="css-a4x74f"><span>3018</span></td><td id="LC3018" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3019" class="css-a4x74f"><span>3019</span></td><td id="LC3019" class="css-1dcdqdg"><code>    FlowCancellationError.prototype = <span class="code-comment">/*#__PURE__*/</span><span class="code-built_in">Object</span>.create(<span class="code-built_in">Error</span>.prototype);
</code></td></tr><tr><td id="L3020" class="css-a4x74f"><span>3020</span></td><td id="LC3020" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isFlowCancellationError</span>(<span class="code-params">error</span>) </span>{
</code></td></tr><tr><td id="L3021" class="css-a4x74f"><span>3021</span></td><td id="LC3021" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> error <span class="code-keyword">instanceof</span> FlowCancellationError;
</code></td></tr><tr><td id="L3022" class="css-a4x74f"><span>3022</span></td><td id="LC3022" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3023" class="css-a4x74f"><span>3023</span></td><td id="LC3023" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> flowAnnotation = <span class="code-comment">/*#__PURE__*/</span>createFlowAnnotation(<span class="code-string">"flow"</span>);
</code></td></tr><tr><td id="L3024" class="css-a4x74f"><span>3024</span></td><td id="LC3024" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> flowBoundAnnotation = <span class="code-comment">/*#__PURE__*/</span>createFlowAnnotation(<span class="code-string">"flow.bound"</span>, {
</code></td></tr><tr><td id="L3025" class="css-a4x74f"><span>3025</span></td><td id="LC3025" class="css-1dcdqdg"><code>      bound: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L3026" class="css-a4x74f"><span>3026</span></td><td id="LC3026" class="css-1dcdqdg"><code>    });
</code></td></tr><tr><td id="L3027" class="css-a4x74f"><span>3027</span></td><td id="LC3027" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> flow = <span class="code-comment">/*#__PURE__*/</span><span class="code-built_in">Object</span>.assign(<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">flow</span>(<span class="code-params">arg1, arg2</span>) </span>{
</code></td></tr><tr><td id="L3028" class="css-a4x74f"><span>3028</span></td><td id="LC3028" class="css-1dcdqdg"><code>      <span class="code-comment">// @flow (2022.3 Decorators)</span>
</code></td></tr><tr><td id="L3029" class="css-a4x74f"><span>3029</span></td><td id="LC3029" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (is20223Decorator(arg2)) {
</code></td></tr><tr><td id="L3030" class="css-a4x74f"><span>3030</span></td><td id="LC3030" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> flowAnnotation.decorate_20223_(arg1, arg2);
</code></td></tr><tr><td id="L3031" class="css-a4x74f"><span>3031</span></td><td id="LC3031" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3032" class="css-a4x74f"><span>3032</span></td><td id="LC3032" class="css-1dcdqdg"><code>      <span class="code-comment">// @flow</span>
</code></td></tr><tr><td id="L3033" class="css-a4x74f"><span>3033</span></td><td id="LC3033" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isStringish(arg2)) {
</code></td></tr><tr><td id="L3034" class="css-a4x74f"><span>3034</span></td><td id="LC3034" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> storeAnnotation(arg1, arg2, flowAnnotation);
</code></td></tr><tr><td id="L3035" class="css-a4x74f"><span>3035</span></td><td id="LC3035" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3036" class="css-a4x74f"><span>3036</span></td><td id="LC3036" class="css-1dcdqdg"><code>      <span class="code-comment">// flow(fn)</span>
</code></td></tr><tr><td id="L3037" class="css-a4x74f"><span>3037</span></td><td id="LC3037" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( <span class="code-built_in">arguments</span>.length !== <span class="code-number">1</span>) {
</code></td></tr><tr><td id="L3038" class="css-a4x74f"><span>3038</span></td><td id="LC3038" class="css-1dcdqdg"><code>        die(<span class="code-string">"Flow expects single argument with generator function"</span>);
</code></td></tr><tr><td id="L3039" class="css-a4x74f"><span>3039</span></td><td id="LC3039" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3040" class="css-a4x74f"><span>3040</span></td><td id="LC3040" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> generator = arg1;
</code></td></tr><tr><td id="L3041" class="css-a4x74f"><span>3041</span></td><td id="LC3041" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> name = generator.name || <span class="code-string">"&lt;unnamed flow&gt;"</span>;
</code></td></tr><tr><td id="L3042" class="css-a4x74f"><span>3042</span></td><td id="LC3042" class="css-1dcdqdg"><code>      <span class="code-comment">// Implementation based on https://github.com/tj/co/blob/master/index.js</span>
</code></td></tr><tr><td id="L3043" class="css-a4x74f"><span>3043</span></td><td id="LC3043" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> res = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">res</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3044" class="css-a4x74f"><span>3044</span></td><td id="LC3044" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> ctx = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L3045" class="css-a4x74f"><span>3045</span></td><td id="LC3045" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> args = <span class="code-built_in">arguments</span>;
</code></td></tr><tr><td id="L3046" class="css-a4x74f"><span>3046</span></td><td id="LC3046" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> runId = ++generatorId;
</code></td></tr><tr><td id="L3047" class="css-a4x74f"><span>3047</span></td><td id="LC3047" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> gen = action(name + <span class="code-string">" - runid: "</span> + runId + <span class="code-string">" - init"</span>, generator).apply(ctx, args);
</code></td></tr><tr><td id="L3048" class="css-a4x74f"><span>3048</span></td><td id="LC3048" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> rejector;
</code></td></tr><tr><td id="L3049" class="css-a4x74f"><span>3049</span></td><td id="LC3049" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> pendingPromise = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L3050" class="css-a4x74f"><span>3050</span></td><td id="LC3050" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> promise = <span class="code-keyword">new</span> <span class="code-built_in">Promise</span>(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">resolve, reject</span>) </span>{
</code></td></tr><tr><td id="L3051" class="css-a4x74f"><span>3051</span></td><td id="LC3051" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> stepId = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L3052" class="css-a4x74f"><span>3052</span></td><td id="LC3052" class="css-1dcdqdg"><code>          rejector = reject;
</code></td></tr><tr><td id="L3053" class="css-a4x74f"><span>3053</span></td><td id="LC3053" class="css-1dcdqdg"><code>          <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">onFulfilled</span>(<span class="code-params">res</span>) </span>{
</code></td></tr><tr><td id="L3054" class="css-a4x74f"><span>3054</span></td><td id="LC3054" class="css-1dcdqdg"><code>            pendingPromise = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L3055" class="css-a4x74f"><span>3055</span></td><td id="LC3055" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> ret;
</code></td></tr><tr><td id="L3056" class="css-a4x74f"><span>3056</span></td><td id="LC3056" class="css-1dcdqdg"><code>            <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L3057" class="css-a4x74f"><span>3057</span></td><td id="LC3057" class="css-1dcdqdg"><code>              ret = action(name + <span class="code-string">" - runid: "</span> + runId + <span class="code-string">" - yield "</span> + stepId++, gen.next).call(gen, res);
</code></td></tr><tr><td id="L3058" class="css-a4x74f"><span>3058</span></td><td id="LC3058" class="css-1dcdqdg"><code>            } <span class="code-keyword">catch</span> (e) {
</code></td></tr><tr><td id="L3059" class="css-a4x74f"><span>3059</span></td><td id="LC3059" class="css-1dcdqdg"><code>              <span class="code-keyword">return</span> reject(e);
</code></td></tr><tr><td id="L3060" class="css-a4x74f"><span>3060</span></td><td id="LC3060" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L3061" class="css-a4x74f"><span>3061</span></td><td id="LC3061" class="css-1dcdqdg"><code>            next(ret);
</code></td></tr><tr><td id="L3062" class="css-a4x74f"><span>3062</span></td><td id="LC3062" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L3063" class="css-a4x74f"><span>3063</span></td><td id="LC3063" class="css-1dcdqdg"><code>          <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">onRejected</span>(<span class="code-params">err</span>) </span>{
</code></td></tr><tr><td id="L3064" class="css-a4x74f"><span>3064</span></td><td id="LC3064" class="css-1dcdqdg"><code>            pendingPromise = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L3065" class="css-a4x74f"><span>3065</span></td><td id="LC3065" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> ret;
</code></td></tr><tr><td id="L3066" class="css-a4x74f"><span>3066</span></td><td id="LC3066" class="css-1dcdqdg"><code>            <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L3067" class="css-a4x74f"><span>3067</span></td><td id="LC3067" class="css-1dcdqdg"><code>              ret = action(name + <span class="code-string">" - runid: "</span> + runId + <span class="code-string">" - yield "</span> + stepId++, gen[<span class="code-string">"throw"</span>]).call(gen, err);
</code></td></tr><tr><td id="L3068" class="css-a4x74f"><span>3068</span></td><td id="LC3068" class="css-1dcdqdg"><code>            } <span class="code-keyword">catch</span> (e) {
</code></td></tr><tr><td id="L3069" class="css-a4x74f"><span>3069</span></td><td id="LC3069" class="css-1dcdqdg"><code>              <span class="code-keyword">return</span> reject(e);
</code></td></tr><tr><td id="L3070" class="css-a4x74f"><span>3070</span></td><td id="LC3070" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L3071" class="css-a4x74f"><span>3071</span></td><td id="LC3071" class="css-1dcdqdg"><code>            next(ret);
</code></td></tr><tr><td id="L3072" class="css-a4x74f"><span>3072</span></td><td id="LC3072" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L3073" class="css-a4x74f"><span>3073</span></td><td id="LC3073" class="css-1dcdqdg"><code>          <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">next</span>(<span class="code-params">ret</span>) </span>{
</code></td></tr><tr><td id="L3074" class="css-a4x74f"><span>3074</span></td><td id="LC3074" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (isFunction(ret == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : ret.then)) {
</code></td></tr><tr><td id="L3075" class="css-a4x74f"><span>3075</span></td><td id="LC3075" class="css-1dcdqdg"><code>              <span class="code-comment">// an async iterator</span>
</code></td></tr><tr><td id="L3076" class="css-a4x74f"><span>3076</span></td><td id="LC3076" class="css-1dcdqdg"><code>              ret.then(next, reject);
</code></td></tr><tr><td id="L3077" class="css-a4x74f"><span>3077</span></td><td id="LC3077" class="css-1dcdqdg"><code>              <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L3078" class="css-a4x74f"><span>3078</span></td><td id="LC3078" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L3079" class="css-a4x74f"><span>3079</span></td><td id="LC3079" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (ret.done) {
</code></td></tr><tr><td id="L3080" class="css-a4x74f"><span>3080</span></td><td id="LC3080" class="css-1dcdqdg"><code>              <span class="code-keyword">return</span> resolve(ret.value);
</code></td></tr><tr><td id="L3081" class="css-a4x74f"><span>3081</span></td><td id="LC3081" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L3082" class="css-a4x74f"><span>3082</span></td><td id="LC3082" class="css-1dcdqdg"><code>            pendingPromise = <span class="code-built_in">Promise</span>.resolve(ret.value);
</code></td></tr><tr><td id="L3083" class="css-a4x74f"><span>3083</span></td><td id="LC3083" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> pendingPromise.then(onFulfilled, onRejected);
</code></td></tr><tr><td id="L3084" class="css-a4x74f"><span>3084</span></td><td id="LC3084" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L3085" class="css-a4x74f"><span>3085</span></td><td id="LC3085" class="css-1dcdqdg"><code>          onFulfilled(<span class="code-literal">undefined</span>); <span class="code-comment">// kick off the process</span>
</code></td></tr><tr><td id="L3086" class="css-a4x74f"><span>3086</span></td><td id="LC3086" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L3087" class="css-a4x74f"><span>3087</span></td><td id="LC3087" class="css-1dcdqdg"><code>        promise.cancel = action(name + <span class="code-string">" - runid: "</span> + runId + <span class="code-string">" - cancel"</span>, <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3088" class="css-a4x74f"><span>3088</span></td><td id="LC3088" class="css-1dcdqdg"><code>          <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L3089" class="css-a4x74f"><span>3089</span></td><td id="LC3089" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (pendingPromise) {
</code></td></tr><tr><td id="L3090" class="css-a4x74f"><span>3090</span></td><td id="LC3090" class="css-1dcdqdg"><code>              cancelPromise(pendingPromise);
</code></td></tr><tr><td id="L3091" class="css-a4x74f"><span>3091</span></td><td id="LC3091" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L3092" class="css-a4x74f"><span>3092</span></td><td id="LC3092" class="css-1dcdqdg"><code>            <span class="code-comment">// Finally block can return (or yield) stuff..</span>
</code></td></tr><tr><td id="L3093" class="css-a4x74f"><span>3093</span></td><td id="LC3093" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> _res = gen[<span class="code-string">"return"</span>](<span class="code-literal">undefined</span>);
</code></td></tr><tr><td id="L3094" class="css-a4x74f"><span>3094</span></td><td id="LC3094" class="css-1dcdqdg"><code>            <span class="code-comment">// eat anything that promise would do, it's cancelled!</span>
</code></td></tr><tr><td id="L3095" class="css-a4x74f"><span>3095</span></td><td id="LC3095" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> yieldedPromise = <span class="code-built_in">Promise</span>.resolve(_res.value);
</code></td></tr><tr><td id="L3096" class="css-a4x74f"><span>3096</span></td><td id="LC3096" class="css-1dcdqdg"><code>            yieldedPromise.then(noop, noop);
</code></td></tr><tr><td id="L3097" class="css-a4x74f"><span>3097</span></td><td id="LC3097" class="css-1dcdqdg"><code>            cancelPromise(yieldedPromise); <span class="code-comment">// maybe it can be cancelled :)</span>
</code></td></tr><tr><td id="L3098" class="css-a4x74f"><span>3098</span></td><td id="LC3098" class="css-1dcdqdg"><code>            <span class="code-comment">// reject our original promise</span>
</code></td></tr><tr><td id="L3099" class="css-a4x74f"><span>3099</span></td><td id="LC3099" class="css-1dcdqdg"><code>            rejector(<span class="code-keyword">new</span> FlowCancellationError());
</code></td></tr><tr><td id="L3100" class="css-a4x74f"><span>3100</span></td><td id="LC3100" class="css-1dcdqdg"><code>          } <span class="code-keyword">catch</span> (e) {
</code></td></tr><tr><td id="L3101" class="css-a4x74f"><span>3101</span></td><td id="LC3101" class="css-1dcdqdg"><code>            rejector(e); <span class="code-comment">// there could be a throwing finally block</span>
</code></td></tr><tr><td id="L3102" class="css-a4x74f"><span>3102</span></td><td id="LC3102" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L3103" class="css-a4x74f"><span>3103</span></td><td id="LC3103" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L3104" class="css-a4x74f"><span>3104</span></td><td id="LC3104" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> promise;
</code></td></tr><tr><td id="L3105" class="css-a4x74f"><span>3105</span></td><td id="LC3105" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L3106" class="css-a4x74f"><span>3106</span></td><td id="LC3106" class="css-1dcdqdg"><code>      res.isMobXFlow = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L3107" class="css-a4x74f"><span>3107</span></td><td id="LC3107" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> res;
</code></td></tr><tr><td id="L3108" class="css-a4x74f"><span>3108</span></td><td id="LC3108" class="css-1dcdqdg"><code>    }, flowAnnotation);
</code></td></tr><tr><td id="L3109" class="css-a4x74f"><span>3109</span></td><td id="LC3109" class="css-1dcdqdg"><code>    flow.bound = <span class="code-comment">/*#__PURE__*/</span>createDecoratorAnnotation(flowBoundAnnotation);
</code></td></tr><tr><td id="L3110" class="css-a4x74f"><span>3110</span></td><td id="LC3110" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">cancelPromise</span>(<span class="code-params">promise</span>) </span>{
</code></td></tr><tr><td id="L3111" class="css-a4x74f"><span>3111</span></td><td id="LC3111" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isFunction(promise.cancel)) {
</code></td></tr><tr><td id="L3112" class="css-a4x74f"><span>3112</span></td><td id="LC3112" class="css-1dcdqdg"><code>        promise.cancel();
</code></td></tr><tr><td id="L3113" class="css-a4x74f"><span>3113</span></td><td id="LC3113" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3114" class="css-a4x74f"><span>3114</span></td><td id="LC3114" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3115" class="css-a4x74f"><span>3115</span></td><td id="LC3115" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">flowResult</span>(<span class="code-params">result</span>) </span>{
</code></td></tr><tr><td id="L3116" class="css-a4x74f"><span>3116</span></td><td id="LC3116" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> result; <span class="code-comment">// just tricking TypeScript :)</span>
</code></td></tr><tr><td id="L3117" class="css-a4x74f"><span>3117</span></td><td id="LC3117" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3118" class="css-a4x74f"><span>3118</span></td><td id="LC3118" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isFlow</span>(<span class="code-params">fn</span>) </span>{
</code></td></tr><tr><td id="L3119" class="css-a4x74f"><span>3119</span></td><td id="LC3119" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> (fn == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : fn.isMobXFlow) === <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L3120" class="css-a4x74f"><span>3120</span></td><td id="LC3120" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3121" class="css-a4x74f"><span>3121</span></td><td id="LC3121" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3122" class="css-a4x74f"><span>3122</span></td><td id="LC3122" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">interceptReads</span>(<span class="code-params">thing, propOrHandler, handler</span>) </span>{
</code></td></tr><tr><td id="L3123" class="css-a4x74f"><span>3123</span></td><td id="LC3123" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> target;
</code></td></tr><tr><td id="L3124" class="css-a4x74f"><span>3124</span></td><td id="LC3124" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableMap(thing) || isObservableArray(thing) || isObservableValue(thing)) {
</code></td></tr><tr><td id="L3125" class="css-a4x74f"><span>3125</span></td><td id="LC3125" class="css-1dcdqdg"><code>        target = getAdministration(thing);
</code></td></tr><tr><td id="L3126" class="css-a4x74f"><span>3126</span></td><td id="LC3126" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (isObservableObject(thing)) {
</code></td></tr><tr><td id="L3127" class="css-a4x74f"><span>3127</span></td><td id="LC3127" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( !isStringish(propOrHandler)) {
</code></td></tr><tr><td id="L3128" class="css-a4x74f"><span>3128</span></td><td id="LC3128" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> die(<span class="code-string">"InterceptReads can only be used with a specific property, not with an object in general"</span>);
</code></td></tr><tr><td id="L3129" class="css-a4x74f"><span>3129</span></td><td id="LC3129" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3130" class="css-a4x74f"><span>3130</span></td><td id="LC3130" class="css-1dcdqdg"><code>        target = getAdministration(thing, propOrHandler);
</code></td></tr><tr><td id="L3131" class="css-a4x74f"><span>3131</span></td><td id="LC3131" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L3132" class="css-a4x74f"><span>3132</span></td><td id="LC3132" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> die(<span class="code-string">"Expected observable map, object or array as first array"</span>);
</code></td></tr><tr><td id="L3133" class="css-a4x74f"><span>3133</span></td><td id="LC3133" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3134" class="css-a4x74f"><span>3134</span></td><td id="LC3134" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( target.dehancer !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L3135" class="css-a4x74f"><span>3135</span></td><td id="LC3135" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> die(<span class="code-string">"An intercept reader was already established"</span>);
</code></td></tr><tr><td id="L3136" class="css-a4x74f"><span>3136</span></td><td id="LC3136" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3137" class="css-a4x74f"><span>3137</span></td><td id="LC3137" class="css-1dcdqdg"><code>      target.dehancer = <span class="code-keyword">typeof</span> propOrHandler === <span class="code-string">"function"</span> ? propOrHandler : handler;
</code></td></tr><tr><td id="L3138" class="css-a4x74f"><span>3138</span></td><td id="LC3138" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3139" class="css-a4x74f"><span>3139</span></td><td id="LC3139" class="css-1dcdqdg"><code>        target.dehancer = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L3140" class="css-a4x74f"><span>3140</span></td><td id="LC3140" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L3141" class="css-a4x74f"><span>3141</span></td><td id="LC3141" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3142" class="css-a4x74f"><span>3142</span></td><td id="LC3142" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3143" class="css-a4x74f"><span>3143</span></td><td id="LC3143" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">intercept</span>(<span class="code-params">thing, propOrHandler, handler</span>) </span>{
</code></td></tr><tr><td id="L3144" class="css-a4x74f"><span>3144</span></td><td id="LC3144" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isFunction(handler)) {
</code></td></tr><tr><td id="L3145" class="css-a4x74f"><span>3145</span></td><td id="LC3145" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> interceptProperty(thing, propOrHandler, handler);
</code></td></tr><tr><td id="L3146" class="css-a4x74f"><span>3146</span></td><td id="LC3146" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L3147" class="css-a4x74f"><span>3147</span></td><td id="LC3147" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> interceptInterceptable(thing, propOrHandler);
</code></td></tr><tr><td id="L3148" class="css-a4x74f"><span>3148</span></td><td id="LC3148" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3149" class="css-a4x74f"><span>3149</span></td><td id="LC3149" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3150" class="css-a4x74f"><span>3150</span></td><td id="LC3150" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">interceptInterceptable</span>(<span class="code-params">thing, handler</span>) </span>{
</code></td></tr><tr><td id="L3151" class="css-a4x74f"><span>3151</span></td><td id="LC3151" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> getAdministration(thing).intercept_(handler);
</code></td></tr><tr><td id="L3152" class="css-a4x74f"><span>3152</span></td><td id="LC3152" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3153" class="css-a4x74f"><span>3153</span></td><td id="LC3153" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">interceptProperty</span>(<span class="code-params">thing, property, handler</span>) </span>{
</code></td></tr><tr><td id="L3154" class="css-a4x74f"><span>3154</span></td><td id="LC3154" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> getAdministration(thing, property).intercept_(handler);
</code></td></tr><tr><td id="L3155" class="css-a4x74f"><span>3155</span></td><td id="LC3155" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3156" class="css-a4x74f"><span>3156</span></td><td id="LC3156" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3157" class="css-a4x74f"><span>3157</span></td><td id="LC3157" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_isComputed</span>(<span class="code-params">value, property</span>) </span>{
</code></td></tr><tr><td id="L3158" class="css-a4x74f"><span>3158</span></td><td id="LC3158" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (property === <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L3159" class="css-a4x74f"><span>3159</span></td><td id="LC3159" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> isComputedValue(value);
</code></td></tr><tr><td id="L3160" class="css-a4x74f"><span>3160</span></td><td id="LC3160" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3161" class="css-a4x74f"><span>3161</span></td><td id="LC3161" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableObject(value) === <span class="code-literal">false</span>) {
</code></td></tr><tr><td id="L3162" class="css-a4x74f"><span>3162</span></td><td id="LC3162" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L3163" class="css-a4x74f"><span>3163</span></td><td id="LC3163" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3164" class="css-a4x74f"><span>3164</span></td><td id="LC3164" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!value[$mobx].values_.has(property)) {
</code></td></tr><tr><td id="L3165" class="css-a4x74f"><span>3165</span></td><td id="LC3165" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L3166" class="css-a4x74f"><span>3166</span></td><td id="LC3166" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3167" class="css-a4x74f"><span>3167</span></td><td id="LC3167" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> atom = getAtom(value, property);
</code></td></tr><tr><td id="L3168" class="css-a4x74f"><span>3168</span></td><td id="LC3168" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> isComputedValue(atom);
</code></td></tr><tr><td id="L3169" class="css-a4x74f"><span>3169</span></td><td id="LC3169" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3170" class="css-a4x74f"><span>3170</span></td><td id="LC3170" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isComputed</span>(<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L3171" class="css-a4x74f"><span>3171</span></td><td id="LC3171" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( <span class="code-built_in">arguments</span>.length &gt; <span class="code-number">1</span>) {
</code></td></tr><tr><td id="L3172" class="css-a4x74f"><span>3172</span></td><td id="LC3172" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> die(<span class="code-string">"isComputed expects only 1 argument. Use isComputedProp to inspect the observability of a property"</span>);
</code></td></tr><tr><td id="L3173" class="css-a4x74f"><span>3173</span></td><td id="LC3173" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3174" class="css-a4x74f"><span>3174</span></td><td id="LC3174" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> _isComputed(value);
</code></td></tr><tr><td id="L3175" class="css-a4x74f"><span>3175</span></td><td id="LC3175" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3176" class="css-a4x74f"><span>3176</span></td><td id="LC3176" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isComputedProp</span>(<span class="code-params">value, propName</span>) </span>{
</code></td></tr><tr><td id="L3177" class="css-a4x74f"><span>3177</span></td><td id="LC3177" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( !isStringish(propName)) {
</code></td></tr><tr><td id="L3178" class="css-a4x74f"><span>3178</span></td><td id="LC3178" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> die(<span class="code-string">"isComputed expected a property name as second argument"</span>);
</code></td></tr><tr><td id="L3179" class="css-a4x74f"><span>3179</span></td><td id="LC3179" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3180" class="css-a4x74f"><span>3180</span></td><td id="LC3180" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> _isComputed(value, propName);
</code></td></tr><tr><td id="L3181" class="css-a4x74f"><span>3181</span></td><td id="LC3181" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3182" class="css-a4x74f"><span>3182</span></td><td id="LC3182" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3183" class="css-a4x74f"><span>3183</span></td><td id="LC3183" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_isObservable</span>(<span class="code-params">value, property</span>) </span>{
</code></td></tr><tr><td id="L3184" class="css-a4x74f"><span>3184</span></td><td id="LC3184" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!value) {
</code></td></tr><tr><td id="L3185" class="css-a4x74f"><span>3185</span></td><td id="LC3185" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L3186" class="css-a4x74f"><span>3186</span></td><td id="LC3186" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3187" class="css-a4x74f"><span>3187</span></td><td id="LC3187" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (property !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L3188" class="css-a4x74f"><span>3188</span></td><td id="LC3188" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( (isObservableMap(value) || isObservableArray(value))) {
</code></td></tr><tr><td id="L3189" class="css-a4x74f"><span>3189</span></td><td id="LC3189" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> die(<span class="code-string">"isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead."</span>);
</code></td></tr><tr><td id="L3190" class="css-a4x74f"><span>3190</span></td><td id="LC3190" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3191" class="css-a4x74f"><span>3191</span></td><td id="LC3191" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isObservableObject(value)) {
</code></td></tr><tr><td id="L3192" class="css-a4x74f"><span>3192</span></td><td id="LC3192" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> value[$mobx].values_.has(property);
</code></td></tr><tr><td id="L3193" class="css-a4x74f"><span>3193</span></td><td id="LC3193" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3194" class="css-a4x74f"><span>3194</span></td><td id="LC3194" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L3195" class="css-a4x74f"><span>3195</span></td><td id="LC3195" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3196" class="css-a4x74f"><span>3196</span></td><td id="LC3196" class="css-1dcdqdg"><code>      <span class="code-comment">// For first check, see #701</span>
</code></td></tr><tr><td id="L3197" class="css-a4x74f"><span>3197</span></td><td id="LC3197" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> isObservableObject(value) || !!value[$mobx] || isAtom(value) || isReaction(value) || isComputedValue(value);
</code></td></tr><tr><td id="L3198" class="css-a4x74f"><span>3198</span></td><td id="LC3198" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3199" class="css-a4x74f"><span>3199</span></td><td id="LC3199" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isObservable</span>(<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L3200" class="css-a4x74f"><span>3200</span></td><td id="LC3200" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( <span class="code-built_in">arguments</span>.length !== <span class="code-number">1</span>) {
</code></td></tr><tr><td id="L3201" class="css-a4x74f"><span>3201</span></td><td id="LC3201" class="css-1dcdqdg"><code>        die(<span class="code-string">"isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"</span>);
</code></td></tr><tr><td id="L3202" class="css-a4x74f"><span>3202</span></td><td id="LC3202" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3203" class="css-a4x74f"><span>3203</span></td><td id="LC3203" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> _isObservable(value);
</code></td></tr><tr><td id="L3204" class="css-a4x74f"><span>3204</span></td><td id="LC3204" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3205" class="css-a4x74f"><span>3205</span></td><td id="LC3205" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isObservableProp</span>(<span class="code-params">value, propName</span>) </span>{
</code></td></tr><tr><td id="L3206" class="css-a4x74f"><span>3206</span></td><td id="LC3206" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( !isStringish(propName)) {
</code></td></tr><tr><td id="L3207" class="css-a4x74f"><span>3207</span></td><td id="LC3207" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> die(<span class="code-string">"expected a property name as second argument"</span>);
</code></td></tr><tr><td id="L3208" class="css-a4x74f"><span>3208</span></td><td id="LC3208" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3209" class="css-a4x74f"><span>3209</span></td><td id="LC3209" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> _isObservable(value, propName);
</code></td></tr><tr><td id="L3210" class="css-a4x74f"><span>3210</span></td><td id="LC3210" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3211" class="css-a4x74f"><span>3211</span></td><td id="LC3211" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3212" class="css-a4x74f"><span>3212</span></td><td id="LC3212" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">keys</span>(<span class="code-params">obj</span>) </span>{
</code></td></tr><tr><td id="L3213" class="css-a4x74f"><span>3213</span></td><td id="LC3213" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableObject(obj)) {
</code></td></tr><tr><td id="L3214" class="css-a4x74f"><span>3214</span></td><td id="LC3214" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> obj[$mobx].keys_();
</code></td></tr><tr><td id="L3215" class="css-a4x74f"><span>3215</span></td><td id="LC3215" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3216" class="css-a4x74f"><span>3216</span></td><td id="LC3216" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableMap(obj) || isObservableSet(obj)) {
</code></td></tr><tr><td id="L3217" class="css-a4x74f"><span>3217</span></td><td id="LC3217" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-built_in">Array</span>.from(obj.keys());
</code></td></tr><tr><td id="L3218" class="css-a4x74f"><span>3218</span></td><td id="LC3218" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3219" class="css-a4x74f"><span>3219</span></td><td id="LC3219" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableArray(obj)) {
</code></td></tr><tr><td id="L3220" class="css-a4x74f"><span>3220</span></td><td id="LC3220" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> obj.map(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">_, index</span>) </span>{
</code></td></tr><tr><td id="L3221" class="css-a4x74f"><span>3221</span></td><td id="LC3221" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> index;
</code></td></tr><tr><td id="L3222" class="css-a4x74f"><span>3222</span></td><td id="LC3222" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L3223" class="css-a4x74f"><span>3223</span></td><td id="LC3223" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3224" class="css-a4x74f"><span>3224</span></td><td id="LC3224" class="css-1dcdqdg"><code>      die(<span class="code-number">5</span>);
</code></td></tr><tr><td id="L3225" class="css-a4x74f"><span>3225</span></td><td id="LC3225" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3226" class="css-a4x74f"><span>3226</span></td><td id="LC3226" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">values</span>(<span class="code-params">obj</span>) </span>{
</code></td></tr><tr><td id="L3227" class="css-a4x74f"><span>3227</span></td><td id="LC3227" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableObject(obj)) {
</code></td></tr><tr><td id="L3228" class="css-a4x74f"><span>3228</span></td><td id="LC3228" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> keys(obj).map(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L3229" class="css-a4x74f"><span>3229</span></td><td id="LC3229" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> obj[key];
</code></td></tr><tr><td id="L3230" class="css-a4x74f"><span>3230</span></td><td id="LC3230" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L3231" class="css-a4x74f"><span>3231</span></td><td id="LC3231" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3232" class="css-a4x74f"><span>3232</span></td><td id="LC3232" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableMap(obj)) {
</code></td></tr><tr><td id="L3233" class="css-a4x74f"><span>3233</span></td><td id="LC3233" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> keys(obj).map(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L3234" class="css-a4x74f"><span>3234</span></td><td id="LC3234" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> obj.get(key);
</code></td></tr><tr><td id="L3235" class="css-a4x74f"><span>3235</span></td><td id="LC3235" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L3236" class="css-a4x74f"><span>3236</span></td><td id="LC3236" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3237" class="css-a4x74f"><span>3237</span></td><td id="LC3237" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableSet(obj)) {
</code></td></tr><tr><td id="L3238" class="css-a4x74f"><span>3238</span></td><td id="LC3238" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-built_in">Array</span>.from(obj.values());
</code></td></tr><tr><td id="L3239" class="css-a4x74f"><span>3239</span></td><td id="LC3239" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3240" class="css-a4x74f"><span>3240</span></td><td id="LC3240" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableArray(obj)) {
</code></td></tr><tr><td id="L3241" class="css-a4x74f"><span>3241</span></td><td id="LC3241" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> obj.slice();
</code></td></tr><tr><td id="L3242" class="css-a4x74f"><span>3242</span></td><td id="LC3242" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3243" class="css-a4x74f"><span>3243</span></td><td id="LC3243" class="css-1dcdqdg"><code>      die(<span class="code-number">6</span>);
</code></td></tr><tr><td id="L3244" class="css-a4x74f"><span>3244</span></td><td id="LC3244" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3245" class="css-a4x74f"><span>3245</span></td><td id="LC3245" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">entries</span>(<span class="code-params">obj</span>) </span>{
</code></td></tr><tr><td id="L3246" class="css-a4x74f"><span>3246</span></td><td id="LC3246" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableObject(obj)) {
</code></td></tr><tr><td id="L3247" class="css-a4x74f"><span>3247</span></td><td id="LC3247" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> keys(obj).map(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L3248" class="css-a4x74f"><span>3248</span></td><td id="LC3248" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> [key, obj[key]];
</code></td></tr><tr><td id="L3249" class="css-a4x74f"><span>3249</span></td><td id="LC3249" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L3250" class="css-a4x74f"><span>3250</span></td><td id="LC3250" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3251" class="css-a4x74f"><span>3251</span></td><td id="LC3251" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableMap(obj)) {
</code></td></tr><tr><td id="L3252" class="css-a4x74f"><span>3252</span></td><td id="LC3252" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> keys(obj).map(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L3253" class="css-a4x74f"><span>3253</span></td><td id="LC3253" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> [key, obj.get(key)];
</code></td></tr><tr><td id="L3254" class="css-a4x74f"><span>3254</span></td><td id="LC3254" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L3255" class="css-a4x74f"><span>3255</span></td><td id="LC3255" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3256" class="css-a4x74f"><span>3256</span></td><td id="LC3256" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableSet(obj)) {
</code></td></tr><tr><td id="L3257" class="css-a4x74f"><span>3257</span></td><td id="LC3257" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-built_in">Array</span>.from(obj.entries());
</code></td></tr><tr><td id="L3258" class="css-a4x74f"><span>3258</span></td><td id="LC3258" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3259" class="css-a4x74f"><span>3259</span></td><td id="LC3259" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableArray(obj)) {
</code></td></tr><tr><td id="L3260" class="css-a4x74f"><span>3260</span></td><td id="LC3260" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> obj.map(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">key, index</span>) </span>{
</code></td></tr><tr><td id="L3261" class="css-a4x74f"><span>3261</span></td><td id="LC3261" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> [index, key];
</code></td></tr><tr><td id="L3262" class="css-a4x74f"><span>3262</span></td><td id="LC3262" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L3263" class="css-a4x74f"><span>3263</span></td><td id="LC3263" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3264" class="css-a4x74f"><span>3264</span></td><td id="LC3264" class="css-1dcdqdg"><code>      die(<span class="code-number">7</span>);
</code></td></tr><tr><td id="L3265" class="css-a4x74f"><span>3265</span></td><td id="LC3265" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3266" class="css-a4x74f"><span>3266</span></td><td id="LC3266" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">set</span>(<span class="code-params">obj, key, value</span>) </span>{
</code></td></tr><tr><td id="L3267" class="css-a4x74f"><span>3267</span></td><td id="LC3267" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-built_in">arguments</span>.length === <span class="code-number">2</span> &amp;&amp; !isObservableSet(obj)) {
</code></td></tr><tr><td id="L3268" class="css-a4x74f"><span>3268</span></td><td id="LC3268" class="css-1dcdqdg"><code>        startBatch();
</code></td></tr><tr><td id="L3269" class="css-a4x74f"><span>3269</span></td><td id="LC3269" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _values = key;
</code></td></tr><tr><td id="L3270" class="css-a4x74f"><span>3270</span></td><td id="LC3270" class="css-1dcdqdg"><code>        <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L3271" class="css-a4x74f"><span>3271</span></td><td id="LC3271" class="css-1dcdqdg"><code>          <span class="code-keyword">for</span> (<span class="code-keyword">var</span> _key <span class="code-keyword">in</span> _values) {
</code></td></tr><tr><td id="L3272" class="css-a4x74f"><span>3272</span></td><td id="LC3272" class="css-1dcdqdg"><code>            <span class="code-keyword">set</span>(obj, _key, _values[_key]);
</code></td></tr><tr><td id="L3273" class="css-a4x74f"><span>3273</span></td><td id="LC3273" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L3274" class="css-a4x74f"><span>3274</span></td><td id="LC3274" class="css-1dcdqdg"><code>        } finally {
</code></td></tr><tr><td id="L3275" class="css-a4x74f"><span>3275</span></td><td id="LC3275" class="css-1dcdqdg"><code>          endBatch();
</code></td></tr><tr><td id="L3276" class="css-a4x74f"><span>3276</span></td><td id="LC3276" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3277" class="css-a4x74f"><span>3277</span></td><td id="LC3277" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L3278" class="css-a4x74f"><span>3278</span></td><td id="LC3278" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3279" class="css-a4x74f"><span>3279</span></td><td id="LC3279" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableObject(obj)) {
</code></td></tr><tr><td id="L3280" class="css-a4x74f"><span>3280</span></td><td id="LC3280" class="css-1dcdqdg"><code>        obj[$mobx].set_(key, value);
</code></td></tr><tr><td id="L3281" class="css-a4x74f"><span>3281</span></td><td id="LC3281" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (isObservableMap(obj)) {
</code></td></tr><tr><td id="L3282" class="css-a4x74f"><span>3282</span></td><td id="LC3282" class="css-1dcdqdg"><code>        obj.set(key, value);
</code></td></tr><tr><td id="L3283" class="css-a4x74f"><span>3283</span></td><td id="LC3283" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (isObservableSet(obj)) {
</code></td></tr><tr><td id="L3284" class="css-a4x74f"><span>3284</span></td><td id="LC3284" class="css-1dcdqdg"><code>        obj.add(key);
</code></td></tr><tr><td id="L3285" class="css-a4x74f"><span>3285</span></td><td id="LC3285" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (isObservableArray(obj)) {
</code></td></tr><tr><td id="L3286" class="css-a4x74f"><span>3286</span></td><td id="LC3286" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> key !== <span class="code-string">"number"</span>) {
</code></td></tr><tr><td id="L3287" class="css-a4x74f"><span>3287</span></td><td id="LC3287" class="css-1dcdqdg"><code>          key = <span class="code-built_in">parseInt</span>(key, <span class="code-number">10</span>);
</code></td></tr><tr><td id="L3288" class="css-a4x74f"><span>3288</span></td><td id="LC3288" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3289" class="css-a4x74f"><span>3289</span></td><td id="LC3289" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (key &lt; <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L3290" class="css-a4x74f"><span>3290</span></td><td id="LC3290" class="css-1dcdqdg"><code>          die(<span class="code-string">"Invalid index: '"</span> + key + <span class="code-string">"'"</span>);
</code></td></tr><tr><td id="L3291" class="css-a4x74f"><span>3291</span></td><td id="LC3291" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3292" class="css-a4x74f"><span>3292</span></td><td id="LC3292" class="css-1dcdqdg"><code>        startBatch();
</code></td></tr><tr><td id="L3293" class="css-a4x74f"><span>3293</span></td><td id="LC3293" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (key &gt;= obj.length) {
</code></td></tr><tr><td id="L3294" class="css-a4x74f"><span>3294</span></td><td id="LC3294" class="css-1dcdqdg"><code>          obj.length = key + <span class="code-number">1</span>;
</code></td></tr><tr><td id="L3295" class="css-a4x74f"><span>3295</span></td><td id="LC3295" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3296" class="css-a4x74f"><span>3296</span></td><td id="LC3296" class="css-1dcdqdg"><code>        obj[key] = value;
</code></td></tr><tr><td id="L3297" class="css-a4x74f"><span>3297</span></td><td id="LC3297" class="css-1dcdqdg"><code>        endBatch();
</code></td></tr><tr><td id="L3298" class="css-a4x74f"><span>3298</span></td><td id="LC3298" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L3299" class="css-a4x74f"><span>3299</span></td><td id="LC3299" class="css-1dcdqdg"><code>        die(<span class="code-number">8</span>);
</code></td></tr><tr><td id="L3300" class="css-a4x74f"><span>3300</span></td><td id="LC3300" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3301" class="css-a4x74f"><span>3301</span></td><td id="LC3301" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3302" class="css-a4x74f"><span>3302</span></td><td id="LC3302" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">remove</span>(<span class="code-params">obj, key</span>) </span>{
</code></td></tr><tr><td id="L3303" class="css-a4x74f"><span>3303</span></td><td id="LC3303" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableObject(obj)) {
</code></td></tr><tr><td id="L3304" class="css-a4x74f"><span>3304</span></td><td id="LC3304" class="css-1dcdqdg"><code>        obj[$mobx].delete_(key);
</code></td></tr><tr><td id="L3305" class="css-a4x74f"><span>3305</span></td><td id="LC3305" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (isObservableMap(obj)) {
</code></td></tr><tr><td id="L3306" class="css-a4x74f"><span>3306</span></td><td id="LC3306" class="css-1dcdqdg"><code>        obj[<span class="code-string">"delete"</span>](key);
</code></td></tr><tr><td id="L3307" class="css-a4x74f"><span>3307</span></td><td id="LC3307" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (isObservableSet(obj)) {
</code></td></tr><tr><td id="L3308" class="css-a4x74f"><span>3308</span></td><td id="LC3308" class="css-1dcdqdg"><code>        obj[<span class="code-string">"delete"</span>](key);
</code></td></tr><tr><td id="L3309" class="css-a4x74f"><span>3309</span></td><td id="LC3309" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (isObservableArray(obj)) {
</code></td></tr><tr><td id="L3310" class="css-a4x74f"><span>3310</span></td><td id="LC3310" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> key !== <span class="code-string">"number"</span>) {
</code></td></tr><tr><td id="L3311" class="css-a4x74f"><span>3311</span></td><td id="LC3311" class="css-1dcdqdg"><code>          key = <span class="code-built_in">parseInt</span>(key, <span class="code-number">10</span>);
</code></td></tr><tr><td id="L3312" class="css-a4x74f"><span>3312</span></td><td id="LC3312" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3313" class="css-a4x74f"><span>3313</span></td><td id="LC3313" class="css-1dcdqdg"><code>        obj.splice(key, <span class="code-number">1</span>);
</code></td></tr><tr><td id="L3314" class="css-a4x74f"><span>3314</span></td><td id="LC3314" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L3315" class="css-a4x74f"><span>3315</span></td><td id="LC3315" class="css-1dcdqdg"><code>        die(<span class="code-number">9</span>);
</code></td></tr><tr><td id="L3316" class="css-a4x74f"><span>3316</span></td><td id="LC3316" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3317" class="css-a4x74f"><span>3317</span></td><td id="LC3317" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3318" class="css-a4x74f"><span>3318</span></td><td id="LC3318" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">has</span>(<span class="code-params">obj, key</span>) </span>{
</code></td></tr><tr><td id="L3319" class="css-a4x74f"><span>3319</span></td><td id="LC3319" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableObject(obj)) {
</code></td></tr><tr><td id="L3320" class="css-a4x74f"><span>3320</span></td><td id="LC3320" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> obj[$mobx].has_(key);
</code></td></tr><tr><td id="L3321" class="css-a4x74f"><span>3321</span></td><td id="LC3321" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (isObservableMap(obj)) {
</code></td></tr><tr><td id="L3322" class="css-a4x74f"><span>3322</span></td><td id="LC3322" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> obj.has(key);
</code></td></tr><tr><td id="L3323" class="css-a4x74f"><span>3323</span></td><td id="LC3323" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (isObservableSet(obj)) {
</code></td></tr><tr><td id="L3324" class="css-a4x74f"><span>3324</span></td><td id="LC3324" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> obj.has(key);
</code></td></tr><tr><td id="L3325" class="css-a4x74f"><span>3325</span></td><td id="LC3325" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (isObservableArray(obj)) {
</code></td></tr><tr><td id="L3326" class="css-a4x74f"><span>3326</span></td><td id="LC3326" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> key &gt;= <span class="code-number">0</span> &amp;&amp; key &lt; obj.length;
</code></td></tr><tr><td id="L3327" class="css-a4x74f"><span>3327</span></td><td id="LC3327" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3328" class="css-a4x74f"><span>3328</span></td><td id="LC3328" class="css-1dcdqdg"><code>      die(<span class="code-number">10</span>);
</code></td></tr><tr><td id="L3329" class="css-a4x74f"><span>3329</span></td><td id="LC3329" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3330" class="css-a4x74f"><span>3330</span></td><td id="LC3330" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">get</span>(<span class="code-params">obj, key</span>) </span>{
</code></td></tr><tr><td id="L3331" class="css-a4x74f"><span>3331</span></td><td id="LC3331" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!has(obj, key)) {
</code></td></tr><tr><td id="L3332" class="css-a4x74f"><span>3332</span></td><td id="LC3332" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L3333" class="css-a4x74f"><span>3333</span></td><td id="LC3333" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3334" class="css-a4x74f"><span>3334</span></td><td id="LC3334" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableObject(obj)) {
</code></td></tr><tr><td id="L3335" class="css-a4x74f"><span>3335</span></td><td id="LC3335" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> obj[$mobx].get_(key);
</code></td></tr><tr><td id="L3336" class="css-a4x74f"><span>3336</span></td><td id="LC3336" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (isObservableMap(obj)) {
</code></td></tr><tr><td id="L3337" class="css-a4x74f"><span>3337</span></td><td id="LC3337" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> obj.get(key);
</code></td></tr><tr><td id="L3338" class="css-a4x74f"><span>3338</span></td><td id="LC3338" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (isObservableArray(obj)) {
</code></td></tr><tr><td id="L3339" class="css-a4x74f"><span>3339</span></td><td id="LC3339" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> obj[key];
</code></td></tr><tr><td id="L3340" class="css-a4x74f"><span>3340</span></td><td id="LC3340" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3341" class="css-a4x74f"><span>3341</span></td><td id="LC3341" class="css-1dcdqdg"><code>      die(<span class="code-number">11</span>);
</code></td></tr><tr><td id="L3342" class="css-a4x74f"><span>3342</span></td><td id="LC3342" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3343" class="css-a4x74f"><span>3343</span></td><td id="LC3343" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">apiDefineProperty</span>(<span class="code-params">obj, key, descriptor</span>) </span>{
</code></td></tr><tr><td id="L3344" class="css-a4x74f"><span>3344</span></td><td id="LC3344" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableObject(obj)) {
</code></td></tr><tr><td id="L3345" class="css-a4x74f"><span>3345</span></td><td id="LC3345" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> obj[$mobx].defineProperty_(key, descriptor);
</code></td></tr><tr><td id="L3346" class="css-a4x74f"><span>3346</span></td><td id="LC3346" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3347" class="css-a4x74f"><span>3347</span></td><td id="LC3347" class="css-1dcdqdg"><code>      die(<span class="code-number">39</span>);
</code></td></tr><tr><td id="L3348" class="css-a4x74f"><span>3348</span></td><td id="LC3348" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3349" class="css-a4x74f"><span>3349</span></td><td id="LC3349" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">apiOwnKeys</span>(<span class="code-params">obj</span>) </span>{
</code></td></tr><tr><td id="L3350" class="css-a4x74f"><span>3350</span></td><td id="LC3350" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableObject(obj)) {
</code></td></tr><tr><td id="L3351" class="css-a4x74f"><span>3351</span></td><td id="LC3351" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> obj[$mobx].ownKeys_();
</code></td></tr><tr><td id="L3352" class="css-a4x74f"><span>3352</span></td><td id="LC3352" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3353" class="css-a4x74f"><span>3353</span></td><td id="LC3353" class="css-1dcdqdg"><code>      die(<span class="code-number">38</span>);
</code></td></tr><tr><td id="L3354" class="css-a4x74f"><span>3354</span></td><td id="LC3354" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3355" class="css-a4x74f"><span>3355</span></td><td id="LC3355" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3356" class="css-a4x74f"><span>3356</span></td><td id="LC3356" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">observe</span>(<span class="code-params">thing, propOrCb, cbOrFire, fireImmediately</span>) </span>{
</code></td></tr><tr><td id="L3357" class="css-a4x74f"><span>3357</span></td><td id="LC3357" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isFunction(cbOrFire)) {
</code></td></tr><tr><td id="L3358" class="css-a4x74f"><span>3358</span></td><td id="LC3358" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> observeObservableProperty(thing, propOrCb, cbOrFire, fireImmediately);
</code></td></tr><tr><td id="L3359" class="css-a4x74f"><span>3359</span></td><td id="LC3359" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L3360" class="css-a4x74f"><span>3360</span></td><td id="LC3360" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> observeObservable(thing, propOrCb, cbOrFire);
</code></td></tr><tr><td id="L3361" class="css-a4x74f"><span>3361</span></td><td id="LC3361" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3362" class="css-a4x74f"><span>3362</span></td><td id="LC3362" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3363" class="css-a4x74f"><span>3363</span></td><td id="LC3363" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">observeObservable</span>(<span class="code-params">thing, listener, fireImmediately</span>) </span>{
</code></td></tr><tr><td id="L3364" class="css-a4x74f"><span>3364</span></td><td id="LC3364" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> getAdministration(thing).observe_(listener, fireImmediately);
</code></td></tr><tr><td id="L3365" class="css-a4x74f"><span>3365</span></td><td id="LC3365" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3366" class="css-a4x74f"><span>3366</span></td><td id="LC3366" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">observeObservableProperty</span>(<span class="code-params">thing, property, listener, fireImmediately</span>) </span>{
</code></td></tr><tr><td id="L3367" class="css-a4x74f"><span>3367</span></td><td id="LC3367" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> getAdministration(thing, property).observe_(listener, fireImmediately);
</code></td></tr><tr><td id="L3368" class="css-a4x74f"><span>3368</span></td><td id="LC3368" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3369" class="css-a4x74f"><span>3369</span></td><td id="LC3369" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3370" class="css-a4x74f"><span>3370</span></td><td id="LC3370" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">cache</span>(<span class="code-params">map, key, value</span>) </span>{
</code></td></tr><tr><td id="L3371" class="css-a4x74f"><span>3371</span></td><td id="LC3371" class="css-1dcdqdg"><code>      map.set(key, value);
</code></td></tr><tr><td id="L3372" class="css-a4x74f"><span>3372</span></td><td id="LC3372" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> value;
</code></td></tr><tr><td id="L3373" class="css-a4x74f"><span>3373</span></td><td id="LC3373" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3374" class="css-a4x74f"><span>3374</span></td><td id="LC3374" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toJSHelper</span>(<span class="code-params">source, __alreadySeen</span>) </span>{
</code></td></tr><tr><td id="L3375" class="css-a4x74f"><span>3375</span></td><td id="LC3375" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (source == <span class="code-literal">null</span> || <span class="code-keyword">typeof</span> source !== <span class="code-string">"object"</span> || source <span class="code-keyword">instanceof</span> <span class="code-built_in">Date</span> || !isObservable(source)) {
</code></td></tr><tr><td id="L3376" class="css-a4x74f"><span>3376</span></td><td id="LC3376" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> source;
</code></td></tr><tr><td id="L3377" class="css-a4x74f"><span>3377</span></td><td id="LC3377" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3378" class="css-a4x74f"><span>3378</span></td><td id="LC3378" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableValue(source) || isComputedValue(source)) {
</code></td></tr><tr><td id="L3379" class="css-a4x74f"><span>3379</span></td><td id="LC3379" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> toJSHelper(source.get(), __alreadySeen);
</code></td></tr><tr><td id="L3380" class="css-a4x74f"><span>3380</span></td><td id="LC3380" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3381" class="css-a4x74f"><span>3381</span></td><td id="LC3381" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (__alreadySeen.has(source)) {
</code></td></tr><tr><td id="L3382" class="css-a4x74f"><span>3382</span></td><td id="LC3382" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> __alreadySeen.get(source);
</code></td></tr><tr><td id="L3383" class="css-a4x74f"><span>3383</span></td><td id="LC3383" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3384" class="css-a4x74f"><span>3384</span></td><td id="LC3384" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableArray(source)) {
</code></td></tr><tr><td id="L3385" class="css-a4x74f"><span>3385</span></td><td id="LC3385" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> res = cache(__alreadySeen, source, <span class="code-keyword">new</span> <span class="code-built_in">Array</span>(source.length));
</code></td></tr><tr><td id="L3386" class="css-a4x74f"><span>3386</span></td><td id="LC3386" class="css-1dcdqdg"><code>        source.forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">value, idx</span>) </span>{
</code></td></tr><tr><td id="L3387" class="css-a4x74f"><span>3387</span></td><td id="LC3387" class="css-1dcdqdg"><code>          res[idx] = toJSHelper(value, __alreadySeen);
</code></td></tr><tr><td id="L3388" class="css-a4x74f"><span>3388</span></td><td id="LC3388" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L3389" class="css-a4x74f"><span>3389</span></td><td id="LC3389" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> res;
</code></td></tr><tr><td id="L3390" class="css-a4x74f"><span>3390</span></td><td id="LC3390" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3391" class="css-a4x74f"><span>3391</span></td><td id="LC3391" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableSet(source)) {
</code></td></tr><tr><td id="L3392" class="css-a4x74f"><span>3392</span></td><td id="LC3392" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _res = cache(__alreadySeen, source, <span class="code-keyword">new</span> <span class="code-built_in">Set</span>());
</code></td></tr><tr><td id="L3393" class="css-a4x74f"><span>3393</span></td><td id="LC3393" class="css-1dcdqdg"><code>        source.forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L3394" class="css-a4x74f"><span>3394</span></td><td id="LC3394" class="css-1dcdqdg"><code>          _res.add(toJSHelper(value, __alreadySeen));
</code></td></tr><tr><td id="L3395" class="css-a4x74f"><span>3395</span></td><td id="LC3395" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L3396" class="css-a4x74f"><span>3396</span></td><td id="LC3396" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> _res;
</code></td></tr><tr><td id="L3397" class="css-a4x74f"><span>3397</span></td><td id="LC3397" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3398" class="css-a4x74f"><span>3398</span></td><td id="LC3398" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableMap(source)) {
</code></td></tr><tr><td id="L3399" class="css-a4x74f"><span>3399</span></td><td id="LC3399" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _res2 = cache(__alreadySeen, source, <span class="code-keyword">new</span> <span class="code-built_in">Map</span>());
</code></td></tr><tr><td id="L3400" class="css-a4x74f"><span>3400</span></td><td id="LC3400" class="css-1dcdqdg"><code>        source.forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">value, key</span>) </span>{
</code></td></tr><tr><td id="L3401" class="css-a4x74f"><span>3401</span></td><td id="LC3401" class="css-1dcdqdg"><code>          _res2.set(key, toJSHelper(value, __alreadySeen));
</code></td></tr><tr><td id="L3402" class="css-a4x74f"><span>3402</span></td><td id="LC3402" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L3403" class="css-a4x74f"><span>3403</span></td><td id="LC3403" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> _res2;
</code></td></tr><tr><td id="L3404" class="css-a4x74f"><span>3404</span></td><td id="LC3404" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L3405" class="css-a4x74f"><span>3405</span></td><td id="LC3405" class="css-1dcdqdg"><code>        <span class="code-comment">// must be observable object</span>
</code></td></tr><tr><td id="L3406" class="css-a4x74f"><span>3406</span></td><td id="LC3406" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _res3 = cache(__alreadySeen, source, {});
</code></td></tr><tr><td id="L3407" class="css-a4x74f"><span>3407</span></td><td id="LC3407" class="css-1dcdqdg"><code>        apiOwnKeys(source).forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L3408" class="css-a4x74f"><span>3408</span></td><td id="LC3408" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (objectPrototype.propertyIsEnumerable.call(source, key)) {
</code></td></tr><tr><td id="L3409" class="css-a4x74f"><span>3409</span></td><td id="LC3409" class="css-1dcdqdg"><code>            _res3[key] = toJSHelper(source[key], __alreadySeen);
</code></td></tr><tr><td id="L3410" class="css-a4x74f"><span>3410</span></td><td id="LC3410" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L3411" class="css-a4x74f"><span>3411</span></td><td id="LC3411" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L3412" class="css-a4x74f"><span>3412</span></td><td id="LC3412" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> _res3;
</code></td></tr><tr><td id="L3413" class="css-a4x74f"><span>3413</span></td><td id="LC3413" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3414" class="css-a4x74f"><span>3414</span></td><td id="LC3414" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3415" class="css-a4x74f"><span>3415</span></td><td id="LC3415" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L3416" class="css-a4x74f"><span>3416</span></td><td id="LC3416" class="css-1dcdqdg"><code><span class="code-comment">     * Recursively converts an observable to it's non-observable native counterpart.
</span></code></td></tr><tr><td id="L3417" class="css-a4x74f"><span>3417</span></td><td id="LC3417" class="css-1dcdqdg"><code><span class="code-comment">     * It does NOT recurse into non-observables, these are left as they are, even if they contain observables.
</span></code></td></tr><tr><td id="L3418" class="css-a4x74f"><span>3418</span></td><td id="LC3418" class="css-1dcdqdg"><code><span class="code-comment">     * Computed and other non-enumerable properties are completely ignored.
</span></code></td></tr><tr><td id="L3419" class="css-a4x74f"><span>3419</span></td><td id="LC3419" class="css-1dcdqdg"><code><span class="code-comment">     * Complex scenarios require custom solution, eg implementing `toJSON` or using `serializr` lib.
</span></code></td></tr><tr><td id="L3420" class="css-a4x74f"><span>3420</span></td><td id="LC3420" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L3421" class="css-a4x74f"><span>3421</span></td><td id="LC3421" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toJS</span>(<span class="code-params">source, options</span>) </span>{
</code></td></tr><tr><td id="L3422" class="css-a4x74f"><span>3422</span></td><td id="LC3422" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( options) {
</code></td></tr><tr><td id="L3423" class="css-a4x74f"><span>3423</span></td><td id="LC3423" class="css-1dcdqdg"><code>        die(<span class="code-string">"toJS no longer supports options"</span>);
</code></td></tr><tr><td id="L3424" class="css-a4x74f"><span>3424</span></td><td id="LC3424" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3425" class="css-a4x74f"><span>3425</span></td><td id="LC3425" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> toJSHelper(source, <span class="code-keyword">new</span> <span class="code-built_in">Map</span>());
</code></td></tr><tr><td id="L3426" class="css-a4x74f"><span>3426</span></td><td id="LC3426" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3427" class="css-a4x74f"><span>3427</span></td><td id="LC3427" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3428" class="css-a4x74f"><span>3428</span></td><td id="LC3428" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">trace</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3429" class="css-a4x74f"><span>3429</span></td><td id="LC3429" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> enterBreakPoint = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L3430" class="css-a4x74f"><span>3430</span></td><td id="LC3430" class="css-1dcdqdg"><code>      <span class="code-keyword">for</span> (<span class="code-keyword">var</span> _len = <span class="code-built_in">arguments</span>.length, args = <span class="code-keyword">new</span> <span class="code-built_in">Array</span>(_len), _key = <span class="code-number">0</span>; _key &lt; _len; _key++) {
</code></td></tr><tr><td id="L3431" class="css-a4x74f"><span>3431</span></td><td id="LC3431" class="css-1dcdqdg"><code>        args[_key] = <span class="code-built_in">arguments</span>[_key];
</code></td></tr><tr><td id="L3432" class="css-a4x74f"><span>3432</span></td><td id="LC3432" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3433" class="css-a4x74f"><span>3433</span></td><td id="LC3433" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> args[args.length - <span class="code-number">1</span>] === <span class="code-string">"boolean"</span>) {
</code></td></tr><tr><td id="L3434" class="css-a4x74f"><span>3434</span></td><td id="LC3434" class="css-1dcdqdg"><code>        enterBreakPoint = args.pop();
</code></td></tr><tr><td id="L3435" class="css-a4x74f"><span>3435</span></td><td id="LC3435" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3436" class="css-a4x74f"><span>3436</span></td><td id="LC3436" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> derivation = getAtomFromArgs(args);
</code></td></tr><tr><td id="L3437" class="css-a4x74f"><span>3437</span></td><td id="LC3437" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!derivation) {
</code></td></tr><tr><td id="L3438" class="css-a4x74f"><span>3438</span></td><td id="LC3438" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> die(<span class="code-string">"'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly"</span>);
</code></td></tr><tr><td id="L3439" class="css-a4x74f"><span>3439</span></td><td id="LC3439" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3440" class="css-a4x74f"><span>3440</span></td><td id="LC3440" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (derivation.isTracing_ === TraceMode.NONE) {
</code></td></tr><tr><td id="L3441" class="css-a4x74f"><span>3441</span></td><td id="LC3441" class="css-1dcdqdg"><code>        <span class="code-built_in">console</span>.log(<span class="code-string">"[mobx.trace] '"</span> + derivation.name_ + <span class="code-string">"' tracing enabled"</span>);
</code></td></tr><tr><td id="L3442" class="css-a4x74f"><span>3442</span></td><td id="LC3442" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3443" class="css-a4x74f"><span>3443</span></td><td id="LC3443" class="css-1dcdqdg"><code>      derivation.isTracing_ = enterBreakPoint ? TraceMode.BREAK : TraceMode.LOG;
</code></td></tr><tr><td id="L3444" class="css-a4x74f"><span>3444</span></td><td id="LC3444" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3445" class="css-a4x74f"><span>3445</span></td><td id="LC3445" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getAtomFromArgs</span>(<span class="code-params">args</span>) </span>{
</code></td></tr><tr><td id="L3446" class="css-a4x74f"><span>3446</span></td><td id="LC3446" class="css-1dcdqdg"><code>      <span class="code-keyword">switch</span> (args.length) {
</code></td></tr><tr><td id="L3447" class="css-a4x74f"><span>3447</span></td><td id="LC3447" class="css-1dcdqdg"><code>        <span class="code-keyword">case</span> <span class="code-number">0</span>:
</code></td></tr><tr><td id="L3448" class="css-a4x74f"><span>3448</span></td><td id="LC3448" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> globalState.trackingDerivation;
</code></td></tr><tr><td id="L3449" class="css-a4x74f"><span>3449</span></td><td id="LC3449" class="css-1dcdqdg"><code>        <span class="code-keyword">case</span> <span class="code-number">1</span>:
</code></td></tr><tr><td id="L3450" class="css-a4x74f"><span>3450</span></td><td id="LC3450" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> getAtom(args[<span class="code-number">0</span>]);
</code></td></tr><tr><td id="L3451" class="css-a4x74f"><span>3451</span></td><td id="LC3451" class="css-1dcdqdg"><code>        <span class="code-keyword">case</span> <span class="code-number">2</span>:
</code></td></tr><tr><td id="L3452" class="css-a4x74f"><span>3452</span></td><td id="LC3452" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> getAtom(args[<span class="code-number">0</span>], args[<span class="code-number">1</span>]);
</code></td></tr><tr><td id="L3453" class="css-a4x74f"><span>3453</span></td><td id="LC3453" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3454" class="css-a4x74f"><span>3454</span></td><td id="LC3454" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3455" class="css-a4x74f"><span>3455</span></td><td id="LC3455" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3456" class="css-a4x74f"><span>3456</span></td><td id="LC3456" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L3457" class="css-a4x74f"><span>3457</span></td><td id="LC3457" class="css-1dcdqdg"><code><span class="code-comment">     * During a transaction no views are updated until the end of the transaction.
</span></code></td></tr><tr><td id="L3458" class="css-a4x74f"><span>3458</span></td><td id="LC3458" class="css-1dcdqdg"><code><span class="code-comment">     * The transaction will be run synchronously nonetheless.
</span></code></td></tr><tr><td id="L3459" class="css-a4x74f"><span>3459</span></td><td id="LC3459" class="css-1dcdqdg"><code><span class="code-comment">     *
</span></code></td></tr><tr><td id="L3460" class="css-a4x74f"><span>3460</span></td><td id="LC3460" class="css-1dcdqdg"><code><span class="code-comment">     * @param action a function that updates some reactive state
</span></code></td></tr><tr><td id="L3461" class="css-a4x74f"><span>3461</span></td><td id="LC3461" class="css-1dcdqdg"><code><span class="code-comment">     * @returns any value that was returned by the 'action' parameter.
</span></code></td></tr><tr><td id="L3462" class="css-a4x74f"><span>3462</span></td><td id="LC3462" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L3463" class="css-a4x74f"><span>3463</span></td><td id="LC3463" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">transaction</span>(<span class="code-params">action, thisArg</span>) </span>{
</code></td></tr><tr><td id="L3464" class="css-a4x74f"><span>3464</span></td><td id="LC3464" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (thisArg === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L3465" class="css-a4x74f"><span>3465</span></td><td id="LC3465" class="css-1dcdqdg"><code>        thisArg = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L3466" class="css-a4x74f"><span>3466</span></td><td id="LC3466" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3467" class="css-a4x74f"><span>3467</span></td><td id="LC3467" class="css-1dcdqdg"><code>      startBatch();
</code></td></tr><tr><td id="L3468" class="css-a4x74f"><span>3468</span></td><td id="LC3468" class="css-1dcdqdg"><code>      <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L3469" class="css-a4x74f"><span>3469</span></td><td id="LC3469" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> action.apply(thisArg);
</code></td></tr><tr><td id="L3470" class="css-a4x74f"><span>3470</span></td><td id="LC3470" class="css-1dcdqdg"><code>      } <span class="code-keyword">finally</span> {
</code></td></tr><tr><td id="L3471" class="css-a4x74f"><span>3471</span></td><td id="LC3471" class="css-1dcdqdg"><code>        endBatch();
</code></td></tr><tr><td id="L3472" class="css-a4x74f"><span>3472</span></td><td id="LC3472" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3473" class="css-a4x74f"><span>3473</span></td><td id="LC3473" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3474" class="css-a4x74f"><span>3474</span></td><td id="LC3474" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3475" class="css-a4x74f"><span>3475</span></td><td id="LC3475" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">when</span>(<span class="code-params">predicate, arg1, arg2</span>) </span>{
</code></td></tr><tr><td id="L3476" class="css-a4x74f"><span>3476</span></td><td id="LC3476" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-built_in">arguments</span>.length === <span class="code-number">1</span> || arg1 &amp;&amp; <span class="code-keyword">typeof</span> arg1 === <span class="code-string">"object"</span>) {
</code></td></tr><tr><td id="L3477" class="css-a4x74f"><span>3477</span></td><td id="LC3477" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> whenPromise(predicate, arg1);
</code></td></tr><tr><td id="L3478" class="css-a4x74f"><span>3478</span></td><td id="LC3478" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3479" class="css-a4x74f"><span>3479</span></td><td id="LC3479" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> _when(predicate, arg1, arg2 || {});
</code></td></tr><tr><td id="L3480" class="css-a4x74f"><span>3480</span></td><td id="LC3480" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3481" class="css-a4x74f"><span>3481</span></td><td id="LC3481" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_when</span>(<span class="code-params">predicate, effect, opts</span>) </span>{
</code></td></tr><tr><td id="L3482" class="css-a4x74f"><span>3482</span></td><td id="LC3482" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> timeoutHandle;
</code></td></tr><tr><td id="L3483" class="css-a4x74f"><span>3483</span></td><td id="LC3483" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> opts.timeout === <span class="code-string">"number"</span>) {
</code></td></tr><tr><td id="L3484" class="css-a4x74f"><span>3484</span></td><td id="LC3484" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> error = <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"WHEN_TIMEOUT"</span>);
</code></td></tr><tr><td id="L3485" class="css-a4x74f"><span>3485</span></td><td id="LC3485" class="css-1dcdqdg"><code>        timeoutHandle = setTimeout(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3486" class="css-a4x74f"><span>3486</span></td><td id="LC3486" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!disposer[$mobx].isDisposed) {
</code></td></tr><tr><td id="L3487" class="css-a4x74f"><span>3487</span></td><td id="LC3487" class="css-1dcdqdg"><code>            disposer();
</code></td></tr><tr><td id="L3488" class="css-a4x74f"><span>3488</span></td><td id="LC3488" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (opts.onError) {
</code></td></tr><tr><td id="L3489" class="css-a4x74f"><span>3489</span></td><td id="LC3489" class="css-1dcdqdg"><code>              opts.onError(error);
</code></td></tr><tr><td id="L3490" class="css-a4x74f"><span>3490</span></td><td id="LC3490" class="css-1dcdqdg"><code>            } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L3491" class="css-a4x74f"><span>3491</span></td><td id="LC3491" class="css-1dcdqdg"><code>              <span class="code-keyword">throw</span> error;
</code></td></tr><tr><td id="L3492" class="css-a4x74f"><span>3492</span></td><td id="LC3492" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L3493" class="css-a4x74f"><span>3493</span></td><td id="LC3493" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L3494" class="css-a4x74f"><span>3494</span></td><td id="LC3494" class="css-1dcdqdg"><code>        }, opts.timeout);
</code></td></tr><tr><td id="L3495" class="css-a4x74f"><span>3495</span></td><td id="LC3495" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3496" class="css-a4x74f"><span>3496</span></td><td id="LC3496" class="css-1dcdqdg"><code>      opts.name =  opts.name || <span class="code-string">"When@"</span> + getNextId() ;
</code></td></tr><tr><td id="L3497" class="css-a4x74f"><span>3497</span></td><td id="LC3497" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> effectAction = createAction( opts.name + <span class="code-string">"-effect"</span> , effect);
</code></td></tr><tr><td id="L3498" class="css-a4x74f"><span>3498</span></td><td id="LC3498" class="css-1dcdqdg"><code>      <span class="code-comment">// eslint-disable-next-line</span>
</code></td></tr><tr><td id="L3499" class="css-a4x74f"><span>3499</span></td><td id="LC3499" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> disposer = autorun(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">r</span>) </span>{
</code></td></tr><tr><td id="L3500" class="css-a4x74f"><span>3500</span></td><td id="LC3500" class="css-1dcdqdg"><code>        <span class="code-comment">// predicate should not change state</span>
</code></td></tr><tr><td id="L3501" class="css-a4x74f"><span>3501</span></td><td id="LC3501" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> cond = allowStateChanges(<span class="code-literal">false</span>, predicate);
</code></td></tr><tr><td id="L3502" class="css-a4x74f"><span>3502</span></td><td id="LC3502" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (cond) {
</code></td></tr><tr><td id="L3503" class="css-a4x74f"><span>3503</span></td><td id="LC3503" class="css-1dcdqdg"><code>          r.dispose();
</code></td></tr><tr><td id="L3504" class="css-a4x74f"><span>3504</span></td><td id="LC3504" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (timeoutHandle) {
</code></td></tr><tr><td id="L3505" class="css-a4x74f"><span>3505</span></td><td id="LC3505" class="css-1dcdqdg"><code>            clearTimeout(timeoutHandle);
</code></td></tr><tr><td id="L3506" class="css-a4x74f"><span>3506</span></td><td id="LC3506" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L3507" class="css-a4x74f"><span>3507</span></td><td id="LC3507" class="css-1dcdqdg"><code>          effectAction();
</code></td></tr><tr><td id="L3508" class="css-a4x74f"><span>3508</span></td><td id="LC3508" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3509" class="css-a4x74f"><span>3509</span></td><td id="LC3509" class="css-1dcdqdg"><code>      }, opts);
</code></td></tr><tr><td id="L3510" class="css-a4x74f"><span>3510</span></td><td id="LC3510" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> disposer;
</code></td></tr><tr><td id="L3511" class="css-a4x74f"><span>3511</span></td><td id="LC3511" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3512" class="css-a4x74f"><span>3512</span></td><td id="LC3512" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">whenPromise</span>(<span class="code-params">predicate, opts</span>) </span>{
</code></td></tr><tr><td id="L3513" class="css-a4x74f"><span>3513</span></td><td id="LC3513" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _opts$signal;
</code></td></tr><tr><td id="L3514" class="css-a4x74f"><span>3514</span></td><td id="LC3514" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( opts &amp;&amp; opts.onError) {
</code></td></tr><tr><td id="L3515" class="css-a4x74f"><span>3515</span></td><td id="LC3515" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> die(<span class="code-string">"the options 'onError' and 'promise' cannot be combined"</span>);
</code></td></tr><tr><td id="L3516" class="css-a4x74f"><span>3516</span></td><td id="LC3516" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3517" class="css-a4x74f"><span>3517</span></td><td id="LC3517" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (opts != <span class="code-literal">null</span> &amp;&amp; (_opts$signal = opts.signal) != <span class="code-literal">null</span> &amp;&amp; _opts$signal.aborted) {
</code></td></tr><tr><td id="L3518" class="css-a4x74f"><span>3518</span></td><td id="LC3518" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-built_in">Object</span>.assign(<span class="code-built_in">Promise</span>.reject(<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"WHEN_ABORTED"</span>)), {
</code></td></tr><tr><td id="L3519" class="css-a4x74f"><span>3519</span></td><td id="LC3519" class="css-1dcdqdg"><code>          cancel: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">cancel</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3520" class="css-a4x74f"><span>3520</span></td><td id="LC3520" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L3521" class="css-a4x74f"><span>3521</span></td><td id="LC3521" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L3522" class="css-a4x74f"><span>3522</span></td><td id="LC3522" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L3523" class="css-a4x74f"><span>3523</span></td><td id="LC3523" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3524" class="css-a4x74f"><span>3524</span></td><td id="LC3524" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> cancel;
</code></td></tr><tr><td id="L3525" class="css-a4x74f"><span>3525</span></td><td id="LC3525" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> abort;
</code></td></tr><tr><td id="L3526" class="css-a4x74f"><span>3526</span></td><td id="LC3526" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> res = <span class="code-keyword">new</span> <span class="code-built_in">Promise</span>(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">resolve, reject</span>) </span>{
</code></td></tr><tr><td id="L3527" class="css-a4x74f"><span>3527</span></td><td id="LC3527" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _opts$signal2;
</code></td></tr><tr><td id="L3528" class="css-a4x74f"><span>3528</span></td><td id="LC3528" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> disposer = _when(predicate, resolve, _extends({}, opts, {
</code></td></tr><tr><td id="L3529" class="css-a4x74f"><span>3529</span></td><td id="LC3529" class="css-1dcdqdg"><code>          onError: reject
</code></td></tr><tr><td id="L3530" class="css-a4x74f"><span>3530</span></td><td id="LC3530" class="css-1dcdqdg"><code>        }));
</code></td></tr><tr><td id="L3531" class="css-a4x74f"><span>3531</span></td><td id="LC3531" class="css-1dcdqdg"><code>        cancel = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">cancel</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3532" class="css-a4x74f"><span>3532</span></td><td id="LC3532" class="css-1dcdqdg"><code>          disposer();
</code></td></tr><tr><td id="L3533" class="css-a4x74f"><span>3533</span></td><td id="LC3533" class="css-1dcdqdg"><code>          reject(<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"WHEN_CANCELLED"</span>));
</code></td></tr><tr><td id="L3534" class="css-a4x74f"><span>3534</span></td><td id="LC3534" class="css-1dcdqdg"><code>        };
</code></td></tr><tr><td id="L3535" class="css-a4x74f"><span>3535</span></td><td id="LC3535" class="css-1dcdqdg"><code>        abort = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">abort</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3536" class="css-a4x74f"><span>3536</span></td><td id="LC3536" class="css-1dcdqdg"><code>          disposer();
</code></td></tr><tr><td id="L3537" class="css-a4x74f"><span>3537</span></td><td id="LC3537" class="css-1dcdqdg"><code>          reject(<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"WHEN_ABORTED"</span>));
</code></td></tr><tr><td id="L3538" class="css-a4x74f"><span>3538</span></td><td id="LC3538" class="css-1dcdqdg"><code>        };
</code></td></tr><tr><td id="L3539" class="css-a4x74f"><span>3539</span></td><td id="LC3539" class="css-1dcdqdg"><code>        opts == <span class="code-literal">null</span> || (_opts$signal2 = opts.signal) == <span class="code-literal">null</span> || _opts$signal2.addEventListener == <span class="code-literal">null</span> || _opts$signal2.addEventListener(<span class="code-string">"abort"</span>, abort);
</code></td></tr><tr><td id="L3540" class="css-a4x74f"><span>3540</span></td><td id="LC3540" class="css-1dcdqdg"><code>      })[<span class="code-string">"finally"</span>](<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3541" class="css-a4x74f"><span>3541</span></td><td id="LC3541" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _opts$signal3;
</code></td></tr><tr><td id="L3542" class="css-a4x74f"><span>3542</span></td><td id="LC3542" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> opts == <span class="code-literal">null</span> || (_opts$signal3 = opts.signal) == <span class="code-literal">null</span> || _opts$signal3.removeEventListener == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : _opts$signal3.removeEventListener(<span class="code-string">"abort"</span>, abort);
</code></td></tr><tr><td id="L3543" class="css-a4x74f"><span>3543</span></td><td id="LC3543" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L3544" class="css-a4x74f"><span>3544</span></td><td id="LC3544" class="css-1dcdqdg"><code>      res.cancel = cancel;
</code></td></tr><tr><td id="L3545" class="css-a4x74f"><span>3545</span></td><td id="LC3545" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> res;
</code></td></tr><tr><td id="L3546" class="css-a4x74f"><span>3546</span></td><td id="LC3546" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3547" class="css-a4x74f"><span>3547</span></td><td id="LC3547" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3548" class="css-a4x74f"><span>3548</span></td><td id="LC3548" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getAdm</span>(<span class="code-params">target</span>) </span>{
</code></td></tr><tr><td id="L3549" class="css-a4x74f"><span>3549</span></td><td id="LC3549" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> target[$mobx];
</code></td></tr><tr><td id="L3550" class="css-a4x74f"><span>3550</span></td><td id="LC3550" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3551" class="css-a4x74f"><span>3551</span></td><td id="LC3551" class="css-1dcdqdg"><code>    <span class="code-comment">// Optimization: we don't need the intermediate objects and could have a completely custom administration for DynamicObjects,</span>
</code></td></tr><tr><td id="L3552" class="css-a4x74f"><span>3552</span></td><td id="LC3552" class="css-1dcdqdg"><code>    <span class="code-comment">// and skip either the internal values map, or the base object with its property descriptors!</span>
</code></td></tr><tr><td id="L3553" class="css-a4x74f"><span>3553</span></td><td id="LC3553" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> objectProxyTraps = {
</code></td></tr><tr><td id="L3554" class="css-a4x74f"><span>3554</span></td><td id="LC3554" class="css-1dcdqdg"><code>      has: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">has</span>(<span class="code-params">target, name</span>) </span>{
</code></td></tr><tr><td id="L3555" class="css-a4x74f"><span>3555</span></td><td id="LC3555" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( globalState.trackingDerivation) {
</code></td></tr><tr><td id="L3556" class="css-a4x74f"><span>3556</span></td><td id="LC3556" class="css-1dcdqdg"><code>          warnAboutProxyRequirement(<span class="code-string">"detect new properties using the 'in' operator. Use 'has' from 'mobx' instead."</span>);
</code></td></tr><tr><td id="L3557" class="css-a4x74f"><span>3557</span></td><td id="LC3557" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3558" class="css-a4x74f"><span>3558</span></td><td id="LC3558" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> getAdm(target).has_(name);
</code></td></tr><tr><td id="L3559" class="css-a4x74f"><span>3559</span></td><td id="LC3559" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L3560" class="css-a4x74f"><span>3560</span></td><td id="LC3560" class="css-1dcdqdg"><code>      <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>(target, name) {
</code></td></tr><tr><td id="L3561" class="css-a4x74f"><span>3561</span></td><td id="LC3561" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> getAdm(target).get_(name);
</code></td></tr><tr><td id="L3562" class="css-a4x74f"><span>3562</span></td><td id="LC3562" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L3563" class="css-a4x74f"><span>3563</span></td><td id="LC3563" class="css-1dcdqdg"><code>      <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(target, name, value) {
</code></td></tr><tr><td id="L3564" class="css-a4x74f"><span>3564</span></td><td id="LC3564" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _getAdm$set_;
</code></td></tr><tr><td id="L3565" class="css-a4x74f"><span>3565</span></td><td id="LC3565" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!isStringish(name)) {
</code></td></tr><tr><td id="L3566" class="css-a4x74f"><span>3566</span></td><td id="LC3566" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L3567" class="css-a4x74f"><span>3567</span></td><td id="LC3567" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3568" class="css-a4x74f"><span>3568</span></td><td id="LC3568" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( !getAdm(target).values_.has(name)) {
</code></td></tr><tr><td id="L3569" class="css-a4x74f"><span>3569</span></td><td id="LC3569" class="css-1dcdqdg"><code>          warnAboutProxyRequirement(<span class="code-string">"add a new observable property through direct assignment. Use 'set' from 'mobx' instead."</span>);
</code></td></tr><tr><td id="L3570" class="css-a4x74f"><span>3570</span></td><td id="LC3570" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3571" class="css-a4x74f"><span>3571</span></td><td id="LC3571" class="css-1dcdqdg"><code>        <span class="code-comment">// null (intercepted) -&gt; true (success)</span>
</code></td></tr><tr><td id="L3572" class="css-a4x74f"><span>3572</span></td><td id="LC3572" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> (_getAdm$set_ = getAdm(target).set_(name, value, <span class="code-literal">true</span>)) != <span class="code-literal">null</span> ? _getAdm$set_ : <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L3573" class="css-a4x74f"><span>3573</span></td><td id="LC3573" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L3574" class="css-a4x74f"><span>3574</span></td><td id="LC3574" class="css-1dcdqdg"><code>      deleteProperty: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">deleteProperty</span>(<span class="code-params">target, name</span>) </span>{
</code></td></tr><tr><td id="L3575" class="css-a4x74f"><span>3575</span></td><td id="LC3575" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _getAdm$delete_;
</code></td></tr><tr><td id="L3576" class="css-a4x74f"><span>3576</span></td><td id="LC3576" class="css-1dcdqdg"><code>        {
</code></td></tr><tr><td id="L3577" class="css-a4x74f"><span>3577</span></td><td id="LC3577" class="css-1dcdqdg"><code>          warnAboutProxyRequirement(<span class="code-string">"delete properties from an observable object. Use 'remove' from 'mobx' instead."</span>);
</code></td></tr><tr><td id="L3578" class="css-a4x74f"><span>3578</span></td><td id="LC3578" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3579" class="css-a4x74f"><span>3579</span></td><td id="LC3579" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!isStringish(name)) {
</code></td></tr><tr><td id="L3580" class="css-a4x74f"><span>3580</span></td><td id="LC3580" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L3581" class="css-a4x74f"><span>3581</span></td><td id="LC3581" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3582" class="css-a4x74f"><span>3582</span></td><td id="LC3582" class="css-1dcdqdg"><code>        <span class="code-comment">// null (intercepted) -&gt; true (success)</span>
</code></td></tr><tr><td id="L3583" class="css-a4x74f"><span>3583</span></td><td id="LC3583" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> (_getAdm$delete_ = getAdm(target).delete_(name, <span class="code-literal">true</span>)) != <span class="code-literal">null</span> ? _getAdm$delete_ : <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L3584" class="css-a4x74f"><span>3584</span></td><td id="LC3584" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L3585" class="css-a4x74f"><span>3585</span></td><td id="LC3585" class="css-1dcdqdg"><code>      defineProperty: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">defineProperty</span>(<span class="code-params">target, name, descriptor</span>) </span>{
</code></td></tr><tr><td id="L3586" class="css-a4x74f"><span>3586</span></td><td id="LC3586" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _getAdm$definePropert;
</code></td></tr><tr><td id="L3587" class="css-a4x74f"><span>3587</span></td><td id="LC3587" class="css-1dcdqdg"><code>        {
</code></td></tr><tr><td id="L3588" class="css-a4x74f"><span>3588</span></td><td id="LC3588" class="css-1dcdqdg"><code>          warnAboutProxyRequirement(<span class="code-string">"define property on an observable object. Use 'defineProperty' from 'mobx' instead."</span>);
</code></td></tr><tr><td id="L3589" class="css-a4x74f"><span>3589</span></td><td id="LC3589" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3590" class="css-a4x74f"><span>3590</span></td><td id="LC3590" class="css-1dcdqdg"><code>        <span class="code-comment">// null (intercepted) -&gt; true (success)</span>
</code></td></tr><tr><td id="L3591" class="css-a4x74f"><span>3591</span></td><td id="LC3591" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> (_getAdm$definePropert = getAdm(target).defineProperty_(name, descriptor)) != <span class="code-literal">null</span> ? _getAdm$definePropert : <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L3592" class="css-a4x74f"><span>3592</span></td><td id="LC3592" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L3593" class="css-a4x74f"><span>3593</span></td><td id="LC3593" class="css-1dcdqdg"><code>      ownKeys: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ownKeys</span>(<span class="code-params">target</span>) </span>{
</code></td></tr><tr><td id="L3594" class="css-a4x74f"><span>3594</span></td><td id="LC3594" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( globalState.trackingDerivation) {
</code></td></tr><tr><td id="L3595" class="css-a4x74f"><span>3595</span></td><td id="LC3595" class="css-1dcdqdg"><code>          warnAboutProxyRequirement(<span class="code-string">"iterate keys to detect added / removed properties. Use 'keys' from 'mobx' instead."</span>);
</code></td></tr><tr><td id="L3596" class="css-a4x74f"><span>3596</span></td><td id="LC3596" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3597" class="css-a4x74f"><span>3597</span></td><td id="LC3597" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> getAdm(target).ownKeys_();
</code></td></tr><tr><td id="L3598" class="css-a4x74f"><span>3598</span></td><td id="LC3598" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L3599" class="css-a4x74f"><span>3599</span></td><td id="LC3599" class="css-1dcdqdg"><code>      preventExtensions: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">preventExtensions</span>(<span class="code-params">target</span>) </span>{
</code></td></tr><tr><td id="L3600" class="css-a4x74f"><span>3600</span></td><td id="LC3600" class="css-1dcdqdg"><code>        die(<span class="code-number">13</span>);
</code></td></tr><tr><td id="L3601" class="css-a4x74f"><span>3601</span></td><td id="LC3601" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3602" class="css-a4x74f"><span>3602</span></td><td id="LC3602" class="css-1dcdqdg"><code>    };
</code></td></tr><tr><td id="L3603" class="css-a4x74f"><span>3603</span></td><td id="LC3603" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">asDynamicObservableObject</span>(<span class="code-params">target, options</span>) </span>{
</code></td></tr><tr><td id="L3604" class="css-a4x74f"><span>3604</span></td><td id="LC3604" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _target$$mobx, _target$$mobx$proxy_;
</code></td></tr><tr><td id="L3605" class="css-a4x74f"><span>3605</span></td><td id="LC3605" class="css-1dcdqdg"><code>      assertProxies();
</code></td></tr><tr><td id="L3606" class="css-a4x74f"><span>3606</span></td><td id="LC3606" class="css-1dcdqdg"><code>      target = asObservableObject(target, options);
</code></td></tr><tr><td id="L3607" class="css-a4x74f"><span>3607</span></td><td id="LC3607" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> (_target$$mobx$proxy_ = (_target$$mobx = target[$mobx]).proxy_) != <span class="code-literal">null</span> ? _target$$mobx$proxy_ : _target$$mobx.proxy_ = <span class="code-keyword">new</span> <span class="code-built_in">Proxy</span>(target, objectProxyTraps);
</code></td></tr><tr><td id="L3608" class="css-a4x74f"><span>3608</span></td><td id="LC3608" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3609" class="css-a4x74f"><span>3609</span></td><td id="LC3609" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3610" class="css-a4x74f"><span>3610</span></td><td id="LC3610" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">hasInterceptors</span>(<span class="code-params">interceptable</span>) </span>{
</code></td></tr><tr><td id="L3611" class="css-a4x74f"><span>3611</span></td><td id="LC3611" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> interceptable.interceptors_ !== <span class="code-literal">undefined</span> &amp;&amp; interceptable.interceptors_.length &gt; <span class="code-number">0</span>;
</code></td></tr><tr><td id="L3612" class="css-a4x74f"><span>3612</span></td><td id="LC3612" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3613" class="css-a4x74f"><span>3613</span></td><td id="LC3613" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">registerInterceptor</span>(<span class="code-params">interceptable, handler</span>) </span>{
</code></td></tr><tr><td id="L3614" class="css-a4x74f"><span>3614</span></td><td id="LC3614" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> interceptors = interceptable.interceptors_ || (interceptable.interceptors_ = []);
</code></td></tr><tr><td id="L3615" class="css-a4x74f"><span>3615</span></td><td id="LC3615" class="css-1dcdqdg"><code>      interceptors.push(handler);
</code></td></tr><tr><td id="L3616" class="css-a4x74f"><span>3616</span></td><td id="LC3616" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> once(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3617" class="css-a4x74f"><span>3617</span></td><td id="LC3617" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> idx = interceptors.indexOf(handler);
</code></td></tr><tr><td id="L3618" class="css-a4x74f"><span>3618</span></td><td id="LC3618" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (idx !== <span class="code-number">-1</span>) {
</code></td></tr><tr><td id="L3619" class="css-a4x74f"><span>3619</span></td><td id="LC3619" class="css-1dcdqdg"><code>          interceptors.splice(idx, <span class="code-number">1</span>);
</code></td></tr><tr><td id="L3620" class="css-a4x74f"><span>3620</span></td><td id="LC3620" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3621" class="css-a4x74f"><span>3621</span></td><td id="LC3621" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L3622" class="css-a4x74f"><span>3622</span></td><td id="LC3622" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3623" class="css-a4x74f"><span>3623</span></td><td id="LC3623" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">interceptChange</span>(<span class="code-params">interceptable, change</span>) </span>{
</code></td></tr><tr><td id="L3624" class="css-a4x74f"><span>3624</span></td><td id="LC3624" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> prevU = untrackedStart();
</code></td></tr><tr><td id="L3625" class="css-a4x74f"><span>3625</span></td><td id="LC3625" class="css-1dcdqdg"><code>      <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L3626" class="css-a4x74f"><span>3626</span></td><td id="LC3626" class="css-1dcdqdg"><code>        <span class="code-comment">// Interceptor can modify the array, copy it to avoid concurrent modification, see #1950</span>
</code></td></tr><tr><td id="L3627" class="css-a4x74f"><span>3627</span></td><td id="LC3627" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> interceptors = [].concat(interceptable.interceptors_ || []);
</code></td></tr><tr><td id="L3628" class="css-a4x74f"><span>3628</span></td><td id="LC3628" class="css-1dcdqdg"><code>        <span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, l = interceptors.length; i &lt; l; i++) {
</code></td></tr><tr><td id="L3629" class="css-a4x74f"><span>3629</span></td><td id="LC3629" class="css-1dcdqdg"><code>          change = interceptors[i](change);
</code></td></tr><tr><td id="L3630" class="css-a4x74f"><span>3630</span></td><td id="LC3630" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (change &amp;&amp; !change.type) {
</code></td></tr><tr><td id="L3631" class="css-a4x74f"><span>3631</span></td><td id="LC3631" class="css-1dcdqdg"><code>            die(<span class="code-number">14</span>);
</code></td></tr><tr><td id="L3632" class="css-a4x74f"><span>3632</span></td><td id="LC3632" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L3633" class="css-a4x74f"><span>3633</span></td><td id="LC3633" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!change) {
</code></td></tr><tr><td id="L3634" class="css-a4x74f"><span>3634</span></td><td id="LC3634" class="css-1dcdqdg"><code>            <span class="code-keyword">break</span>;
</code></td></tr><tr><td id="L3635" class="css-a4x74f"><span>3635</span></td><td id="LC3635" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L3636" class="css-a4x74f"><span>3636</span></td><td id="LC3636" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3637" class="css-a4x74f"><span>3637</span></td><td id="LC3637" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> change;
</code></td></tr><tr><td id="L3638" class="css-a4x74f"><span>3638</span></td><td id="LC3638" class="css-1dcdqdg"><code>      } <span class="code-keyword">finally</span> {
</code></td></tr><tr><td id="L3639" class="css-a4x74f"><span>3639</span></td><td id="LC3639" class="css-1dcdqdg"><code>        untrackedEnd(prevU);
</code></td></tr><tr><td id="L3640" class="css-a4x74f"><span>3640</span></td><td id="LC3640" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3641" class="css-a4x74f"><span>3641</span></td><td id="LC3641" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3642" class="css-a4x74f"><span>3642</span></td><td id="LC3642" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3643" class="css-a4x74f"><span>3643</span></td><td id="LC3643" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">hasListeners</span>(<span class="code-params">listenable</span>) </span>{
</code></td></tr><tr><td id="L3644" class="css-a4x74f"><span>3644</span></td><td id="LC3644" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> listenable.changeListeners_ !== <span class="code-literal">undefined</span> &amp;&amp; listenable.changeListeners_.length &gt; <span class="code-number">0</span>;
</code></td></tr><tr><td id="L3645" class="css-a4x74f"><span>3645</span></td><td id="LC3645" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3646" class="css-a4x74f"><span>3646</span></td><td id="LC3646" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">registerListener</span>(<span class="code-params">listenable, handler</span>) </span>{
</code></td></tr><tr><td id="L3647" class="css-a4x74f"><span>3647</span></td><td id="LC3647" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> listeners = listenable.changeListeners_ || (listenable.changeListeners_ = []);
</code></td></tr><tr><td id="L3648" class="css-a4x74f"><span>3648</span></td><td id="LC3648" class="css-1dcdqdg"><code>      listeners.push(handler);
</code></td></tr><tr><td id="L3649" class="css-a4x74f"><span>3649</span></td><td id="LC3649" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> once(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3650" class="css-a4x74f"><span>3650</span></td><td id="LC3650" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> idx = listeners.indexOf(handler);
</code></td></tr><tr><td id="L3651" class="css-a4x74f"><span>3651</span></td><td id="LC3651" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (idx !== <span class="code-number">-1</span>) {
</code></td></tr><tr><td id="L3652" class="css-a4x74f"><span>3652</span></td><td id="LC3652" class="css-1dcdqdg"><code>          listeners.splice(idx, <span class="code-number">1</span>);
</code></td></tr><tr><td id="L3653" class="css-a4x74f"><span>3653</span></td><td id="LC3653" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3654" class="css-a4x74f"><span>3654</span></td><td id="LC3654" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L3655" class="css-a4x74f"><span>3655</span></td><td id="LC3655" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3656" class="css-a4x74f"><span>3656</span></td><td id="LC3656" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">notifyListeners</span>(<span class="code-params">listenable, change</span>) </span>{
</code></td></tr><tr><td id="L3657" class="css-a4x74f"><span>3657</span></td><td id="LC3657" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> prevU = untrackedStart();
</code></td></tr><tr><td id="L3658" class="css-a4x74f"><span>3658</span></td><td id="LC3658" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> listeners = listenable.changeListeners_;
</code></td></tr><tr><td id="L3659" class="css-a4x74f"><span>3659</span></td><td id="LC3659" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!listeners) {
</code></td></tr><tr><td id="L3660" class="css-a4x74f"><span>3660</span></td><td id="LC3660" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L3661" class="css-a4x74f"><span>3661</span></td><td id="LC3661" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3662" class="css-a4x74f"><span>3662</span></td><td id="LC3662" class="css-1dcdqdg"><code>      listeners = listeners.slice();
</code></td></tr><tr><td id="L3663" class="css-a4x74f"><span>3663</span></td><td id="LC3663" class="css-1dcdqdg"><code>      <span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, l = listeners.length; i &lt; l; i++) {
</code></td></tr><tr><td id="L3664" class="css-a4x74f"><span>3664</span></td><td id="LC3664" class="css-1dcdqdg"><code>        listeners[i](change);
</code></td></tr><tr><td id="L3665" class="css-a4x74f"><span>3665</span></td><td id="LC3665" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3666" class="css-a4x74f"><span>3666</span></td><td id="LC3666" class="css-1dcdqdg"><code>      untrackedEnd(prevU);
</code></td></tr><tr><td id="L3667" class="css-a4x74f"><span>3667</span></td><td id="LC3667" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3668" class="css-a4x74f"><span>3668</span></td><td id="LC3668" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3669" class="css-a4x74f"><span>3669</span></td><td id="LC3669" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">makeObservable</span>(<span class="code-params">target, annotations, options</span>) </span>{
</code></td></tr><tr><td id="L3670" class="css-a4x74f"><span>3670</span></td><td id="LC3670" class="css-1dcdqdg"><code>      initObservable(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3671" class="css-a4x74f"><span>3671</span></td><td id="LC3671" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _annotations;
</code></td></tr><tr><td id="L3672" class="css-a4x74f"><span>3672</span></td><td id="LC3672" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> adm = asObservableObject(target, options)[$mobx];
</code></td></tr><tr><td id="L3673" class="css-a4x74f"><span>3673</span></td><td id="LC3673" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-string">"development"</span> !== <span class="code-string">"production"</span> &amp;&amp; annotations &amp;&amp; target[storedAnnotationsSymbol]) {
</code></td></tr><tr><td id="L3674" class="css-a4x74f"><span>3674</span></td><td id="LC3674" class="css-1dcdqdg"><code>          die(<span class="code-string">"makeObservable second arg must be nullish when using decorators. Mixing @decorator syntax with annotations is not supported."</span>);
</code></td></tr><tr><td id="L3675" class="css-a4x74f"><span>3675</span></td><td id="LC3675" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3676" class="css-a4x74f"><span>3676</span></td><td id="LC3676" class="css-1dcdqdg"><code>        <span class="code-comment">// Default to decorators</span>
</code></td></tr><tr><td id="L3677" class="css-a4x74f"><span>3677</span></td><td id="LC3677" class="css-1dcdqdg"><code>        (_annotations = annotations) != <span class="code-literal">null</span> ? _annotations : annotations = collectStoredAnnotations(target);
</code></td></tr><tr><td id="L3678" class="css-a4x74f"><span>3678</span></td><td id="LC3678" class="css-1dcdqdg"><code>        <span class="code-comment">// Annotate</span>
</code></td></tr><tr><td id="L3679" class="css-a4x74f"><span>3679</span></td><td id="LC3679" class="css-1dcdqdg"><code>        ownKeys(annotations).forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L3680" class="css-a4x74f"><span>3680</span></td><td id="LC3680" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> adm.make_(key, annotations[key]);
</code></td></tr><tr><td id="L3681" class="css-a4x74f"><span>3681</span></td><td id="LC3681" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L3682" class="css-a4x74f"><span>3682</span></td><td id="LC3682" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L3683" class="css-a4x74f"><span>3683</span></td><td id="LC3683" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> target;
</code></td></tr><tr><td id="L3684" class="css-a4x74f"><span>3684</span></td><td id="LC3684" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3685" class="css-a4x74f"><span>3685</span></td><td id="LC3685" class="css-1dcdqdg"><code>    <span class="code-comment">// proto[keysSymbol] = new Set&lt;PropertyKey&gt;()</span>
</code></td></tr><tr><td id="L3686" class="css-a4x74f"><span>3686</span></td><td id="LC3686" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> keysSymbol = <span class="code-comment">/*#__PURE__*/</span><span class="code-built_in">Symbol</span>(<span class="code-string">"mobx-keys"</span>);
</code></td></tr><tr><td id="L3687" class="css-a4x74f"><span>3687</span></td><td id="LC3687" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">makeAutoObservable</span>(<span class="code-params">target, overrides, options</span>) </span>{
</code></td></tr><tr><td id="L3688" class="css-a4x74f"><span>3688</span></td><td id="LC3688" class="css-1dcdqdg"><code>      {
</code></td></tr><tr><td id="L3689" class="css-a4x74f"><span>3689</span></td><td id="LC3689" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!isPlainObject(target) &amp;&amp; !isPlainObject(<span class="code-built_in">Object</span>.getPrototypeOf(target))) {
</code></td></tr><tr><td id="L3690" class="css-a4x74f"><span>3690</span></td><td id="LC3690" class="css-1dcdqdg"><code>          die(<span class="code-string">"'makeAutoObservable' can only be used for classes that don't have a superclass"</span>);
</code></td></tr><tr><td id="L3691" class="css-a4x74f"><span>3691</span></td><td id="LC3691" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3692" class="css-a4x74f"><span>3692</span></td><td id="LC3692" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isObservableObject(target)) {
</code></td></tr><tr><td id="L3693" class="css-a4x74f"><span>3693</span></td><td id="LC3693" class="css-1dcdqdg"><code>          die(<span class="code-string">"makeAutoObservable can only be used on objects not already made observable"</span>);
</code></td></tr><tr><td id="L3694" class="css-a4x74f"><span>3694</span></td><td id="LC3694" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3695" class="css-a4x74f"><span>3695</span></td><td id="LC3695" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3696" class="css-a4x74f"><span>3696</span></td><td id="LC3696" class="css-1dcdqdg"><code>      <span class="code-comment">// Optimization: avoid visiting protos</span>
</code></td></tr><tr><td id="L3697" class="css-a4x74f"><span>3697</span></td><td id="LC3697" class="css-1dcdqdg"><code>      <span class="code-comment">// Assumes that annotation.make_/.extend_ works the same for plain objects</span>
</code></td></tr><tr><td id="L3698" class="css-a4x74f"><span>3698</span></td><td id="LC3698" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isPlainObject(target)) {
</code></td></tr><tr><td id="L3699" class="css-a4x74f"><span>3699</span></td><td id="LC3699" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> extendObservable(target, target, overrides, options);
</code></td></tr><tr><td id="L3700" class="css-a4x74f"><span>3700</span></td><td id="LC3700" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3701" class="css-a4x74f"><span>3701</span></td><td id="LC3701" class="css-1dcdqdg"><code>      initObservable(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3702" class="css-a4x74f"><span>3702</span></td><td id="LC3702" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> adm = asObservableObject(target, options)[$mobx];
</code></td></tr><tr><td id="L3703" class="css-a4x74f"><span>3703</span></td><td id="LC3703" class="css-1dcdqdg"><code>        <span class="code-comment">// Optimization: cache keys on proto</span>
</code></td></tr><tr><td id="L3704" class="css-a4x74f"><span>3704</span></td><td id="LC3704" class="css-1dcdqdg"><code>        <span class="code-comment">// Assumes makeAutoObservable can be called only once per object and can't be used in subclass</span>
</code></td></tr><tr><td id="L3705" class="css-a4x74f"><span>3705</span></td><td id="LC3705" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!target[keysSymbol]) {
</code></td></tr><tr><td id="L3706" class="css-a4x74f"><span>3706</span></td><td id="LC3706" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> proto = <span class="code-built_in">Object</span>.getPrototypeOf(target);
</code></td></tr><tr><td id="L3707" class="css-a4x74f"><span>3707</span></td><td id="LC3707" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> keys = <span class="code-keyword">new</span> <span class="code-built_in">Set</span>([].concat(ownKeys(target), ownKeys(proto)));
</code></td></tr><tr><td id="L3708" class="css-a4x74f"><span>3708</span></td><td id="LC3708" class="css-1dcdqdg"><code>          keys[<span class="code-string">"delete"</span>](<span class="code-string">"constructor"</span>);
</code></td></tr><tr><td id="L3709" class="css-a4x74f"><span>3709</span></td><td id="LC3709" class="css-1dcdqdg"><code>          keys[<span class="code-string">"delete"</span>]($mobx);
</code></td></tr><tr><td id="L3710" class="css-a4x74f"><span>3710</span></td><td id="LC3710" class="css-1dcdqdg"><code>          addHiddenProp(proto, keysSymbol, keys);
</code></td></tr><tr><td id="L3711" class="css-a4x74f"><span>3711</span></td><td id="LC3711" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3712" class="css-a4x74f"><span>3712</span></td><td id="LC3712" class="css-1dcdqdg"><code>        target[keysSymbol].forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L3713" class="css-a4x74f"><span>3713</span></td><td id="LC3713" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> adm.make_(key,
</code></td></tr><tr><td id="L3714" class="css-a4x74f"><span>3714</span></td><td id="LC3714" class="css-1dcdqdg"><code>          <span class="code-comment">// must pass "undefined" for { key: undefined }</span>
</code></td></tr><tr><td id="L3715" class="css-a4x74f"><span>3715</span></td><td id="LC3715" class="css-1dcdqdg"><code>          !overrides ? <span class="code-literal">true</span> : key <span class="code-keyword">in</span> overrides ? overrides[key] : <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L3716" class="css-a4x74f"><span>3716</span></td><td id="LC3716" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L3717" class="css-a4x74f"><span>3717</span></td><td id="LC3717" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L3718" class="css-a4x74f"><span>3718</span></td><td id="LC3718" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> target;
</code></td></tr><tr><td id="L3719" class="css-a4x74f"><span>3719</span></td><td id="LC3719" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L3720" class="css-a4x74f"><span>3720</span></td><td id="LC3720" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3721" class="css-a4x74f"><span>3721</span></td><td id="LC3721" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> SPLICE = <span class="code-string">"splice"</span>;
</code></td></tr><tr><td id="L3722" class="css-a4x74f"><span>3722</span></td><td id="LC3722" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> UPDATE = <span class="code-string">"update"</span>;
</code></td></tr><tr><td id="L3723" class="css-a4x74f"><span>3723</span></td><td id="LC3723" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> MAX_SPLICE_SIZE = <span class="code-number">10000</span>; <span class="code-comment">// See e.g. https://github.com/mobxjs/mobx/issues/859</span>
</code></td></tr><tr><td id="L3724" class="css-a4x74f"><span>3724</span></td><td id="LC3724" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> arrayTraps = {
</code></td></tr><tr><td id="L3725" class="css-a4x74f"><span>3725</span></td><td id="LC3725" class="css-1dcdqdg"><code>      <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>(target, name) {
</code></td></tr><tr><td id="L3726" class="css-a4x74f"><span>3726</span></td><td id="LC3726" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> adm = target[$mobx];
</code></td></tr><tr><td id="L3727" class="css-a4x74f"><span>3727</span></td><td id="LC3727" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (name === $mobx) {
</code></td></tr><tr><td id="L3728" class="css-a4x74f"><span>3728</span></td><td id="LC3728" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> adm;
</code></td></tr><tr><td id="L3729" class="css-a4x74f"><span>3729</span></td><td id="LC3729" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3730" class="css-a4x74f"><span>3730</span></td><td id="LC3730" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (name === <span class="code-string">"length"</span>) {
</code></td></tr><tr><td id="L3731" class="css-a4x74f"><span>3731</span></td><td id="LC3731" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> adm.getArrayLength_();
</code></td></tr><tr><td id="L3732" class="css-a4x74f"><span>3732</span></td><td id="LC3732" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3733" class="css-a4x74f"><span>3733</span></td><td id="LC3733" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> name === <span class="code-string">"string"</span> &amp;&amp; !<span class="code-built_in">isNaN</span>(name)) {
</code></td></tr><tr><td id="L3734" class="css-a4x74f"><span>3734</span></td><td id="LC3734" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> adm.get_(<span class="code-built_in">parseInt</span>(name));
</code></td></tr><tr><td id="L3735" class="css-a4x74f"><span>3735</span></td><td id="LC3735" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3736" class="css-a4x74f"><span>3736</span></td><td id="LC3736" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (hasProp(arrayExtensions, name)) {
</code></td></tr><tr><td id="L3737" class="css-a4x74f"><span>3737</span></td><td id="LC3737" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> arrayExtensions[name];
</code></td></tr><tr><td id="L3738" class="css-a4x74f"><span>3738</span></td><td id="LC3738" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3739" class="css-a4x74f"><span>3739</span></td><td id="LC3739" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> target[name];
</code></td></tr><tr><td id="L3740" class="css-a4x74f"><span>3740</span></td><td id="LC3740" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L3741" class="css-a4x74f"><span>3741</span></td><td id="LC3741" class="css-1dcdqdg"><code>      <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(target, name, value) {
</code></td></tr><tr><td id="L3742" class="css-a4x74f"><span>3742</span></td><td id="LC3742" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> adm = target[$mobx];
</code></td></tr><tr><td id="L3743" class="css-a4x74f"><span>3743</span></td><td id="LC3743" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (name === <span class="code-string">"length"</span>) {
</code></td></tr><tr><td id="L3744" class="css-a4x74f"><span>3744</span></td><td id="LC3744" class="css-1dcdqdg"><code>          adm.setArrayLength_(value);
</code></td></tr><tr><td id="L3745" class="css-a4x74f"><span>3745</span></td><td id="LC3745" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3746" class="css-a4x74f"><span>3746</span></td><td id="LC3746" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> name === <span class="code-string">"symbol"</span> || <span class="code-built_in">isNaN</span>(name)) {
</code></td></tr><tr><td id="L3747" class="css-a4x74f"><span>3747</span></td><td id="LC3747" class="css-1dcdqdg"><code>          target[name] = value;
</code></td></tr><tr><td id="L3748" class="css-a4x74f"><span>3748</span></td><td id="LC3748" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L3749" class="css-a4x74f"><span>3749</span></td><td id="LC3749" class="css-1dcdqdg"><code>          <span class="code-comment">// numeric string</span>
</code></td></tr><tr><td id="L3750" class="css-a4x74f"><span>3750</span></td><td id="LC3750" class="css-1dcdqdg"><code>          adm.set_(<span class="code-built_in">parseInt</span>(name), value);
</code></td></tr><tr><td id="L3751" class="css-a4x74f"><span>3751</span></td><td id="LC3751" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3752" class="css-a4x74f"><span>3752</span></td><td id="LC3752" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L3753" class="css-a4x74f"><span>3753</span></td><td id="LC3753" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L3754" class="css-a4x74f"><span>3754</span></td><td id="LC3754" class="css-1dcdqdg"><code>      preventExtensions: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">preventExtensions</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3755" class="css-a4x74f"><span>3755</span></td><td id="LC3755" class="css-1dcdqdg"><code>        die(<span class="code-number">15</span>);
</code></td></tr><tr><td id="L3756" class="css-a4x74f"><span>3756</span></td><td id="LC3756" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3757" class="css-a4x74f"><span>3757</span></td><td id="LC3757" class="css-1dcdqdg"><code>    };
</code></td></tr><tr><td id="L3758" class="css-a4x74f"><span>3758</span></td><td id="LC3758" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> ObservableArrayAdministration = <span class="code-comment">/*#__PURE__*/</span><span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3759" class="css-a4x74f"><span>3759</span></td><td id="LC3759" class="css-1dcdqdg"><code>      <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ObservableArrayAdministration</span>(<span class="code-params">name, enhancer, owned_, legacyMode_</span>) </span>{
</code></td></tr><tr><td id="L3760" class="css-a4x74f"><span>3760</span></td><td id="LC3760" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (name === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L3761" class="css-a4x74f"><span>3761</span></td><td id="LC3761" class="css-1dcdqdg"><code>          name =  <span class="code-string">"ObservableArray@"</span> + getNextId() ;
</code></td></tr><tr><td id="L3762" class="css-a4x74f"><span>3762</span></td><td id="LC3762" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3763" class="css-a4x74f"><span>3763</span></td><td id="LC3763" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.owned_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L3764" class="css-a4x74f"><span>3764</span></td><td id="LC3764" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.legacyMode_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L3765" class="css-a4x74f"><span>3765</span></td><td id="LC3765" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.atom_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L3766" class="css-a4x74f"><span>3766</span></td><td id="LC3766" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.values_ = [];
</code></td></tr><tr><td id="L3767" class="css-a4x74f"><span>3767</span></td><td id="LC3767" class="css-1dcdqdg"><code>        <span class="code-comment">// this is the prop that gets proxied, so can't replace it!</span>
</code></td></tr><tr><td id="L3768" class="css-a4x74f"><span>3768</span></td><td id="LC3768" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.interceptors_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L3769" class="css-a4x74f"><span>3769</span></td><td id="LC3769" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.changeListeners_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L3770" class="css-a4x74f"><span>3770</span></td><td id="LC3770" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.enhancer_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L3771" class="css-a4x74f"><span>3771</span></td><td id="LC3771" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.dehancer = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L3772" class="css-a4x74f"><span>3772</span></td><td id="LC3772" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.proxy_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L3773" class="css-a4x74f"><span>3773</span></td><td id="LC3773" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.lastKnownLength_ = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L3774" class="css-a4x74f"><span>3774</span></td><td id="LC3774" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.owned_ = owned_;
</code></td></tr><tr><td id="L3775" class="css-a4x74f"><span>3775</span></td><td id="LC3775" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.legacyMode_ = legacyMode_;
</code></td></tr><tr><td id="L3776" class="css-a4x74f"><span>3776</span></td><td id="LC3776" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.atom_ = <span class="code-keyword">new</span> Atom(name);
</code></td></tr><tr><td id="L3777" class="css-a4x74f"><span>3777</span></td><td id="LC3777" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.enhancer_ = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">newV, oldV</span>) </span>{
</code></td></tr><tr><td id="L3778" class="css-a4x74f"><span>3778</span></td><td id="LC3778" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> enhancer(newV, oldV,  name + <span class="code-string">"[..]"</span> );
</code></td></tr><tr><td id="L3779" class="css-a4x74f"><span>3779</span></td><td id="LC3779" class="css-1dcdqdg"><code>        };
</code></td></tr><tr><td id="L3780" class="css-a4x74f"><span>3780</span></td><td id="LC3780" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L3781" class="css-a4x74f"><span>3781</span></td><td id="LC3781" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _proto = ObservableArrayAdministration.prototype;
</code></td></tr><tr><td id="L3782" class="css-a4x74f"><span>3782</span></td><td id="LC3782" class="css-1dcdqdg"><code>      _proto.dehanceValue_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">dehanceValue_</span>(<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L3783" class="css-a4x74f"><span>3783</span></td><td id="LC3783" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.dehancer !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L3784" class="css-a4x74f"><span>3784</span></td><td id="LC3784" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-keyword">this</span>.dehancer(value);
</code></td></tr><tr><td id="L3785" class="css-a4x74f"><span>3785</span></td><td id="LC3785" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3786" class="css-a4x74f"><span>3786</span></td><td id="LC3786" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> value;
</code></td></tr><tr><td id="L3787" class="css-a4x74f"><span>3787</span></td><td id="LC3787" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L3788" class="css-a4x74f"><span>3788</span></td><td id="LC3788" class="css-1dcdqdg"><code>      _proto.dehanceValues_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">dehanceValues_</span>(<span class="code-params">values</span>) </span>{
</code></td></tr><tr><td id="L3789" class="css-a4x74f"><span>3789</span></td><td id="LC3789" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.dehancer !== <span class="code-literal">undefined</span> &amp;&amp; values.length &gt; <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L3790" class="css-a4x74f"><span>3790</span></td><td id="LC3790" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> values.map(<span class="code-keyword">this</span>.dehancer);
</code></td></tr><tr><td id="L3791" class="css-a4x74f"><span>3791</span></td><td id="LC3791" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3792" class="css-a4x74f"><span>3792</span></td><td id="LC3792" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> values;
</code></td></tr><tr><td id="L3793" class="css-a4x74f"><span>3793</span></td><td id="LC3793" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L3794" class="css-a4x74f"><span>3794</span></td><td id="LC3794" class="css-1dcdqdg"><code>      _proto.intercept_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">intercept_</span>(<span class="code-params">handler</span>) </span>{
</code></td></tr><tr><td id="L3795" class="css-a4x74f"><span>3795</span></td><td id="LC3795" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> registerInterceptor(<span class="code-keyword">this</span>, handler);
</code></td></tr><tr><td id="L3796" class="css-a4x74f"><span>3796</span></td><td id="LC3796" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L3797" class="css-a4x74f"><span>3797</span></td><td id="LC3797" class="css-1dcdqdg"><code>      _proto.observe_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">observe_</span>(<span class="code-params">listener, fireImmediately</span>) </span>{
</code></td></tr><tr><td id="L3798" class="css-a4x74f"><span>3798</span></td><td id="LC3798" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (fireImmediately === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L3799" class="css-a4x74f"><span>3799</span></td><td id="LC3799" class="css-1dcdqdg"><code>          fireImmediately = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L3800" class="css-a4x74f"><span>3800</span></td><td id="LC3800" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3801" class="css-a4x74f"><span>3801</span></td><td id="LC3801" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (fireImmediately) {
</code></td></tr><tr><td id="L3802" class="css-a4x74f"><span>3802</span></td><td id="LC3802" class="css-1dcdqdg"><code>          listener({
</code></td></tr><tr><td id="L3803" class="css-a4x74f"><span>3803</span></td><td id="LC3803" class="css-1dcdqdg"><code>            observableKind: <span class="code-string">"array"</span>,
</code></td></tr><tr><td id="L3804" class="css-a4x74f"><span>3804</span></td><td id="LC3804" class="css-1dcdqdg"><code>            object: <span class="code-keyword">this</span>.proxy_,
</code></td></tr><tr><td id="L3805" class="css-a4x74f"><span>3805</span></td><td id="LC3805" class="css-1dcdqdg"><code>            debugObjectName: <span class="code-keyword">this</span>.atom_.name_,
</code></td></tr><tr><td id="L3806" class="css-a4x74f"><span>3806</span></td><td id="LC3806" class="css-1dcdqdg"><code>            type: <span class="code-string">"splice"</span>,
</code></td></tr><tr><td id="L3807" class="css-a4x74f"><span>3807</span></td><td id="LC3807" class="css-1dcdqdg"><code>            index: <span class="code-number">0</span>,
</code></td></tr><tr><td id="L3808" class="css-a4x74f"><span>3808</span></td><td id="LC3808" class="css-1dcdqdg"><code>            added: <span class="code-keyword">this</span>.values_.slice(),
</code></td></tr><tr><td id="L3809" class="css-a4x74f"><span>3809</span></td><td id="LC3809" class="css-1dcdqdg"><code>            addedCount: <span class="code-keyword">this</span>.values_.length,
</code></td></tr><tr><td id="L3810" class="css-a4x74f"><span>3810</span></td><td id="LC3810" class="css-1dcdqdg"><code>            removed: [],
</code></td></tr><tr><td id="L3811" class="css-a4x74f"><span>3811</span></td><td id="LC3811" class="css-1dcdqdg"><code>            removedCount: <span class="code-number">0</span>
</code></td></tr><tr><td id="L3812" class="css-a4x74f"><span>3812</span></td><td id="LC3812" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L3813" class="css-a4x74f"><span>3813</span></td><td id="LC3813" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3814" class="css-a4x74f"><span>3814</span></td><td id="LC3814" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> registerListener(<span class="code-keyword">this</span>, listener);
</code></td></tr><tr><td id="L3815" class="css-a4x74f"><span>3815</span></td><td id="LC3815" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L3816" class="css-a4x74f"><span>3816</span></td><td id="LC3816" class="css-1dcdqdg"><code>      _proto.getArrayLength_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getArrayLength_</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3817" class="css-a4x74f"><span>3817</span></td><td id="LC3817" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.atom_.reportObserved();
</code></td></tr><tr><td id="L3818" class="css-a4x74f"><span>3818</span></td><td id="LC3818" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.values_.length;
</code></td></tr><tr><td id="L3819" class="css-a4x74f"><span>3819</span></td><td id="LC3819" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L3820" class="css-a4x74f"><span>3820</span></td><td id="LC3820" class="css-1dcdqdg"><code>      _proto.setArrayLength_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">setArrayLength_</span>(<span class="code-params">newLength</span>) </span>{
</code></td></tr><tr><td id="L3821" class="css-a4x74f"><span>3821</span></td><td id="LC3821" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> newLength !== <span class="code-string">"number"</span> || <span class="code-built_in">isNaN</span>(newLength) || newLength &lt; <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L3822" class="css-a4x74f"><span>3822</span></td><td id="LC3822" class="css-1dcdqdg"><code>          die(<span class="code-string">"Out of range: "</span> + newLength);
</code></td></tr><tr><td id="L3823" class="css-a4x74f"><span>3823</span></td><td id="LC3823" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3824" class="css-a4x74f"><span>3824</span></td><td id="LC3824" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> currentLength = <span class="code-keyword">this</span>.values_.length;
</code></td></tr><tr><td id="L3825" class="css-a4x74f"><span>3825</span></td><td id="LC3825" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (newLength === currentLength) {
</code></td></tr><tr><td id="L3826" class="css-a4x74f"><span>3826</span></td><td id="LC3826" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L3827" class="css-a4x74f"><span>3827</span></td><td id="LC3827" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (newLength &gt; currentLength) {
</code></td></tr><tr><td id="L3828" class="css-a4x74f"><span>3828</span></td><td id="LC3828" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> newItems = <span class="code-keyword">new</span> <span class="code-built_in">Array</span>(newLength - currentLength);
</code></td></tr><tr><td id="L3829" class="css-a4x74f"><span>3829</span></td><td id="LC3829" class="css-1dcdqdg"><code>          <span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>; i &lt; newLength - currentLength; i++) {
</code></td></tr><tr><td id="L3830" class="css-a4x74f"><span>3830</span></td><td id="LC3830" class="css-1dcdqdg"><code>            newItems[i] = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L3831" class="css-a4x74f"><span>3831</span></td><td id="LC3831" class="css-1dcdqdg"><code>          } <span class="code-comment">// No Array.fill everywhere...</span>
</code></td></tr><tr><td id="L3832" class="css-a4x74f"><span>3832</span></td><td id="LC3832" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.spliceWithArray_(currentLength, <span class="code-number">0</span>, newItems);
</code></td></tr><tr><td id="L3833" class="css-a4x74f"><span>3833</span></td><td id="LC3833" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L3834" class="css-a4x74f"><span>3834</span></td><td id="LC3834" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.spliceWithArray_(newLength, currentLength - newLength);
</code></td></tr><tr><td id="L3835" class="css-a4x74f"><span>3835</span></td><td id="LC3835" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3836" class="css-a4x74f"><span>3836</span></td><td id="LC3836" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L3837" class="css-a4x74f"><span>3837</span></td><td id="LC3837" class="css-1dcdqdg"><code>      _proto.updateArrayLength_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">updateArrayLength_</span>(<span class="code-params">oldLength, delta</span>) </span>{
</code></td></tr><tr><td id="L3838" class="css-a4x74f"><span>3838</span></td><td id="LC3838" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (oldLength !== <span class="code-keyword">this</span>.lastKnownLength_) {
</code></td></tr><tr><td id="L3839" class="css-a4x74f"><span>3839</span></td><td id="LC3839" class="css-1dcdqdg"><code>          die(<span class="code-number">16</span>);
</code></td></tr><tr><td id="L3840" class="css-a4x74f"><span>3840</span></td><td id="LC3840" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3841" class="css-a4x74f"><span>3841</span></td><td id="LC3841" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.lastKnownLength_ += delta;
</code></td></tr><tr><td id="L3842" class="css-a4x74f"><span>3842</span></td><td id="LC3842" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.legacyMode_ &amp;&amp; delta &gt; <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L3843" class="css-a4x74f"><span>3843</span></td><td id="LC3843" class="css-1dcdqdg"><code>          reserveArrayBuffer(oldLength + delta + <span class="code-number">1</span>);
</code></td></tr><tr><td id="L3844" class="css-a4x74f"><span>3844</span></td><td id="LC3844" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3845" class="css-a4x74f"><span>3845</span></td><td id="LC3845" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L3846" class="css-a4x74f"><span>3846</span></td><td id="LC3846" class="css-1dcdqdg"><code>      _proto.spliceWithArray_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">spliceWithArray_</span>(<span class="code-params">index, deleteCount, newItems</span>) </span>{
</code></td></tr><tr><td id="L3847" class="css-a4x74f"><span>3847</span></td><td id="LC3847" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L3848" class="css-a4x74f"><span>3848</span></td><td id="LC3848" class="css-1dcdqdg"><code>        checkIfStateModificationsAreAllowed(<span class="code-keyword">this</span>.atom_);
</code></td></tr><tr><td id="L3849" class="css-a4x74f"><span>3849</span></td><td id="LC3849" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> length = <span class="code-keyword">this</span>.values_.length;
</code></td></tr><tr><td id="L3850" class="css-a4x74f"><span>3850</span></td><td id="LC3850" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (index === <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L3851" class="css-a4x74f"><span>3851</span></td><td id="LC3851" class="css-1dcdqdg"><code>          index = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L3852" class="css-a4x74f"><span>3852</span></td><td id="LC3852" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (index &gt; length) {
</code></td></tr><tr><td id="L3853" class="css-a4x74f"><span>3853</span></td><td id="LC3853" class="css-1dcdqdg"><code>          index = length;
</code></td></tr><tr><td id="L3854" class="css-a4x74f"><span>3854</span></td><td id="LC3854" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (index &lt; <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L3855" class="css-a4x74f"><span>3855</span></td><td id="LC3855" class="css-1dcdqdg"><code>          index = <span class="code-built_in">Math</span>.max(<span class="code-number">0</span>, length + index);
</code></td></tr><tr><td id="L3856" class="css-a4x74f"><span>3856</span></td><td id="LC3856" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3857" class="css-a4x74f"><span>3857</span></td><td id="LC3857" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-built_in">arguments</span>.length === <span class="code-number">1</span>) {
</code></td></tr><tr><td id="L3858" class="css-a4x74f"><span>3858</span></td><td id="LC3858" class="css-1dcdqdg"><code>          deleteCount = length - index;
</code></td></tr><tr><td id="L3859" class="css-a4x74f"><span>3859</span></td><td id="LC3859" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (deleteCount === <span class="code-literal">undefined</span> || deleteCount === <span class="code-literal">null</span>) {
</code></td></tr><tr><td id="L3860" class="css-a4x74f"><span>3860</span></td><td id="LC3860" class="css-1dcdqdg"><code>          deleteCount = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L3861" class="css-a4x74f"><span>3861</span></td><td id="LC3861" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L3862" class="css-a4x74f"><span>3862</span></td><td id="LC3862" class="css-1dcdqdg"><code>          deleteCount = <span class="code-built_in">Math</span>.max(<span class="code-number">0</span>, <span class="code-built_in">Math</span>.min(deleteCount, length - index));
</code></td></tr><tr><td id="L3863" class="css-a4x74f"><span>3863</span></td><td id="LC3863" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3864" class="css-a4x74f"><span>3864</span></td><td id="LC3864" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (newItems === <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L3865" class="css-a4x74f"><span>3865</span></td><td id="LC3865" class="css-1dcdqdg"><code>          newItems = EMPTY_ARRAY;
</code></td></tr><tr><td id="L3866" class="css-a4x74f"><span>3866</span></td><td id="LC3866" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3867" class="css-a4x74f"><span>3867</span></td><td id="LC3867" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (hasInterceptors(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L3868" class="css-a4x74f"><span>3868</span></td><td id="LC3868" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> change = interceptChange(<span class="code-keyword">this</span>, {
</code></td></tr><tr><td id="L3869" class="css-a4x74f"><span>3869</span></td><td id="LC3869" class="css-1dcdqdg"><code>            object: <span class="code-keyword">this</span>.proxy_,
</code></td></tr><tr><td id="L3870" class="css-a4x74f"><span>3870</span></td><td id="LC3870" class="css-1dcdqdg"><code>            type: SPLICE,
</code></td></tr><tr><td id="L3871" class="css-a4x74f"><span>3871</span></td><td id="LC3871" class="css-1dcdqdg"><code>            index: index,
</code></td></tr><tr><td id="L3872" class="css-a4x74f"><span>3872</span></td><td id="LC3872" class="css-1dcdqdg"><code>            removedCount: deleteCount,
</code></td></tr><tr><td id="L3873" class="css-a4x74f"><span>3873</span></td><td id="LC3873" class="css-1dcdqdg"><code>            added: newItems
</code></td></tr><tr><td id="L3874" class="css-a4x74f"><span>3874</span></td><td id="LC3874" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L3875" class="css-a4x74f"><span>3875</span></td><td id="LC3875" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!change) {
</code></td></tr><tr><td id="L3876" class="css-a4x74f"><span>3876</span></td><td id="LC3876" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> EMPTY_ARRAY;
</code></td></tr><tr><td id="L3877" class="css-a4x74f"><span>3877</span></td><td id="LC3877" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L3878" class="css-a4x74f"><span>3878</span></td><td id="LC3878" class="css-1dcdqdg"><code>          deleteCount = change.removedCount;
</code></td></tr><tr><td id="L3879" class="css-a4x74f"><span>3879</span></td><td id="LC3879" class="css-1dcdqdg"><code>          newItems = change.added;
</code></td></tr><tr><td id="L3880" class="css-a4x74f"><span>3880</span></td><td id="LC3880" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3881" class="css-a4x74f"><span>3881</span></td><td id="LC3881" class="css-1dcdqdg"><code>        newItems = newItems.length === <span class="code-number">0</span> ? newItems : newItems.map(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">v</span>) </span>{
</code></td></tr><tr><td id="L3882" class="css-a4x74f"><span>3882</span></td><td id="LC3882" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> _this.enhancer_(v, <span class="code-literal">undefined</span>);
</code></td></tr><tr><td id="L3883" class="css-a4x74f"><span>3883</span></td><td id="LC3883" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L3884" class="css-a4x74f"><span>3884</span></td><td id="LC3884" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.legacyMode_ || <span class="code-string">"development"</span> !== <span class="code-string">"production"</span>) {
</code></td></tr><tr><td id="L3885" class="css-a4x74f"><span>3885</span></td><td id="LC3885" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> lengthDelta = newItems.length - deleteCount;
</code></td></tr><tr><td id="L3886" class="css-a4x74f"><span>3886</span></td><td id="LC3886" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.updateArrayLength_(length, lengthDelta); <span class="code-comment">// checks if internal array wasn't modified</span>
</code></td></tr><tr><td id="L3887" class="css-a4x74f"><span>3887</span></td><td id="LC3887" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3888" class="css-a4x74f"><span>3888</span></td><td id="LC3888" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> res = <span class="code-keyword">this</span>.spliceItemsIntoValues_(index, deleteCount, newItems);
</code></td></tr><tr><td id="L3889" class="css-a4x74f"><span>3889</span></td><td id="LC3889" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (deleteCount !== <span class="code-number">0</span> || newItems.length !== <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L3890" class="css-a4x74f"><span>3890</span></td><td id="LC3890" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.notifyArraySplice_(index, newItems, res);
</code></td></tr><tr><td id="L3891" class="css-a4x74f"><span>3891</span></td><td id="LC3891" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3892" class="css-a4x74f"><span>3892</span></td><td id="LC3892" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.dehanceValues_(res);
</code></td></tr><tr><td id="L3893" class="css-a4x74f"><span>3893</span></td><td id="LC3893" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L3894" class="css-a4x74f"><span>3894</span></td><td id="LC3894" class="css-1dcdqdg"><code>      _proto.spliceItemsIntoValues_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">spliceItemsIntoValues_</span>(<span class="code-params">index, deleteCount, newItems</span>) </span>{
</code></td></tr><tr><td id="L3895" class="css-a4x74f"><span>3895</span></td><td id="LC3895" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (newItems.length &lt; MAX_SPLICE_SIZE) {
</code></td></tr><tr><td id="L3896" class="css-a4x74f"><span>3896</span></td><td id="LC3896" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> _this$values_;
</code></td></tr><tr><td id="L3897" class="css-a4x74f"><span>3897</span></td><td id="LC3897" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> (_this$values_ = <span class="code-keyword">this</span>.values_).splice.apply(_this$values_, [index, deleteCount].concat(newItems));
</code></td></tr><tr><td id="L3898" class="css-a4x74f"><span>3898</span></td><td id="LC3898" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L3899" class="css-a4x74f"><span>3899</span></td><td id="LC3899" class="css-1dcdqdg"><code>          <span class="code-comment">// The items removed by the splice</span>
</code></td></tr><tr><td id="L3900" class="css-a4x74f"><span>3900</span></td><td id="LC3900" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> res = <span class="code-keyword">this</span>.values_.slice(index, index + deleteCount);
</code></td></tr><tr><td id="L3901" class="css-a4x74f"><span>3901</span></td><td id="LC3901" class="css-1dcdqdg"><code>          <span class="code-comment">// The items that that should remain at the end of the array</span>
</code></td></tr><tr><td id="L3902" class="css-a4x74f"><span>3902</span></td><td id="LC3902" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> oldItems = <span class="code-keyword">this</span>.values_.slice(index + deleteCount);
</code></td></tr><tr><td id="L3903" class="css-a4x74f"><span>3903</span></td><td id="LC3903" class="css-1dcdqdg"><code>          <span class="code-comment">// New length is the previous length + addition count - deletion count</span>
</code></td></tr><tr><td id="L3904" class="css-a4x74f"><span>3904</span></td><td id="LC3904" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.values_.length += newItems.length - deleteCount;
</code></td></tr><tr><td id="L3905" class="css-a4x74f"><span>3905</span></td><td id="LC3905" class="css-1dcdqdg"><code>          <span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>; i &lt; newItems.length; i++) {
</code></td></tr><tr><td id="L3906" class="css-a4x74f"><span>3906</span></td><td id="LC3906" class="css-1dcdqdg"><code>            <span class="code-keyword">this</span>.values_[index + i] = newItems[i];
</code></td></tr><tr><td id="L3907" class="css-a4x74f"><span>3907</span></td><td id="LC3907" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L3908" class="css-a4x74f"><span>3908</span></td><td id="LC3908" class="css-1dcdqdg"><code>          <span class="code-keyword">for</span> (<span class="code-keyword">var</span> _i = <span class="code-number">0</span>; _i &lt; oldItems.length; _i++) {
</code></td></tr><tr><td id="L3909" class="css-a4x74f"><span>3909</span></td><td id="LC3909" class="css-1dcdqdg"><code>            <span class="code-keyword">this</span>.values_[index + newItems.length + _i] = oldItems[_i];
</code></td></tr><tr><td id="L3910" class="css-a4x74f"><span>3910</span></td><td id="LC3910" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L3911" class="css-a4x74f"><span>3911</span></td><td id="LC3911" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> res;
</code></td></tr><tr><td id="L3912" class="css-a4x74f"><span>3912</span></td><td id="LC3912" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3913" class="css-a4x74f"><span>3913</span></td><td id="LC3913" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L3914" class="css-a4x74f"><span>3914</span></td><td id="LC3914" class="css-1dcdqdg"><code>      _proto.notifyArrayChildUpdate_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">notifyArrayChildUpdate_</span>(<span class="code-params">index, newValue, oldValue</span>) </span>{
</code></td></tr><tr><td id="L3915" class="css-a4x74f"><span>3915</span></td><td id="LC3915" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> notifySpy = !<span class="code-keyword">this</span>.owned_ &amp;&amp; isSpyEnabled();
</code></td></tr><tr><td id="L3916" class="css-a4x74f"><span>3916</span></td><td id="LC3916" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> notify = hasListeners(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L3917" class="css-a4x74f"><span>3917</span></td><td id="LC3917" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> change = notify || notifySpy ? {
</code></td></tr><tr><td id="L3918" class="css-a4x74f"><span>3918</span></td><td id="LC3918" class="css-1dcdqdg"><code>          observableKind: <span class="code-string">"array"</span>,
</code></td></tr><tr><td id="L3919" class="css-a4x74f"><span>3919</span></td><td id="LC3919" class="css-1dcdqdg"><code>          object: <span class="code-keyword">this</span>.proxy_,
</code></td></tr><tr><td id="L3920" class="css-a4x74f"><span>3920</span></td><td id="LC3920" class="css-1dcdqdg"><code>          type: UPDATE,
</code></td></tr><tr><td id="L3921" class="css-a4x74f"><span>3921</span></td><td id="LC3921" class="css-1dcdqdg"><code>          debugObjectName: <span class="code-keyword">this</span>.atom_.name_,
</code></td></tr><tr><td id="L3922" class="css-a4x74f"><span>3922</span></td><td id="LC3922" class="css-1dcdqdg"><code>          index: index,
</code></td></tr><tr><td id="L3923" class="css-a4x74f"><span>3923</span></td><td id="LC3923" class="css-1dcdqdg"><code>          newValue: newValue,
</code></td></tr><tr><td id="L3924" class="css-a4x74f"><span>3924</span></td><td id="LC3924" class="css-1dcdqdg"><code>          oldValue: oldValue
</code></td></tr><tr><td id="L3925" class="css-a4x74f"><span>3925</span></td><td id="LC3925" class="css-1dcdqdg"><code>        } : <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L3926" class="css-a4x74f"><span>3926</span></td><td id="LC3926" class="css-1dcdqdg"><code>        <span class="code-comment">// The reason why this is on right hand side here (and not above), is this way the uglifier will drop it, but it won't</span>
</code></td></tr><tr><td id="L3927" class="css-a4x74f"><span>3927</span></td><td id="LC3927" class="css-1dcdqdg"><code>        <span class="code-comment">// cause any runtime overhead in development mode without NODE_ENV set, unless spying is enabled</span>
</code></td></tr><tr><td id="L3928" class="css-a4x74f"><span>3928</span></td><td id="LC3928" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( notifySpy) {
</code></td></tr><tr><td id="L3929" class="css-a4x74f"><span>3929</span></td><td id="LC3929" class="css-1dcdqdg"><code>          spyReportStart(change);
</code></td></tr><tr><td id="L3930" class="css-a4x74f"><span>3930</span></td><td id="LC3930" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3931" class="css-a4x74f"><span>3931</span></td><td id="LC3931" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.atom_.reportChanged();
</code></td></tr><tr><td id="L3932" class="css-a4x74f"><span>3932</span></td><td id="LC3932" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (notify) {
</code></td></tr><tr><td id="L3933" class="css-a4x74f"><span>3933</span></td><td id="LC3933" class="css-1dcdqdg"><code>          notifyListeners(<span class="code-keyword">this</span>, change);
</code></td></tr><tr><td id="L3934" class="css-a4x74f"><span>3934</span></td><td id="LC3934" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3935" class="css-a4x74f"><span>3935</span></td><td id="LC3935" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( notifySpy) {
</code></td></tr><tr><td id="L3936" class="css-a4x74f"><span>3936</span></td><td id="LC3936" class="css-1dcdqdg"><code>          spyReportEnd();
</code></td></tr><tr><td id="L3937" class="css-a4x74f"><span>3937</span></td><td id="LC3937" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3938" class="css-a4x74f"><span>3938</span></td><td id="LC3938" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L3939" class="css-a4x74f"><span>3939</span></td><td id="LC3939" class="css-1dcdqdg"><code>      _proto.notifyArraySplice_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">notifyArraySplice_</span>(<span class="code-params">index, added, removed</span>) </span>{
</code></td></tr><tr><td id="L3940" class="css-a4x74f"><span>3940</span></td><td id="LC3940" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> notifySpy = !<span class="code-keyword">this</span>.owned_ &amp;&amp; isSpyEnabled();
</code></td></tr><tr><td id="L3941" class="css-a4x74f"><span>3941</span></td><td id="LC3941" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> notify = hasListeners(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L3942" class="css-a4x74f"><span>3942</span></td><td id="LC3942" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> change = notify || notifySpy ? {
</code></td></tr><tr><td id="L3943" class="css-a4x74f"><span>3943</span></td><td id="LC3943" class="css-1dcdqdg"><code>          observableKind: <span class="code-string">"array"</span>,
</code></td></tr><tr><td id="L3944" class="css-a4x74f"><span>3944</span></td><td id="LC3944" class="css-1dcdqdg"><code>          object: <span class="code-keyword">this</span>.proxy_,
</code></td></tr><tr><td id="L3945" class="css-a4x74f"><span>3945</span></td><td id="LC3945" class="css-1dcdqdg"><code>          debugObjectName: <span class="code-keyword">this</span>.atom_.name_,
</code></td></tr><tr><td id="L3946" class="css-a4x74f"><span>3946</span></td><td id="LC3946" class="css-1dcdqdg"><code>          type: SPLICE,
</code></td></tr><tr><td id="L3947" class="css-a4x74f"><span>3947</span></td><td id="LC3947" class="css-1dcdqdg"><code>          index: index,
</code></td></tr><tr><td id="L3948" class="css-a4x74f"><span>3948</span></td><td id="LC3948" class="css-1dcdqdg"><code>          removed: removed,
</code></td></tr><tr><td id="L3949" class="css-a4x74f"><span>3949</span></td><td id="LC3949" class="css-1dcdqdg"><code>          added: added,
</code></td></tr><tr><td id="L3950" class="css-a4x74f"><span>3950</span></td><td id="LC3950" class="css-1dcdqdg"><code>          removedCount: removed.length,
</code></td></tr><tr><td id="L3951" class="css-a4x74f"><span>3951</span></td><td id="LC3951" class="css-1dcdqdg"><code>          addedCount: added.length
</code></td></tr><tr><td id="L3952" class="css-a4x74f"><span>3952</span></td><td id="LC3952" class="css-1dcdqdg"><code>        } : <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L3953" class="css-a4x74f"><span>3953</span></td><td id="LC3953" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( notifySpy) {
</code></td></tr><tr><td id="L3954" class="css-a4x74f"><span>3954</span></td><td id="LC3954" class="css-1dcdqdg"><code>          spyReportStart(change);
</code></td></tr><tr><td id="L3955" class="css-a4x74f"><span>3955</span></td><td id="LC3955" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3956" class="css-a4x74f"><span>3956</span></td><td id="LC3956" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.atom_.reportChanged();
</code></td></tr><tr><td id="L3957" class="css-a4x74f"><span>3957</span></td><td id="LC3957" class="css-1dcdqdg"><code>        <span class="code-comment">// conform: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/observe</span>
</code></td></tr><tr><td id="L3958" class="css-a4x74f"><span>3958</span></td><td id="LC3958" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (notify) {
</code></td></tr><tr><td id="L3959" class="css-a4x74f"><span>3959</span></td><td id="LC3959" class="css-1dcdqdg"><code>          notifyListeners(<span class="code-keyword">this</span>, change);
</code></td></tr><tr><td id="L3960" class="css-a4x74f"><span>3960</span></td><td id="LC3960" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3961" class="css-a4x74f"><span>3961</span></td><td id="LC3961" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( notifySpy) {
</code></td></tr><tr><td id="L3962" class="css-a4x74f"><span>3962</span></td><td id="LC3962" class="css-1dcdqdg"><code>          spyReportEnd();
</code></td></tr><tr><td id="L3963" class="css-a4x74f"><span>3963</span></td><td id="LC3963" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3964" class="css-a4x74f"><span>3964</span></td><td id="LC3964" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L3965" class="css-a4x74f"><span>3965</span></td><td id="LC3965" class="css-1dcdqdg"><code>      _proto.get_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">get_</span>(<span class="code-params">index</span>) </span>{
</code></td></tr><tr><td id="L3966" class="css-a4x74f"><span>3966</span></td><td id="LC3966" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.legacyMode_ &amp;&amp; index &gt;= <span class="code-keyword">this</span>.values_.length) {
</code></td></tr><tr><td id="L3967" class="css-a4x74f"><span>3967</span></td><td id="LC3967" class="css-1dcdqdg"><code>          <span class="code-built_in">console</span>.warn( <span class="code-string">"[mobx.array] Attempt to read an array index ("</span> + index + <span class="code-string">") that is out of bounds ("</span> + <span class="code-keyword">this</span>.values_.length + <span class="code-string">"). Please check length first. Out of bound indices will not be tracked by MobX"</span> );
</code></td></tr><tr><td id="L3968" class="css-a4x74f"><span>3968</span></td><td id="LC3968" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L3969" class="css-a4x74f"><span>3969</span></td><td id="LC3969" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3970" class="css-a4x74f"><span>3970</span></td><td id="LC3970" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.atom_.reportObserved();
</code></td></tr><tr><td id="L3971" class="css-a4x74f"><span>3971</span></td><td id="LC3971" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.dehanceValue_(<span class="code-keyword">this</span>.values_[index]);
</code></td></tr><tr><td id="L3972" class="css-a4x74f"><span>3972</span></td><td id="LC3972" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L3973" class="css-a4x74f"><span>3973</span></td><td id="LC3973" class="css-1dcdqdg"><code>      _proto.set_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">set_</span>(<span class="code-params">index, newValue</span>) </span>{
</code></td></tr><tr><td id="L3974" class="css-a4x74f"><span>3974</span></td><td id="LC3974" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> values = <span class="code-keyword">this</span>.values_;
</code></td></tr><tr><td id="L3975" class="css-a4x74f"><span>3975</span></td><td id="LC3975" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.legacyMode_ &amp;&amp; index &gt; values.length) {
</code></td></tr><tr><td id="L3976" class="css-a4x74f"><span>3976</span></td><td id="LC3976" class="css-1dcdqdg"><code>          <span class="code-comment">// out of bounds</span>
</code></td></tr><tr><td id="L3977" class="css-a4x74f"><span>3977</span></td><td id="LC3977" class="css-1dcdqdg"><code>          die(<span class="code-number">17</span>, index, values.length);
</code></td></tr><tr><td id="L3978" class="css-a4x74f"><span>3978</span></td><td id="LC3978" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L3979" class="css-a4x74f"><span>3979</span></td><td id="LC3979" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (index &lt; values.length) {
</code></td></tr><tr><td id="L3980" class="css-a4x74f"><span>3980</span></td><td id="LC3980" class="css-1dcdqdg"><code>          <span class="code-comment">// update at index in range</span>
</code></td></tr><tr><td id="L3981" class="css-a4x74f"><span>3981</span></td><td id="LC3981" class="css-1dcdqdg"><code>          checkIfStateModificationsAreAllowed(<span class="code-keyword">this</span>.atom_);
</code></td></tr><tr><td id="L3982" class="css-a4x74f"><span>3982</span></td><td id="LC3982" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> oldValue = values[index];
</code></td></tr><tr><td id="L3983" class="css-a4x74f"><span>3983</span></td><td id="LC3983" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (hasInterceptors(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L3984" class="css-a4x74f"><span>3984</span></td><td id="LC3984" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> change = interceptChange(<span class="code-keyword">this</span>, {
</code></td></tr><tr><td id="L3985" class="css-a4x74f"><span>3985</span></td><td id="LC3985" class="css-1dcdqdg"><code>              type: UPDATE,
</code></td></tr><tr><td id="L3986" class="css-a4x74f"><span>3986</span></td><td id="LC3986" class="css-1dcdqdg"><code>              object: <span class="code-keyword">this</span>.proxy_,
</code></td></tr><tr><td id="L3987" class="css-a4x74f"><span>3987</span></td><td id="LC3987" class="css-1dcdqdg"><code>              <span class="code-comment">// since "this" is the real array we need to pass its proxy</span>
</code></td></tr><tr><td id="L3988" class="css-a4x74f"><span>3988</span></td><td id="LC3988" class="css-1dcdqdg"><code>              index: index,
</code></td></tr><tr><td id="L3989" class="css-a4x74f"><span>3989</span></td><td id="LC3989" class="css-1dcdqdg"><code>              newValue: newValue
</code></td></tr><tr><td id="L3990" class="css-a4x74f"><span>3990</span></td><td id="LC3990" class="css-1dcdqdg"><code>            });
</code></td></tr><tr><td id="L3991" class="css-a4x74f"><span>3991</span></td><td id="LC3991" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (!change) {
</code></td></tr><tr><td id="L3992" class="css-a4x74f"><span>3992</span></td><td id="LC3992" class="css-1dcdqdg"><code>              <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L3993" class="css-a4x74f"><span>3993</span></td><td id="LC3993" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L3994" class="css-a4x74f"><span>3994</span></td><td id="LC3994" class="css-1dcdqdg"><code>            newValue = change.newValue;
</code></td></tr><tr><td id="L3995" class="css-a4x74f"><span>3995</span></td><td id="LC3995" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L3996" class="css-a4x74f"><span>3996</span></td><td id="LC3996" class="css-1dcdqdg"><code>          newValue = <span class="code-keyword">this</span>.enhancer_(newValue, oldValue);
</code></td></tr><tr><td id="L3997" class="css-a4x74f"><span>3997</span></td><td id="LC3997" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> changed = newValue !== oldValue;
</code></td></tr><tr><td id="L3998" class="css-a4x74f"><span>3998</span></td><td id="LC3998" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (changed) {
</code></td></tr><tr><td id="L3999" class="css-a4x74f"><span>3999</span></td><td id="LC3999" class="css-1dcdqdg"><code>            values[index] = newValue;
</code></td></tr><tr><td id="L4000" class="css-a4x74f"><span>4000</span></td><td id="LC4000" class="css-1dcdqdg"><code>            <span class="code-keyword">this</span>.notifyArrayChildUpdate_(index, newValue, oldValue);
</code></td></tr><tr><td id="L4001" class="css-a4x74f"><span>4001</span></td><td id="LC4001" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4002" class="css-a4x74f"><span>4002</span></td><td id="LC4002" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L4003" class="css-a4x74f"><span>4003</span></td><td id="LC4003" class="css-1dcdqdg"><code>          <span class="code-comment">// For out of bound index, we don't create an actual sparse array,</span>
</code></td></tr><tr><td id="L4004" class="css-a4x74f"><span>4004</span></td><td id="LC4004" class="css-1dcdqdg"><code>          <span class="code-comment">// but rather fill the holes with undefined (same as setArrayLength_).</span>
</code></td></tr><tr><td id="L4005" class="css-a4x74f"><span>4005</span></td><td id="LC4005" class="css-1dcdqdg"><code>          <span class="code-comment">// This could be considered a bug.</span>
</code></td></tr><tr><td id="L4006" class="css-a4x74f"><span>4006</span></td><td id="LC4006" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> newItems = <span class="code-keyword">new</span> <span class="code-built_in">Array</span>(index + <span class="code-number">1</span> - values.length);
</code></td></tr><tr><td id="L4007" class="css-a4x74f"><span>4007</span></td><td id="LC4007" class="css-1dcdqdg"><code>          <span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>; i &lt; newItems.length - <span class="code-number">1</span>; i++) {
</code></td></tr><tr><td id="L4008" class="css-a4x74f"><span>4008</span></td><td id="LC4008" class="css-1dcdqdg"><code>            newItems[i] = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L4009" class="css-a4x74f"><span>4009</span></td><td id="LC4009" class="css-1dcdqdg"><code>          } <span class="code-comment">// No Array.fill everywhere...</span>
</code></td></tr><tr><td id="L4010" class="css-a4x74f"><span>4010</span></td><td id="LC4010" class="css-1dcdqdg"><code>          newItems[newItems.length - <span class="code-number">1</span>] = newValue;
</code></td></tr><tr><td id="L4011" class="css-a4x74f"><span>4011</span></td><td id="LC4011" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.spliceWithArray_(values.length, <span class="code-number">0</span>, newItems);
</code></td></tr><tr><td id="L4012" class="css-a4x74f"><span>4012</span></td><td id="LC4012" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4013" class="css-a4x74f"><span>4013</span></td><td id="LC4013" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4014" class="css-a4x74f"><span>4014</span></td><td id="LC4014" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> ObservableArrayAdministration;
</code></td></tr><tr><td id="L4015" class="css-a4x74f"><span>4015</span></td><td id="LC4015" class="css-1dcdqdg"><code>    }();
</code></td></tr><tr><td id="L4016" class="css-a4x74f"><span>4016</span></td><td id="LC4016" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createObservableArray</span>(<span class="code-params">initialValues, enhancer, name, owned</span>) </span>{
</code></td></tr><tr><td id="L4017" class="css-a4x74f"><span>4017</span></td><td id="LC4017" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (name === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L4018" class="css-a4x74f"><span>4018</span></td><td id="LC4018" class="css-1dcdqdg"><code>        name =  <span class="code-string">"ObservableArray@"</span> + getNextId() ;
</code></td></tr><tr><td id="L4019" class="css-a4x74f"><span>4019</span></td><td id="LC4019" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L4020" class="css-a4x74f"><span>4020</span></td><td id="LC4020" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (owned === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L4021" class="css-a4x74f"><span>4021</span></td><td id="LC4021" class="css-1dcdqdg"><code>        owned = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L4022" class="css-a4x74f"><span>4022</span></td><td id="LC4022" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L4023" class="css-a4x74f"><span>4023</span></td><td id="LC4023" class="css-1dcdqdg"><code>      assertProxies();
</code></td></tr><tr><td id="L4024" class="css-a4x74f"><span>4024</span></td><td id="LC4024" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> initObservable(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4025" class="css-a4x74f"><span>4025</span></td><td id="LC4025" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> adm = <span class="code-keyword">new</span> ObservableArrayAdministration(name, enhancer, owned, <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L4026" class="css-a4x74f"><span>4026</span></td><td id="LC4026" class="css-1dcdqdg"><code>        addHiddenFinalProp(adm.values_, $mobx, adm);
</code></td></tr><tr><td id="L4027" class="css-a4x74f"><span>4027</span></td><td id="LC4027" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> proxy = <span class="code-keyword">new</span> <span class="code-built_in">Proxy</span>(adm.values_, arrayTraps);
</code></td></tr><tr><td id="L4028" class="css-a4x74f"><span>4028</span></td><td id="LC4028" class="css-1dcdqdg"><code>        adm.proxy_ = proxy;
</code></td></tr><tr><td id="L4029" class="css-a4x74f"><span>4029</span></td><td id="LC4029" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (initialValues &amp;&amp; initialValues.length) {
</code></td></tr><tr><td id="L4030" class="css-a4x74f"><span>4030</span></td><td id="LC4030" class="css-1dcdqdg"><code>          adm.spliceWithArray_(<span class="code-number">0</span>, <span class="code-number">0</span>, initialValues);
</code></td></tr><tr><td id="L4031" class="css-a4x74f"><span>4031</span></td><td id="LC4031" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4032" class="css-a4x74f"><span>4032</span></td><td id="LC4032" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> proxy;
</code></td></tr><tr><td id="L4033" class="css-a4x74f"><span>4033</span></td><td id="LC4033" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L4034" class="css-a4x74f"><span>4034</span></td><td id="LC4034" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L4035" class="css-a4x74f"><span>4035</span></td><td id="LC4035" class="css-1dcdqdg"><code>    <span class="code-comment">// eslint-disable-next-line</span>
</code></td></tr><tr><td id="L4036" class="css-a4x74f"><span>4036</span></td><td id="LC4036" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> arrayExtensions = {
</code></td></tr><tr><td id="L4037" class="css-a4x74f"><span>4037</span></td><td id="LC4037" class="css-1dcdqdg"><code>      clear: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">clear</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4038" class="css-a4x74f"><span>4038</span></td><td id="LC4038" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.splice(<span class="code-number">0</span>);
</code></td></tr><tr><td id="L4039" class="css-a4x74f"><span>4039</span></td><td id="LC4039" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L4040" class="css-a4x74f"><span>4040</span></td><td id="LC4040" class="css-1dcdqdg"><code>      replace: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">replace</span>(<span class="code-params">newItems</span>) </span>{
</code></td></tr><tr><td id="L4041" class="css-a4x74f"><span>4041</span></td><td id="LC4041" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> adm = <span class="code-keyword">this</span>[$mobx];
</code></td></tr><tr><td id="L4042" class="css-a4x74f"><span>4042</span></td><td id="LC4042" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> adm.spliceWithArray_(<span class="code-number">0</span>, adm.values_.length, newItems);
</code></td></tr><tr><td id="L4043" class="css-a4x74f"><span>4043</span></td><td id="LC4043" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L4044" class="css-a4x74f"><span>4044</span></td><td id="LC4044" class="css-1dcdqdg"><code>      <span class="code-comment">// Used by JSON.stringify</span>
</code></td></tr><tr><td id="L4045" class="css-a4x74f"><span>4045</span></td><td id="LC4045" class="css-1dcdqdg"><code>      toJSON: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toJSON</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4046" class="css-a4x74f"><span>4046</span></td><td id="LC4046" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.slice();
</code></td></tr><tr><td id="L4047" class="css-a4x74f"><span>4047</span></td><td id="LC4047" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L4048" class="css-a4x74f"><span>4048</span></td><td id="LC4048" class="css-1dcdqdg"><code>      <span class="code-comment">/*
</span></code></td></tr><tr><td id="L4049" class="css-a4x74f"><span>4049</span></td><td id="LC4049" class="css-1dcdqdg"><code><span class="code-comment">       * functions that do alter the internal structure of the array, (based on lib.es6.d.ts)
</span></code></td></tr><tr><td id="L4050" class="css-a4x74f"><span>4050</span></td><td id="LC4050" class="css-1dcdqdg"><code><span class="code-comment">       * since these functions alter the inner structure of the array, the have side effects.
</span></code></td></tr><tr><td id="L4051" class="css-a4x74f"><span>4051</span></td><td id="LC4051" class="css-1dcdqdg"><code><span class="code-comment">       * Because the have side effects, they should not be used in computed function,
</span></code></td></tr><tr><td id="L4052" class="css-a4x74f"><span>4052</span></td><td id="LC4052" class="css-1dcdqdg"><code><span class="code-comment">       * and for that reason the do not call dependencyState.notifyObserved
</span></code></td></tr><tr><td id="L4053" class="css-a4x74f"><span>4053</span></td><td id="LC4053" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L4054" class="css-a4x74f"><span>4054</span></td><td id="LC4054" class="css-1dcdqdg"><code>      splice: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">splice</span>(<span class="code-params">index, deleteCount</span>) </span>{
</code></td></tr><tr><td id="L4055" class="css-a4x74f"><span>4055</span></td><td id="LC4055" class="css-1dcdqdg"><code>        <span class="code-keyword">for</span> (<span class="code-keyword">var</span> _len = <span class="code-built_in">arguments</span>.length, newItems = <span class="code-keyword">new</span> <span class="code-built_in">Array</span>(_len &gt; <span class="code-number">2</span> ? _len - <span class="code-number">2</span> : <span class="code-number">0</span>), _key = <span class="code-number">2</span>; _key &lt; _len; _key++) {
</code></td></tr><tr><td id="L4056" class="css-a4x74f"><span>4056</span></td><td id="LC4056" class="css-1dcdqdg"><code>          newItems[_key - <span class="code-number">2</span>] = <span class="code-built_in">arguments</span>[_key];
</code></td></tr><tr><td id="L4057" class="css-a4x74f"><span>4057</span></td><td id="LC4057" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4058" class="css-a4x74f"><span>4058</span></td><td id="LC4058" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> adm = <span class="code-keyword">this</span>[$mobx];
</code></td></tr><tr><td id="L4059" class="css-a4x74f"><span>4059</span></td><td id="LC4059" class="css-1dcdqdg"><code>        <span class="code-keyword">switch</span> (<span class="code-built_in">arguments</span>.length) {
</code></td></tr><tr><td id="L4060" class="css-a4x74f"><span>4060</span></td><td id="LC4060" class="css-1dcdqdg"><code>          <span class="code-keyword">case</span> <span class="code-number">0</span>:
</code></td></tr><tr><td id="L4061" class="css-a4x74f"><span>4061</span></td><td id="LC4061" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> [];
</code></td></tr><tr><td id="L4062" class="css-a4x74f"><span>4062</span></td><td id="LC4062" class="css-1dcdqdg"><code>          <span class="code-keyword">case</span> <span class="code-number">1</span>:
</code></td></tr><tr><td id="L4063" class="css-a4x74f"><span>4063</span></td><td id="LC4063" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> adm.spliceWithArray_(index);
</code></td></tr><tr><td id="L4064" class="css-a4x74f"><span>4064</span></td><td id="LC4064" class="css-1dcdqdg"><code>          <span class="code-keyword">case</span> <span class="code-number">2</span>:
</code></td></tr><tr><td id="L4065" class="css-a4x74f"><span>4065</span></td><td id="LC4065" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> adm.spliceWithArray_(index, deleteCount);
</code></td></tr><tr><td id="L4066" class="css-a4x74f"><span>4066</span></td><td id="LC4066" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4067" class="css-a4x74f"><span>4067</span></td><td id="LC4067" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> adm.spliceWithArray_(index, deleteCount, newItems);
</code></td></tr><tr><td id="L4068" class="css-a4x74f"><span>4068</span></td><td id="LC4068" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L4069" class="css-a4x74f"><span>4069</span></td><td id="LC4069" class="css-1dcdqdg"><code>      spliceWithArray: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">spliceWithArray</span>(<span class="code-params">index, deleteCount, newItems</span>) </span>{
</code></td></tr><tr><td id="L4070" class="css-a4x74f"><span>4070</span></td><td id="LC4070" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>[$mobx].spliceWithArray_(index, deleteCount, newItems);
</code></td></tr><tr><td id="L4071" class="css-a4x74f"><span>4071</span></td><td id="LC4071" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L4072" class="css-a4x74f"><span>4072</span></td><td id="LC4072" class="css-1dcdqdg"><code>      push: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">push</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4073" class="css-a4x74f"><span>4073</span></td><td id="LC4073" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> adm = <span class="code-keyword">this</span>[$mobx];
</code></td></tr><tr><td id="L4074" class="css-a4x74f"><span>4074</span></td><td id="LC4074" class="css-1dcdqdg"><code>        <span class="code-keyword">for</span> (<span class="code-keyword">var</span> _len2 = <span class="code-built_in">arguments</span>.length, items = <span class="code-keyword">new</span> <span class="code-built_in">Array</span>(_len2), _key2 = <span class="code-number">0</span>; _key2 &lt; _len2; _key2++) {
</code></td></tr><tr><td id="L4075" class="css-a4x74f"><span>4075</span></td><td id="LC4075" class="css-1dcdqdg"><code>          items[_key2] = <span class="code-built_in">arguments</span>[_key2];
</code></td></tr><tr><td id="L4076" class="css-a4x74f"><span>4076</span></td><td id="LC4076" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4077" class="css-a4x74f"><span>4077</span></td><td id="LC4077" class="css-1dcdqdg"><code>        adm.spliceWithArray_(adm.values_.length, <span class="code-number">0</span>, items);
</code></td></tr><tr><td id="L4078" class="css-a4x74f"><span>4078</span></td><td id="LC4078" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> adm.values_.length;
</code></td></tr><tr><td id="L4079" class="css-a4x74f"><span>4079</span></td><td id="LC4079" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L4080" class="css-a4x74f"><span>4080</span></td><td id="LC4080" class="css-1dcdqdg"><code>      pop: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pop</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4081" class="css-a4x74f"><span>4081</span></td><td id="LC4081" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.splice(<span class="code-built_in">Math</span>.max(<span class="code-keyword">this</span>[$mobx].values_.length - <span class="code-number">1</span>, <span class="code-number">0</span>), <span class="code-number">1</span>)[<span class="code-number">0</span>];
</code></td></tr><tr><td id="L4082" class="css-a4x74f"><span>4082</span></td><td id="LC4082" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L4083" class="css-a4x74f"><span>4083</span></td><td id="LC4083" class="css-1dcdqdg"><code>      shift: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">shift</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4084" class="css-a4x74f"><span>4084</span></td><td id="LC4084" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.splice(<span class="code-number">0</span>, <span class="code-number">1</span>)[<span class="code-number">0</span>];
</code></td></tr><tr><td id="L4085" class="css-a4x74f"><span>4085</span></td><td id="LC4085" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L4086" class="css-a4x74f"><span>4086</span></td><td id="LC4086" class="css-1dcdqdg"><code>      unshift: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">unshift</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4087" class="css-a4x74f"><span>4087</span></td><td id="LC4087" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> adm = <span class="code-keyword">this</span>[$mobx];
</code></td></tr><tr><td id="L4088" class="css-a4x74f"><span>4088</span></td><td id="LC4088" class="css-1dcdqdg"><code>        <span class="code-keyword">for</span> (<span class="code-keyword">var</span> _len3 = <span class="code-built_in">arguments</span>.length, items = <span class="code-keyword">new</span> <span class="code-built_in">Array</span>(_len3), _key3 = <span class="code-number">0</span>; _key3 &lt; _len3; _key3++) {
</code></td></tr><tr><td id="L4089" class="css-a4x74f"><span>4089</span></td><td id="LC4089" class="css-1dcdqdg"><code>          items[_key3] = <span class="code-built_in">arguments</span>[_key3];
</code></td></tr><tr><td id="L4090" class="css-a4x74f"><span>4090</span></td><td id="LC4090" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4091" class="css-a4x74f"><span>4091</span></td><td id="LC4091" class="css-1dcdqdg"><code>        adm.spliceWithArray_(<span class="code-number">0</span>, <span class="code-number">0</span>, items);
</code></td></tr><tr><td id="L4092" class="css-a4x74f"><span>4092</span></td><td id="LC4092" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> adm.values_.length;
</code></td></tr><tr><td id="L4093" class="css-a4x74f"><span>4093</span></td><td id="LC4093" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L4094" class="css-a4x74f"><span>4094</span></td><td id="LC4094" class="css-1dcdqdg"><code>      reverse: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">reverse</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4095" class="css-a4x74f"><span>4095</span></td><td id="LC4095" class="css-1dcdqdg"><code>        <span class="code-comment">// reverse by default mutates in place before returning the result</span>
</code></td></tr><tr><td id="L4096" class="css-a4x74f"><span>4096</span></td><td id="LC4096" class="css-1dcdqdg"><code>        <span class="code-comment">// which makes it both a 'derivation' and a 'mutation'.</span>
</code></td></tr><tr><td id="L4097" class="css-a4x74f"><span>4097</span></td><td id="LC4097" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (globalState.trackingDerivation) {
</code></td></tr><tr><td id="L4098" class="css-a4x74f"><span>4098</span></td><td id="LC4098" class="css-1dcdqdg"><code>          die(<span class="code-number">37</span>, <span class="code-string">"reverse"</span>);
</code></td></tr><tr><td id="L4099" class="css-a4x74f"><span>4099</span></td><td id="LC4099" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4100" class="css-a4x74f"><span>4100</span></td><td id="LC4100" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.replace(<span class="code-keyword">this</span>.slice().reverse());
</code></td></tr><tr><td id="L4101" class="css-a4x74f"><span>4101</span></td><td id="LC4101" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4102" class="css-a4x74f"><span>4102</span></td><td id="LC4102" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L4103" class="css-a4x74f"><span>4103</span></td><td id="LC4103" class="css-1dcdqdg"><code>      sort: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">sort</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4104" class="css-a4x74f"><span>4104</span></td><td id="LC4104" class="css-1dcdqdg"><code>        <span class="code-comment">// sort by default mutates in place before returning the result</span>
</code></td></tr><tr><td id="L4105" class="css-a4x74f"><span>4105</span></td><td id="LC4105" class="css-1dcdqdg"><code>        <span class="code-comment">// which goes against all good practices. Let's not change the array in place!</span>
</code></td></tr><tr><td id="L4106" class="css-a4x74f"><span>4106</span></td><td id="LC4106" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (globalState.trackingDerivation) {
</code></td></tr><tr><td id="L4107" class="css-a4x74f"><span>4107</span></td><td id="LC4107" class="css-1dcdqdg"><code>          die(<span class="code-number">37</span>, <span class="code-string">"sort"</span>);
</code></td></tr><tr><td id="L4108" class="css-a4x74f"><span>4108</span></td><td id="LC4108" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4109" class="css-a4x74f"><span>4109</span></td><td id="LC4109" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> copy = <span class="code-keyword">this</span>.slice();
</code></td></tr><tr><td id="L4110" class="css-a4x74f"><span>4110</span></td><td id="LC4110" class="css-1dcdqdg"><code>        copy.sort.apply(copy, <span class="code-built_in">arguments</span>);
</code></td></tr><tr><td id="L4111" class="css-a4x74f"><span>4111</span></td><td id="LC4111" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.replace(copy);
</code></td></tr><tr><td id="L4112" class="css-a4x74f"><span>4112</span></td><td id="LC4112" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4113" class="css-a4x74f"><span>4113</span></td><td id="LC4113" class="css-1dcdqdg"><code>      },
</code></td></tr><tr><td id="L4114" class="css-a4x74f"><span>4114</span></td><td id="LC4114" class="css-1dcdqdg"><code>      remove: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">remove</span>(<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L4115" class="css-a4x74f"><span>4115</span></td><td id="LC4115" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> adm = <span class="code-keyword">this</span>[$mobx];
</code></td></tr><tr><td id="L4116" class="css-a4x74f"><span>4116</span></td><td id="LC4116" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> idx = adm.dehanceValues_(adm.values_).indexOf(value);
</code></td></tr><tr><td id="L4117" class="css-a4x74f"><span>4117</span></td><td id="LC4117" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (idx &gt; <span class="code-number">-1</span>) {
</code></td></tr><tr><td id="L4118" class="css-a4x74f"><span>4118</span></td><td id="LC4118" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.splice(idx, <span class="code-number">1</span>);
</code></td></tr><tr><td id="L4119" class="css-a4x74f"><span>4119</span></td><td id="LC4119" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L4120" class="css-a4x74f"><span>4120</span></td><td id="LC4120" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4121" class="css-a4x74f"><span>4121</span></td><td id="LC4121" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L4122" class="css-a4x74f"><span>4122</span></td><td id="LC4122" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L4123" class="css-a4x74f"><span>4123</span></td><td id="LC4123" class="css-1dcdqdg"><code>    };
</code></td></tr><tr><td id="L4124" class="css-a4x74f"><span>4124</span></td><td id="LC4124" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L4125" class="css-a4x74f"><span>4125</span></td><td id="LC4125" class="css-1dcdqdg"><code><span class="code-comment">     * Wrap function from prototype
</span></code></td></tr><tr><td id="L4126" class="css-a4x74f"><span>4126</span></td><td id="LC4126" class="css-1dcdqdg"><code><span class="code-comment">     * Without this, everything works as well, but this works
</span></code></td></tr><tr><td id="L4127" class="css-a4x74f"><span>4127</span></td><td id="LC4127" class="css-1dcdqdg"><code><span class="code-comment">     * faster as everything works on unproxied values
</span></code></td></tr><tr><td id="L4128" class="css-a4x74f"><span>4128</span></td><td id="LC4128" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L4129" class="css-a4x74f"><span>4129</span></td><td id="LC4129" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"at"</span>, simpleFunc);
</code></td></tr><tr><td id="L4130" class="css-a4x74f"><span>4130</span></td><td id="LC4130" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"concat"</span>, simpleFunc);
</code></td></tr><tr><td id="L4131" class="css-a4x74f"><span>4131</span></td><td id="LC4131" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"flat"</span>, simpleFunc);
</code></td></tr><tr><td id="L4132" class="css-a4x74f"><span>4132</span></td><td id="LC4132" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"includes"</span>, simpleFunc);
</code></td></tr><tr><td id="L4133" class="css-a4x74f"><span>4133</span></td><td id="LC4133" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"indexOf"</span>, simpleFunc);
</code></td></tr><tr><td id="L4134" class="css-a4x74f"><span>4134</span></td><td id="LC4134" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"join"</span>, simpleFunc);
</code></td></tr><tr><td id="L4135" class="css-a4x74f"><span>4135</span></td><td id="LC4135" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"lastIndexOf"</span>, simpleFunc);
</code></td></tr><tr><td id="L4136" class="css-a4x74f"><span>4136</span></td><td id="LC4136" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"slice"</span>, simpleFunc);
</code></td></tr><tr><td id="L4137" class="css-a4x74f"><span>4137</span></td><td id="LC4137" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"toString"</span>, simpleFunc);
</code></td></tr><tr><td id="L4138" class="css-a4x74f"><span>4138</span></td><td id="LC4138" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"toLocaleString"</span>, simpleFunc);
</code></td></tr><tr><td id="L4139" class="css-a4x74f"><span>4139</span></td><td id="LC4139" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"toSorted"</span>, simpleFunc);
</code></td></tr><tr><td id="L4140" class="css-a4x74f"><span>4140</span></td><td id="LC4140" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"toSpliced"</span>, simpleFunc);
</code></td></tr><tr><td id="L4141" class="css-a4x74f"><span>4141</span></td><td id="LC4141" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"with"</span>, simpleFunc);
</code></td></tr><tr><td id="L4142" class="css-a4x74f"><span>4142</span></td><td id="LC4142" class="css-1dcdqdg"><code>    <span class="code-comment">// map</span>
</code></td></tr><tr><td id="L4143" class="css-a4x74f"><span>4143</span></td><td id="LC4143" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"every"</span>, mapLikeFunc);
</code></td></tr><tr><td id="L4144" class="css-a4x74f"><span>4144</span></td><td id="LC4144" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"filter"</span>, mapLikeFunc);
</code></td></tr><tr><td id="L4145" class="css-a4x74f"><span>4145</span></td><td id="LC4145" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"find"</span>, mapLikeFunc);
</code></td></tr><tr><td id="L4146" class="css-a4x74f"><span>4146</span></td><td id="LC4146" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"findIndex"</span>, mapLikeFunc);
</code></td></tr><tr><td id="L4147" class="css-a4x74f"><span>4147</span></td><td id="LC4147" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"findLast"</span>, mapLikeFunc);
</code></td></tr><tr><td id="L4148" class="css-a4x74f"><span>4148</span></td><td id="LC4148" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"findLastIndex"</span>, mapLikeFunc);
</code></td></tr><tr><td id="L4149" class="css-a4x74f"><span>4149</span></td><td id="LC4149" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"flatMap"</span>, mapLikeFunc);
</code></td></tr><tr><td id="L4150" class="css-a4x74f"><span>4150</span></td><td id="LC4150" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"forEach"</span>, mapLikeFunc);
</code></td></tr><tr><td id="L4151" class="css-a4x74f"><span>4151</span></td><td id="LC4151" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"map"</span>, mapLikeFunc);
</code></td></tr><tr><td id="L4152" class="css-a4x74f"><span>4152</span></td><td id="LC4152" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"some"</span>, mapLikeFunc);
</code></td></tr><tr><td id="L4153" class="css-a4x74f"><span>4153</span></td><td id="LC4153" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"toReversed"</span>, mapLikeFunc);
</code></td></tr><tr><td id="L4154" class="css-a4x74f"><span>4154</span></td><td id="LC4154" class="css-1dcdqdg"><code>    <span class="code-comment">// reduce</span>
</code></td></tr><tr><td id="L4155" class="css-a4x74f"><span>4155</span></td><td id="LC4155" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"reduce"</span>, reduceLikeFunc);
</code></td></tr><tr><td id="L4156" class="css-a4x74f"><span>4156</span></td><td id="LC4156" class="css-1dcdqdg"><code>    addArrayExtension(<span class="code-string">"reduceRight"</span>, reduceLikeFunc);
</code></td></tr><tr><td id="L4157" class="css-a4x74f"><span>4157</span></td><td id="LC4157" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">addArrayExtension</span>(<span class="code-params">funcName, funcFactory</span>) </span>{
</code></td></tr><tr><td id="L4158" class="css-a4x74f"><span>4158</span></td><td id="LC4158" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> <span class="code-built_in">Array</span>.prototype[funcName] === <span class="code-string">"function"</span>) {
</code></td></tr><tr><td id="L4159" class="css-a4x74f"><span>4159</span></td><td id="LC4159" class="css-1dcdqdg"><code>        arrayExtensions[funcName] = funcFactory(funcName);
</code></td></tr><tr><td id="L4160" class="css-a4x74f"><span>4160</span></td><td id="LC4160" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L4161" class="css-a4x74f"><span>4161</span></td><td id="LC4161" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L4162" class="css-a4x74f"><span>4162</span></td><td id="LC4162" class="css-1dcdqdg"><code>    <span class="code-comment">// Report and delegate to dehanced array</span>
</code></td></tr><tr><td id="L4163" class="css-a4x74f"><span>4163</span></td><td id="LC4163" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">simpleFunc</span>(<span class="code-params">funcName</span>) </span>{
</code></td></tr><tr><td id="L4164" class="css-a4x74f"><span>4164</span></td><td id="LC4164" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4165" class="css-a4x74f"><span>4165</span></td><td id="LC4165" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> adm = <span class="code-keyword">this</span>[$mobx];
</code></td></tr><tr><td id="L4166" class="css-a4x74f"><span>4166</span></td><td id="LC4166" class="css-1dcdqdg"><code>        adm.atom_.reportObserved();
</code></td></tr><tr><td id="L4167" class="css-a4x74f"><span>4167</span></td><td id="LC4167" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> dehancedValues = adm.dehanceValues_(adm.values_);
</code></td></tr><tr><td id="L4168" class="css-a4x74f"><span>4168</span></td><td id="LC4168" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> dehancedValues[funcName].apply(dehancedValues, <span class="code-built_in">arguments</span>);
</code></td></tr><tr><td id="L4169" class="css-a4x74f"><span>4169</span></td><td id="LC4169" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4170" class="css-a4x74f"><span>4170</span></td><td id="LC4170" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L4171" class="css-a4x74f"><span>4171</span></td><td id="LC4171" class="css-1dcdqdg"><code>    <span class="code-comment">// Make sure callbacks receive correct array arg #2326</span>
</code></td></tr><tr><td id="L4172" class="css-a4x74f"><span>4172</span></td><td id="LC4172" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">mapLikeFunc</span>(<span class="code-params">funcName</span>) </span>{
</code></td></tr><tr><td id="L4173" class="css-a4x74f"><span>4173</span></td><td id="LC4173" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">callback, thisArg</span>) </span>{
</code></td></tr><tr><td id="L4174" class="css-a4x74f"><span>4174</span></td><td id="LC4174" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this2 = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4175" class="css-a4x74f"><span>4175</span></td><td id="LC4175" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> adm = <span class="code-keyword">this</span>[$mobx];
</code></td></tr><tr><td id="L4176" class="css-a4x74f"><span>4176</span></td><td id="LC4176" class="css-1dcdqdg"><code>        adm.atom_.reportObserved();
</code></td></tr><tr><td id="L4177" class="css-a4x74f"><span>4177</span></td><td id="LC4177" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> dehancedValues = adm.dehanceValues_(adm.values_);
</code></td></tr><tr><td id="L4178" class="css-a4x74f"><span>4178</span></td><td id="LC4178" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> dehancedValues[funcName](<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">element, index</span>) </span>{
</code></td></tr><tr><td id="L4179" class="css-a4x74f"><span>4179</span></td><td id="LC4179" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> callback.call(thisArg, element, index, _this2);
</code></td></tr><tr><td id="L4180" class="css-a4x74f"><span>4180</span></td><td id="LC4180" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L4181" class="css-a4x74f"><span>4181</span></td><td id="LC4181" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4182" class="css-a4x74f"><span>4182</span></td><td id="LC4182" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L4183" class="css-a4x74f"><span>4183</span></td><td id="LC4183" class="css-1dcdqdg"><code>    <span class="code-comment">// Make sure callbacks receive correct array arg #2326</span>
</code></td></tr><tr><td id="L4184" class="css-a4x74f"><span>4184</span></td><td id="LC4184" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">reduceLikeFunc</span>(<span class="code-params">funcName</span>) </span>{
</code></td></tr><tr><td id="L4185" class="css-a4x74f"><span>4185</span></td><td id="LC4185" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4186" class="css-a4x74f"><span>4186</span></td><td id="LC4186" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this3 = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4187" class="css-a4x74f"><span>4187</span></td><td id="LC4187" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> adm = <span class="code-keyword">this</span>[$mobx];
</code></td></tr><tr><td id="L4188" class="css-a4x74f"><span>4188</span></td><td id="LC4188" class="css-1dcdqdg"><code>        adm.atom_.reportObserved();
</code></td></tr><tr><td id="L4189" class="css-a4x74f"><span>4189</span></td><td id="LC4189" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> dehancedValues = adm.dehanceValues_(adm.values_);
</code></td></tr><tr><td id="L4190" class="css-a4x74f"><span>4190</span></td><td id="LC4190" class="css-1dcdqdg"><code>        <span class="code-comment">// #2432 - reduce behavior depends on arguments.length</span>
</code></td></tr><tr><td id="L4191" class="css-a4x74f"><span>4191</span></td><td id="LC4191" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> callback = <span class="code-built_in">arguments</span>[<span class="code-number">0</span>];
</code></td></tr><tr><td id="L4192" class="css-a4x74f"><span>4192</span></td><td id="LC4192" class="css-1dcdqdg"><code>        <span class="code-built_in">arguments</span>[<span class="code-number">0</span>] = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">accumulator, currentValue, index</span>) </span>{
</code></td></tr><tr><td id="L4193" class="css-a4x74f"><span>4193</span></td><td id="LC4193" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> callback(accumulator, currentValue, index, _this3);
</code></td></tr><tr><td id="L4194" class="css-a4x74f"><span>4194</span></td><td id="LC4194" class="css-1dcdqdg"><code>        };
</code></td></tr><tr><td id="L4195" class="css-a4x74f"><span>4195</span></td><td id="LC4195" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> dehancedValues[funcName].apply(dehancedValues, <span class="code-built_in">arguments</span>);
</code></td></tr><tr><td id="L4196" class="css-a4x74f"><span>4196</span></td><td id="LC4196" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4197" class="css-a4x74f"><span>4197</span></td><td id="LC4197" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L4198" class="css-a4x74f"><span>4198</span></td><td id="LC4198" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> isObservableArrayAdministration = <span class="code-comment">/*#__PURE__*/</span>createInstanceofPredicate(<span class="code-string">"ObservableArrayAdministration"</span>, ObservableArrayAdministration);
</code></td></tr><tr><td id="L4199" class="css-a4x74f"><span>4199</span></td><td id="LC4199" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isObservableArray</span>(<span class="code-params">thing</span>) </span>{
</code></td></tr><tr><td id="L4200" class="css-a4x74f"><span>4200</span></td><td id="LC4200" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> isObject(thing) &amp;&amp; isObservableArrayAdministration(thing[$mobx]);
</code></td></tr><tr><td id="L4201" class="css-a4x74f"><span>4201</span></td><td id="LC4201" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L4202" class="css-a4x74f"><span>4202</span></td><td id="LC4202" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4203" class="css-a4x74f"><span>4203</span></td><td id="LC4203" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> ObservableMapMarker = {};
</code></td></tr><tr><td id="L4204" class="css-a4x74f"><span>4204</span></td><td id="LC4204" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> ADD = <span class="code-string">"add"</span>;
</code></td></tr><tr><td id="L4205" class="css-a4x74f"><span>4205</span></td><td id="LC4205" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> DELETE = <span class="code-string">"delete"</span>;
</code></td></tr><tr><td id="L4206" class="css-a4x74f"><span>4206</span></td><td id="LC4206" class="css-1dcdqdg"><code>    <span class="code-comment">// just extend Map? See also https://gist.github.com/nestharus/13b4d74f2ef4a2f4357dbd3fc23c1e54</span>
</code></td></tr><tr><td id="L4207" class="css-a4x74f"><span>4207</span></td><td id="LC4207" class="css-1dcdqdg"><code>    <span class="code-comment">// But: https://github.com/mobxjs/mobx/issues/1556</span>
</code></td></tr><tr><td id="L4208" class="css-a4x74f"><span>4208</span></td><td id="LC4208" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> ObservableMap = <span class="code-comment">/*#__PURE__*/</span><span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4209" class="css-a4x74f"><span>4209</span></td><td id="LC4209" class="css-1dcdqdg"><code>      <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ObservableMap</span>(<span class="code-params">initialData, enhancer_, name_</span>) </span>{
</code></td></tr><tr><td id="L4210" class="css-a4x74f"><span>4210</span></td><td id="LC4210" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4211" class="css-a4x74f"><span>4211</span></td><td id="LC4211" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (enhancer_ === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L4212" class="css-a4x74f"><span>4212</span></td><td id="LC4212" class="css-1dcdqdg"><code>          enhancer_ = deepEnhancer;
</code></td></tr><tr><td id="L4213" class="css-a4x74f"><span>4213</span></td><td id="LC4213" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4214" class="css-a4x74f"><span>4214</span></td><td id="LC4214" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (name_ === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L4215" class="css-a4x74f"><span>4215</span></td><td id="LC4215" class="css-1dcdqdg"><code>          name_ =  <span class="code-string">"ObservableMap@"</span> + getNextId() ;
</code></td></tr><tr><td id="L4216" class="css-a4x74f"><span>4216</span></td><td id="LC4216" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4217" class="css-a4x74f"><span>4217</span></td><td id="LC4217" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.enhancer_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4218" class="css-a4x74f"><span>4218</span></td><td id="LC4218" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.name_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4219" class="css-a4x74f"><span>4219</span></td><td id="LC4219" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>[$mobx] = ObservableMapMarker;
</code></td></tr><tr><td id="L4220" class="css-a4x74f"><span>4220</span></td><td id="LC4220" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.data_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4221" class="css-a4x74f"><span>4221</span></td><td id="LC4221" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.hasMap_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4222" class="css-a4x74f"><span>4222</span></td><td id="LC4222" class="css-1dcdqdg"><code>        <span class="code-comment">// hasMap, not hashMap &gt;-).</span>
</code></td></tr><tr><td id="L4223" class="css-a4x74f"><span>4223</span></td><td id="LC4223" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.keysAtom_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4224" class="css-a4x74f"><span>4224</span></td><td id="LC4224" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.interceptors_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4225" class="css-a4x74f"><span>4225</span></td><td id="LC4225" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.changeListeners_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4226" class="css-a4x74f"><span>4226</span></td><td id="LC4226" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.dehancer = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4227" class="css-a4x74f"><span>4227</span></td><td id="LC4227" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.enhancer_ = enhancer_;
</code></td></tr><tr><td id="L4228" class="css-a4x74f"><span>4228</span></td><td id="LC4228" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.name_ = name_;
</code></td></tr><tr><td id="L4229" class="css-a4x74f"><span>4229</span></td><td id="LC4229" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!isFunction(<span class="code-built_in">Map</span>)) {
</code></td></tr><tr><td id="L4230" class="css-a4x74f"><span>4230</span></td><td id="LC4230" class="css-1dcdqdg"><code>          die(<span class="code-number">18</span>);
</code></td></tr><tr><td id="L4231" class="css-a4x74f"><span>4231</span></td><td id="LC4231" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4232" class="css-a4x74f"><span>4232</span></td><td id="LC4232" class="css-1dcdqdg"><code>        initObservable(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4233" class="css-a4x74f"><span>4233</span></td><td id="LC4233" class="css-1dcdqdg"><code>          _this.keysAtom_ = createAtom(<span class="code-string">"development"</span> !== <span class="code-string">"production"</span> ? _this.name_ + <span class="code-string">".keys()"</span> : <span class="code-string">"ObservableMap.keys()"</span>);
</code></td></tr><tr><td id="L4234" class="css-a4x74f"><span>4234</span></td><td id="LC4234" class="css-1dcdqdg"><code>          _this.data_ = <span class="code-keyword">new</span> <span class="code-built_in">Map</span>();
</code></td></tr><tr><td id="L4235" class="css-a4x74f"><span>4235</span></td><td id="LC4235" class="css-1dcdqdg"><code>          _this.hasMap_ = <span class="code-keyword">new</span> <span class="code-built_in">Map</span>();
</code></td></tr><tr><td id="L4236" class="css-a4x74f"><span>4236</span></td><td id="LC4236" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (initialData) {
</code></td></tr><tr><td id="L4237" class="css-a4x74f"><span>4237</span></td><td id="LC4237" class="css-1dcdqdg"><code>            _this.merge(initialData);
</code></td></tr><tr><td id="L4238" class="css-a4x74f"><span>4238</span></td><td id="LC4238" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4239" class="css-a4x74f"><span>4239</span></td><td id="LC4239" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L4240" class="css-a4x74f"><span>4240</span></td><td id="LC4240" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L4241" class="css-a4x74f"><span>4241</span></td><td id="LC4241" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _proto = ObservableMap.prototype;
</code></td></tr><tr><td id="L4242" class="css-a4x74f"><span>4242</span></td><td id="LC4242" class="css-1dcdqdg"><code>      _proto.has_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">has_</span>(<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L4243" class="css-a4x74f"><span>4243</span></td><td id="LC4243" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.data_.has(key);
</code></td></tr><tr><td id="L4244" class="css-a4x74f"><span>4244</span></td><td id="LC4244" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4245" class="css-a4x74f"><span>4245</span></td><td id="LC4245" class="css-1dcdqdg"><code>      _proto.has = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">has</span>(<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L4246" class="css-a4x74f"><span>4246</span></td><td id="LC4246" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this2 = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4247" class="css-a4x74f"><span>4247</span></td><td id="LC4247" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!globalState.trackingDerivation) {
</code></td></tr><tr><td id="L4248" class="css-a4x74f"><span>4248</span></td><td id="LC4248" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-keyword">this</span>.has_(key);
</code></td></tr><tr><td id="L4249" class="css-a4x74f"><span>4249</span></td><td id="LC4249" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4250" class="css-a4x74f"><span>4250</span></td><td id="LC4250" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> entry = <span class="code-keyword">this</span>.hasMap_.get(key);
</code></td></tr><tr><td id="L4251" class="css-a4x74f"><span>4251</span></td><td id="LC4251" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!entry) {
</code></td></tr><tr><td id="L4252" class="css-a4x74f"><span>4252</span></td><td id="LC4252" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> newEntry = entry = <span class="code-keyword">new</span> ObservableValue(<span class="code-keyword">this</span>.has_(key), referenceEnhancer,  <span class="code-keyword">this</span>.name_ + <span class="code-string">"."</span> + stringifyKey(key) + <span class="code-string">"?"</span> , <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L4253" class="css-a4x74f"><span>4253</span></td><td id="LC4253" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.hasMap_.set(key, newEntry);
</code></td></tr><tr><td id="L4254" class="css-a4x74f"><span>4254</span></td><td id="LC4254" class="css-1dcdqdg"><code>          onBecomeUnobserved(newEntry, <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4255" class="css-a4x74f"><span>4255</span></td><td id="LC4255" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> _this2.hasMap_[<span class="code-string">"delete"</span>](key);
</code></td></tr><tr><td id="L4256" class="css-a4x74f"><span>4256</span></td><td id="LC4256" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L4257" class="css-a4x74f"><span>4257</span></td><td id="LC4257" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4258" class="css-a4x74f"><span>4258</span></td><td id="LC4258" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> entry.get();
</code></td></tr><tr><td id="L4259" class="css-a4x74f"><span>4259</span></td><td id="LC4259" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4260" class="css-a4x74f"><span>4260</span></td><td id="LC4260" class="css-1dcdqdg"><code>      _proto.set = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">set</span>(<span class="code-params">key, value</span>) </span>{
</code></td></tr><tr><td id="L4261" class="css-a4x74f"><span>4261</span></td><td id="LC4261" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> hasKey = <span class="code-keyword">this</span>.has_(key);
</code></td></tr><tr><td id="L4262" class="css-a4x74f"><span>4262</span></td><td id="LC4262" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (hasInterceptors(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L4263" class="css-a4x74f"><span>4263</span></td><td id="LC4263" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> change = interceptChange(<span class="code-keyword">this</span>, {
</code></td></tr><tr><td id="L4264" class="css-a4x74f"><span>4264</span></td><td id="LC4264" class="css-1dcdqdg"><code>            type: hasKey ? UPDATE : ADD,
</code></td></tr><tr><td id="L4265" class="css-a4x74f"><span>4265</span></td><td id="LC4265" class="css-1dcdqdg"><code>            object: <span class="code-keyword">this</span>,
</code></td></tr><tr><td id="L4266" class="css-a4x74f"><span>4266</span></td><td id="LC4266" class="css-1dcdqdg"><code>            newValue: value,
</code></td></tr><tr><td id="L4267" class="css-a4x74f"><span>4267</span></td><td id="LC4267" class="css-1dcdqdg"><code>            name: key
</code></td></tr><tr><td id="L4268" class="css-a4x74f"><span>4268</span></td><td id="LC4268" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L4269" class="css-a4x74f"><span>4269</span></td><td id="LC4269" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!change) {
</code></td></tr><tr><td id="L4270" class="css-a4x74f"><span>4270</span></td><td id="LC4270" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4271" class="css-a4x74f"><span>4271</span></td><td id="LC4271" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4272" class="css-a4x74f"><span>4272</span></td><td id="LC4272" class="css-1dcdqdg"><code>          value = change.newValue;
</code></td></tr><tr><td id="L4273" class="css-a4x74f"><span>4273</span></td><td id="LC4273" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4274" class="css-a4x74f"><span>4274</span></td><td id="LC4274" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (hasKey) {
</code></td></tr><tr><td id="L4275" class="css-a4x74f"><span>4275</span></td><td id="LC4275" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.updateValue_(key, value);
</code></td></tr><tr><td id="L4276" class="css-a4x74f"><span>4276</span></td><td id="LC4276" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L4277" class="css-a4x74f"><span>4277</span></td><td id="LC4277" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.addValue_(key, value);
</code></td></tr><tr><td id="L4278" class="css-a4x74f"><span>4278</span></td><td id="LC4278" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4279" class="css-a4x74f"><span>4279</span></td><td id="LC4279" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4280" class="css-a4x74f"><span>4280</span></td><td id="LC4280" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4281" class="css-a4x74f"><span>4281</span></td><td id="LC4281" class="css-1dcdqdg"><code>      _proto[<span class="code-string">"delete"</span>] = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_delete</span>(<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L4282" class="css-a4x74f"><span>4282</span></td><td id="LC4282" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this3 = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4283" class="css-a4x74f"><span>4283</span></td><td id="LC4283" class="css-1dcdqdg"><code>        checkIfStateModificationsAreAllowed(<span class="code-keyword">this</span>.keysAtom_);
</code></td></tr><tr><td id="L4284" class="css-a4x74f"><span>4284</span></td><td id="LC4284" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (hasInterceptors(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L4285" class="css-a4x74f"><span>4285</span></td><td id="LC4285" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> change = interceptChange(<span class="code-keyword">this</span>, {
</code></td></tr><tr><td id="L4286" class="css-a4x74f"><span>4286</span></td><td id="LC4286" class="css-1dcdqdg"><code>            type: DELETE,
</code></td></tr><tr><td id="L4287" class="css-a4x74f"><span>4287</span></td><td id="LC4287" class="css-1dcdqdg"><code>            object: <span class="code-keyword">this</span>,
</code></td></tr><tr><td id="L4288" class="css-a4x74f"><span>4288</span></td><td id="LC4288" class="css-1dcdqdg"><code>            name: key
</code></td></tr><tr><td id="L4289" class="css-a4x74f"><span>4289</span></td><td id="LC4289" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L4290" class="css-a4x74f"><span>4290</span></td><td id="LC4290" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!change) {
</code></td></tr><tr><td id="L4291" class="css-a4x74f"><span>4291</span></td><td id="LC4291" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L4292" class="css-a4x74f"><span>4292</span></td><td id="LC4292" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4293" class="css-a4x74f"><span>4293</span></td><td id="LC4293" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4294" class="css-a4x74f"><span>4294</span></td><td id="LC4294" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.has_(key)) {
</code></td></tr><tr><td id="L4295" class="css-a4x74f"><span>4295</span></td><td id="LC4295" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> notifySpy = isSpyEnabled();
</code></td></tr><tr><td id="L4296" class="css-a4x74f"><span>4296</span></td><td id="LC4296" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> notify = hasListeners(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4297" class="css-a4x74f"><span>4297</span></td><td id="LC4297" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> _change = notify || notifySpy ? {
</code></td></tr><tr><td id="L4298" class="css-a4x74f"><span>4298</span></td><td id="LC4298" class="css-1dcdqdg"><code>            observableKind: <span class="code-string">"map"</span>,
</code></td></tr><tr><td id="L4299" class="css-a4x74f"><span>4299</span></td><td id="LC4299" class="css-1dcdqdg"><code>            debugObjectName: <span class="code-keyword">this</span>.name_,
</code></td></tr><tr><td id="L4300" class="css-a4x74f"><span>4300</span></td><td id="LC4300" class="css-1dcdqdg"><code>            type: DELETE,
</code></td></tr><tr><td id="L4301" class="css-a4x74f"><span>4301</span></td><td id="LC4301" class="css-1dcdqdg"><code>            object: <span class="code-keyword">this</span>,
</code></td></tr><tr><td id="L4302" class="css-a4x74f"><span>4302</span></td><td id="LC4302" class="css-1dcdqdg"><code>            oldValue: <span class="code-keyword">this</span>.data_.get(key).value_,
</code></td></tr><tr><td id="L4303" class="css-a4x74f"><span>4303</span></td><td id="LC4303" class="css-1dcdqdg"><code>            name: key
</code></td></tr><tr><td id="L4304" class="css-a4x74f"><span>4304</span></td><td id="LC4304" class="css-1dcdqdg"><code>          } : <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L4305" class="css-a4x74f"><span>4305</span></td><td id="LC4305" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> ( notifySpy) {
</code></td></tr><tr><td id="L4306" class="css-a4x74f"><span>4306</span></td><td id="LC4306" class="css-1dcdqdg"><code>            spyReportStart(_change);
</code></td></tr><tr><td id="L4307" class="css-a4x74f"><span>4307</span></td><td id="LC4307" class="css-1dcdqdg"><code>          } <span class="code-comment">// TODO fix type</span>
</code></td></tr><tr><td id="L4308" class="css-a4x74f"><span>4308</span></td><td id="LC4308" class="css-1dcdqdg"><code>          transaction(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4309" class="css-a4x74f"><span>4309</span></td><td id="LC4309" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> _this3$hasMap_$<span class="code-keyword">get</span>;
</code></td></tr><tr><td id="L4310" class="css-a4x74f"><span>4310</span></td><td id="LC4310" class="css-1dcdqdg"><code>            _this3.keysAtom_.reportChanged();
</code></td></tr><tr><td id="L4311" class="css-a4x74f"><span>4311</span></td><td id="LC4311" class="css-1dcdqdg"><code>            (_this3$hasMap_$<span class="code-keyword">get</span> = _this3.hasMap_.<span class="code-keyword">get</span>(key)) == null || _this3$hasMap_$<span class="code-keyword">get</span>.setNewValue_(false);
</code></td></tr><tr><td id="L4312" class="css-a4x74f"><span>4312</span></td><td id="LC4312" class="css-1dcdqdg"><code>            var observable = _this3.data_.<span class="code-keyword">get</span>(key);
</code></td></tr><tr><td id="L4313" class="css-a4x74f"><span>4313</span></td><td id="LC4313" class="css-1dcdqdg"><code>            observable.setNewValue_(undefined);
</code></td></tr><tr><td id="L4314" class="css-a4x74f"><span>4314</span></td><td id="LC4314" class="css-1dcdqdg"><code>            _this3.data_["delete"](key);
</code></td></tr><tr><td id="L4315" class="css-a4x74f"><span>4315</span></td><td id="LC4315" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L4316" class="css-a4x74f"><span>4316</span></td><td id="LC4316" class="css-1dcdqdg"><code>          if (notify) {
</code></td></tr><tr><td id="L4317" class="css-a4x74f"><span>4317</span></td><td id="LC4317" class="css-1dcdqdg"><code>            notifyListeners(<span class="code-keyword">this</span>, _change);
</code></td></tr><tr><td id="L4318" class="css-a4x74f"><span>4318</span></td><td id="LC4318" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4319" class="css-a4x74f"><span>4319</span></td><td id="LC4319" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> ( notifySpy) {
</code></td></tr><tr><td id="L4320" class="css-a4x74f"><span>4320</span></td><td id="LC4320" class="css-1dcdqdg"><code>            spyReportEnd();
</code></td></tr><tr><td id="L4321" class="css-a4x74f"><span>4321</span></td><td id="LC4321" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4322" class="css-a4x74f"><span>4322</span></td><td id="LC4322" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L4323" class="css-a4x74f"><span>4323</span></td><td id="LC4323" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4324" class="css-a4x74f"><span>4324</span></td><td id="LC4324" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L4325" class="css-a4x74f"><span>4325</span></td><td id="LC4325" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4326" class="css-a4x74f"><span>4326</span></td><td id="LC4326" class="css-1dcdqdg"><code>      _proto.updateValue_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">updateValue_</span>(<span class="code-params">key, newValue</span>) </span>{
</code></td></tr><tr><td id="L4327" class="css-a4x74f"><span>4327</span></td><td id="LC4327" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> observable = <span class="code-keyword">this</span>.data_.get(key);
</code></td></tr><tr><td id="L4328" class="css-a4x74f"><span>4328</span></td><td id="LC4328" class="css-1dcdqdg"><code>        newValue = observable.prepareNewValue_(newValue);
</code></td></tr><tr><td id="L4329" class="css-a4x74f"><span>4329</span></td><td id="LC4329" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (newValue !== globalState.UNCHANGED) {
</code></td></tr><tr><td id="L4330" class="css-a4x74f"><span>4330</span></td><td id="LC4330" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> notifySpy = isSpyEnabled();
</code></td></tr><tr><td id="L4331" class="css-a4x74f"><span>4331</span></td><td id="LC4331" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> notify = hasListeners(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4332" class="css-a4x74f"><span>4332</span></td><td id="LC4332" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> change = notify || notifySpy ? {
</code></td></tr><tr><td id="L4333" class="css-a4x74f"><span>4333</span></td><td id="LC4333" class="css-1dcdqdg"><code>            observableKind: <span class="code-string">"map"</span>,
</code></td></tr><tr><td id="L4334" class="css-a4x74f"><span>4334</span></td><td id="LC4334" class="css-1dcdqdg"><code>            debugObjectName: <span class="code-keyword">this</span>.name_,
</code></td></tr><tr><td id="L4335" class="css-a4x74f"><span>4335</span></td><td id="LC4335" class="css-1dcdqdg"><code>            type: UPDATE,
</code></td></tr><tr><td id="L4336" class="css-a4x74f"><span>4336</span></td><td id="LC4336" class="css-1dcdqdg"><code>            object: <span class="code-keyword">this</span>,
</code></td></tr><tr><td id="L4337" class="css-a4x74f"><span>4337</span></td><td id="LC4337" class="css-1dcdqdg"><code>            oldValue: observable.value_,
</code></td></tr><tr><td id="L4338" class="css-a4x74f"><span>4338</span></td><td id="LC4338" class="css-1dcdqdg"><code>            name: key,
</code></td></tr><tr><td id="L4339" class="css-a4x74f"><span>4339</span></td><td id="LC4339" class="css-1dcdqdg"><code>            newValue: newValue
</code></td></tr><tr><td id="L4340" class="css-a4x74f"><span>4340</span></td><td id="LC4340" class="css-1dcdqdg"><code>          } : <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L4341" class="css-a4x74f"><span>4341</span></td><td id="LC4341" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> ( notifySpy) {
</code></td></tr><tr><td id="L4342" class="css-a4x74f"><span>4342</span></td><td id="LC4342" class="css-1dcdqdg"><code>            spyReportStart(change);
</code></td></tr><tr><td id="L4343" class="css-a4x74f"><span>4343</span></td><td id="LC4343" class="css-1dcdqdg"><code>          } <span class="code-comment">// TODO fix type</span>
</code></td></tr><tr><td id="L4344" class="css-a4x74f"><span>4344</span></td><td id="LC4344" class="css-1dcdqdg"><code>          observable.setNewValue_(newValue);
</code></td></tr><tr><td id="L4345" class="css-a4x74f"><span>4345</span></td><td id="LC4345" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (notify) {
</code></td></tr><tr><td id="L4346" class="css-a4x74f"><span>4346</span></td><td id="LC4346" class="css-1dcdqdg"><code>            notifyListeners(<span class="code-keyword">this</span>, change);
</code></td></tr><tr><td id="L4347" class="css-a4x74f"><span>4347</span></td><td id="LC4347" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4348" class="css-a4x74f"><span>4348</span></td><td id="LC4348" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> ( notifySpy) {
</code></td></tr><tr><td id="L4349" class="css-a4x74f"><span>4349</span></td><td id="LC4349" class="css-1dcdqdg"><code>            spyReportEnd();
</code></td></tr><tr><td id="L4350" class="css-a4x74f"><span>4350</span></td><td id="LC4350" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4351" class="css-a4x74f"><span>4351</span></td><td id="LC4351" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4352" class="css-a4x74f"><span>4352</span></td><td id="LC4352" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4353" class="css-a4x74f"><span>4353</span></td><td id="LC4353" class="css-1dcdqdg"><code>      _proto.addValue_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">addValue_</span>(<span class="code-params">key, newValue</span>) </span>{
</code></td></tr><tr><td id="L4354" class="css-a4x74f"><span>4354</span></td><td id="LC4354" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this4 = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4355" class="css-a4x74f"><span>4355</span></td><td id="LC4355" class="css-1dcdqdg"><code>        checkIfStateModificationsAreAllowed(<span class="code-keyword">this</span>.keysAtom_);
</code></td></tr><tr><td id="L4356" class="css-a4x74f"><span>4356</span></td><td id="LC4356" class="css-1dcdqdg"><code>        transaction(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4357" class="css-a4x74f"><span>4357</span></td><td id="LC4357" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> _this4$hasMap_$<span class="code-keyword">get</span>;
</code></td></tr><tr><td id="L4358" class="css-a4x74f"><span>4358</span></td><td id="LC4358" class="css-1dcdqdg"><code>          var observable = new ObservableValue(newValue, _this4.enhancer_,  _this4.name_ + "." + stringifyKey(key) , false);
</code></td></tr><tr><td id="L4359" class="css-a4x74f"><span>4359</span></td><td id="LC4359" class="css-1dcdqdg"><code>          _this4.data_.<span class="code-keyword">set</span>(key, observable);
</code></td></tr><tr><td id="L4360" class="css-a4x74f"><span>4360</span></td><td id="LC4360" class="css-1dcdqdg"><code>          newValue = observable.value_; // value might have been changed
</code></td></tr><tr><td id="L4361" class="css-a4x74f"><span>4361</span></td><td id="LC4361" class="css-1dcdqdg"><code>          (_this4$hasMap_$<span class="code-keyword">get</span> = _this4.hasMap_.<span class="code-keyword">get</span>(key)) == null || _this4$hasMap_$<span class="code-keyword">get</span>.setNewValue_(true);
</code></td></tr><tr><td id="L4362" class="css-a4x74f"><span>4362</span></td><td id="LC4362" class="css-1dcdqdg"><code>          _this4.keysAtom_.reportChanged();
</code></td></tr><tr><td id="L4363" class="css-a4x74f"><span>4363</span></td><td id="LC4363" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L4364" class="css-a4x74f"><span>4364</span></td><td id="LC4364" class="css-1dcdqdg"><code>        var notifySpy = isSpyEnabled();
</code></td></tr><tr><td id="L4365" class="css-a4x74f"><span>4365</span></td><td id="LC4365" class="css-1dcdqdg"><code>        var notify = hasListeners(this);
</code></td></tr><tr><td id="L4366" class="css-a4x74f"><span>4366</span></td><td id="LC4366" class="css-1dcdqdg"><code>        var change = notify || notifySpy ? {
</code></td></tr><tr><td id="L4367" class="css-a4x74f"><span>4367</span></td><td id="LC4367" class="css-1dcdqdg"><code>          observableKind: <span class="code-string">"map"</span>,
</code></td></tr><tr><td id="L4368" class="css-a4x74f"><span>4368</span></td><td id="LC4368" class="css-1dcdqdg"><code>          debugObjectName: <span class="code-keyword">this</span>.name_,
</code></td></tr><tr><td id="L4369" class="css-a4x74f"><span>4369</span></td><td id="LC4369" class="css-1dcdqdg"><code>          type: ADD,
</code></td></tr><tr><td id="L4370" class="css-a4x74f"><span>4370</span></td><td id="LC4370" class="css-1dcdqdg"><code>          object: <span class="code-keyword">this</span>,
</code></td></tr><tr><td id="L4371" class="css-a4x74f"><span>4371</span></td><td id="LC4371" class="css-1dcdqdg"><code>          name: key,
</code></td></tr><tr><td id="L4372" class="css-a4x74f"><span>4372</span></td><td id="LC4372" class="css-1dcdqdg"><code>          newValue: newValue
</code></td></tr><tr><td id="L4373" class="css-a4x74f"><span>4373</span></td><td id="LC4373" class="css-1dcdqdg"><code>        } : <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L4374" class="css-a4x74f"><span>4374</span></td><td id="LC4374" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( notifySpy) {
</code></td></tr><tr><td id="L4375" class="css-a4x74f"><span>4375</span></td><td id="LC4375" class="css-1dcdqdg"><code>          spyReportStart(change);
</code></td></tr><tr><td id="L4376" class="css-a4x74f"><span>4376</span></td><td id="LC4376" class="css-1dcdqdg"><code>        } <span class="code-comment">// TODO fix type</span>
</code></td></tr><tr><td id="L4377" class="css-a4x74f"><span>4377</span></td><td id="LC4377" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (notify) {
</code></td></tr><tr><td id="L4378" class="css-a4x74f"><span>4378</span></td><td id="LC4378" class="css-1dcdqdg"><code>          notifyListeners(<span class="code-keyword">this</span>, change);
</code></td></tr><tr><td id="L4379" class="css-a4x74f"><span>4379</span></td><td id="LC4379" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4380" class="css-a4x74f"><span>4380</span></td><td id="LC4380" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( notifySpy) {
</code></td></tr><tr><td id="L4381" class="css-a4x74f"><span>4381</span></td><td id="LC4381" class="css-1dcdqdg"><code>          spyReportEnd();
</code></td></tr><tr><td id="L4382" class="css-a4x74f"><span>4382</span></td><td id="LC4382" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4383" class="css-a4x74f"><span>4383</span></td><td id="LC4383" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4384" class="css-a4x74f"><span>4384</span></td><td id="LC4384" class="css-1dcdqdg"><code>      _proto.get = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">get</span>(<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L4385" class="css-a4x74f"><span>4385</span></td><td id="LC4385" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.has(key)) {
</code></td></tr><tr><td id="L4386" class="css-a4x74f"><span>4386</span></td><td id="LC4386" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-keyword">this</span>.dehanceValue_(<span class="code-keyword">this</span>.data_.get(key).get());
</code></td></tr><tr><td id="L4387" class="css-a4x74f"><span>4387</span></td><td id="LC4387" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4388" class="css-a4x74f"><span>4388</span></td><td id="LC4388" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.dehanceValue_(<span class="code-literal">undefined</span>);
</code></td></tr><tr><td id="L4389" class="css-a4x74f"><span>4389</span></td><td id="LC4389" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4390" class="css-a4x74f"><span>4390</span></td><td id="LC4390" class="css-1dcdqdg"><code>      _proto.dehanceValue_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">dehanceValue_</span>(<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L4391" class="css-a4x74f"><span>4391</span></td><td id="LC4391" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.dehancer !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L4392" class="css-a4x74f"><span>4392</span></td><td id="LC4392" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-keyword">this</span>.dehancer(value);
</code></td></tr><tr><td id="L4393" class="css-a4x74f"><span>4393</span></td><td id="LC4393" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4394" class="css-a4x74f"><span>4394</span></td><td id="LC4394" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> value;
</code></td></tr><tr><td id="L4395" class="css-a4x74f"><span>4395</span></td><td id="LC4395" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4396" class="css-a4x74f"><span>4396</span></td><td id="LC4396" class="css-1dcdqdg"><code>      _proto.keys = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">keys</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4397" class="css-a4x74f"><span>4397</span></td><td id="LC4397" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.keysAtom_.reportObserved();
</code></td></tr><tr><td id="L4398" class="css-a4x74f"><span>4398</span></td><td id="LC4398" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.data_.keys();
</code></td></tr><tr><td id="L4399" class="css-a4x74f"><span>4399</span></td><td id="LC4399" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4400" class="css-a4x74f"><span>4400</span></td><td id="LC4400" class="css-1dcdqdg"><code>      _proto.values = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">values</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4401" class="css-a4x74f"><span>4401</span></td><td id="LC4401" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> self = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4402" class="css-a4x74f"><span>4402</span></td><td id="LC4402" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> keys = <span class="code-keyword">this</span>.keys();
</code></td></tr><tr><td id="L4403" class="css-a4x74f"><span>4403</span></td><td id="LC4403" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> makeIterableForMap({
</code></td></tr><tr><td id="L4404" class="css-a4x74f"><span>4404</span></td><td id="LC4404" class="css-1dcdqdg"><code>          next: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">next</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4405" class="css-a4x74f"><span>4405</span></td><td id="LC4405" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> _keys$next = keys.next(),
</code></td></tr><tr><td id="L4406" class="css-a4x74f"><span>4406</span></td><td id="LC4406" class="css-1dcdqdg"><code>              done = _keys$next.done,
</code></td></tr><tr><td id="L4407" class="css-a4x74f"><span>4407</span></td><td id="LC4407" class="css-1dcdqdg"><code>              value = _keys$next.value;
</code></td></tr><tr><td id="L4408" class="css-a4x74f"><span>4408</span></td><td id="LC4408" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> {
</code></td></tr><tr><td id="L4409" class="css-a4x74f"><span>4409</span></td><td id="LC4409" class="css-1dcdqdg"><code>              done: done,
</code></td></tr><tr><td id="L4410" class="css-a4x74f"><span>4410</span></td><td id="LC4410" class="css-1dcdqdg"><code>              value: done ? <span class="code-literal">undefined</span> : self.get(value)
</code></td></tr><tr><td id="L4411" class="css-a4x74f"><span>4411</span></td><td id="LC4411" class="css-1dcdqdg"><code>            };
</code></td></tr><tr><td id="L4412" class="css-a4x74f"><span>4412</span></td><td id="LC4412" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4413" class="css-a4x74f"><span>4413</span></td><td id="LC4413" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L4414" class="css-a4x74f"><span>4414</span></td><td id="LC4414" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4415" class="css-a4x74f"><span>4415</span></td><td id="LC4415" class="css-1dcdqdg"><code>      _proto.entries = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">entries</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4416" class="css-a4x74f"><span>4416</span></td><td id="LC4416" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> self = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4417" class="css-a4x74f"><span>4417</span></td><td id="LC4417" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> keys = <span class="code-keyword">this</span>.keys();
</code></td></tr><tr><td id="L4418" class="css-a4x74f"><span>4418</span></td><td id="LC4418" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> makeIterableForMap({
</code></td></tr><tr><td id="L4419" class="css-a4x74f"><span>4419</span></td><td id="LC4419" class="css-1dcdqdg"><code>          next: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">next</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4420" class="css-a4x74f"><span>4420</span></td><td id="LC4420" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> _keys$next2 = keys.next(),
</code></td></tr><tr><td id="L4421" class="css-a4x74f"><span>4421</span></td><td id="LC4421" class="css-1dcdqdg"><code>              done = _keys$next2.done,
</code></td></tr><tr><td id="L4422" class="css-a4x74f"><span>4422</span></td><td id="LC4422" class="css-1dcdqdg"><code>              value = _keys$next2.value;
</code></td></tr><tr><td id="L4423" class="css-a4x74f"><span>4423</span></td><td id="LC4423" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> {
</code></td></tr><tr><td id="L4424" class="css-a4x74f"><span>4424</span></td><td id="LC4424" class="css-1dcdqdg"><code>              done: done,
</code></td></tr><tr><td id="L4425" class="css-a4x74f"><span>4425</span></td><td id="LC4425" class="css-1dcdqdg"><code>              value: done ? <span class="code-literal">undefined</span> : [value, self.get(value)]
</code></td></tr><tr><td id="L4426" class="css-a4x74f"><span>4426</span></td><td id="LC4426" class="css-1dcdqdg"><code>            };
</code></td></tr><tr><td id="L4427" class="css-a4x74f"><span>4427</span></td><td id="LC4427" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4428" class="css-a4x74f"><span>4428</span></td><td id="LC4428" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L4429" class="css-a4x74f"><span>4429</span></td><td id="LC4429" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4430" class="css-a4x74f"><span>4430</span></td><td id="LC4430" class="css-1dcdqdg"><code>      _proto[<span class="code-built_in">Symbol</span>.iterator] = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4431" class="css-a4x74f"><span>4431</span></td><td id="LC4431" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.entries();
</code></td></tr><tr><td id="L4432" class="css-a4x74f"><span>4432</span></td><td id="LC4432" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4433" class="css-a4x74f"><span>4433</span></td><td id="LC4433" class="css-1dcdqdg"><code>      _proto.forEach = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">forEach</span>(<span class="code-params">callback, thisArg</span>) </span>{
</code></td></tr><tr><td id="L4434" class="css-a4x74f"><span>4434</span></td><td id="LC4434" class="css-1dcdqdg"><code>        <span class="code-keyword">for</span> (<span class="code-keyword">var</span> _iterator = _createForOfIteratorHelperLoose(<span class="code-keyword">this</span>), _step; !(_step = _iterator()).done;) {
</code></td></tr><tr><td id="L4435" class="css-a4x74f"><span>4435</span></td><td id="LC4435" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> _step$value = _step.value,
</code></td></tr><tr><td id="L4436" class="css-a4x74f"><span>4436</span></td><td id="LC4436" class="css-1dcdqdg"><code>            key = _step$value[<span class="code-number">0</span>],
</code></td></tr><tr><td id="L4437" class="css-a4x74f"><span>4437</span></td><td id="LC4437" class="css-1dcdqdg"><code>            value = _step$value[<span class="code-number">1</span>];
</code></td></tr><tr><td id="L4438" class="css-a4x74f"><span>4438</span></td><td id="LC4438" class="css-1dcdqdg"><code>          callback.call(thisArg, value, key, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4439" class="css-a4x74f"><span>4439</span></td><td id="LC4439" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4440" class="css-a4x74f"><span>4440</span></td><td id="LC4440" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L4441" class="css-a4x74f"><span>4441</span></td><td id="LC4441" class="css-1dcdqdg"><code>      <span class="code-comment">/** Merge another object into this object, returns this. */</span>;
</code></td></tr><tr><td id="L4442" class="css-a4x74f"><span>4442</span></td><td id="LC4442" class="css-1dcdqdg"><code>      _proto.merge = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">merge</span>(<span class="code-params">other</span>) </span>{
</code></td></tr><tr><td id="L4443" class="css-a4x74f"><span>4443</span></td><td id="LC4443" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this5 = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4444" class="css-a4x74f"><span>4444</span></td><td id="LC4444" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isObservableMap(other)) {
</code></td></tr><tr><td id="L4445" class="css-a4x74f"><span>4445</span></td><td id="LC4445" class="css-1dcdqdg"><code>          other = <span class="code-keyword">new</span> <span class="code-built_in">Map</span>(other);
</code></td></tr><tr><td id="L4446" class="css-a4x74f"><span>4446</span></td><td id="LC4446" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4447" class="css-a4x74f"><span>4447</span></td><td id="LC4447" class="css-1dcdqdg"><code>        transaction(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4448" class="css-a4x74f"><span>4448</span></td><td id="LC4448" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (isPlainObject(other)) {
</code></td></tr><tr><td id="L4449" class="css-a4x74f"><span>4449</span></td><td id="LC4449" class="css-1dcdqdg"><code>            getPlainObjectKeys(other).forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L4450" class="css-a4x74f"><span>4450</span></td><td id="LC4450" class="css-1dcdqdg"><code>              <span class="code-keyword">return</span> _this5.set(key, other[key]);
</code></td></tr><tr><td id="L4451" class="css-a4x74f"><span>4451</span></td><td id="LC4451" class="css-1dcdqdg"><code>            });
</code></td></tr><tr><td id="L4452" class="css-a4x74f"><span>4452</span></td><td id="LC4452" class="css-1dcdqdg"><code>          } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (<span class="code-built_in">Array</span>.isArray(other)) {
</code></td></tr><tr><td id="L4453" class="css-a4x74f"><span>4453</span></td><td id="LC4453" class="css-1dcdqdg"><code>            other.forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">_ref</span>) </span>{
</code></td></tr><tr><td id="L4454" class="css-a4x74f"><span>4454</span></td><td id="LC4454" class="css-1dcdqdg"><code>              <span class="code-keyword">var</span> key = _ref[<span class="code-number">0</span>],
</code></td></tr><tr><td id="L4455" class="css-a4x74f"><span>4455</span></td><td id="LC4455" class="css-1dcdqdg"><code>                value = _ref[<span class="code-number">1</span>];
</code></td></tr><tr><td id="L4456" class="css-a4x74f"><span>4456</span></td><td id="LC4456" class="css-1dcdqdg"><code>              <span class="code-keyword">return</span> _this5.set(key, value);
</code></td></tr><tr><td id="L4457" class="css-a4x74f"><span>4457</span></td><td id="LC4457" class="css-1dcdqdg"><code>            });
</code></td></tr><tr><td id="L4458" class="css-a4x74f"><span>4458</span></td><td id="LC4458" class="css-1dcdqdg"><code>          } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (isES6Map(other)) {
</code></td></tr><tr><td id="L4459" class="css-a4x74f"><span>4459</span></td><td id="LC4459" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (!isPlainES6Map(other)) {
</code></td></tr><tr><td id="L4460" class="css-a4x74f"><span>4460</span></td><td id="LC4460" class="css-1dcdqdg"><code>              die(<span class="code-number">19</span>, other);
</code></td></tr><tr><td id="L4461" class="css-a4x74f"><span>4461</span></td><td id="LC4461" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L4462" class="css-a4x74f"><span>4462</span></td><td id="LC4462" class="css-1dcdqdg"><code>            other.forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">value, key</span>) </span>{
</code></td></tr><tr><td id="L4463" class="css-a4x74f"><span>4463</span></td><td id="LC4463" class="css-1dcdqdg"><code>              <span class="code-keyword">return</span> _this5.set(key, value);
</code></td></tr><tr><td id="L4464" class="css-a4x74f"><span>4464</span></td><td id="LC4464" class="css-1dcdqdg"><code>            });
</code></td></tr><tr><td id="L4465" class="css-a4x74f"><span>4465</span></td><td id="LC4465" class="css-1dcdqdg"><code>          } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (other !== <span class="code-literal">null</span> &amp;&amp; other !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L4466" class="css-a4x74f"><span>4466</span></td><td id="LC4466" class="css-1dcdqdg"><code>            die(<span class="code-number">20</span>, other);
</code></td></tr><tr><td id="L4467" class="css-a4x74f"><span>4467</span></td><td id="LC4467" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4468" class="css-a4x74f"><span>4468</span></td><td id="LC4468" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L4469" class="css-a4x74f"><span>4469</span></td><td id="LC4469" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4470" class="css-a4x74f"><span>4470</span></td><td id="LC4470" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4471" class="css-a4x74f"><span>4471</span></td><td id="LC4471" class="css-1dcdqdg"><code>      _proto.clear = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">clear</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4472" class="css-a4x74f"><span>4472</span></td><td id="LC4472" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this6 = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4473" class="css-a4x74f"><span>4473</span></td><td id="LC4473" class="css-1dcdqdg"><code>        transaction(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4474" class="css-a4x74f"><span>4474</span></td><td id="LC4474" class="css-1dcdqdg"><code>          untracked(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4475" class="css-a4x74f"><span>4475</span></td><td id="LC4475" class="css-1dcdqdg"><code>            <span class="code-keyword">for</span> (<span class="code-keyword">var</span> _iterator2 = _createForOfIteratorHelperLoose(_this6.keys()), _step2; !(_step2 = _iterator2()).done;) {
</code></td></tr><tr><td id="L4476" class="css-a4x74f"><span>4476</span></td><td id="LC4476" class="css-1dcdqdg"><code>              <span class="code-keyword">var</span> key = _step2.value;
</code></td></tr><tr><td id="L4477" class="css-a4x74f"><span>4477</span></td><td id="LC4477" class="css-1dcdqdg"><code>              _this6[<span class="code-string">"delete"</span>](key);
</code></td></tr><tr><td id="L4478" class="css-a4x74f"><span>4478</span></td><td id="LC4478" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L4479" class="css-a4x74f"><span>4479</span></td><td id="LC4479" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L4480" class="css-a4x74f"><span>4480</span></td><td id="LC4480" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L4481" class="css-a4x74f"><span>4481</span></td><td id="LC4481" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4482" class="css-a4x74f"><span>4482</span></td><td id="LC4482" class="css-1dcdqdg"><code>      _proto.replace = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">replace</span>(<span class="code-params">values</span>) </span>{
</code></td></tr><tr><td id="L4483" class="css-a4x74f"><span>4483</span></td><td id="LC4483" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this7 = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4484" class="css-a4x74f"><span>4484</span></td><td id="LC4484" class="css-1dcdqdg"><code>        <span class="code-comment">// Implementation requirements:</span>
</code></td></tr><tr><td id="L4485" class="css-a4x74f"><span>4485</span></td><td id="LC4485" class="css-1dcdqdg"><code>        <span class="code-comment">// - respect ordering of replacement map</span>
</code></td></tr><tr><td id="L4486" class="css-a4x74f"><span>4486</span></td><td id="LC4486" class="css-1dcdqdg"><code>        <span class="code-comment">// - allow interceptors to run and potentially prevent individual operations</span>
</code></td></tr><tr><td id="L4487" class="css-a4x74f"><span>4487</span></td><td id="LC4487" class="css-1dcdqdg"><code>        <span class="code-comment">// - don't recreate observables that already exist in original map (so we don't destroy existing subscriptions)</span>
</code></td></tr><tr><td id="L4488" class="css-a4x74f"><span>4488</span></td><td id="LC4488" class="css-1dcdqdg"><code>        <span class="code-comment">// - don't _keysAtom.reportChanged if the keys of resulting map are indentical (order matters!)</span>
</code></td></tr><tr><td id="L4489" class="css-a4x74f"><span>4489</span></td><td id="LC4489" class="css-1dcdqdg"><code>        <span class="code-comment">// - note that result map may differ from replacement map due to the interceptors</span>
</code></td></tr><tr><td id="L4490" class="css-a4x74f"><span>4490</span></td><td id="LC4490" class="css-1dcdqdg"><code>        transaction(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4491" class="css-a4x74f"><span>4491</span></td><td id="LC4491" class="css-1dcdqdg"><code>          <span class="code-comment">// Convert to map so we can do quick key lookups</span>
</code></td></tr><tr><td id="L4492" class="css-a4x74f"><span>4492</span></td><td id="LC4492" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> replacementMap = convertToMap(values);
</code></td></tr><tr><td id="L4493" class="css-a4x74f"><span>4493</span></td><td id="LC4493" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> orderedData = <span class="code-keyword">new</span> <span class="code-built_in">Map</span>();
</code></td></tr><tr><td id="L4494" class="css-a4x74f"><span>4494</span></td><td id="LC4494" class="css-1dcdqdg"><code>          <span class="code-comment">// Used for optimization</span>
</code></td></tr><tr><td id="L4495" class="css-a4x74f"><span>4495</span></td><td id="LC4495" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> keysReportChangedCalled = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L4496" class="css-a4x74f"><span>4496</span></td><td id="LC4496" class="css-1dcdqdg"><code>          <span class="code-comment">// Delete keys that don't exist in replacement map</span>
</code></td></tr><tr><td id="L4497" class="css-a4x74f"><span>4497</span></td><td id="LC4497" class="css-1dcdqdg"><code>          <span class="code-comment">// if the key deletion is prevented by interceptor</span>
</code></td></tr><tr><td id="L4498" class="css-a4x74f"><span>4498</span></td><td id="LC4498" class="css-1dcdqdg"><code>          <span class="code-comment">// add entry at the beginning of the result map</span>
</code></td></tr><tr><td id="L4499" class="css-a4x74f"><span>4499</span></td><td id="LC4499" class="css-1dcdqdg"><code>          <span class="code-keyword">for</span> (<span class="code-keyword">var</span> _iterator3 = _createForOfIteratorHelperLoose(_this7.data_.keys()), _step3; !(_step3 = _iterator3()).done;) {
</code></td></tr><tr><td id="L4500" class="css-a4x74f"><span>4500</span></td><td id="LC4500" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> key = _step3.value;
</code></td></tr><tr><td id="L4501" class="css-a4x74f"><span>4501</span></td><td id="LC4501" class="css-1dcdqdg"><code>            <span class="code-comment">// Concurrently iterating/deleting keys</span>
</code></td></tr><tr><td id="L4502" class="css-a4x74f"><span>4502</span></td><td id="LC4502" class="css-1dcdqdg"><code>            <span class="code-comment">// iterator should handle this correctly</span>
</code></td></tr><tr><td id="L4503" class="css-a4x74f"><span>4503</span></td><td id="LC4503" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (!replacementMap.has(key)) {
</code></td></tr><tr><td id="L4504" class="css-a4x74f"><span>4504</span></td><td id="LC4504" class="css-1dcdqdg"><code>              <span class="code-keyword">var</span> deleted = _this7[<span class="code-string">"delete"</span>](key);
</code></td></tr><tr><td id="L4505" class="css-a4x74f"><span>4505</span></td><td id="LC4505" class="css-1dcdqdg"><code>              <span class="code-comment">// Was the key removed?</span>
</code></td></tr><tr><td id="L4506" class="css-a4x74f"><span>4506</span></td><td id="LC4506" class="css-1dcdqdg"><code>              <span class="code-keyword">if</span> (deleted) {
</code></td></tr><tr><td id="L4507" class="css-a4x74f"><span>4507</span></td><td id="LC4507" class="css-1dcdqdg"><code>                <span class="code-comment">// _keysAtom.reportChanged() was already called</span>
</code></td></tr><tr><td id="L4508" class="css-a4x74f"><span>4508</span></td><td id="LC4508" class="css-1dcdqdg"><code>                keysReportChangedCalled = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L4509" class="css-a4x74f"><span>4509</span></td><td id="LC4509" class="css-1dcdqdg"><code>              } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L4510" class="css-a4x74f"><span>4510</span></td><td id="LC4510" class="css-1dcdqdg"><code>                <span class="code-comment">// Delete prevented by interceptor</span>
</code></td></tr><tr><td id="L4511" class="css-a4x74f"><span>4511</span></td><td id="LC4511" class="css-1dcdqdg"><code>                <span class="code-keyword">var</span> value = _this7.data_.get(key);
</code></td></tr><tr><td id="L4512" class="css-a4x74f"><span>4512</span></td><td id="LC4512" class="css-1dcdqdg"><code>                orderedData.set(key, value);
</code></td></tr><tr><td id="L4513" class="css-a4x74f"><span>4513</span></td><td id="LC4513" class="css-1dcdqdg"><code>              }
</code></td></tr><tr><td id="L4514" class="css-a4x74f"><span>4514</span></td><td id="LC4514" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L4515" class="css-a4x74f"><span>4515</span></td><td id="LC4515" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4516" class="css-a4x74f"><span>4516</span></td><td id="LC4516" class="css-1dcdqdg"><code>          <span class="code-comment">// Merge entries</span>
</code></td></tr><tr><td id="L4517" class="css-a4x74f"><span>4517</span></td><td id="LC4517" class="css-1dcdqdg"><code>          <span class="code-keyword">for</span> (<span class="code-keyword">var</span> _iterator4 = _createForOfIteratorHelperLoose(replacementMap.entries()), _step4; !(_step4 = _iterator4()).done;) {
</code></td></tr><tr><td id="L4518" class="css-a4x74f"><span>4518</span></td><td id="LC4518" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> _step4$value = _step4.value,
</code></td></tr><tr><td id="L4519" class="css-a4x74f"><span>4519</span></td><td id="LC4519" class="css-1dcdqdg"><code>              _key = _step4$value[<span class="code-number">0</span>],
</code></td></tr><tr><td id="L4520" class="css-a4x74f"><span>4520</span></td><td id="LC4520" class="css-1dcdqdg"><code>              _value = _step4$value[<span class="code-number">1</span>];
</code></td></tr><tr><td id="L4521" class="css-a4x74f"><span>4521</span></td><td id="LC4521" class="css-1dcdqdg"><code>            <span class="code-comment">// We will want to know whether a new key is added</span>
</code></td></tr><tr><td id="L4522" class="css-a4x74f"><span>4522</span></td><td id="LC4522" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> keyExisted = _this7.data_.has(_key);
</code></td></tr><tr><td id="L4523" class="css-a4x74f"><span>4523</span></td><td id="LC4523" class="css-1dcdqdg"><code>            <span class="code-comment">// Add or update value</span>
</code></td></tr><tr><td id="L4524" class="css-a4x74f"><span>4524</span></td><td id="LC4524" class="css-1dcdqdg"><code>            _this7.set(_key, _value);
</code></td></tr><tr><td id="L4525" class="css-a4x74f"><span>4525</span></td><td id="LC4525" class="css-1dcdqdg"><code>            <span class="code-comment">// The addition could have been prevent by interceptor</span>
</code></td></tr><tr><td id="L4526" class="css-a4x74f"><span>4526</span></td><td id="LC4526" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (_this7.data_.has(_key)) {
</code></td></tr><tr><td id="L4527" class="css-a4x74f"><span>4527</span></td><td id="LC4527" class="css-1dcdqdg"><code>              <span class="code-comment">// The update could have been prevented by interceptor</span>
</code></td></tr><tr><td id="L4528" class="css-a4x74f"><span>4528</span></td><td id="LC4528" class="css-1dcdqdg"><code>              <span class="code-comment">// and also we want to preserve existing values</span>
</code></td></tr><tr><td id="L4529" class="css-a4x74f"><span>4529</span></td><td id="LC4529" class="css-1dcdqdg"><code>              <span class="code-comment">// so use value from _data map (instead of replacement map)</span>
</code></td></tr><tr><td id="L4530" class="css-a4x74f"><span>4530</span></td><td id="LC4530" class="css-1dcdqdg"><code>              <span class="code-keyword">var</span> _value2 = _this7.data_.get(_key);
</code></td></tr><tr><td id="L4531" class="css-a4x74f"><span>4531</span></td><td id="LC4531" class="css-1dcdqdg"><code>              orderedData.set(_key, _value2);
</code></td></tr><tr><td id="L4532" class="css-a4x74f"><span>4532</span></td><td id="LC4532" class="css-1dcdqdg"><code>              <span class="code-comment">// Was a new key added?</span>
</code></td></tr><tr><td id="L4533" class="css-a4x74f"><span>4533</span></td><td id="LC4533" class="css-1dcdqdg"><code>              <span class="code-keyword">if</span> (!keyExisted) {
</code></td></tr><tr><td id="L4534" class="css-a4x74f"><span>4534</span></td><td id="LC4534" class="css-1dcdqdg"><code>                <span class="code-comment">// _keysAtom.reportChanged() was already called</span>
</code></td></tr><tr><td id="L4535" class="css-a4x74f"><span>4535</span></td><td id="LC4535" class="css-1dcdqdg"><code>                keysReportChangedCalled = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L4536" class="css-a4x74f"><span>4536</span></td><td id="LC4536" class="css-1dcdqdg"><code>              }
</code></td></tr><tr><td id="L4537" class="css-a4x74f"><span>4537</span></td><td id="LC4537" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L4538" class="css-a4x74f"><span>4538</span></td><td id="LC4538" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4539" class="css-a4x74f"><span>4539</span></td><td id="LC4539" class="css-1dcdqdg"><code>          <span class="code-comment">// Check for possible key order change</span>
</code></td></tr><tr><td id="L4540" class="css-a4x74f"><span>4540</span></td><td id="LC4540" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!keysReportChangedCalled) {
</code></td></tr><tr><td id="L4541" class="css-a4x74f"><span>4541</span></td><td id="LC4541" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (_this7.data_.size !== orderedData.size) {
</code></td></tr><tr><td id="L4542" class="css-a4x74f"><span>4542</span></td><td id="LC4542" class="css-1dcdqdg"><code>              <span class="code-comment">// If size differs, keys are definitely modified</span>
</code></td></tr><tr><td id="L4543" class="css-a4x74f"><span>4543</span></td><td id="LC4543" class="css-1dcdqdg"><code>              _this7.keysAtom_.reportChanged();
</code></td></tr><tr><td id="L4544" class="css-a4x74f"><span>4544</span></td><td id="LC4544" class="css-1dcdqdg"><code>            } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L4545" class="css-a4x74f"><span>4545</span></td><td id="LC4545" class="css-1dcdqdg"><code>              <span class="code-keyword">var</span> iter1 = _this7.data_.keys();
</code></td></tr><tr><td id="L4546" class="css-a4x74f"><span>4546</span></td><td id="LC4546" class="css-1dcdqdg"><code>              <span class="code-keyword">var</span> iter2 = orderedData.keys();
</code></td></tr><tr><td id="L4547" class="css-a4x74f"><span>4547</span></td><td id="LC4547" class="css-1dcdqdg"><code>              <span class="code-keyword">var</span> next1 = iter1.next();
</code></td></tr><tr><td id="L4548" class="css-a4x74f"><span>4548</span></td><td id="LC4548" class="css-1dcdqdg"><code>              <span class="code-keyword">var</span> next2 = iter2.next();
</code></td></tr><tr><td id="L4549" class="css-a4x74f"><span>4549</span></td><td id="LC4549" class="css-1dcdqdg"><code>              <span class="code-keyword">while</span> (!next1.done) {
</code></td></tr><tr><td id="L4550" class="css-a4x74f"><span>4550</span></td><td id="LC4550" class="css-1dcdqdg"><code>                <span class="code-keyword">if</span> (next1.value !== next2.value) {
</code></td></tr><tr><td id="L4551" class="css-a4x74f"><span>4551</span></td><td id="LC4551" class="css-1dcdqdg"><code>                  _this7.keysAtom_.reportChanged();
</code></td></tr><tr><td id="L4552" class="css-a4x74f"><span>4552</span></td><td id="LC4552" class="css-1dcdqdg"><code>                  <span class="code-keyword">break</span>;
</code></td></tr><tr><td id="L4553" class="css-a4x74f"><span>4553</span></td><td id="LC4553" class="css-1dcdqdg"><code>                }
</code></td></tr><tr><td id="L4554" class="css-a4x74f"><span>4554</span></td><td id="LC4554" class="css-1dcdqdg"><code>                next1 = iter1.next();
</code></td></tr><tr><td id="L4555" class="css-a4x74f"><span>4555</span></td><td id="LC4555" class="css-1dcdqdg"><code>                next2 = iter2.next();
</code></td></tr><tr><td id="L4556" class="css-a4x74f"><span>4556</span></td><td id="LC4556" class="css-1dcdqdg"><code>              }
</code></td></tr><tr><td id="L4557" class="css-a4x74f"><span>4557</span></td><td id="LC4557" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L4558" class="css-a4x74f"><span>4558</span></td><td id="LC4558" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4559" class="css-a4x74f"><span>4559</span></td><td id="LC4559" class="css-1dcdqdg"><code>          <span class="code-comment">// Use correctly ordered map</span>
</code></td></tr><tr><td id="L4560" class="css-a4x74f"><span>4560</span></td><td id="LC4560" class="css-1dcdqdg"><code>          _this7.data_ = orderedData;
</code></td></tr><tr><td id="L4561" class="css-a4x74f"><span>4561</span></td><td id="LC4561" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L4562" class="css-a4x74f"><span>4562</span></td><td id="LC4562" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4563" class="css-a4x74f"><span>4563</span></td><td id="LC4563" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4564" class="css-a4x74f"><span>4564</span></td><td id="LC4564" class="css-1dcdqdg"><code>      _proto.toString = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toString</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4565" class="css-a4x74f"><span>4565</span></td><td id="LC4565" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-string">"[object ObservableMap]"</span>;
</code></td></tr><tr><td id="L4566" class="css-a4x74f"><span>4566</span></td><td id="LC4566" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4567" class="css-a4x74f"><span>4567</span></td><td id="LC4567" class="css-1dcdqdg"><code>      _proto.toJSON = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toJSON</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4568" class="css-a4x74f"><span>4568</span></td><td id="LC4568" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-built_in">Array</span>.from(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4569" class="css-a4x74f"><span>4569</span></td><td id="LC4569" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4570" class="css-a4x74f"><span>4570</span></td><td id="LC4570" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L4571" class="css-a4x74f"><span>4571</span></td><td id="LC4571" class="css-1dcdqdg"><code><span class="code-comment">       * Observes this object. Triggers for the events 'add', 'update' and 'delete'.
</span></code></td></tr><tr><td id="L4572" class="css-a4x74f"><span>4572</span></td><td id="LC4572" class="css-1dcdqdg"><code><span class="code-comment">       * See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/observe
</span></code></td></tr><tr><td id="L4573" class="css-a4x74f"><span>4573</span></td><td id="LC4573" class="css-1dcdqdg"><code><span class="code-comment">       * for callback details
</span></code></td></tr><tr><td id="L4574" class="css-a4x74f"><span>4574</span></td><td id="LC4574" class="css-1dcdqdg"><code><span class="code-comment">       */</span>
</code></td></tr><tr><td id="L4575" class="css-a4x74f"><span>4575</span></td><td id="LC4575" class="css-1dcdqdg"><code>      _proto.observe_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">observe_</span>(<span class="code-params">listener, fireImmediately</span>) </span>{
</code></td></tr><tr><td id="L4576" class="css-a4x74f"><span>4576</span></td><td id="LC4576" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( fireImmediately === <span class="code-literal">true</span>) {
</code></td></tr><tr><td id="L4577" class="css-a4x74f"><span>4577</span></td><td id="LC4577" class="css-1dcdqdg"><code>          die(<span class="code-string">"`observe` doesn't support fireImmediately=true in combination with maps."</span>);
</code></td></tr><tr><td id="L4578" class="css-a4x74f"><span>4578</span></td><td id="LC4578" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4579" class="css-a4x74f"><span>4579</span></td><td id="LC4579" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> registerListener(<span class="code-keyword">this</span>, listener);
</code></td></tr><tr><td id="L4580" class="css-a4x74f"><span>4580</span></td><td id="LC4580" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4581" class="css-a4x74f"><span>4581</span></td><td id="LC4581" class="css-1dcdqdg"><code>      _proto.intercept_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">intercept_</span>(<span class="code-params">handler</span>) </span>{
</code></td></tr><tr><td id="L4582" class="css-a4x74f"><span>4582</span></td><td id="LC4582" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> registerInterceptor(<span class="code-keyword">this</span>, handler);
</code></td></tr><tr><td id="L4583" class="css-a4x74f"><span>4583</span></td><td id="LC4583" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4584" class="css-a4x74f"><span>4584</span></td><td id="LC4584" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> _createClass(ObservableMap, [{
</code></td></tr><tr><td id="L4585" class="css-a4x74f"><span>4585</span></td><td id="LC4585" class="css-1dcdqdg"><code>        key: <span class="code-string">"size"</span>,
</code></td></tr><tr><td id="L4586" class="css-a4x74f"><span>4586</span></td><td id="LC4586" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L4587" class="css-a4x74f"><span>4587</span></td><td id="LC4587" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.keysAtom_.reportObserved();
</code></td></tr><tr><td id="L4588" class="css-a4x74f"><span>4588</span></td><td id="LC4588" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-keyword">this</span>.data_.size;
</code></td></tr><tr><td id="L4589" class="css-a4x74f"><span>4589</span></td><td id="LC4589" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4590" class="css-a4x74f"><span>4590</span></td><td id="LC4590" class="css-1dcdqdg"><code>      }, {
</code></td></tr><tr><td id="L4591" class="css-a4x74f"><span>4591</span></td><td id="LC4591" class="css-1dcdqdg"><code>        key: <span class="code-built_in">Symbol</span>.toStringTag,
</code></td></tr><tr><td id="L4592" class="css-a4x74f"><span>4592</span></td><td id="LC4592" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L4593" class="css-a4x74f"><span>4593</span></td><td id="LC4593" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-string">"Map"</span>;
</code></td></tr><tr><td id="L4594" class="css-a4x74f"><span>4594</span></td><td id="LC4594" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4595" class="css-a4x74f"><span>4595</span></td><td id="LC4595" class="css-1dcdqdg"><code>      }]);
</code></td></tr><tr><td id="L4596" class="css-a4x74f"><span>4596</span></td><td id="LC4596" class="css-1dcdqdg"><code>    }();
</code></td></tr><tr><td id="L4597" class="css-a4x74f"><span>4597</span></td><td id="LC4597" class="css-1dcdqdg"><code>    <span class="code-comment">// eslint-disable-next-line</span>
</code></td></tr><tr><td id="L4598" class="css-a4x74f"><span>4598</span></td><td id="LC4598" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> isObservableMap = <span class="code-comment">/*#__PURE__*/</span>createInstanceofPredicate(<span class="code-string">"ObservableMap"</span>, ObservableMap);
</code></td></tr><tr><td id="L4599" class="css-a4x74f"><span>4599</span></td><td id="LC4599" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">makeIterableForMap</span>(<span class="code-params">iterator</span>) </span>{
</code></td></tr><tr><td id="L4600" class="css-a4x74f"><span>4600</span></td><td id="LC4600" class="css-1dcdqdg"><code>      iterator[<span class="code-built_in">Symbol</span>.toStringTag] = <span class="code-string">"MapIterator"</span>;
</code></td></tr><tr><td id="L4601" class="css-a4x74f"><span>4601</span></td><td id="LC4601" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> makeIterable(iterator);
</code></td></tr><tr><td id="L4602" class="css-a4x74f"><span>4602</span></td><td id="LC4602" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L4603" class="css-a4x74f"><span>4603</span></td><td id="LC4603" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">convertToMap</span>(<span class="code-params">dataStructure</span>) </span>{
</code></td></tr><tr><td id="L4604" class="css-a4x74f"><span>4604</span></td><td id="LC4604" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isES6Map(dataStructure) || isObservableMap(dataStructure)) {
</code></td></tr><tr><td id="L4605" class="css-a4x74f"><span>4605</span></td><td id="LC4605" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> dataStructure;
</code></td></tr><tr><td id="L4606" class="css-a4x74f"><span>4606</span></td><td id="LC4606" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (<span class="code-built_in">Array</span>.isArray(dataStructure)) {
</code></td></tr><tr><td id="L4607" class="css-a4x74f"><span>4607</span></td><td id="LC4607" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">Map</span>(dataStructure);
</code></td></tr><tr><td id="L4608" class="css-a4x74f"><span>4608</span></td><td id="LC4608" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (isPlainObject(dataStructure)) {
</code></td></tr><tr><td id="L4609" class="css-a4x74f"><span>4609</span></td><td id="LC4609" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> map = <span class="code-keyword">new</span> <span class="code-built_in">Map</span>();
</code></td></tr><tr><td id="L4610" class="css-a4x74f"><span>4610</span></td><td id="LC4610" class="css-1dcdqdg"><code>        <span class="code-keyword">for</span> (<span class="code-keyword">var</span> key <span class="code-keyword">in</span> dataStructure) {
</code></td></tr><tr><td id="L4611" class="css-a4x74f"><span>4611</span></td><td id="LC4611" class="css-1dcdqdg"><code>          map.set(key, dataStructure[key]);
</code></td></tr><tr><td id="L4612" class="css-a4x74f"><span>4612</span></td><td id="LC4612" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4613" class="css-a4x74f"><span>4613</span></td><td id="LC4613" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> map;
</code></td></tr><tr><td id="L4614" class="css-a4x74f"><span>4614</span></td><td id="LC4614" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L4615" class="css-a4x74f"><span>4615</span></td><td id="LC4615" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> die(<span class="code-number">21</span>, dataStructure);
</code></td></tr><tr><td id="L4616" class="css-a4x74f"><span>4616</span></td><td id="LC4616" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L4617" class="css-a4x74f"><span>4617</span></td><td id="LC4617" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L4618" class="css-a4x74f"><span>4618</span></td><td id="LC4618" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4619" class="css-a4x74f"><span>4619</span></td><td id="LC4619" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> ObservableSetMarker = {};
</code></td></tr><tr><td id="L4620" class="css-a4x74f"><span>4620</span></td><td id="LC4620" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> ObservableSet = <span class="code-comment">/*#__PURE__*/</span><span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4621" class="css-a4x74f"><span>4621</span></td><td id="LC4621" class="css-1dcdqdg"><code>      <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ObservableSet</span>(<span class="code-params">initialData, enhancer, name_</span>) </span>{
</code></td></tr><tr><td id="L4622" class="css-a4x74f"><span>4622</span></td><td id="LC4622" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4623" class="css-a4x74f"><span>4623</span></td><td id="LC4623" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (enhancer === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L4624" class="css-a4x74f"><span>4624</span></td><td id="LC4624" class="css-1dcdqdg"><code>          enhancer = deepEnhancer;
</code></td></tr><tr><td id="L4625" class="css-a4x74f"><span>4625</span></td><td id="LC4625" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4626" class="css-a4x74f"><span>4626</span></td><td id="LC4626" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (name_ === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L4627" class="css-a4x74f"><span>4627</span></td><td id="LC4627" class="css-1dcdqdg"><code>          name_ =  <span class="code-string">"ObservableSet@"</span> + getNextId() ;
</code></td></tr><tr><td id="L4628" class="css-a4x74f"><span>4628</span></td><td id="LC4628" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4629" class="css-a4x74f"><span>4629</span></td><td id="LC4629" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.name_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4630" class="css-a4x74f"><span>4630</span></td><td id="LC4630" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>[$mobx] = ObservableSetMarker;
</code></td></tr><tr><td id="L4631" class="css-a4x74f"><span>4631</span></td><td id="LC4631" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.data_ = <span class="code-keyword">new</span> <span class="code-built_in">Set</span>();
</code></td></tr><tr><td id="L4632" class="css-a4x74f"><span>4632</span></td><td id="LC4632" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.atom_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4633" class="css-a4x74f"><span>4633</span></td><td id="LC4633" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.changeListeners_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4634" class="css-a4x74f"><span>4634</span></td><td id="LC4634" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.interceptors_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4635" class="css-a4x74f"><span>4635</span></td><td id="LC4635" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.dehancer = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4636" class="css-a4x74f"><span>4636</span></td><td id="LC4636" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.enhancer_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4637" class="css-a4x74f"><span>4637</span></td><td id="LC4637" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.name_ = name_;
</code></td></tr><tr><td id="L4638" class="css-a4x74f"><span>4638</span></td><td id="LC4638" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!isFunction(<span class="code-built_in">Set</span>)) {
</code></td></tr><tr><td id="L4639" class="css-a4x74f"><span>4639</span></td><td id="LC4639" class="css-1dcdqdg"><code>          die(<span class="code-number">22</span>);
</code></td></tr><tr><td id="L4640" class="css-a4x74f"><span>4640</span></td><td id="LC4640" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4641" class="css-a4x74f"><span>4641</span></td><td id="LC4641" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.enhancer_ = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">newV, oldV</span>) </span>{
</code></td></tr><tr><td id="L4642" class="css-a4x74f"><span>4642</span></td><td id="LC4642" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> enhancer(newV, oldV, name_);
</code></td></tr><tr><td id="L4643" class="css-a4x74f"><span>4643</span></td><td id="LC4643" class="css-1dcdqdg"><code>        };
</code></td></tr><tr><td id="L4644" class="css-a4x74f"><span>4644</span></td><td id="LC4644" class="css-1dcdqdg"><code>        initObservable(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4645" class="css-a4x74f"><span>4645</span></td><td id="LC4645" class="css-1dcdqdg"><code>          _this.atom_ = createAtom(_this.name_);
</code></td></tr><tr><td id="L4646" class="css-a4x74f"><span>4646</span></td><td id="LC4646" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (initialData) {
</code></td></tr><tr><td id="L4647" class="css-a4x74f"><span>4647</span></td><td id="LC4647" class="css-1dcdqdg"><code>            _this.replace(initialData);
</code></td></tr><tr><td id="L4648" class="css-a4x74f"><span>4648</span></td><td id="LC4648" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4649" class="css-a4x74f"><span>4649</span></td><td id="LC4649" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L4650" class="css-a4x74f"><span>4650</span></td><td id="LC4650" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L4651" class="css-a4x74f"><span>4651</span></td><td id="LC4651" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _proto = ObservableSet.prototype;
</code></td></tr><tr><td id="L4652" class="css-a4x74f"><span>4652</span></td><td id="LC4652" class="css-1dcdqdg"><code>      _proto.dehanceValue_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">dehanceValue_</span>(<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L4653" class="css-a4x74f"><span>4653</span></td><td id="LC4653" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.dehancer !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L4654" class="css-a4x74f"><span>4654</span></td><td id="LC4654" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-keyword">this</span>.dehancer(value);
</code></td></tr><tr><td id="L4655" class="css-a4x74f"><span>4655</span></td><td id="LC4655" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4656" class="css-a4x74f"><span>4656</span></td><td id="LC4656" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> value;
</code></td></tr><tr><td id="L4657" class="css-a4x74f"><span>4657</span></td><td id="LC4657" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4658" class="css-a4x74f"><span>4658</span></td><td id="LC4658" class="css-1dcdqdg"><code>      _proto.clear = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">clear</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4659" class="css-a4x74f"><span>4659</span></td><td id="LC4659" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this2 = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4660" class="css-a4x74f"><span>4660</span></td><td id="LC4660" class="css-1dcdqdg"><code>        transaction(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4661" class="css-a4x74f"><span>4661</span></td><td id="LC4661" class="css-1dcdqdg"><code>          untracked(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4662" class="css-a4x74f"><span>4662</span></td><td id="LC4662" class="css-1dcdqdg"><code>            <span class="code-keyword">for</span> (<span class="code-keyword">var</span> _iterator = _createForOfIteratorHelperLoose(_this2.data_.values()), _step; !(_step = _iterator()).done;) {
</code></td></tr><tr><td id="L4663" class="css-a4x74f"><span>4663</span></td><td id="LC4663" class="css-1dcdqdg"><code>              <span class="code-keyword">var</span> value = _step.value;
</code></td></tr><tr><td id="L4664" class="css-a4x74f"><span>4664</span></td><td id="LC4664" class="css-1dcdqdg"><code>              _this2[<span class="code-string">"delete"</span>](value);
</code></td></tr><tr><td id="L4665" class="css-a4x74f"><span>4665</span></td><td id="LC4665" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L4666" class="css-a4x74f"><span>4666</span></td><td id="LC4666" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L4667" class="css-a4x74f"><span>4667</span></td><td id="LC4667" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L4668" class="css-a4x74f"><span>4668</span></td><td id="LC4668" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4669" class="css-a4x74f"><span>4669</span></td><td id="LC4669" class="css-1dcdqdg"><code>      _proto.forEach = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">forEach</span>(<span class="code-params">callbackFn, thisArg</span>) </span>{
</code></td></tr><tr><td id="L4670" class="css-a4x74f"><span>4670</span></td><td id="LC4670" class="css-1dcdqdg"><code>        <span class="code-keyword">for</span> (<span class="code-keyword">var</span> _iterator2 = _createForOfIteratorHelperLoose(<span class="code-keyword">this</span>), _step2; !(_step2 = _iterator2()).done;) {
</code></td></tr><tr><td id="L4671" class="css-a4x74f"><span>4671</span></td><td id="LC4671" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> value = _step2.value;
</code></td></tr><tr><td id="L4672" class="css-a4x74f"><span>4672</span></td><td id="LC4672" class="css-1dcdqdg"><code>          callbackFn.call(thisArg, value, value, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4673" class="css-a4x74f"><span>4673</span></td><td id="LC4673" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4674" class="css-a4x74f"><span>4674</span></td><td id="LC4674" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4675" class="css-a4x74f"><span>4675</span></td><td id="LC4675" class="css-1dcdqdg"><code>      _proto.add = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">add</span>(<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L4676" class="css-a4x74f"><span>4676</span></td><td id="LC4676" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this3 = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4677" class="css-a4x74f"><span>4677</span></td><td id="LC4677" class="css-1dcdqdg"><code>        checkIfStateModificationsAreAllowed(<span class="code-keyword">this</span>.atom_);
</code></td></tr><tr><td id="L4678" class="css-a4x74f"><span>4678</span></td><td id="LC4678" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (hasInterceptors(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L4679" class="css-a4x74f"><span>4679</span></td><td id="LC4679" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> change = interceptChange(<span class="code-keyword">this</span>, {
</code></td></tr><tr><td id="L4680" class="css-a4x74f"><span>4680</span></td><td id="LC4680" class="css-1dcdqdg"><code>            type: ADD,
</code></td></tr><tr><td id="L4681" class="css-a4x74f"><span>4681</span></td><td id="LC4681" class="css-1dcdqdg"><code>            object: <span class="code-keyword">this</span>,
</code></td></tr><tr><td id="L4682" class="css-a4x74f"><span>4682</span></td><td id="LC4682" class="css-1dcdqdg"><code>            newValue: value
</code></td></tr><tr><td id="L4683" class="css-a4x74f"><span>4683</span></td><td id="LC4683" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L4684" class="css-a4x74f"><span>4684</span></td><td id="LC4684" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!change) {
</code></td></tr><tr><td id="L4685" class="css-a4x74f"><span>4685</span></td><td id="LC4685" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4686" class="css-a4x74f"><span>4686</span></td><td id="LC4686" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4687" class="css-a4x74f"><span>4687</span></td><td id="LC4687" class="css-1dcdqdg"><code>          <span class="code-comment">// ideally, value = change.value would be done here, so that values can be</span>
</code></td></tr><tr><td id="L4688" class="css-a4x74f"><span>4688</span></td><td id="LC4688" class="css-1dcdqdg"><code>          <span class="code-comment">// changed by interceptor. Same applies for other Set and Map api's.</span>
</code></td></tr><tr><td id="L4689" class="css-a4x74f"><span>4689</span></td><td id="LC4689" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4690" class="css-a4x74f"><span>4690</span></td><td id="LC4690" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.has(value)) {
</code></td></tr><tr><td id="L4691" class="css-a4x74f"><span>4691</span></td><td id="LC4691" class="css-1dcdqdg"><code>          transaction(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4692" class="css-a4x74f"><span>4692</span></td><td id="LC4692" class="css-1dcdqdg"><code>            _this3.data_.add(_this3.enhancer_(value, <span class="code-literal">undefined</span>));
</code></td></tr><tr><td id="L4693" class="css-a4x74f"><span>4693</span></td><td id="LC4693" class="css-1dcdqdg"><code>            _this3.atom_.reportChanged();
</code></td></tr><tr><td id="L4694" class="css-a4x74f"><span>4694</span></td><td id="LC4694" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L4695" class="css-a4x74f"><span>4695</span></td><td id="LC4695" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> notifySpy =  isSpyEnabled();
</code></td></tr><tr><td id="L4696" class="css-a4x74f"><span>4696</span></td><td id="LC4696" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> notify = hasListeners(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4697" class="css-a4x74f"><span>4697</span></td><td id="LC4697" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> _change = notify || notifySpy ? {
</code></td></tr><tr><td id="L4698" class="css-a4x74f"><span>4698</span></td><td id="LC4698" class="css-1dcdqdg"><code>            observableKind: <span class="code-string">"set"</span>,
</code></td></tr><tr><td id="L4699" class="css-a4x74f"><span>4699</span></td><td id="LC4699" class="css-1dcdqdg"><code>            debugObjectName: <span class="code-keyword">this</span>.name_,
</code></td></tr><tr><td id="L4700" class="css-a4x74f"><span>4700</span></td><td id="LC4700" class="css-1dcdqdg"><code>            type: ADD,
</code></td></tr><tr><td id="L4701" class="css-a4x74f"><span>4701</span></td><td id="LC4701" class="css-1dcdqdg"><code>            object: <span class="code-keyword">this</span>,
</code></td></tr><tr><td id="L4702" class="css-a4x74f"><span>4702</span></td><td id="LC4702" class="css-1dcdqdg"><code>            newValue: value
</code></td></tr><tr><td id="L4703" class="css-a4x74f"><span>4703</span></td><td id="LC4703" class="css-1dcdqdg"><code>          } : <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L4704" class="css-a4x74f"><span>4704</span></td><td id="LC4704" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (notifySpy &amp;&amp; <span class="code-string">"development"</span> !== <span class="code-string">"production"</span>) {
</code></td></tr><tr><td id="L4705" class="css-a4x74f"><span>4705</span></td><td id="LC4705" class="css-1dcdqdg"><code>            spyReportStart(_change);
</code></td></tr><tr><td id="L4706" class="css-a4x74f"><span>4706</span></td><td id="LC4706" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4707" class="css-a4x74f"><span>4707</span></td><td id="LC4707" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (notify) {
</code></td></tr><tr><td id="L4708" class="css-a4x74f"><span>4708</span></td><td id="LC4708" class="css-1dcdqdg"><code>            notifyListeners(<span class="code-keyword">this</span>, _change);
</code></td></tr><tr><td id="L4709" class="css-a4x74f"><span>4709</span></td><td id="LC4709" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4710" class="css-a4x74f"><span>4710</span></td><td id="LC4710" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (notifySpy &amp;&amp; <span class="code-string">"development"</span> !== <span class="code-string">"production"</span>) {
</code></td></tr><tr><td id="L4711" class="css-a4x74f"><span>4711</span></td><td id="LC4711" class="css-1dcdqdg"><code>            spyReportEnd();
</code></td></tr><tr><td id="L4712" class="css-a4x74f"><span>4712</span></td><td id="LC4712" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4713" class="css-a4x74f"><span>4713</span></td><td id="LC4713" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4714" class="css-a4x74f"><span>4714</span></td><td id="LC4714" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4715" class="css-a4x74f"><span>4715</span></td><td id="LC4715" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4716" class="css-a4x74f"><span>4716</span></td><td id="LC4716" class="css-1dcdqdg"><code>      _proto[<span class="code-string">"delete"</span>] = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_delete</span>(<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L4717" class="css-a4x74f"><span>4717</span></td><td id="LC4717" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this4 = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4718" class="css-a4x74f"><span>4718</span></td><td id="LC4718" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (hasInterceptors(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L4719" class="css-a4x74f"><span>4719</span></td><td id="LC4719" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> change = interceptChange(<span class="code-keyword">this</span>, {
</code></td></tr><tr><td id="L4720" class="css-a4x74f"><span>4720</span></td><td id="LC4720" class="css-1dcdqdg"><code>            type: DELETE,
</code></td></tr><tr><td id="L4721" class="css-a4x74f"><span>4721</span></td><td id="LC4721" class="css-1dcdqdg"><code>            object: <span class="code-keyword">this</span>,
</code></td></tr><tr><td id="L4722" class="css-a4x74f"><span>4722</span></td><td id="LC4722" class="css-1dcdqdg"><code>            oldValue: value
</code></td></tr><tr><td id="L4723" class="css-a4x74f"><span>4723</span></td><td id="LC4723" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L4724" class="css-a4x74f"><span>4724</span></td><td id="LC4724" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!change) {
</code></td></tr><tr><td id="L4725" class="css-a4x74f"><span>4725</span></td><td id="LC4725" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L4726" class="css-a4x74f"><span>4726</span></td><td id="LC4726" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4727" class="css-a4x74f"><span>4727</span></td><td id="LC4727" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4728" class="css-a4x74f"><span>4728</span></td><td id="LC4728" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.has(value)) {
</code></td></tr><tr><td id="L4729" class="css-a4x74f"><span>4729</span></td><td id="LC4729" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> notifySpy =  isSpyEnabled();
</code></td></tr><tr><td id="L4730" class="css-a4x74f"><span>4730</span></td><td id="LC4730" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> notify = hasListeners(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4731" class="css-a4x74f"><span>4731</span></td><td id="LC4731" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> _change2 = notify || notifySpy ? {
</code></td></tr><tr><td id="L4732" class="css-a4x74f"><span>4732</span></td><td id="LC4732" class="css-1dcdqdg"><code>            observableKind: <span class="code-string">"set"</span>,
</code></td></tr><tr><td id="L4733" class="css-a4x74f"><span>4733</span></td><td id="LC4733" class="css-1dcdqdg"><code>            debugObjectName: <span class="code-keyword">this</span>.name_,
</code></td></tr><tr><td id="L4734" class="css-a4x74f"><span>4734</span></td><td id="LC4734" class="css-1dcdqdg"><code>            type: DELETE,
</code></td></tr><tr><td id="L4735" class="css-a4x74f"><span>4735</span></td><td id="LC4735" class="css-1dcdqdg"><code>            object: <span class="code-keyword">this</span>,
</code></td></tr><tr><td id="L4736" class="css-a4x74f"><span>4736</span></td><td id="LC4736" class="css-1dcdqdg"><code>            oldValue: value
</code></td></tr><tr><td id="L4737" class="css-a4x74f"><span>4737</span></td><td id="LC4737" class="css-1dcdqdg"><code>          } : <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L4738" class="css-a4x74f"><span>4738</span></td><td id="LC4738" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (notifySpy &amp;&amp; <span class="code-string">"development"</span> !== <span class="code-string">"production"</span>) {
</code></td></tr><tr><td id="L4739" class="css-a4x74f"><span>4739</span></td><td id="LC4739" class="css-1dcdqdg"><code>            spyReportStart(_change2);
</code></td></tr><tr><td id="L4740" class="css-a4x74f"><span>4740</span></td><td id="LC4740" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4741" class="css-a4x74f"><span>4741</span></td><td id="LC4741" class="css-1dcdqdg"><code>          transaction(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4742" class="css-a4x74f"><span>4742</span></td><td id="LC4742" class="css-1dcdqdg"><code>            _this4.atom_.reportChanged();
</code></td></tr><tr><td id="L4743" class="css-a4x74f"><span>4743</span></td><td id="LC4743" class="css-1dcdqdg"><code>            _this4.data_[<span class="code-string">"delete"</span>](value);
</code></td></tr><tr><td id="L4744" class="css-a4x74f"><span>4744</span></td><td id="LC4744" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L4745" class="css-a4x74f"><span>4745</span></td><td id="LC4745" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (notify) {
</code></td></tr><tr><td id="L4746" class="css-a4x74f"><span>4746</span></td><td id="LC4746" class="css-1dcdqdg"><code>            notifyListeners(<span class="code-keyword">this</span>, _change2);
</code></td></tr><tr><td id="L4747" class="css-a4x74f"><span>4747</span></td><td id="LC4747" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4748" class="css-a4x74f"><span>4748</span></td><td id="LC4748" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (notifySpy &amp;&amp; <span class="code-string">"development"</span> !== <span class="code-string">"production"</span>) {
</code></td></tr><tr><td id="L4749" class="css-a4x74f"><span>4749</span></td><td id="LC4749" class="css-1dcdqdg"><code>            spyReportEnd();
</code></td></tr><tr><td id="L4750" class="css-a4x74f"><span>4750</span></td><td id="LC4750" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4751" class="css-a4x74f"><span>4751</span></td><td id="LC4751" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L4752" class="css-a4x74f"><span>4752</span></td><td id="LC4752" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4753" class="css-a4x74f"><span>4753</span></td><td id="LC4753" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L4754" class="css-a4x74f"><span>4754</span></td><td id="LC4754" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4755" class="css-a4x74f"><span>4755</span></td><td id="LC4755" class="css-1dcdqdg"><code>      _proto.has = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">has</span>(<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L4756" class="css-a4x74f"><span>4756</span></td><td id="LC4756" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.atom_.reportObserved();
</code></td></tr><tr><td id="L4757" class="css-a4x74f"><span>4757</span></td><td id="LC4757" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.data_.has(<span class="code-keyword">this</span>.dehanceValue_(value));
</code></td></tr><tr><td id="L4758" class="css-a4x74f"><span>4758</span></td><td id="LC4758" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4759" class="css-a4x74f"><span>4759</span></td><td id="LC4759" class="css-1dcdqdg"><code>      _proto.entries = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">entries</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4760" class="css-a4x74f"><span>4760</span></td><td id="LC4760" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> nextIndex = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4761" class="css-a4x74f"><span>4761</span></td><td id="LC4761" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> keys = <span class="code-built_in">Array</span>.from(<span class="code-keyword">this</span>.keys());
</code></td></tr><tr><td id="L4762" class="css-a4x74f"><span>4762</span></td><td id="LC4762" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> values = <span class="code-built_in">Array</span>.from(<span class="code-keyword">this</span>.values());
</code></td></tr><tr><td id="L4763" class="css-a4x74f"><span>4763</span></td><td id="LC4763" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> makeIterableForSet({
</code></td></tr><tr><td id="L4764" class="css-a4x74f"><span>4764</span></td><td id="LC4764" class="css-1dcdqdg"><code>          next: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">next</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4765" class="css-a4x74f"><span>4765</span></td><td id="LC4765" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> index = nextIndex;
</code></td></tr><tr><td id="L4766" class="css-a4x74f"><span>4766</span></td><td id="LC4766" class="css-1dcdqdg"><code>            nextIndex += <span class="code-number">1</span>;
</code></td></tr><tr><td id="L4767" class="css-a4x74f"><span>4767</span></td><td id="LC4767" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> index &lt; values.length ? {
</code></td></tr><tr><td id="L4768" class="css-a4x74f"><span>4768</span></td><td id="LC4768" class="css-1dcdqdg"><code>              value: [keys[index], values[index]],
</code></td></tr><tr><td id="L4769" class="css-a4x74f"><span>4769</span></td><td id="LC4769" class="css-1dcdqdg"><code>              done: <span class="code-literal">false</span>
</code></td></tr><tr><td id="L4770" class="css-a4x74f"><span>4770</span></td><td id="LC4770" class="css-1dcdqdg"><code>            } : {
</code></td></tr><tr><td id="L4771" class="css-a4x74f"><span>4771</span></td><td id="LC4771" class="css-1dcdqdg"><code>              value: <span class="code-literal">undefined</span>,
</code></td></tr><tr><td id="L4772" class="css-a4x74f"><span>4772</span></td><td id="LC4772" class="css-1dcdqdg"><code>              done: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L4773" class="css-a4x74f"><span>4773</span></td><td id="LC4773" class="css-1dcdqdg"><code>            };
</code></td></tr><tr><td id="L4774" class="css-a4x74f"><span>4774</span></td><td id="LC4774" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4775" class="css-a4x74f"><span>4775</span></td><td id="LC4775" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L4776" class="css-a4x74f"><span>4776</span></td><td id="LC4776" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4777" class="css-a4x74f"><span>4777</span></td><td id="LC4777" class="css-1dcdqdg"><code>      _proto.keys = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">keys</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4778" class="css-a4x74f"><span>4778</span></td><td id="LC4778" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.values();
</code></td></tr><tr><td id="L4779" class="css-a4x74f"><span>4779</span></td><td id="LC4779" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4780" class="css-a4x74f"><span>4780</span></td><td id="LC4780" class="css-1dcdqdg"><code>      _proto.values = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">values</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4781" class="css-a4x74f"><span>4781</span></td><td id="LC4781" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.atom_.reportObserved();
</code></td></tr><tr><td id="L4782" class="css-a4x74f"><span>4782</span></td><td id="LC4782" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> self = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4783" class="css-a4x74f"><span>4783</span></td><td id="LC4783" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> nextIndex = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4784" class="css-a4x74f"><span>4784</span></td><td id="LC4784" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> observableValues = <span class="code-built_in">Array</span>.from(<span class="code-keyword">this</span>.data_.values());
</code></td></tr><tr><td id="L4785" class="css-a4x74f"><span>4785</span></td><td id="LC4785" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> makeIterableForSet({
</code></td></tr><tr><td id="L4786" class="css-a4x74f"><span>4786</span></td><td id="LC4786" class="css-1dcdqdg"><code>          next: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">next</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4787" class="css-a4x74f"><span>4787</span></td><td id="LC4787" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> nextIndex &lt; observableValues.length ? {
</code></td></tr><tr><td id="L4788" class="css-a4x74f"><span>4788</span></td><td id="LC4788" class="css-1dcdqdg"><code>              value: self.dehanceValue_(observableValues[nextIndex++]),
</code></td></tr><tr><td id="L4789" class="css-a4x74f"><span>4789</span></td><td id="LC4789" class="css-1dcdqdg"><code>              done: <span class="code-literal">false</span>
</code></td></tr><tr><td id="L4790" class="css-a4x74f"><span>4790</span></td><td id="LC4790" class="css-1dcdqdg"><code>            } : {
</code></td></tr><tr><td id="L4791" class="css-a4x74f"><span>4791</span></td><td id="LC4791" class="css-1dcdqdg"><code>              value: <span class="code-literal">undefined</span>,
</code></td></tr><tr><td id="L4792" class="css-a4x74f"><span>4792</span></td><td id="LC4792" class="css-1dcdqdg"><code>              done: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L4793" class="css-a4x74f"><span>4793</span></td><td id="LC4793" class="css-1dcdqdg"><code>            };
</code></td></tr><tr><td id="L4794" class="css-a4x74f"><span>4794</span></td><td id="LC4794" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4795" class="css-a4x74f"><span>4795</span></td><td id="LC4795" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L4796" class="css-a4x74f"><span>4796</span></td><td id="LC4796" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4797" class="css-a4x74f"><span>4797</span></td><td id="LC4797" class="css-1dcdqdg"><code>      _proto.intersection = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">intersection</span>(<span class="code-params">otherSet</span>) </span>{
</code></td></tr><tr><td id="L4798" class="css-a4x74f"><span>4798</span></td><td id="LC4798" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isES6Set(otherSet) &amp;&amp; !isObservableSet(otherSet)) {
</code></td></tr><tr><td id="L4799" class="css-a4x74f"><span>4799</span></td><td id="LC4799" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> otherSet.intersection(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4800" class="css-a4x74f"><span>4800</span></td><td id="LC4800" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L4801" class="css-a4x74f"><span>4801</span></td><td id="LC4801" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> dehancedSet = <span class="code-keyword">new</span> <span class="code-built_in">Set</span>(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4802" class="css-a4x74f"><span>4802</span></td><td id="LC4802" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> dehancedSet.intersection(otherSet);
</code></td></tr><tr><td id="L4803" class="css-a4x74f"><span>4803</span></td><td id="LC4803" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4804" class="css-a4x74f"><span>4804</span></td><td id="LC4804" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4805" class="css-a4x74f"><span>4805</span></td><td id="LC4805" class="css-1dcdqdg"><code>      _proto.union = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">union</span>(<span class="code-params">otherSet</span>) </span>{
</code></td></tr><tr><td id="L4806" class="css-a4x74f"><span>4806</span></td><td id="LC4806" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isES6Set(otherSet) &amp;&amp; !isObservableSet(otherSet)) {
</code></td></tr><tr><td id="L4807" class="css-a4x74f"><span>4807</span></td><td id="LC4807" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> otherSet.union(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4808" class="css-a4x74f"><span>4808</span></td><td id="LC4808" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L4809" class="css-a4x74f"><span>4809</span></td><td id="LC4809" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> dehancedSet = <span class="code-keyword">new</span> <span class="code-built_in">Set</span>(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4810" class="css-a4x74f"><span>4810</span></td><td id="LC4810" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> dehancedSet.union(otherSet);
</code></td></tr><tr><td id="L4811" class="css-a4x74f"><span>4811</span></td><td id="LC4811" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4812" class="css-a4x74f"><span>4812</span></td><td id="LC4812" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4813" class="css-a4x74f"><span>4813</span></td><td id="LC4813" class="css-1dcdqdg"><code>      _proto.difference = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">difference</span>(<span class="code-params">otherSet</span>) </span>{
</code></td></tr><tr><td id="L4814" class="css-a4x74f"><span>4814</span></td><td id="LC4814" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">Set</span>(<span class="code-keyword">this</span>).difference(otherSet);
</code></td></tr><tr><td id="L4815" class="css-a4x74f"><span>4815</span></td><td id="LC4815" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4816" class="css-a4x74f"><span>4816</span></td><td id="LC4816" class="css-1dcdqdg"><code>      _proto.symmetricDifference = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">symmetricDifference</span>(<span class="code-params">otherSet</span>) </span>{
</code></td></tr><tr><td id="L4817" class="css-a4x74f"><span>4817</span></td><td id="LC4817" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isES6Set(otherSet) &amp;&amp; !isObservableSet(otherSet)) {
</code></td></tr><tr><td id="L4818" class="css-a4x74f"><span>4818</span></td><td id="LC4818" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> otherSet.symmetricDifference(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4819" class="css-a4x74f"><span>4819</span></td><td id="LC4819" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L4820" class="css-a4x74f"><span>4820</span></td><td id="LC4820" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> dehancedSet = <span class="code-keyword">new</span> <span class="code-built_in">Set</span>(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4821" class="css-a4x74f"><span>4821</span></td><td id="LC4821" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> dehancedSet.symmetricDifference(otherSet);
</code></td></tr><tr><td id="L4822" class="css-a4x74f"><span>4822</span></td><td id="LC4822" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4823" class="css-a4x74f"><span>4823</span></td><td id="LC4823" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4824" class="css-a4x74f"><span>4824</span></td><td id="LC4824" class="css-1dcdqdg"><code>      _proto.isSubsetOf = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isSubsetOf</span>(<span class="code-params">otherSet</span>) </span>{
</code></td></tr><tr><td id="L4825" class="css-a4x74f"><span>4825</span></td><td id="LC4825" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">Set</span>(<span class="code-keyword">this</span>).isSubsetOf(otherSet);
</code></td></tr><tr><td id="L4826" class="css-a4x74f"><span>4826</span></td><td id="LC4826" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4827" class="css-a4x74f"><span>4827</span></td><td id="LC4827" class="css-1dcdqdg"><code>      _proto.isSupersetOf = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isSupersetOf</span>(<span class="code-params">otherSet</span>) </span>{
</code></td></tr><tr><td id="L4828" class="css-a4x74f"><span>4828</span></td><td id="LC4828" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">Set</span>(<span class="code-keyword">this</span>).isSupersetOf(otherSet);
</code></td></tr><tr><td id="L4829" class="css-a4x74f"><span>4829</span></td><td id="LC4829" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4830" class="css-a4x74f"><span>4830</span></td><td id="LC4830" class="css-1dcdqdg"><code>      _proto.isDisjointFrom = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isDisjointFrom</span>(<span class="code-params">otherSet</span>) </span>{
</code></td></tr><tr><td id="L4831" class="css-a4x74f"><span>4831</span></td><td id="LC4831" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isES6Set(otherSet) &amp;&amp; !isObservableSet(otherSet)) {
</code></td></tr><tr><td id="L4832" class="css-a4x74f"><span>4832</span></td><td id="LC4832" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> otherSet.isDisjointFrom(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4833" class="css-a4x74f"><span>4833</span></td><td id="LC4833" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L4834" class="css-a4x74f"><span>4834</span></td><td id="LC4834" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> dehancedSet = <span class="code-keyword">new</span> <span class="code-built_in">Set</span>(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4835" class="css-a4x74f"><span>4835</span></td><td id="LC4835" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> dehancedSet.isDisjointFrom(otherSet);
</code></td></tr><tr><td id="L4836" class="css-a4x74f"><span>4836</span></td><td id="LC4836" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4837" class="css-a4x74f"><span>4837</span></td><td id="LC4837" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4838" class="css-a4x74f"><span>4838</span></td><td id="LC4838" class="css-1dcdqdg"><code>      _proto.replace = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">replace</span>(<span class="code-params">other</span>) </span>{
</code></td></tr><tr><td id="L4839" class="css-a4x74f"><span>4839</span></td><td id="LC4839" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this5 = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4840" class="css-a4x74f"><span>4840</span></td><td id="LC4840" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isObservableSet(other)) {
</code></td></tr><tr><td id="L4841" class="css-a4x74f"><span>4841</span></td><td id="LC4841" class="css-1dcdqdg"><code>          other = <span class="code-keyword">new</span> <span class="code-built_in">Set</span>(other);
</code></td></tr><tr><td id="L4842" class="css-a4x74f"><span>4842</span></td><td id="LC4842" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4843" class="css-a4x74f"><span>4843</span></td><td id="LC4843" class="css-1dcdqdg"><code>        transaction(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4844" class="css-a4x74f"><span>4844</span></td><td id="LC4844" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (<span class="code-built_in">Array</span>.isArray(other)) {
</code></td></tr><tr><td id="L4845" class="css-a4x74f"><span>4845</span></td><td id="LC4845" class="css-1dcdqdg"><code>            _this5.clear();
</code></td></tr><tr><td id="L4846" class="css-a4x74f"><span>4846</span></td><td id="LC4846" class="css-1dcdqdg"><code>            other.forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L4847" class="css-a4x74f"><span>4847</span></td><td id="LC4847" class="css-1dcdqdg"><code>              <span class="code-keyword">return</span> _this5.add(value);
</code></td></tr><tr><td id="L4848" class="css-a4x74f"><span>4848</span></td><td id="LC4848" class="css-1dcdqdg"><code>            });
</code></td></tr><tr><td id="L4849" class="css-a4x74f"><span>4849</span></td><td id="LC4849" class="css-1dcdqdg"><code>          } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (isES6Set(other)) {
</code></td></tr><tr><td id="L4850" class="css-a4x74f"><span>4850</span></td><td id="LC4850" class="css-1dcdqdg"><code>            _this5.clear();
</code></td></tr><tr><td id="L4851" class="css-a4x74f"><span>4851</span></td><td id="LC4851" class="css-1dcdqdg"><code>            other.forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L4852" class="css-a4x74f"><span>4852</span></td><td id="LC4852" class="css-1dcdqdg"><code>              <span class="code-keyword">return</span> _this5.add(value);
</code></td></tr><tr><td id="L4853" class="css-a4x74f"><span>4853</span></td><td id="LC4853" class="css-1dcdqdg"><code>            });
</code></td></tr><tr><td id="L4854" class="css-a4x74f"><span>4854</span></td><td id="LC4854" class="css-1dcdqdg"><code>          } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (other !== <span class="code-literal">null</span> &amp;&amp; other !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L4855" class="css-a4x74f"><span>4855</span></td><td id="LC4855" class="css-1dcdqdg"><code>            die(<span class="code-string">"Cannot initialize set from "</span> + other);
</code></td></tr><tr><td id="L4856" class="css-a4x74f"><span>4856</span></td><td id="LC4856" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4857" class="css-a4x74f"><span>4857</span></td><td id="LC4857" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L4858" class="css-a4x74f"><span>4858</span></td><td id="LC4858" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4859" class="css-a4x74f"><span>4859</span></td><td id="LC4859" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4860" class="css-a4x74f"><span>4860</span></td><td id="LC4860" class="css-1dcdqdg"><code>      _proto.observe_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">observe_</span>(<span class="code-params">listener, fireImmediately</span>) </span>{
</code></td></tr><tr><td id="L4861" class="css-a4x74f"><span>4861</span></td><td id="LC4861" class="css-1dcdqdg"><code>        <span class="code-comment">// ... 'fireImmediately' could also be true?</span>
</code></td></tr><tr><td id="L4862" class="css-a4x74f"><span>4862</span></td><td id="LC4862" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( fireImmediately === <span class="code-literal">true</span>) {
</code></td></tr><tr><td id="L4863" class="css-a4x74f"><span>4863</span></td><td id="LC4863" class="css-1dcdqdg"><code>          die(<span class="code-string">"`observe` doesn't support fireImmediately=true in combination with sets."</span>);
</code></td></tr><tr><td id="L4864" class="css-a4x74f"><span>4864</span></td><td id="LC4864" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4865" class="css-a4x74f"><span>4865</span></td><td id="LC4865" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> registerListener(<span class="code-keyword">this</span>, listener);
</code></td></tr><tr><td id="L4866" class="css-a4x74f"><span>4866</span></td><td id="LC4866" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4867" class="css-a4x74f"><span>4867</span></td><td id="LC4867" class="css-1dcdqdg"><code>      _proto.intercept_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">intercept_</span>(<span class="code-params">handler</span>) </span>{
</code></td></tr><tr><td id="L4868" class="css-a4x74f"><span>4868</span></td><td id="LC4868" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> registerInterceptor(<span class="code-keyword">this</span>, handler);
</code></td></tr><tr><td id="L4869" class="css-a4x74f"><span>4869</span></td><td id="LC4869" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4870" class="css-a4x74f"><span>4870</span></td><td id="LC4870" class="css-1dcdqdg"><code>      _proto.toJSON = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toJSON</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4871" class="css-a4x74f"><span>4871</span></td><td id="LC4871" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-built_in">Array</span>.from(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4872" class="css-a4x74f"><span>4872</span></td><td id="LC4872" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4873" class="css-a4x74f"><span>4873</span></td><td id="LC4873" class="css-1dcdqdg"><code>      _proto.toString = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toString</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4874" class="css-a4x74f"><span>4874</span></td><td id="LC4874" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-string">"[object ObservableSet]"</span>;
</code></td></tr><tr><td id="L4875" class="css-a4x74f"><span>4875</span></td><td id="LC4875" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4876" class="css-a4x74f"><span>4876</span></td><td id="LC4876" class="css-1dcdqdg"><code>      _proto[<span class="code-built_in">Symbol</span>.iterator] = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4877" class="css-a4x74f"><span>4877</span></td><td id="LC4877" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.values();
</code></td></tr><tr><td id="L4878" class="css-a4x74f"><span>4878</span></td><td id="LC4878" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4879" class="css-a4x74f"><span>4879</span></td><td id="LC4879" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> _createClass(ObservableSet, [{
</code></td></tr><tr><td id="L4880" class="css-a4x74f"><span>4880</span></td><td id="LC4880" class="css-1dcdqdg"><code>        key: <span class="code-string">"size"</span>,
</code></td></tr><tr><td id="L4881" class="css-a4x74f"><span>4881</span></td><td id="LC4881" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L4882" class="css-a4x74f"><span>4882</span></td><td id="LC4882" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.atom_.reportObserved();
</code></td></tr><tr><td id="L4883" class="css-a4x74f"><span>4883</span></td><td id="LC4883" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-keyword">this</span>.data_.size;
</code></td></tr><tr><td id="L4884" class="css-a4x74f"><span>4884</span></td><td id="LC4884" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4885" class="css-a4x74f"><span>4885</span></td><td id="LC4885" class="css-1dcdqdg"><code>      }, {
</code></td></tr><tr><td id="L4886" class="css-a4x74f"><span>4886</span></td><td id="LC4886" class="css-1dcdqdg"><code>        key: <span class="code-built_in">Symbol</span>.toStringTag,
</code></td></tr><tr><td id="L4887" class="css-a4x74f"><span>4887</span></td><td id="LC4887" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L4888" class="css-a4x74f"><span>4888</span></td><td id="LC4888" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-string">"Set"</span>;
</code></td></tr><tr><td id="L4889" class="css-a4x74f"><span>4889</span></td><td id="LC4889" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4890" class="css-a4x74f"><span>4890</span></td><td id="LC4890" class="css-1dcdqdg"><code>      }]);
</code></td></tr><tr><td id="L4891" class="css-a4x74f"><span>4891</span></td><td id="LC4891" class="css-1dcdqdg"><code>    }();
</code></td></tr><tr><td id="L4892" class="css-a4x74f"><span>4892</span></td><td id="LC4892" class="css-1dcdqdg"><code>    <span class="code-comment">// eslint-disable-next-line</span>
</code></td></tr><tr><td id="L4893" class="css-a4x74f"><span>4893</span></td><td id="LC4893" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> isObservableSet = <span class="code-comment">/*#__PURE__*/</span>createInstanceofPredicate(<span class="code-string">"ObservableSet"</span>, ObservableSet);
</code></td></tr><tr><td id="L4894" class="css-a4x74f"><span>4894</span></td><td id="LC4894" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">makeIterableForSet</span>(<span class="code-params">iterator</span>) </span>{
</code></td></tr><tr><td id="L4895" class="css-a4x74f"><span>4895</span></td><td id="LC4895" class="css-1dcdqdg"><code>      iterator[<span class="code-built_in">Symbol</span>.toStringTag] = <span class="code-string">"SetIterator"</span>;
</code></td></tr><tr><td id="L4896" class="css-a4x74f"><span>4896</span></td><td id="LC4896" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> makeIterable(iterator);
</code></td></tr><tr><td id="L4897" class="css-a4x74f"><span>4897</span></td><td id="LC4897" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L4898" class="css-a4x74f"><span>4898</span></td><td id="LC4898" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4899" class="css-a4x74f"><span>4899</span></td><td id="LC4899" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> descriptorCache = <span class="code-comment">/*#__PURE__*/</span><span class="code-built_in">Object</span>.create(<span class="code-literal">null</span>);
</code></td></tr><tr><td id="L4900" class="css-a4x74f"><span>4900</span></td><td id="LC4900" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> REMOVE = <span class="code-string">"remove"</span>;
</code></td></tr><tr><td id="L4901" class="css-a4x74f"><span>4901</span></td><td id="LC4901" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> ObservableObjectAdministration = <span class="code-comment">/*#__PURE__*/</span><span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4902" class="css-a4x74f"><span>4902</span></td><td id="LC4902" class="css-1dcdqdg"><code>      <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ObservableObjectAdministration</span>(<span class="code-params">target_, values_, name_,
</span></span></code></td></tr><tr><td id="L4903" class="css-a4x74f"><span>4903</span></td><td id="LC4903" class="css-1dcdqdg"><code><span class="code-function"><span class="code-params">      <span class="code-regexp">//</span> Used anytime annotation is not explicitely provided
</span></span></code></td></tr><tr><td id="L4904" class="css-a4x74f"><span>4904</span></td><td id="LC4904" class="css-1dcdqdg"><code><span class="code-function"><span class="code-params">      defaultAnnotation_</span>) </span>{
</code></td></tr><tr><td id="L4905" class="css-a4x74f"><span>4905</span></td><td id="LC4905" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (values_ === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L4906" class="css-a4x74f"><span>4906</span></td><td id="LC4906" class="css-1dcdqdg"><code>          values_ = <span class="code-keyword">new</span> <span class="code-built_in">Map</span>();
</code></td></tr><tr><td id="L4907" class="css-a4x74f"><span>4907</span></td><td id="LC4907" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4908" class="css-a4x74f"><span>4908</span></td><td id="LC4908" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (defaultAnnotation_ === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L4909" class="css-a4x74f"><span>4909</span></td><td id="LC4909" class="css-1dcdqdg"><code>          defaultAnnotation_ = autoAnnotation;
</code></td></tr><tr><td id="L4910" class="css-a4x74f"><span>4910</span></td><td id="LC4910" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4911" class="css-a4x74f"><span>4911</span></td><td id="LC4911" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.target_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4912" class="css-a4x74f"><span>4912</span></td><td id="LC4912" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.values_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4913" class="css-a4x74f"><span>4913</span></td><td id="LC4913" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.name_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4914" class="css-a4x74f"><span>4914</span></td><td id="LC4914" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.defaultAnnotation_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4915" class="css-a4x74f"><span>4915</span></td><td id="LC4915" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.keysAtom_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4916" class="css-a4x74f"><span>4916</span></td><td id="LC4916" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.changeListeners_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4917" class="css-a4x74f"><span>4917</span></td><td id="LC4917" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.interceptors_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4918" class="css-a4x74f"><span>4918</span></td><td id="LC4918" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.proxy_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4919" class="css-a4x74f"><span>4919</span></td><td id="LC4919" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.isPlainObject_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4920" class="css-a4x74f"><span>4920</span></td><td id="LC4920" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.appliedAnnotations_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4921" class="css-a4x74f"><span>4921</span></td><td id="LC4921" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.pendingKeys_ = <span class="code-keyword">void</span> <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4922" class="css-a4x74f"><span>4922</span></td><td id="LC4922" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.target_ = target_;
</code></td></tr><tr><td id="L4923" class="css-a4x74f"><span>4923</span></td><td id="LC4923" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.values_ = values_;
</code></td></tr><tr><td id="L4924" class="css-a4x74f"><span>4924</span></td><td id="LC4924" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.name_ = name_;
</code></td></tr><tr><td id="L4925" class="css-a4x74f"><span>4925</span></td><td id="LC4925" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.defaultAnnotation_ = defaultAnnotation_;
</code></td></tr><tr><td id="L4926" class="css-a4x74f"><span>4926</span></td><td id="LC4926" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.keysAtom_ = <span class="code-keyword">new</span> Atom( <span class="code-keyword">this</span>.name_ + <span class="code-string">".keys"</span> );
</code></td></tr><tr><td id="L4927" class="css-a4x74f"><span>4927</span></td><td id="LC4927" class="css-1dcdqdg"><code>        <span class="code-comment">// Optimization: we use this frequently</span>
</code></td></tr><tr><td id="L4928" class="css-a4x74f"><span>4928</span></td><td id="LC4928" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.isPlainObject_ = isPlainObject(<span class="code-keyword">this</span>.target_);
</code></td></tr><tr><td id="L4929" class="css-a4x74f"><span>4929</span></td><td id="LC4929" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( !isAnnotation(<span class="code-keyword">this</span>.defaultAnnotation_)) {
</code></td></tr><tr><td id="L4930" class="css-a4x74f"><span>4930</span></td><td id="LC4930" class="css-1dcdqdg"><code>          die(<span class="code-string">"defaultAnnotation must be valid annotation"</span>);
</code></td></tr><tr><td id="L4931" class="css-a4x74f"><span>4931</span></td><td id="LC4931" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4932" class="css-a4x74f"><span>4932</span></td><td id="LC4932" class="css-1dcdqdg"><code>        {
</code></td></tr><tr><td id="L4933" class="css-a4x74f"><span>4933</span></td><td id="LC4933" class="css-1dcdqdg"><code>          <span class="code-comment">// Prepare structure for tracking which fields were already annotated</span>
</code></td></tr><tr><td id="L4934" class="css-a4x74f"><span>4934</span></td><td id="LC4934" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.appliedAnnotations_ = {};
</code></td></tr><tr><td id="L4935" class="css-a4x74f"><span>4935</span></td><td id="LC4935" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4936" class="css-a4x74f"><span>4936</span></td><td id="LC4936" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L4937" class="css-a4x74f"><span>4937</span></td><td id="LC4937" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _proto = ObservableObjectAdministration.prototype;
</code></td></tr><tr><td id="L4938" class="css-a4x74f"><span>4938</span></td><td id="LC4938" class="css-1dcdqdg"><code>      _proto.getObservablePropValue_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getObservablePropValue_</span>(<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L4939" class="css-a4x74f"><span>4939</span></td><td id="LC4939" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.values_.get(key).get();
</code></td></tr><tr><td id="L4940" class="css-a4x74f"><span>4940</span></td><td id="LC4940" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4941" class="css-a4x74f"><span>4941</span></td><td id="LC4941" class="css-1dcdqdg"><code>      _proto.setObservablePropValue_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">setObservablePropValue_</span>(<span class="code-params">key, newValue</span>) </span>{
</code></td></tr><tr><td id="L4942" class="css-a4x74f"><span>4942</span></td><td id="LC4942" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> observable = <span class="code-keyword">this</span>.values_.get(key);
</code></td></tr><tr><td id="L4943" class="css-a4x74f"><span>4943</span></td><td id="LC4943" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (observable <span class="code-keyword">instanceof</span> ComputedValue) {
</code></td></tr><tr><td id="L4944" class="css-a4x74f"><span>4944</span></td><td id="LC4944" class="css-1dcdqdg"><code>          observable.set(newValue);
</code></td></tr><tr><td id="L4945" class="css-a4x74f"><span>4945</span></td><td id="LC4945" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L4946" class="css-a4x74f"><span>4946</span></td><td id="LC4946" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4947" class="css-a4x74f"><span>4947</span></td><td id="LC4947" class="css-1dcdqdg"><code>        <span class="code-comment">// intercept</span>
</code></td></tr><tr><td id="L4948" class="css-a4x74f"><span>4948</span></td><td id="LC4948" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (hasInterceptors(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L4949" class="css-a4x74f"><span>4949</span></td><td id="LC4949" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> change = interceptChange(<span class="code-keyword">this</span>, {
</code></td></tr><tr><td id="L4950" class="css-a4x74f"><span>4950</span></td><td id="LC4950" class="css-1dcdqdg"><code>            type: UPDATE,
</code></td></tr><tr><td id="L4951" class="css-a4x74f"><span>4951</span></td><td id="LC4951" class="css-1dcdqdg"><code>            object: <span class="code-keyword">this</span>.proxy_ || <span class="code-keyword">this</span>.target_,
</code></td></tr><tr><td id="L4952" class="css-a4x74f"><span>4952</span></td><td id="LC4952" class="css-1dcdqdg"><code>            name: key,
</code></td></tr><tr><td id="L4953" class="css-a4x74f"><span>4953</span></td><td id="LC4953" class="css-1dcdqdg"><code>            newValue: newValue
</code></td></tr><tr><td id="L4954" class="css-a4x74f"><span>4954</span></td><td id="LC4954" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L4955" class="css-a4x74f"><span>4955</span></td><td id="LC4955" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!change) {
</code></td></tr><tr><td id="L4956" class="css-a4x74f"><span>4956</span></td><td id="LC4956" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L4957" class="css-a4x74f"><span>4957</span></td><td id="LC4957" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4958" class="css-a4x74f"><span>4958</span></td><td id="LC4958" class="css-1dcdqdg"><code>          newValue = change.newValue;
</code></td></tr><tr><td id="L4959" class="css-a4x74f"><span>4959</span></td><td id="LC4959" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4960" class="css-a4x74f"><span>4960</span></td><td id="LC4960" class="css-1dcdqdg"><code>        newValue = observable.prepareNewValue_(newValue);
</code></td></tr><tr><td id="L4961" class="css-a4x74f"><span>4961</span></td><td id="LC4961" class="css-1dcdqdg"><code>        <span class="code-comment">// notify spy &amp; observers</span>
</code></td></tr><tr><td id="L4962" class="css-a4x74f"><span>4962</span></td><td id="LC4962" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (newValue !== globalState.UNCHANGED) {
</code></td></tr><tr><td id="L4963" class="css-a4x74f"><span>4963</span></td><td id="LC4963" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> notify = hasListeners(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4964" class="css-a4x74f"><span>4964</span></td><td id="LC4964" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> notifySpy =  isSpyEnabled();
</code></td></tr><tr><td id="L4965" class="css-a4x74f"><span>4965</span></td><td id="LC4965" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> _change = notify || notifySpy ? {
</code></td></tr><tr><td id="L4966" class="css-a4x74f"><span>4966</span></td><td id="LC4966" class="css-1dcdqdg"><code>            type: UPDATE,
</code></td></tr><tr><td id="L4967" class="css-a4x74f"><span>4967</span></td><td id="LC4967" class="css-1dcdqdg"><code>            observableKind: <span class="code-string">"object"</span>,
</code></td></tr><tr><td id="L4968" class="css-a4x74f"><span>4968</span></td><td id="LC4968" class="css-1dcdqdg"><code>            debugObjectName: <span class="code-keyword">this</span>.name_,
</code></td></tr><tr><td id="L4969" class="css-a4x74f"><span>4969</span></td><td id="LC4969" class="css-1dcdqdg"><code>            object: <span class="code-keyword">this</span>.proxy_ || <span class="code-keyword">this</span>.target_,
</code></td></tr><tr><td id="L4970" class="css-a4x74f"><span>4970</span></td><td id="LC4970" class="css-1dcdqdg"><code>            oldValue: observable.value_,
</code></td></tr><tr><td id="L4971" class="css-a4x74f"><span>4971</span></td><td id="LC4971" class="css-1dcdqdg"><code>            name: key,
</code></td></tr><tr><td id="L4972" class="css-a4x74f"><span>4972</span></td><td id="LC4972" class="css-1dcdqdg"><code>            newValue: newValue
</code></td></tr><tr><td id="L4973" class="css-a4x74f"><span>4973</span></td><td id="LC4973" class="css-1dcdqdg"><code>          } : <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L4974" class="css-a4x74f"><span>4974</span></td><td id="LC4974" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> ( notifySpy) {
</code></td></tr><tr><td id="L4975" class="css-a4x74f"><span>4975</span></td><td id="LC4975" class="css-1dcdqdg"><code>            spyReportStart(_change);
</code></td></tr><tr><td id="L4976" class="css-a4x74f"><span>4976</span></td><td id="LC4976" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4977" class="css-a4x74f"><span>4977</span></td><td id="LC4977" class="css-1dcdqdg"><code>          observable.setNewValue_(newValue);
</code></td></tr><tr><td id="L4978" class="css-a4x74f"><span>4978</span></td><td id="LC4978" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (notify) {
</code></td></tr><tr><td id="L4979" class="css-a4x74f"><span>4979</span></td><td id="LC4979" class="css-1dcdqdg"><code>            notifyListeners(<span class="code-keyword">this</span>, _change);
</code></td></tr><tr><td id="L4980" class="css-a4x74f"><span>4980</span></td><td id="LC4980" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4981" class="css-a4x74f"><span>4981</span></td><td id="LC4981" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> ( notifySpy) {
</code></td></tr><tr><td id="L4982" class="css-a4x74f"><span>4982</span></td><td id="LC4982" class="css-1dcdqdg"><code>            spyReportEnd();
</code></td></tr><tr><td id="L4983" class="css-a4x74f"><span>4983</span></td><td id="LC4983" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L4984" class="css-a4x74f"><span>4984</span></td><td id="LC4984" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4985" class="css-a4x74f"><span>4985</span></td><td id="LC4985" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L4986" class="css-a4x74f"><span>4986</span></td><td id="LC4986" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L4987" class="css-a4x74f"><span>4987</span></td><td id="LC4987" class="css-1dcdqdg"><code>      _proto.get_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">get_</span>(<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L4988" class="css-a4x74f"><span>4988</span></td><td id="LC4988" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (globalState.trackingDerivation &amp;&amp; !hasProp(<span class="code-keyword">this</span>.target_, key)) {
</code></td></tr><tr><td id="L4989" class="css-a4x74f"><span>4989</span></td><td id="LC4989" class="css-1dcdqdg"><code>          <span class="code-comment">// Key doesn't exist yet, subscribe for it in case it's added later</span>
</code></td></tr><tr><td id="L4990" class="css-a4x74f"><span>4990</span></td><td id="LC4990" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.has_(key);
</code></td></tr><tr><td id="L4991" class="css-a4x74f"><span>4991</span></td><td id="LC4991" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L4992" class="css-a4x74f"><span>4992</span></td><td id="LC4992" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.target_[key];
</code></td></tr><tr><td id="L4993" class="css-a4x74f"><span>4993</span></td><td id="LC4993" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L4994" class="css-a4x74f"><span>4994</span></td><td id="LC4994" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L4995" class="css-a4x74f"><span>4995</span></td><td id="LC4995" class="css-1dcdqdg"><code><span class="code-comment">       * @param {PropertyKey} key
</span></code></td></tr><tr><td id="L4996" class="css-a4x74f"><span>4996</span></td><td id="LC4996" class="css-1dcdqdg"><code><span class="code-comment">       * @param {any} value
</span></code></td></tr><tr><td id="L4997" class="css-a4x74f"><span>4997</span></td><td id="LC4997" class="css-1dcdqdg"><code><span class="code-comment">       * @param {Annotation|boolean} annotation true - use default annotation, false - copy as is
</span></code></td></tr><tr><td id="L4998" class="css-a4x74f"><span>4998</span></td><td id="LC4998" class="css-1dcdqdg"><code><span class="code-comment">       * @param {boolean} proxyTrap whether it's called from proxy trap
</span></code></td></tr><tr><td id="L4999" class="css-a4x74f"><span>4999</span></td><td id="LC4999" class="css-1dcdqdg"><code><span class="code-comment">       * @returns {boolean|null} true on success, false on failure (proxyTrap + non-configurable), null when cancelled by interceptor
</span></code></td></tr><tr><td id="L5000" class="css-a4x74f"><span>5000</span></td><td id="LC5000" class="css-1dcdqdg"><code><span class="code-comment">       */</span>;
</code></td></tr><tr><td id="L5001" class="css-a4x74f"><span>5001</span></td><td id="LC5001" class="css-1dcdqdg"><code>      _proto.set_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">set_</span>(<span class="code-params">key, value, proxyTrap</span>) </span>{
</code></td></tr><tr><td id="L5002" class="css-a4x74f"><span>5002</span></td><td id="LC5002" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (proxyTrap === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L5003" class="css-a4x74f"><span>5003</span></td><td id="LC5003" class="css-1dcdqdg"><code>          proxyTrap = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5004" class="css-a4x74f"><span>5004</span></td><td id="LC5004" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5005" class="css-a4x74f"><span>5005</span></td><td id="LC5005" class="css-1dcdqdg"><code>        <span class="code-comment">// Don't use .has(key) - we care about own</span>
</code></td></tr><tr><td id="L5006" class="css-a4x74f"><span>5006</span></td><td id="LC5006" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (hasProp(<span class="code-keyword">this</span>.target_, key)) {
</code></td></tr><tr><td id="L5007" class="css-a4x74f"><span>5007</span></td><td id="LC5007" class="css-1dcdqdg"><code>          <span class="code-comment">// Existing prop</span>
</code></td></tr><tr><td id="L5008" class="css-a4x74f"><span>5008</span></td><td id="LC5008" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.values_.has(key)) {
</code></td></tr><tr><td id="L5009" class="css-a4x74f"><span>5009</span></td><td id="LC5009" class="css-1dcdqdg"><code>            <span class="code-comment">// Observable (can be intercepted)</span>
</code></td></tr><tr><td id="L5010" class="css-a4x74f"><span>5010</span></td><td id="LC5010" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> <span class="code-keyword">this</span>.setObservablePropValue_(key, value);
</code></td></tr><tr><td id="L5011" class="css-a4x74f"><span>5011</span></td><td id="LC5011" class="css-1dcdqdg"><code>          } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (proxyTrap) {
</code></td></tr><tr><td id="L5012" class="css-a4x74f"><span>5012</span></td><td id="LC5012" class="css-1dcdqdg"><code>            <span class="code-comment">// Non-observable - proxy</span>
</code></td></tr><tr><td id="L5013" class="css-a4x74f"><span>5013</span></td><td id="LC5013" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> <span class="code-built_in">Reflect</span>.set(<span class="code-keyword">this</span>.target_, key, value);
</code></td></tr><tr><td id="L5014" class="css-a4x74f"><span>5014</span></td><td id="LC5014" class="css-1dcdqdg"><code>          } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L5015" class="css-a4x74f"><span>5015</span></td><td id="LC5015" class="css-1dcdqdg"><code>            <span class="code-comment">// Non-observable</span>
</code></td></tr><tr><td id="L5016" class="css-a4x74f"><span>5016</span></td><td id="LC5016" class="css-1dcdqdg"><code>            <span class="code-keyword">this</span>.target_[key] = value;
</code></td></tr><tr><td id="L5017" class="css-a4x74f"><span>5017</span></td><td id="LC5017" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L5018" class="css-a4x74f"><span>5018</span></td><td id="LC5018" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5019" class="css-a4x74f"><span>5019</span></td><td id="LC5019" class="css-1dcdqdg"><code>        } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L5020" class="css-a4x74f"><span>5020</span></td><td id="LC5020" class="css-1dcdqdg"><code>          <span class="code-comment">// New prop</span>
</code></td></tr><tr><td id="L5021" class="css-a4x74f"><span>5021</span></td><td id="LC5021" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-keyword">this</span>.extend_(key, {
</code></td></tr><tr><td id="L5022" class="css-a4x74f"><span>5022</span></td><td id="LC5022" class="css-1dcdqdg"><code>            value: value,
</code></td></tr><tr><td id="L5023" class="css-a4x74f"><span>5023</span></td><td id="LC5023" class="css-1dcdqdg"><code>            enumerable: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L5024" class="css-a4x74f"><span>5024</span></td><td id="LC5024" class="css-1dcdqdg"><code>            writable: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L5025" class="css-a4x74f"><span>5025</span></td><td id="LC5025" class="css-1dcdqdg"><code>            configurable: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L5026" class="css-a4x74f"><span>5026</span></td><td id="LC5026" class="css-1dcdqdg"><code>          }, <span class="code-keyword">this</span>.defaultAnnotation_, proxyTrap);
</code></td></tr><tr><td id="L5027" class="css-a4x74f"><span>5027</span></td><td id="LC5027" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5028" class="css-a4x74f"><span>5028</span></td><td id="LC5028" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5029" class="css-a4x74f"><span>5029</span></td><td id="LC5029" class="css-1dcdqdg"><code>      <span class="code-comment">// Trap for "in"</span>
</code></td></tr><tr><td id="L5030" class="css-a4x74f"><span>5030</span></td><td id="LC5030" class="css-1dcdqdg"><code>      ;
</code></td></tr><tr><td id="L5031" class="css-a4x74f"><span>5031</span></td><td id="LC5031" class="css-1dcdqdg"><code>      _proto.has_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">has_</span>(<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L5032" class="css-a4x74f"><span>5032</span></td><td id="LC5032" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!globalState.trackingDerivation) {
</code></td></tr><tr><td id="L5033" class="css-a4x74f"><span>5033</span></td><td id="LC5033" class="css-1dcdqdg"><code>          <span class="code-comment">// Skip key subscription outside derivation</span>
</code></td></tr><tr><td id="L5034" class="css-a4x74f"><span>5034</span></td><td id="LC5034" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> key <span class="code-keyword">in</span> <span class="code-keyword">this</span>.target_;
</code></td></tr><tr><td id="L5035" class="css-a4x74f"><span>5035</span></td><td id="LC5035" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5036" class="css-a4x74f"><span>5036</span></td><td id="LC5036" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.pendingKeys_ || (<span class="code-keyword">this</span>.pendingKeys_ = <span class="code-keyword">new</span> <span class="code-built_in">Map</span>());
</code></td></tr><tr><td id="L5037" class="css-a4x74f"><span>5037</span></td><td id="LC5037" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> entry = <span class="code-keyword">this</span>.pendingKeys_.get(key);
</code></td></tr><tr><td id="L5038" class="css-a4x74f"><span>5038</span></td><td id="LC5038" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!entry) {
</code></td></tr><tr><td id="L5039" class="css-a4x74f"><span>5039</span></td><td id="LC5039" class="css-1dcdqdg"><code>          entry = <span class="code-keyword">new</span> ObservableValue(key <span class="code-keyword">in</span> <span class="code-keyword">this</span>.target_, referenceEnhancer,  <span class="code-keyword">this</span>.name_ + <span class="code-string">"."</span> + stringifyKey(key) + <span class="code-string">"?"</span> , <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L5040" class="css-a4x74f"><span>5040</span></td><td id="LC5040" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.pendingKeys_.set(key, entry);
</code></td></tr><tr><td id="L5041" class="css-a4x74f"><span>5041</span></td><td id="LC5041" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5042" class="css-a4x74f"><span>5042</span></td><td id="LC5042" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> entry.get();
</code></td></tr><tr><td id="L5043" class="css-a4x74f"><span>5043</span></td><td id="LC5043" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5044" class="css-a4x74f"><span>5044</span></td><td id="LC5044" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L5045" class="css-a4x74f"><span>5045</span></td><td id="LC5045" class="css-1dcdqdg"><code><span class="code-comment">       * @param {PropertyKey} key
</span></code></td></tr><tr><td id="L5046" class="css-a4x74f"><span>5046</span></td><td id="LC5046" class="css-1dcdqdg"><code><span class="code-comment">       * @param {Annotation|boolean} annotation true - use default annotation, false - ignore prop
</span></code></td></tr><tr><td id="L5047" class="css-a4x74f"><span>5047</span></td><td id="LC5047" class="css-1dcdqdg"><code><span class="code-comment">       */</span>;
</code></td></tr><tr><td id="L5048" class="css-a4x74f"><span>5048</span></td><td id="LC5048" class="css-1dcdqdg"><code>      _proto.make_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">make_</span>(<span class="code-params">key, annotation</span>) </span>{
</code></td></tr><tr><td id="L5049" class="css-a4x74f"><span>5049</span></td><td id="LC5049" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (annotation === <span class="code-literal">true</span>) {
</code></td></tr><tr><td id="L5050" class="css-a4x74f"><span>5050</span></td><td id="LC5050" class="css-1dcdqdg"><code>          annotation = <span class="code-keyword">this</span>.defaultAnnotation_;
</code></td></tr><tr><td id="L5051" class="css-a4x74f"><span>5051</span></td><td id="LC5051" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5052" class="css-a4x74f"><span>5052</span></td><td id="LC5052" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (annotation === <span class="code-literal">false</span>) {
</code></td></tr><tr><td id="L5053" class="css-a4x74f"><span>5053</span></td><td id="LC5053" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L5054" class="css-a4x74f"><span>5054</span></td><td id="LC5054" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5055" class="css-a4x74f"><span>5055</span></td><td id="LC5055" class="css-1dcdqdg"><code>        assertAnnotable(<span class="code-keyword">this</span>, annotation, key);
</code></td></tr><tr><td id="L5056" class="css-a4x74f"><span>5056</span></td><td id="LC5056" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!(key <span class="code-keyword">in</span> <span class="code-keyword">this</span>.target_)) {
</code></td></tr><tr><td id="L5057" class="css-a4x74f"><span>5057</span></td><td id="LC5057" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> _this$target_$storedA;
</code></td></tr><tr><td id="L5058" class="css-a4x74f"><span>5058</span></td><td id="LC5058" class="css-1dcdqdg"><code>          <span class="code-comment">// Throw on missing key, except for decorators:</span>
</code></td></tr><tr><td id="L5059" class="css-a4x74f"><span>5059</span></td><td id="LC5059" class="css-1dcdqdg"><code>          <span class="code-comment">// Decorator annotations are collected from whole prototype chain.</span>
</code></td></tr><tr><td id="L5060" class="css-a4x74f"><span>5060</span></td><td id="LC5060" class="css-1dcdqdg"><code>          <span class="code-comment">// When called from super() some props may not exist yet.</span>
</code></td></tr><tr><td id="L5061" class="css-a4x74f"><span>5061</span></td><td id="LC5061" class="css-1dcdqdg"><code>          <span class="code-comment">// However we don't have to worry about missing prop,</span>
</code></td></tr><tr><td id="L5062" class="css-a4x74f"><span>5062</span></td><td id="LC5062" class="css-1dcdqdg"><code>          <span class="code-comment">// because the decorator must have been applied to something.</span>
</code></td></tr><tr><td id="L5063" class="css-a4x74f"><span>5063</span></td><td id="LC5063" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> ((_this$target_$storedA = <span class="code-keyword">this</span>.target_[storedAnnotationsSymbol]) != <span class="code-literal">null</span> &amp;&amp; _this$target_$storedA[key]) {
</code></td></tr><tr><td id="L5064" class="css-a4x74f"><span>5064</span></td><td id="LC5064" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span>; <span class="code-comment">// will be annotated by subclass constructor</span>
</code></td></tr><tr><td id="L5065" class="css-a4x74f"><span>5065</span></td><td id="LC5065" class="css-1dcdqdg"><code>          } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L5066" class="css-a4x74f"><span>5066</span></td><td id="LC5066" class="css-1dcdqdg"><code>            die(<span class="code-number">1</span>, annotation.annotationType_, <span class="code-keyword">this</span>.name_ + <span class="code-string">"."</span> + key.toString());
</code></td></tr><tr><td id="L5067" class="css-a4x74f"><span>5067</span></td><td id="LC5067" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5068" class="css-a4x74f"><span>5068</span></td><td id="LC5068" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5069" class="css-a4x74f"><span>5069</span></td><td id="LC5069" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> source = <span class="code-keyword">this</span>.target_;
</code></td></tr><tr><td id="L5070" class="css-a4x74f"><span>5070</span></td><td id="LC5070" class="css-1dcdqdg"><code>        <span class="code-keyword">while</span> (source &amp;&amp; source !== objectPrototype) {
</code></td></tr><tr><td id="L5071" class="css-a4x74f"><span>5071</span></td><td id="LC5071" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> descriptor = getDescriptor(source, key);
</code></td></tr><tr><td id="L5072" class="css-a4x74f"><span>5072</span></td><td id="LC5072" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (descriptor) {
</code></td></tr><tr><td id="L5073" class="css-a4x74f"><span>5073</span></td><td id="LC5073" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> outcome = annotation.make_(<span class="code-keyword">this</span>, key, descriptor, source);
</code></td></tr><tr><td id="L5074" class="css-a4x74f"><span>5074</span></td><td id="LC5074" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (outcome === <span class="code-number">0</span> <span class="code-comment">/* MakeResult.Cancel */</span>) {
</code></td></tr><tr><td id="L5075" class="css-a4x74f"><span>5075</span></td><td id="LC5075" class="css-1dcdqdg"><code>              <span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L5076" class="css-a4x74f"><span>5076</span></td><td id="LC5076" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L5077" class="css-a4x74f"><span>5077</span></td><td id="LC5077" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (outcome === <span class="code-number">1</span> <span class="code-comment">/* MakeResult.Break */</span>) {
</code></td></tr><tr><td id="L5078" class="css-a4x74f"><span>5078</span></td><td id="LC5078" class="css-1dcdqdg"><code>              <span class="code-keyword">break</span>;
</code></td></tr><tr><td id="L5079" class="css-a4x74f"><span>5079</span></td><td id="LC5079" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L5080" class="css-a4x74f"><span>5080</span></td><td id="LC5080" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5081" class="css-a4x74f"><span>5081</span></td><td id="LC5081" class="css-1dcdqdg"><code>          source = <span class="code-built_in">Object</span>.getPrototypeOf(source);
</code></td></tr><tr><td id="L5082" class="css-a4x74f"><span>5082</span></td><td id="LC5082" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5083" class="css-a4x74f"><span>5083</span></td><td id="LC5083" class="css-1dcdqdg"><code>        recordAnnotationApplied(<span class="code-keyword">this</span>, annotation, key);
</code></td></tr><tr><td id="L5084" class="css-a4x74f"><span>5084</span></td><td id="LC5084" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5085" class="css-a4x74f"><span>5085</span></td><td id="LC5085" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L5086" class="css-a4x74f"><span>5086</span></td><td id="LC5086" class="css-1dcdqdg"><code><span class="code-comment">       * @param {PropertyKey} key
</span></code></td></tr><tr><td id="L5087" class="css-a4x74f"><span>5087</span></td><td id="LC5087" class="css-1dcdqdg"><code><span class="code-comment">       * @param {PropertyDescriptor} descriptor
</span></code></td></tr><tr><td id="L5088" class="css-a4x74f"><span>5088</span></td><td id="LC5088" class="css-1dcdqdg"><code><span class="code-comment">       * @param {Annotation|boolean} annotation true - use default annotation, false - copy as is
</span></code></td></tr><tr><td id="L5089" class="css-a4x74f"><span>5089</span></td><td id="LC5089" class="css-1dcdqdg"><code><span class="code-comment">       * @param {boolean} proxyTrap whether it's called from proxy trap
</span></code></td></tr><tr><td id="L5090" class="css-a4x74f"><span>5090</span></td><td id="LC5090" class="css-1dcdqdg"><code><span class="code-comment">       * @returns {boolean|null} true on success, false on failure (proxyTrap + non-configurable), null when cancelled by interceptor
</span></code></td></tr><tr><td id="L5091" class="css-a4x74f"><span>5091</span></td><td id="LC5091" class="css-1dcdqdg"><code><span class="code-comment">       */</span>;
</code></td></tr><tr><td id="L5092" class="css-a4x74f"><span>5092</span></td><td id="LC5092" class="css-1dcdqdg"><code>      _proto.extend_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">extend_</span>(<span class="code-params">key, descriptor, annotation, proxyTrap</span>) </span>{
</code></td></tr><tr><td id="L5093" class="css-a4x74f"><span>5093</span></td><td id="LC5093" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (proxyTrap === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L5094" class="css-a4x74f"><span>5094</span></td><td id="LC5094" class="css-1dcdqdg"><code>          proxyTrap = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5095" class="css-a4x74f"><span>5095</span></td><td id="LC5095" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5096" class="css-a4x74f"><span>5096</span></td><td id="LC5096" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (annotation === <span class="code-literal">true</span>) {
</code></td></tr><tr><td id="L5097" class="css-a4x74f"><span>5097</span></td><td id="LC5097" class="css-1dcdqdg"><code>          annotation = <span class="code-keyword">this</span>.defaultAnnotation_;
</code></td></tr><tr><td id="L5098" class="css-a4x74f"><span>5098</span></td><td id="LC5098" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5099" class="css-a4x74f"><span>5099</span></td><td id="LC5099" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (annotation === <span class="code-literal">false</span>) {
</code></td></tr><tr><td id="L5100" class="css-a4x74f"><span>5100</span></td><td id="LC5100" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-keyword">this</span>.defineProperty_(key, descriptor, proxyTrap);
</code></td></tr><tr><td id="L5101" class="css-a4x74f"><span>5101</span></td><td id="LC5101" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5102" class="css-a4x74f"><span>5102</span></td><td id="LC5102" class="css-1dcdqdg"><code>        assertAnnotable(<span class="code-keyword">this</span>, annotation, key);
</code></td></tr><tr><td id="L5103" class="css-a4x74f"><span>5103</span></td><td id="LC5103" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> outcome = annotation.extend_(<span class="code-keyword">this</span>, key, descriptor, proxyTrap);
</code></td></tr><tr><td id="L5104" class="css-a4x74f"><span>5104</span></td><td id="LC5104" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (outcome) {
</code></td></tr><tr><td id="L5105" class="css-a4x74f"><span>5105</span></td><td id="LC5105" class="css-1dcdqdg"><code>          recordAnnotationApplied(<span class="code-keyword">this</span>, annotation, key);
</code></td></tr><tr><td id="L5106" class="css-a4x74f"><span>5106</span></td><td id="LC5106" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5107" class="css-a4x74f"><span>5107</span></td><td id="LC5107" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> outcome;
</code></td></tr><tr><td id="L5108" class="css-a4x74f"><span>5108</span></td><td id="LC5108" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5109" class="css-a4x74f"><span>5109</span></td><td id="LC5109" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L5110" class="css-a4x74f"><span>5110</span></td><td id="LC5110" class="css-1dcdqdg"><code><span class="code-comment">       * @param {PropertyKey} key
</span></code></td></tr><tr><td id="L5111" class="css-a4x74f"><span>5111</span></td><td id="LC5111" class="css-1dcdqdg"><code><span class="code-comment">       * @param {PropertyDescriptor} descriptor
</span></code></td></tr><tr><td id="L5112" class="css-a4x74f"><span>5112</span></td><td id="LC5112" class="css-1dcdqdg"><code><span class="code-comment">       * @param {boolean} proxyTrap whether it's called from proxy trap
</span></code></td></tr><tr><td id="L5113" class="css-a4x74f"><span>5113</span></td><td id="LC5113" class="css-1dcdqdg"><code><span class="code-comment">       * @returns {boolean|null} true on success, false on failure (proxyTrap + non-configurable), null when cancelled by interceptor
</span></code></td></tr><tr><td id="L5114" class="css-a4x74f"><span>5114</span></td><td id="LC5114" class="css-1dcdqdg"><code><span class="code-comment">       */</span>;
</code></td></tr><tr><td id="L5115" class="css-a4x74f"><span>5115</span></td><td id="LC5115" class="css-1dcdqdg"><code>      _proto.defineProperty_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">defineProperty_</span>(<span class="code-params">key, descriptor, proxyTrap</span>) </span>{
</code></td></tr><tr><td id="L5116" class="css-a4x74f"><span>5116</span></td><td id="LC5116" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (proxyTrap === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L5117" class="css-a4x74f"><span>5117</span></td><td id="LC5117" class="css-1dcdqdg"><code>          proxyTrap = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5118" class="css-a4x74f"><span>5118</span></td><td id="LC5118" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5119" class="css-a4x74f"><span>5119</span></td><td id="LC5119" class="css-1dcdqdg"><code>        checkIfStateModificationsAreAllowed(<span class="code-keyword">this</span>.keysAtom_);
</code></td></tr><tr><td id="L5120" class="css-a4x74f"><span>5120</span></td><td id="LC5120" class="css-1dcdqdg"><code>        <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L5121" class="css-a4x74f"><span>5121</span></td><td id="LC5121" class="css-1dcdqdg"><code>          startBatch();
</code></td></tr><tr><td id="L5122" class="css-a4x74f"><span>5122</span></td><td id="LC5122" class="css-1dcdqdg"><code>          <span class="code-comment">// Delete</span>
</code></td></tr><tr><td id="L5123" class="css-a4x74f"><span>5123</span></td><td id="LC5123" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> deleteOutcome = <span class="code-keyword">this</span>.delete_(key);
</code></td></tr><tr><td id="L5124" class="css-a4x74f"><span>5124</span></td><td id="LC5124" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!deleteOutcome) {
</code></td></tr><tr><td id="L5125" class="css-a4x74f"><span>5125</span></td><td id="LC5125" class="css-1dcdqdg"><code>            <span class="code-comment">// Failure or intercepted</span>
</code></td></tr><tr><td id="L5126" class="css-a4x74f"><span>5126</span></td><td id="LC5126" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> deleteOutcome;
</code></td></tr><tr><td id="L5127" class="css-a4x74f"><span>5127</span></td><td id="LC5127" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5128" class="css-a4x74f"><span>5128</span></td><td id="LC5128" class="css-1dcdqdg"><code>          <span class="code-comment">// ADD interceptor</span>
</code></td></tr><tr><td id="L5129" class="css-a4x74f"><span>5129</span></td><td id="LC5129" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (hasInterceptors(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L5130" class="css-a4x74f"><span>5130</span></td><td id="LC5130" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> change = interceptChange(<span class="code-keyword">this</span>, {
</code></td></tr><tr><td id="L5131" class="css-a4x74f"><span>5131</span></td><td id="LC5131" class="css-1dcdqdg"><code>              object: <span class="code-keyword">this</span>.proxy_ || <span class="code-keyword">this</span>.target_,
</code></td></tr><tr><td id="L5132" class="css-a4x74f"><span>5132</span></td><td id="LC5132" class="css-1dcdqdg"><code>              name: key,
</code></td></tr><tr><td id="L5133" class="css-a4x74f"><span>5133</span></td><td id="LC5133" class="css-1dcdqdg"><code>              type: ADD,
</code></td></tr><tr><td id="L5134" class="css-a4x74f"><span>5134</span></td><td id="LC5134" class="css-1dcdqdg"><code>              newValue: descriptor.value
</code></td></tr><tr><td id="L5135" class="css-a4x74f"><span>5135</span></td><td id="LC5135" class="css-1dcdqdg"><code>            });
</code></td></tr><tr><td id="L5136" class="css-a4x74f"><span>5136</span></td><td id="LC5136" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (!change) {
</code></td></tr><tr><td id="L5137" class="css-a4x74f"><span>5137</span></td><td id="LC5137" class="css-1dcdqdg"><code>              <span class="code-keyword">return</span> <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L5138" class="css-a4x74f"><span>5138</span></td><td id="LC5138" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L5139" class="css-a4x74f"><span>5139</span></td><td id="LC5139" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> newValue = change.newValue;
</code></td></tr><tr><td id="L5140" class="css-a4x74f"><span>5140</span></td><td id="LC5140" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (descriptor.value !== newValue) {
</code></td></tr><tr><td id="L5141" class="css-a4x74f"><span>5141</span></td><td id="LC5141" class="css-1dcdqdg"><code>              descriptor = _extends({}, descriptor, {
</code></td></tr><tr><td id="L5142" class="css-a4x74f"><span>5142</span></td><td id="LC5142" class="css-1dcdqdg"><code>                value: newValue
</code></td></tr><tr><td id="L5143" class="css-a4x74f"><span>5143</span></td><td id="LC5143" class="css-1dcdqdg"><code>              });
</code></td></tr><tr><td id="L5144" class="css-a4x74f"><span>5144</span></td><td id="LC5144" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L5145" class="css-a4x74f"><span>5145</span></td><td id="LC5145" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5146" class="css-a4x74f"><span>5146</span></td><td id="LC5146" class="css-1dcdqdg"><code>          <span class="code-comment">// Define</span>
</code></td></tr><tr><td id="L5147" class="css-a4x74f"><span>5147</span></td><td id="LC5147" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (proxyTrap) {
</code></td></tr><tr><td id="L5148" class="css-a4x74f"><span>5148</span></td><td id="LC5148" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (!<span class="code-built_in">Reflect</span>.defineProperty(<span class="code-keyword">this</span>.target_, key, descriptor)) {
</code></td></tr><tr><td id="L5149" class="css-a4x74f"><span>5149</span></td><td id="LC5149" class="css-1dcdqdg"><code>              <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5150" class="css-a4x74f"><span>5150</span></td><td id="LC5150" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L5151" class="css-a4x74f"><span>5151</span></td><td id="LC5151" class="css-1dcdqdg"><code>          } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L5152" class="css-a4x74f"><span>5152</span></td><td id="LC5152" class="css-1dcdqdg"><code>            defineProperty(<span class="code-keyword">this</span>.target_, key, descriptor);
</code></td></tr><tr><td id="L5153" class="css-a4x74f"><span>5153</span></td><td id="LC5153" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5154" class="css-a4x74f"><span>5154</span></td><td id="LC5154" class="css-1dcdqdg"><code>          <span class="code-comment">// Notify</span>
</code></td></tr><tr><td id="L5155" class="css-a4x74f"><span>5155</span></td><td id="LC5155" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.notifyPropertyAddition_(key, descriptor.value);
</code></td></tr><tr><td id="L5156" class="css-a4x74f"><span>5156</span></td><td id="LC5156" class="css-1dcdqdg"><code>        } <span class="code-keyword">finally</span> {
</code></td></tr><tr><td id="L5157" class="css-a4x74f"><span>5157</span></td><td id="LC5157" class="css-1dcdqdg"><code>          endBatch();
</code></td></tr><tr><td id="L5158" class="css-a4x74f"><span>5158</span></td><td id="LC5158" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5159" class="css-a4x74f"><span>5159</span></td><td id="LC5159" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L5160" class="css-a4x74f"><span>5160</span></td><td id="LC5160" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5161" class="css-a4x74f"><span>5161</span></td><td id="LC5161" class="css-1dcdqdg"><code>      <span class="code-comment">// If original descriptor becomes relevant, move this to annotation directly</span>
</code></td></tr><tr><td id="L5162" class="css-a4x74f"><span>5162</span></td><td id="LC5162" class="css-1dcdqdg"><code>      ;
</code></td></tr><tr><td id="L5163" class="css-a4x74f"><span>5163</span></td><td id="LC5163" class="css-1dcdqdg"><code>      _proto.defineObservableProperty_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">defineObservableProperty_</span>(<span class="code-params">key, value, enhancer, proxyTrap</span>) </span>{
</code></td></tr><tr><td id="L5164" class="css-a4x74f"><span>5164</span></td><td id="LC5164" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (proxyTrap === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L5165" class="css-a4x74f"><span>5165</span></td><td id="LC5165" class="css-1dcdqdg"><code>          proxyTrap = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5166" class="css-a4x74f"><span>5166</span></td><td id="LC5166" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5167" class="css-a4x74f"><span>5167</span></td><td id="LC5167" class="css-1dcdqdg"><code>        checkIfStateModificationsAreAllowed(<span class="code-keyword">this</span>.keysAtom_);
</code></td></tr><tr><td id="L5168" class="css-a4x74f"><span>5168</span></td><td id="LC5168" class="css-1dcdqdg"><code>        <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L5169" class="css-a4x74f"><span>5169</span></td><td id="LC5169" class="css-1dcdqdg"><code>          startBatch();
</code></td></tr><tr><td id="L5170" class="css-a4x74f"><span>5170</span></td><td id="LC5170" class="css-1dcdqdg"><code>          <span class="code-comment">// Delete</span>
</code></td></tr><tr><td id="L5171" class="css-a4x74f"><span>5171</span></td><td id="LC5171" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> deleteOutcome = <span class="code-keyword">this</span>.delete_(key);
</code></td></tr><tr><td id="L5172" class="css-a4x74f"><span>5172</span></td><td id="LC5172" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!deleteOutcome) {
</code></td></tr><tr><td id="L5173" class="css-a4x74f"><span>5173</span></td><td id="LC5173" class="css-1dcdqdg"><code>            <span class="code-comment">// Failure or intercepted</span>
</code></td></tr><tr><td id="L5174" class="css-a4x74f"><span>5174</span></td><td id="LC5174" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> deleteOutcome;
</code></td></tr><tr><td id="L5175" class="css-a4x74f"><span>5175</span></td><td id="LC5175" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5176" class="css-a4x74f"><span>5176</span></td><td id="LC5176" class="css-1dcdqdg"><code>          <span class="code-comment">// ADD interceptor</span>
</code></td></tr><tr><td id="L5177" class="css-a4x74f"><span>5177</span></td><td id="LC5177" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (hasInterceptors(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L5178" class="css-a4x74f"><span>5178</span></td><td id="LC5178" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> change = interceptChange(<span class="code-keyword">this</span>, {
</code></td></tr><tr><td id="L5179" class="css-a4x74f"><span>5179</span></td><td id="LC5179" class="css-1dcdqdg"><code>              object: <span class="code-keyword">this</span>.proxy_ || <span class="code-keyword">this</span>.target_,
</code></td></tr><tr><td id="L5180" class="css-a4x74f"><span>5180</span></td><td id="LC5180" class="css-1dcdqdg"><code>              name: key,
</code></td></tr><tr><td id="L5181" class="css-a4x74f"><span>5181</span></td><td id="LC5181" class="css-1dcdqdg"><code>              type: ADD,
</code></td></tr><tr><td id="L5182" class="css-a4x74f"><span>5182</span></td><td id="LC5182" class="css-1dcdqdg"><code>              newValue: value
</code></td></tr><tr><td id="L5183" class="css-a4x74f"><span>5183</span></td><td id="LC5183" class="css-1dcdqdg"><code>            });
</code></td></tr><tr><td id="L5184" class="css-a4x74f"><span>5184</span></td><td id="LC5184" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (!change) {
</code></td></tr><tr><td id="L5185" class="css-a4x74f"><span>5185</span></td><td id="LC5185" class="css-1dcdqdg"><code>              <span class="code-keyword">return</span> <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L5186" class="css-a4x74f"><span>5186</span></td><td id="LC5186" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L5187" class="css-a4x74f"><span>5187</span></td><td id="LC5187" class="css-1dcdqdg"><code>            value = change.newValue;
</code></td></tr><tr><td id="L5188" class="css-a4x74f"><span>5188</span></td><td id="LC5188" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5189" class="css-a4x74f"><span>5189</span></td><td id="LC5189" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> cachedDescriptor = getCachedObservablePropDescriptor(key);
</code></td></tr><tr><td id="L5190" class="css-a4x74f"><span>5190</span></td><td id="LC5190" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> descriptor = {
</code></td></tr><tr><td id="L5191" class="css-a4x74f"><span>5191</span></td><td id="LC5191" class="css-1dcdqdg"><code>            configurable: globalState.safeDescriptors ? <span class="code-keyword">this</span>.isPlainObject_ : <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L5192" class="css-a4x74f"><span>5192</span></td><td id="LC5192" class="css-1dcdqdg"><code>            enumerable: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L5193" class="css-a4x74f"><span>5193</span></td><td id="LC5193" class="css-1dcdqdg"><code>            <span class="code-keyword">get</span>: cachedDescriptor.<span class="code-keyword">get</span>,
</code></td></tr><tr><td id="L5194" class="css-a4x74f"><span>5194</span></td><td id="LC5194" class="css-1dcdqdg"><code>            <span class="code-keyword">set</span>: cachedDescriptor.<span class="code-keyword">set</span>
</code></td></tr><tr><td id="L5195" class="css-a4x74f"><span>5195</span></td><td id="LC5195" class="css-1dcdqdg"><code>          };
</code></td></tr><tr><td id="L5196" class="css-a4x74f"><span>5196</span></td><td id="LC5196" class="css-1dcdqdg"><code>          // Define
</code></td></tr><tr><td id="L5197" class="css-a4x74f"><span>5197</span></td><td id="LC5197" class="css-1dcdqdg"><code>          if (proxyTrap) {
</code></td></tr><tr><td id="L5198" class="css-a4x74f"><span>5198</span></td><td id="LC5198" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (!<span class="code-built_in">Reflect</span>.defineProperty(<span class="code-keyword">this</span>.target_, key, descriptor)) {
</code></td></tr><tr><td id="L5199" class="css-a4x74f"><span>5199</span></td><td id="LC5199" class="css-1dcdqdg"><code>              <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5200" class="css-a4x74f"><span>5200</span></td><td id="LC5200" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L5201" class="css-a4x74f"><span>5201</span></td><td id="LC5201" class="css-1dcdqdg"><code>          } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L5202" class="css-a4x74f"><span>5202</span></td><td id="LC5202" class="css-1dcdqdg"><code>            defineProperty(<span class="code-keyword">this</span>.target_, key, descriptor);
</code></td></tr><tr><td id="L5203" class="css-a4x74f"><span>5203</span></td><td id="LC5203" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5204" class="css-a4x74f"><span>5204</span></td><td id="LC5204" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> observable = <span class="code-keyword">new</span> ObservableValue(value, enhancer, <span class="code-string">"development"</span> !== <span class="code-string">"production"</span> ? <span class="code-keyword">this</span>.name_ + <span class="code-string">"."</span> + key.toString() : <span class="code-string">"ObservableObject.key"</span>, <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L5205" class="css-a4x74f"><span>5205</span></td><td id="LC5205" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.values_.set(key, observable);
</code></td></tr><tr><td id="L5206" class="css-a4x74f"><span>5206</span></td><td id="LC5206" class="css-1dcdqdg"><code>          <span class="code-comment">// Notify (value possibly changed by ObservableValue)</span>
</code></td></tr><tr><td id="L5207" class="css-a4x74f"><span>5207</span></td><td id="LC5207" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.notifyPropertyAddition_(key, observable.value_);
</code></td></tr><tr><td id="L5208" class="css-a4x74f"><span>5208</span></td><td id="LC5208" class="css-1dcdqdg"><code>        } <span class="code-keyword">finally</span> {
</code></td></tr><tr><td id="L5209" class="css-a4x74f"><span>5209</span></td><td id="LC5209" class="css-1dcdqdg"><code>          endBatch();
</code></td></tr><tr><td id="L5210" class="css-a4x74f"><span>5210</span></td><td id="LC5210" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5211" class="css-a4x74f"><span>5211</span></td><td id="LC5211" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L5212" class="css-a4x74f"><span>5212</span></td><td id="LC5212" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5213" class="css-a4x74f"><span>5213</span></td><td id="LC5213" class="css-1dcdqdg"><code>      <span class="code-comment">// If original descriptor becomes relevant, move this to annotation directly</span>
</code></td></tr><tr><td id="L5214" class="css-a4x74f"><span>5214</span></td><td id="LC5214" class="css-1dcdqdg"><code>      ;
</code></td></tr><tr><td id="L5215" class="css-a4x74f"><span>5215</span></td><td id="LC5215" class="css-1dcdqdg"><code>      _proto.defineComputedProperty_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">defineComputedProperty_</span>(<span class="code-params">key, options, proxyTrap</span>) </span>{
</code></td></tr><tr><td id="L5216" class="css-a4x74f"><span>5216</span></td><td id="LC5216" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (proxyTrap === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L5217" class="css-a4x74f"><span>5217</span></td><td id="LC5217" class="css-1dcdqdg"><code>          proxyTrap = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5218" class="css-a4x74f"><span>5218</span></td><td id="LC5218" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5219" class="css-a4x74f"><span>5219</span></td><td id="LC5219" class="css-1dcdqdg"><code>        checkIfStateModificationsAreAllowed(<span class="code-keyword">this</span>.keysAtom_);
</code></td></tr><tr><td id="L5220" class="css-a4x74f"><span>5220</span></td><td id="LC5220" class="css-1dcdqdg"><code>        <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L5221" class="css-a4x74f"><span>5221</span></td><td id="LC5221" class="css-1dcdqdg"><code>          startBatch();
</code></td></tr><tr><td id="L5222" class="css-a4x74f"><span>5222</span></td><td id="LC5222" class="css-1dcdqdg"><code>          <span class="code-comment">// Delete</span>
</code></td></tr><tr><td id="L5223" class="css-a4x74f"><span>5223</span></td><td id="LC5223" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> deleteOutcome = <span class="code-keyword">this</span>.delete_(key);
</code></td></tr><tr><td id="L5224" class="css-a4x74f"><span>5224</span></td><td id="LC5224" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!deleteOutcome) {
</code></td></tr><tr><td id="L5225" class="css-a4x74f"><span>5225</span></td><td id="LC5225" class="css-1dcdqdg"><code>            <span class="code-comment">// Failure or intercepted</span>
</code></td></tr><tr><td id="L5226" class="css-a4x74f"><span>5226</span></td><td id="LC5226" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> deleteOutcome;
</code></td></tr><tr><td id="L5227" class="css-a4x74f"><span>5227</span></td><td id="LC5227" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5228" class="css-a4x74f"><span>5228</span></td><td id="LC5228" class="css-1dcdqdg"><code>          <span class="code-comment">// ADD interceptor</span>
</code></td></tr><tr><td id="L5229" class="css-a4x74f"><span>5229</span></td><td id="LC5229" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (hasInterceptors(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L5230" class="css-a4x74f"><span>5230</span></td><td id="LC5230" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> change = interceptChange(<span class="code-keyword">this</span>, {
</code></td></tr><tr><td id="L5231" class="css-a4x74f"><span>5231</span></td><td id="LC5231" class="css-1dcdqdg"><code>              object: <span class="code-keyword">this</span>.proxy_ || <span class="code-keyword">this</span>.target_,
</code></td></tr><tr><td id="L5232" class="css-a4x74f"><span>5232</span></td><td id="LC5232" class="css-1dcdqdg"><code>              name: key,
</code></td></tr><tr><td id="L5233" class="css-a4x74f"><span>5233</span></td><td id="LC5233" class="css-1dcdqdg"><code>              type: ADD,
</code></td></tr><tr><td id="L5234" class="css-a4x74f"><span>5234</span></td><td id="LC5234" class="css-1dcdqdg"><code>              newValue: <span class="code-literal">undefined</span>
</code></td></tr><tr><td id="L5235" class="css-a4x74f"><span>5235</span></td><td id="LC5235" class="css-1dcdqdg"><code>            });
</code></td></tr><tr><td id="L5236" class="css-a4x74f"><span>5236</span></td><td id="LC5236" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (!change) {
</code></td></tr><tr><td id="L5237" class="css-a4x74f"><span>5237</span></td><td id="LC5237" class="css-1dcdqdg"><code>              <span class="code-keyword">return</span> <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L5238" class="css-a4x74f"><span>5238</span></td><td id="LC5238" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L5239" class="css-a4x74f"><span>5239</span></td><td id="LC5239" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5240" class="css-a4x74f"><span>5240</span></td><td id="LC5240" class="css-1dcdqdg"><code>          options.name || (options.name = <span class="code-string">"development"</span> !== <span class="code-string">"production"</span> ? <span class="code-keyword">this</span>.name_ + <span class="code-string">"."</span> + key.toString() : <span class="code-string">"ObservableObject.key"</span>);
</code></td></tr><tr><td id="L5241" class="css-a4x74f"><span>5241</span></td><td id="LC5241" class="css-1dcdqdg"><code>          options.context = <span class="code-keyword">this</span>.proxy_ || <span class="code-keyword">this</span>.target_;
</code></td></tr><tr><td id="L5242" class="css-a4x74f"><span>5242</span></td><td id="LC5242" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> cachedDescriptor = getCachedObservablePropDescriptor(key);
</code></td></tr><tr><td id="L5243" class="css-a4x74f"><span>5243</span></td><td id="LC5243" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> descriptor = {
</code></td></tr><tr><td id="L5244" class="css-a4x74f"><span>5244</span></td><td id="LC5244" class="css-1dcdqdg"><code>            configurable: globalState.safeDescriptors ? <span class="code-keyword">this</span>.isPlainObject_ : <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L5245" class="css-a4x74f"><span>5245</span></td><td id="LC5245" class="css-1dcdqdg"><code>            enumerable: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L5246" class="css-a4x74f"><span>5246</span></td><td id="LC5246" class="css-1dcdqdg"><code>            <span class="code-keyword">get</span>: cachedDescriptor.<span class="code-keyword">get</span>,
</code></td></tr><tr><td id="L5247" class="css-a4x74f"><span>5247</span></td><td id="LC5247" class="css-1dcdqdg"><code>            <span class="code-keyword">set</span>: cachedDescriptor.<span class="code-keyword">set</span>
</code></td></tr><tr><td id="L5248" class="css-a4x74f"><span>5248</span></td><td id="LC5248" class="css-1dcdqdg"><code>          };
</code></td></tr><tr><td id="L5249" class="css-a4x74f"><span>5249</span></td><td id="LC5249" class="css-1dcdqdg"><code>          // Define
</code></td></tr><tr><td id="L5250" class="css-a4x74f"><span>5250</span></td><td id="LC5250" class="css-1dcdqdg"><code>          if (proxyTrap) {
</code></td></tr><tr><td id="L5251" class="css-a4x74f"><span>5251</span></td><td id="LC5251" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (!<span class="code-built_in">Reflect</span>.defineProperty(<span class="code-keyword">this</span>.target_, key, descriptor)) {
</code></td></tr><tr><td id="L5252" class="css-a4x74f"><span>5252</span></td><td id="LC5252" class="css-1dcdqdg"><code>              <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5253" class="css-a4x74f"><span>5253</span></td><td id="LC5253" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L5254" class="css-a4x74f"><span>5254</span></td><td id="LC5254" class="css-1dcdqdg"><code>          } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L5255" class="css-a4x74f"><span>5255</span></td><td id="LC5255" class="css-1dcdqdg"><code>            defineProperty(<span class="code-keyword">this</span>.target_, key, descriptor);
</code></td></tr><tr><td id="L5256" class="css-a4x74f"><span>5256</span></td><td id="LC5256" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5257" class="css-a4x74f"><span>5257</span></td><td id="LC5257" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.values_.set(key, <span class="code-keyword">new</span> ComputedValue(options));
</code></td></tr><tr><td id="L5258" class="css-a4x74f"><span>5258</span></td><td id="LC5258" class="css-1dcdqdg"><code>          <span class="code-comment">// Notify</span>
</code></td></tr><tr><td id="L5259" class="css-a4x74f"><span>5259</span></td><td id="LC5259" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.notifyPropertyAddition_(key, <span class="code-literal">undefined</span>);
</code></td></tr><tr><td id="L5260" class="css-a4x74f"><span>5260</span></td><td id="LC5260" class="css-1dcdqdg"><code>        } <span class="code-keyword">finally</span> {
</code></td></tr><tr><td id="L5261" class="css-a4x74f"><span>5261</span></td><td id="LC5261" class="css-1dcdqdg"><code>          endBatch();
</code></td></tr><tr><td id="L5262" class="css-a4x74f"><span>5262</span></td><td id="LC5262" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5263" class="css-a4x74f"><span>5263</span></td><td id="LC5263" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L5264" class="css-a4x74f"><span>5264</span></td><td id="LC5264" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5265" class="css-a4x74f"><span>5265</span></td><td id="LC5265" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L5266" class="css-a4x74f"><span>5266</span></td><td id="LC5266" class="css-1dcdqdg"><code><span class="code-comment">       * @param {PropertyKey} key
</span></code></td></tr><tr><td id="L5267" class="css-a4x74f"><span>5267</span></td><td id="LC5267" class="css-1dcdqdg"><code><span class="code-comment">       * @param {PropertyDescriptor} descriptor
</span></code></td></tr><tr><td id="L5268" class="css-a4x74f"><span>5268</span></td><td id="LC5268" class="css-1dcdqdg"><code><span class="code-comment">       * @param {boolean} proxyTrap whether it's called from proxy trap
</span></code></td></tr><tr><td id="L5269" class="css-a4x74f"><span>5269</span></td><td id="LC5269" class="css-1dcdqdg"><code><span class="code-comment">       * @returns {boolean|null} true on success, false on failure (proxyTrap + non-configurable), null when cancelled by interceptor
</span></code></td></tr><tr><td id="L5270" class="css-a4x74f"><span>5270</span></td><td id="LC5270" class="css-1dcdqdg"><code><span class="code-comment">       */</span>;
</code></td></tr><tr><td id="L5271" class="css-a4x74f"><span>5271</span></td><td id="LC5271" class="css-1dcdqdg"><code>      _proto.delete_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">delete_</span>(<span class="code-params">key, proxyTrap</span>) </span>{
</code></td></tr><tr><td id="L5272" class="css-a4x74f"><span>5272</span></td><td id="LC5272" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (proxyTrap === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L5273" class="css-a4x74f"><span>5273</span></td><td id="LC5273" class="css-1dcdqdg"><code>          proxyTrap = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5274" class="css-a4x74f"><span>5274</span></td><td id="LC5274" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5275" class="css-a4x74f"><span>5275</span></td><td id="LC5275" class="css-1dcdqdg"><code>        checkIfStateModificationsAreAllowed(<span class="code-keyword">this</span>.keysAtom_);
</code></td></tr><tr><td id="L5276" class="css-a4x74f"><span>5276</span></td><td id="LC5276" class="css-1dcdqdg"><code>        <span class="code-comment">// No such prop</span>
</code></td></tr><tr><td id="L5277" class="css-a4x74f"><span>5277</span></td><td id="LC5277" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (!hasProp(<span class="code-keyword">this</span>.target_, key)) {
</code></td></tr><tr><td id="L5278" class="css-a4x74f"><span>5278</span></td><td id="LC5278" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L5279" class="css-a4x74f"><span>5279</span></td><td id="LC5279" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5280" class="css-a4x74f"><span>5280</span></td><td id="LC5280" class="css-1dcdqdg"><code>        <span class="code-comment">// Intercept</span>
</code></td></tr><tr><td id="L5281" class="css-a4x74f"><span>5281</span></td><td id="LC5281" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (hasInterceptors(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L5282" class="css-a4x74f"><span>5282</span></td><td id="LC5282" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> change = interceptChange(<span class="code-keyword">this</span>, {
</code></td></tr><tr><td id="L5283" class="css-a4x74f"><span>5283</span></td><td id="LC5283" class="css-1dcdqdg"><code>            object: <span class="code-keyword">this</span>.proxy_ || <span class="code-keyword">this</span>.target_,
</code></td></tr><tr><td id="L5284" class="css-a4x74f"><span>5284</span></td><td id="LC5284" class="css-1dcdqdg"><code>            name: key,
</code></td></tr><tr><td id="L5285" class="css-a4x74f"><span>5285</span></td><td id="LC5285" class="css-1dcdqdg"><code>            type: REMOVE
</code></td></tr><tr><td id="L5286" class="css-a4x74f"><span>5286</span></td><td id="LC5286" class="css-1dcdqdg"><code>          });
</code></td></tr><tr><td id="L5287" class="css-a4x74f"><span>5287</span></td><td id="LC5287" class="css-1dcdqdg"><code>          <span class="code-comment">// Cancelled</span>
</code></td></tr><tr><td id="L5288" class="css-a4x74f"><span>5288</span></td><td id="LC5288" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!change) {
</code></td></tr><tr><td id="L5289" class="css-a4x74f"><span>5289</span></td><td id="LC5289" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L5290" class="css-a4x74f"><span>5290</span></td><td id="LC5290" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5291" class="css-a4x74f"><span>5291</span></td><td id="LC5291" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5292" class="css-a4x74f"><span>5292</span></td><td id="LC5292" class="css-1dcdqdg"><code>        <span class="code-comment">// Delete</span>
</code></td></tr><tr><td id="L5293" class="css-a4x74f"><span>5293</span></td><td id="LC5293" class="css-1dcdqdg"><code>        <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L5294" class="css-a4x74f"><span>5294</span></td><td id="LC5294" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> _this$pendingKeys_;
</code></td></tr><tr><td id="L5295" class="css-a4x74f"><span>5295</span></td><td id="LC5295" class="css-1dcdqdg"><code>          startBatch();
</code></td></tr><tr><td id="L5296" class="css-a4x74f"><span>5296</span></td><td id="LC5296" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> notify = hasListeners(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5297" class="css-a4x74f"><span>5297</span></td><td id="LC5297" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> notifySpy = <span class="code-string">"development"</span> !== <span class="code-string">"production"</span> &amp;&amp; isSpyEnabled();
</code></td></tr><tr><td id="L5298" class="css-a4x74f"><span>5298</span></td><td id="LC5298" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> observable = <span class="code-keyword">this</span>.values_.get(key);
</code></td></tr><tr><td id="L5299" class="css-a4x74f"><span>5299</span></td><td id="LC5299" class="css-1dcdqdg"><code>          <span class="code-comment">// Value needed for spies/listeners</span>
</code></td></tr><tr><td id="L5300" class="css-a4x74f"><span>5300</span></td><td id="LC5300" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> value = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L5301" class="css-a4x74f"><span>5301</span></td><td id="LC5301" class="css-1dcdqdg"><code>          <span class="code-comment">// Optimization: don't pull the value unless we will need it</span>
</code></td></tr><tr><td id="L5302" class="css-a4x74f"><span>5302</span></td><td id="LC5302" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!observable &amp;&amp; (notify || notifySpy)) {
</code></td></tr><tr><td id="L5303" class="css-a4x74f"><span>5303</span></td><td id="LC5303" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> _getDescriptor;
</code></td></tr><tr><td id="L5304" class="css-a4x74f"><span>5304</span></td><td id="LC5304" class="css-1dcdqdg"><code>            value = (_getDescriptor = getDescriptor(<span class="code-keyword">this</span>.target_, key)) == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : _getDescriptor.value;
</code></td></tr><tr><td id="L5305" class="css-a4x74f"><span>5305</span></td><td id="LC5305" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5306" class="css-a4x74f"><span>5306</span></td><td id="LC5306" class="css-1dcdqdg"><code>          <span class="code-comment">// delete prop (do first, may fail)</span>
</code></td></tr><tr><td id="L5307" class="css-a4x74f"><span>5307</span></td><td id="LC5307" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (proxyTrap) {
</code></td></tr><tr><td id="L5308" class="css-a4x74f"><span>5308</span></td><td id="LC5308" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (!<span class="code-built_in">Reflect</span>.deleteProperty(<span class="code-keyword">this</span>.target_, key)) {
</code></td></tr><tr><td id="L5309" class="css-a4x74f"><span>5309</span></td><td id="LC5309" class="css-1dcdqdg"><code>              <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5310" class="css-a4x74f"><span>5310</span></td><td id="LC5310" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L5311" class="css-a4x74f"><span>5311</span></td><td id="LC5311" class="css-1dcdqdg"><code>          } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L5312" class="css-a4x74f"><span>5312</span></td><td id="LC5312" class="css-1dcdqdg"><code>            <span class="code-keyword">delete</span> <span class="code-keyword">this</span>.target_[key];
</code></td></tr><tr><td id="L5313" class="css-a4x74f"><span>5313</span></td><td id="LC5313" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5314" class="css-a4x74f"><span>5314</span></td><td id="LC5314" class="css-1dcdqdg"><code>          <span class="code-comment">// Allow re-annotating this field</span>
</code></td></tr><tr><td id="L5315" class="css-a4x74f"><span>5315</span></td><td id="LC5315" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (<span class="code-string">"development"</span> !== <span class="code-string">"production"</span>) {
</code></td></tr><tr><td id="L5316" class="css-a4x74f"><span>5316</span></td><td id="LC5316" class="css-1dcdqdg"><code>            <span class="code-keyword">delete</span> <span class="code-keyword">this</span>.appliedAnnotations_[key];
</code></td></tr><tr><td id="L5317" class="css-a4x74f"><span>5317</span></td><td id="LC5317" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5318" class="css-a4x74f"><span>5318</span></td><td id="LC5318" class="css-1dcdqdg"><code>          <span class="code-comment">// Clear observable</span>
</code></td></tr><tr><td id="L5319" class="css-a4x74f"><span>5319</span></td><td id="LC5319" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (observable) {
</code></td></tr><tr><td id="L5320" class="css-a4x74f"><span>5320</span></td><td id="LC5320" class="css-1dcdqdg"><code>            <span class="code-keyword">this</span>.values_[<span class="code-string">"delete"</span>](key);
</code></td></tr><tr><td id="L5321" class="css-a4x74f"><span>5321</span></td><td id="LC5321" class="css-1dcdqdg"><code>            <span class="code-comment">// for computed, value is undefined</span>
</code></td></tr><tr><td id="L5322" class="css-a4x74f"><span>5322</span></td><td id="LC5322" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (observable <span class="code-keyword">instanceof</span> ObservableValue) {
</code></td></tr><tr><td id="L5323" class="css-a4x74f"><span>5323</span></td><td id="LC5323" class="css-1dcdqdg"><code>              value = observable.value_;
</code></td></tr><tr><td id="L5324" class="css-a4x74f"><span>5324</span></td><td id="LC5324" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L5325" class="css-a4x74f"><span>5325</span></td><td id="LC5325" class="css-1dcdqdg"><code>            <span class="code-comment">// Notify: autorun(() =&gt; obj[key]), see #1796</span>
</code></td></tr><tr><td id="L5326" class="css-a4x74f"><span>5326</span></td><td id="LC5326" class="css-1dcdqdg"><code>            propagateChanged(observable);
</code></td></tr><tr><td id="L5327" class="css-a4x74f"><span>5327</span></td><td id="LC5327" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5328" class="css-a4x74f"><span>5328</span></td><td id="LC5328" class="css-1dcdqdg"><code>          <span class="code-comment">// Notify "keys/entries/values" observers</span>
</code></td></tr><tr><td id="L5329" class="css-a4x74f"><span>5329</span></td><td id="LC5329" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>.keysAtom_.reportChanged();
</code></td></tr><tr><td id="L5330" class="css-a4x74f"><span>5330</span></td><td id="LC5330" class="css-1dcdqdg"><code>          <span class="code-comment">// Notify "has" observers</span>
</code></td></tr><tr><td id="L5331" class="css-a4x74f"><span>5331</span></td><td id="LC5331" class="css-1dcdqdg"><code>          <span class="code-comment">// "in" as it may still exist in proto</span>
</code></td></tr><tr><td id="L5332" class="css-a4x74f"><span>5332</span></td><td id="LC5332" class="css-1dcdqdg"><code>          (_this$pendingKeys_ = <span class="code-keyword">this</span>.pendingKeys_) == <span class="code-literal">null</span> || (_this$pendingKeys_ = _this$pendingKeys_.get(key)) == <span class="code-literal">null</span> || _this$pendingKeys_.set(key <span class="code-keyword">in</span> <span class="code-keyword">this</span>.target_);
</code></td></tr><tr><td id="L5333" class="css-a4x74f"><span>5333</span></td><td id="LC5333" class="css-1dcdqdg"><code>          <span class="code-comment">// Notify spies/listeners</span>
</code></td></tr><tr><td id="L5334" class="css-a4x74f"><span>5334</span></td><td id="LC5334" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (notify || notifySpy) {
</code></td></tr><tr><td id="L5335" class="css-a4x74f"><span>5335</span></td><td id="LC5335" class="css-1dcdqdg"><code>            <span class="code-keyword">var</span> _change2 = {
</code></td></tr><tr><td id="L5336" class="css-a4x74f"><span>5336</span></td><td id="LC5336" class="css-1dcdqdg"><code>              type: REMOVE,
</code></td></tr><tr><td id="L5337" class="css-a4x74f"><span>5337</span></td><td id="LC5337" class="css-1dcdqdg"><code>              observableKind: <span class="code-string">"object"</span>,
</code></td></tr><tr><td id="L5338" class="css-a4x74f"><span>5338</span></td><td id="LC5338" class="css-1dcdqdg"><code>              object: <span class="code-keyword">this</span>.proxy_ || <span class="code-keyword">this</span>.target_,
</code></td></tr><tr><td id="L5339" class="css-a4x74f"><span>5339</span></td><td id="LC5339" class="css-1dcdqdg"><code>              debugObjectName: <span class="code-keyword">this</span>.name_,
</code></td></tr><tr><td id="L5340" class="css-a4x74f"><span>5340</span></td><td id="LC5340" class="css-1dcdqdg"><code>              oldValue: value,
</code></td></tr><tr><td id="L5341" class="css-a4x74f"><span>5341</span></td><td id="LC5341" class="css-1dcdqdg"><code>              name: key
</code></td></tr><tr><td id="L5342" class="css-a4x74f"><span>5342</span></td><td id="LC5342" class="css-1dcdqdg"><code>            };
</code></td></tr><tr><td id="L5343" class="css-a4x74f"><span>5343</span></td><td id="LC5343" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (<span class="code-string">"development"</span> !== <span class="code-string">"production"</span> &amp;&amp; notifySpy) {
</code></td></tr><tr><td id="L5344" class="css-a4x74f"><span>5344</span></td><td id="LC5344" class="css-1dcdqdg"><code>              spyReportStart(_change2);
</code></td></tr><tr><td id="L5345" class="css-a4x74f"><span>5345</span></td><td id="LC5345" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L5346" class="css-a4x74f"><span>5346</span></td><td id="LC5346" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (notify) {
</code></td></tr><tr><td id="L5347" class="css-a4x74f"><span>5347</span></td><td id="LC5347" class="css-1dcdqdg"><code>              notifyListeners(<span class="code-keyword">this</span>, _change2);
</code></td></tr><tr><td id="L5348" class="css-a4x74f"><span>5348</span></td><td id="LC5348" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L5349" class="css-a4x74f"><span>5349</span></td><td id="LC5349" class="css-1dcdqdg"><code>            <span class="code-keyword">if</span> (<span class="code-string">"development"</span> !== <span class="code-string">"production"</span> &amp;&amp; notifySpy) {
</code></td></tr><tr><td id="L5350" class="css-a4x74f"><span>5350</span></td><td id="LC5350" class="css-1dcdqdg"><code>              spyReportEnd();
</code></td></tr><tr><td id="L5351" class="css-a4x74f"><span>5351</span></td><td id="LC5351" class="css-1dcdqdg"><code>            }
</code></td></tr><tr><td id="L5352" class="css-a4x74f"><span>5352</span></td><td id="LC5352" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5353" class="css-a4x74f"><span>5353</span></td><td id="LC5353" class="css-1dcdqdg"><code>        } <span class="code-keyword">finally</span> {
</code></td></tr><tr><td id="L5354" class="css-a4x74f"><span>5354</span></td><td id="LC5354" class="css-1dcdqdg"><code>          endBatch();
</code></td></tr><tr><td id="L5355" class="css-a4x74f"><span>5355</span></td><td id="LC5355" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5356" class="css-a4x74f"><span>5356</span></td><td id="LC5356" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L5357" class="css-a4x74f"><span>5357</span></td><td id="LC5357" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5358" class="css-a4x74f"><span>5358</span></td><td id="LC5358" class="css-1dcdqdg"><code>      <span class="code-comment">/**
</span></code></td></tr><tr><td id="L5359" class="css-a4x74f"><span>5359</span></td><td id="LC5359" class="css-1dcdqdg"><code><span class="code-comment">       * Observes this object. Triggers for the events 'add', 'update' and 'delete'.
</span></code></td></tr><tr><td id="L5360" class="css-a4x74f"><span>5360</span></td><td id="LC5360" class="css-1dcdqdg"><code><span class="code-comment">       * See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/observe
</span></code></td></tr><tr><td id="L5361" class="css-a4x74f"><span>5361</span></td><td id="LC5361" class="css-1dcdqdg"><code><span class="code-comment">       * for callback details
</span></code></td></tr><tr><td id="L5362" class="css-a4x74f"><span>5362</span></td><td id="LC5362" class="css-1dcdqdg"><code><span class="code-comment">       */</span>;
</code></td></tr><tr><td id="L5363" class="css-a4x74f"><span>5363</span></td><td id="LC5363" class="css-1dcdqdg"><code>      _proto.observe_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">observe_</span>(<span class="code-params">callback, fireImmediately</span>) </span>{
</code></td></tr><tr><td id="L5364" class="css-a4x74f"><span>5364</span></td><td id="LC5364" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( fireImmediately === <span class="code-literal">true</span>) {
</code></td></tr><tr><td id="L5365" class="css-a4x74f"><span>5365</span></td><td id="LC5365" class="css-1dcdqdg"><code>          die(<span class="code-string">"`observe` doesn't support the fire immediately property for observable objects."</span>);
</code></td></tr><tr><td id="L5366" class="css-a4x74f"><span>5366</span></td><td id="LC5366" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5367" class="css-a4x74f"><span>5367</span></td><td id="LC5367" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> registerListener(<span class="code-keyword">this</span>, callback);
</code></td></tr><tr><td id="L5368" class="css-a4x74f"><span>5368</span></td><td id="LC5368" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L5369" class="css-a4x74f"><span>5369</span></td><td id="LC5369" class="css-1dcdqdg"><code>      _proto.intercept_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">intercept_</span>(<span class="code-params">handler</span>) </span>{
</code></td></tr><tr><td id="L5370" class="css-a4x74f"><span>5370</span></td><td id="LC5370" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> registerInterceptor(<span class="code-keyword">this</span>, handler);
</code></td></tr><tr><td id="L5371" class="css-a4x74f"><span>5371</span></td><td id="LC5371" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L5372" class="css-a4x74f"><span>5372</span></td><td id="LC5372" class="css-1dcdqdg"><code>      _proto.notifyPropertyAddition_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">notifyPropertyAddition_</span>(<span class="code-params">key, value</span>) </span>{
</code></td></tr><tr><td id="L5373" class="css-a4x74f"><span>5373</span></td><td id="LC5373" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this$pendingKeys_2;
</code></td></tr><tr><td id="L5374" class="css-a4x74f"><span>5374</span></td><td id="LC5374" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> notify = hasListeners(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5375" class="css-a4x74f"><span>5375</span></td><td id="LC5375" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> notifySpy =  isSpyEnabled();
</code></td></tr><tr><td id="L5376" class="css-a4x74f"><span>5376</span></td><td id="LC5376" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (notify || notifySpy) {
</code></td></tr><tr><td id="L5377" class="css-a4x74f"><span>5377</span></td><td id="LC5377" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> change = notify || notifySpy ? {
</code></td></tr><tr><td id="L5378" class="css-a4x74f"><span>5378</span></td><td id="LC5378" class="css-1dcdqdg"><code>            type: ADD,
</code></td></tr><tr><td id="L5379" class="css-a4x74f"><span>5379</span></td><td id="LC5379" class="css-1dcdqdg"><code>            observableKind: <span class="code-string">"object"</span>,
</code></td></tr><tr><td id="L5380" class="css-a4x74f"><span>5380</span></td><td id="LC5380" class="css-1dcdqdg"><code>            debugObjectName: <span class="code-keyword">this</span>.name_,
</code></td></tr><tr><td id="L5381" class="css-a4x74f"><span>5381</span></td><td id="LC5381" class="css-1dcdqdg"><code>            object: <span class="code-keyword">this</span>.proxy_ || <span class="code-keyword">this</span>.target_,
</code></td></tr><tr><td id="L5382" class="css-a4x74f"><span>5382</span></td><td id="LC5382" class="css-1dcdqdg"><code>            name: key,
</code></td></tr><tr><td id="L5383" class="css-a4x74f"><span>5383</span></td><td id="LC5383" class="css-1dcdqdg"><code>            newValue: value
</code></td></tr><tr><td id="L5384" class="css-a4x74f"><span>5384</span></td><td id="LC5384" class="css-1dcdqdg"><code>          } : <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L5385" class="css-a4x74f"><span>5385</span></td><td id="LC5385" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> ( notifySpy) {
</code></td></tr><tr><td id="L5386" class="css-a4x74f"><span>5386</span></td><td id="LC5386" class="css-1dcdqdg"><code>            spyReportStart(change);
</code></td></tr><tr><td id="L5387" class="css-a4x74f"><span>5387</span></td><td id="LC5387" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5388" class="css-a4x74f"><span>5388</span></td><td id="LC5388" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (notify) {
</code></td></tr><tr><td id="L5389" class="css-a4x74f"><span>5389</span></td><td id="LC5389" class="css-1dcdqdg"><code>            notifyListeners(<span class="code-keyword">this</span>, change);
</code></td></tr><tr><td id="L5390" class="css-a4x74f"><span>5390</span></td><td id="LC5390" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5391" class="css-a4x74f"><span>5391</span></td><td id="LC5391" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> ( notifySpy) {
</code></td></tr><tr><td id="L5392" class="css-a4x74f"><span>5392</span></td><td id="LC5392" class="css-1dcdqdg"><code>            spyReportEnd();
</code></td></tr><tr><td id="L5393" class="css-a4x74f"><span>5393</span></td><td id="LC5393" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5394" class="css-a4x74f"><span>5394</span></td><td id="LC5394" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5395" class="css-a4x74f"><span>5395</span></td><td id="LC5395" class="css-1dcdqdg"><code>        (_this$pendingKeys_2 = <span class="code-keyword">this</span>.pendingKeys_) == <span class="code-literal">null</span> || (_this$pendingKeys_2 = _this$pendingKeys_2.get(key)) == <span class="code-literal">null</span> || _this$pendingKeys_2.set(<span class="code-literal">true</span>);
</code></td></tr><tr><td id="L5396" class="css-a4x74f"><span>5396</span></td><td id="LC5396" class="css-1dcdqdg"><code>        <span class="code-comment">// Notify "keys/entries/values" observers</span>
</code></td></tr><tr><td id="L5397" class="css-a4x74f"><span>5397</span></td><td id="LC5397" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.keysAtom_.reportChanged();
</code></td></tr><tr><td id="L5398" class="css-a4x74f"><span>5398</span></td><td id="LC5398" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L5399" class="css-a4x74f"><span>5399</span></td><td id="LC5399" class="css-1dcdqdg"><code>      _proto.ownKeys_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ownKeys_</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5400" class="css-a4x74f"><span>5400</span></td><td id="LC5400" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.keysAtom_.reportObserved();
</code></td></tr><tr><td id="L5401" class="css-a4x74f"><span>5401</span></td><td id="LC5401" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> ownKeys(<span class="code-keyword">this</span>.target_);
</code></td></tr><tr><td id="L5402" class="css-a4x74f"><span>5402</span></td><td id="LC5402" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L5403" class="css-a4x74f"><span>5403</span></td><td id="LC5403" class="css-1dcdqdg"><code>      _proto.keys_ = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">keys_</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5404" class="css-a4x74f"><span>5404</span></td><td id="LC5404" class="css-1dcdqdg"><code>        <span class="code-comment">// Returns enumerable &amp;&amp; own, but unfortunately keysAtom will report on ANY key change.</span>
</code></td></tr><tr><td id="L5405" class="css-a4x74f"><span>5405</span></td><td id="LC5405" class="css-1dcdqdg"><code>        <span class="code-comment">// There is no way to distinguish between Object.keys(object) and Reflect.ownKeys(object) - both are handled by ownKeys trap.</span>
</code></td></tr><tr><td id="L5406" class="css-a4x74f"><span>5406</span></td><td id="LC5406" class="css-1dcdqdg"><code>        <span class="code-comment">// We can either over-report in Object.keys(object) or under-report in Reflect.ownKeys(object)</span>
</code></td></tr><tr><td id="L5407" class="css-a4x74f"><span>5407</span></td><td id="LC5407" class="css-1dcdqdg"><code>        <span class="code-comment">// We choose to over-report in Object.keys(object), because:</span>
</code></td></tr><tr><td id="L5408" class="css-a4x74f"><span>5408</span></td><td id="LC5408" class="css-1dcdqdg"><code>        <span class="code-comment">// - typically it's used with simple data objects</span>
</code></td></tr><tr><td id="L5409" class="css-a4x74f"><span>5409</span></td><td id="LC5409" class="css-1dcdqdg"><code>        <span class="code-comment">// - when symbolic/non-enumerable keys are relevant Reflect.ownKeys works as expected</span>
</code></td></tr><tr><td id="L5410" class="css-a4x74f"><span>5410</span></td><td id="LC5410" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>.keysAtom_.reportObserved();
</code></td></tr><tr><td id="L5411" class="css-a4x74f"><span>5411</span></td><td id="LC5411" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-built_in">Object</span>.keys(<span class="code-keyword">this</span>.target_);
</code></td></tr><tr><td id="L5412" class="css-a4x74f"><span>5412</span></td><td id="LC5412" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L5413" class="css-a4x74f"><span>5413</span></td><td id="LC5413" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> ObservableObjectAdministration;
</code></td></tr><tr><td id="L5414" class="css-a4x74f"><span>5414</span></td><td id="LC5414" class="css-1dcdqdg"><code>    }();
</code></td></tr><tr><td id="L5415" class="css-a4x74f"><span>5415</span></td><td id="LC5415" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">asObservableObject</span>(<span class="code-params">target, options</span>) </span>{
</code></td></tr><tr><td id="L5416" class="css-a4x74f"><span>5416</span></td><td id="LC5416" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _options$name;
</code></td></tr><tr><td id="L5417" class="css-a4x74f"><span>5417</span></td><td id="LC5417" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( options &amp;&amp; isObservableObject(target)) {
</code></td></tr><tr><td id="L5418" class="css-a4x74f"><span>5418</span></td><td id="LC5418" class="css-1dcdqdg"><code>        die(<span class="code-string">"Options can't be provided for already observable objects."</span>);
</code></td></tr><tr><td id="L5419" class="css-a4x74f"><span>5419</span></td><td id="LC5419" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5420" class="css-a4x74f"><span>5420</span></td><td id="LC5420" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (hasProp(target, $mobx)) {
</code></td></tr><tr><td id="L5421" class="css-a4x74f"><span>5421</span></td><td id="LC5421" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> ( !(getAdministration(target) <span class="code-keyword">instanceof</span> ObservableObjectAdministration)) {
</code></td></tr><tr><td id="L5422" class="css-a4x74f"><span>5422</span></td><td id="LC5422" class="css-1dcdqdg"><code>          die(<span class="code-string">"Cannot convert '"</span> + getDebugName(target) + <span class="code-string">"' into observable object:"</span> + <span class="code-string">"\nThe target is already observable of different type."</span> + <span class="code-string">"\nExtending builtins is not supported."</span>);
</code></td></tr><tr><td id="L5423" class="css-a4x74f"><span>5423</span></td><td id="LC5423" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5424" class="css-a4x74f"><span>5424</span></td><td id="LC5424" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> target;
</code></td></tr><tr><td id="L5425" class="css-a4x74f"><span>5425</span></td><td id="LC5425" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5426" class="css-a4x74f"><span>5426</span></td><td id="LC5426" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( !<span class="code-built_in">Object</span>.isExtensible(target)) {
</code></td></tr><tr><td id="L5427" class="css-a4x74f"><span>5427</span></td><td id="LC5427" class="css-1dcdqdg"><code>        die(<span class="code-string">"Cannot make the designated object observable; it is not extensible"</span>);
</code></td></tr><tr><td id="L5428" class="css-a4x74f"><span>5428</span></td><td id="LC5428" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5429" class="css-a4x74f"><span>5429</span></td><td id="LC5429" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> name = (_options$name = options == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : options.name) != <span class="code-literal">null</span> ? _options$name :  (isPlainObject(target) ? <span class="code-string">"ObservableObject"</span> : target.constructor.name) + <span class="code-string">"@"</span> + getNextId() ;
</code></td></tr><tr><td id="L5430" class="css-a4x74f"><span>5430</span></td><td id="LC5430" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> adm = <span class="code-keyword">new</span> ObservableObjectAdministration(target, <span class="code-keyword">new</span> <span class="code-built_in">Map</span>(), <span class="code-built_in">String</span>(name), getAnnotationFromOptions(options));
</code></td></tr><tr><td id="L5431" class="css-a4x74f"><span>5431</span></td><td id="LC5431" class="css-1dcdqdg"><code>      addHiddenProp(target, $mobx, adm);
</code></td></tr><tr><td id="L5432" class="css-a4x74f"><span>5432</span></td><td id="LC5432" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> target;
</code></td></tr><tr><td id="L5433" class="css-a4x74f"><span>5433</span></td><td id="LC5433" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5434" class="css-a4x74f"><span>5434</span></td><td id="LC5434" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> isObservableObjectAdministration = <span class="code-comment">/*#__PURE__*/</span>createInstanceofPredicate(<span class="code-string">"ObservableObjectAdministration"</span>, ObservableObjectAdministration);
</code></td></tr><tr><td id="L5435" class="css-a4x74f"><span>5435</span></td><td id="LC5435" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getCachedObservablePropDescriptor</span>(<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L5436" class="css-a4x74f"><span>5436</span></td><td id="LC5436" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> descriptorCache[key] || (descriptorCache[key] = {
</code></td></tr><tr><td id="L5437" class="css-a4x74f"><span>5437</span></td><td id="LC5437" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L5438" class="css-a4x74f"><span>5438</span></td><td id="LC5438" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-keyword">this</span>[$mobx].getObservablePropValue_(key);
</code></td></tr><tr><td id="L5439" class="css-a4x74f"><span>5439</span></td><td id="LC5439" class="css-1dcdqdg"><code>        },
</code></td></tr><tr><td id="L5440" class="css-a4x74f"><span>5440</span></td><td id="LC5440" class="css-1dcdqdg"><code>        <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(value) {
</code></td></tr><tr><td id="L5441" class="css-a4x74f"><span>5441</span></td><td id="LC5441" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-keyword">this</span>[$mobx].setObservablePropValue_(key, value);
</code></td></tr><tr><td id="L5442" class="css-a4x74f"><span>5442</span></td><td id="LC5442" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5443" class="css-a4x74f"><span>5443</span></td><td id="LC5443" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L5444" class="css-a4x74f"><span>5444</span></td><td id="LC5444" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5445" class="css-a4x74f"><span>5445</span></td><td id="LC5445" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isObservableObject</span>(<span class="code-params">thing</span>) </span>{
</code></td></tr><tr><td id="L5446" class="css-a4x74f"><span>5446</span></td><td id="LC5446" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObject(thing)) {
</code></td></tr><tr><td id="L5447" class="css-a4x74f"><span>5447</span></td><td id="LC5447" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> isObservableObjectAdministration(thing[$mobx]);
</code></td></tr><tr><td id="L5448" class="css-a4x74f"><span>5448</span></td><td id="LC5448" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5449" class="css-a4x74f"><span>5449</span></td><td id="LC5449" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5450" class="css-a4x74f"><span>5450</span></td><td id="LC5450" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5451" class="css-a4x74f"><span>5451</span></td><td id="LC5451" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">recordAnnotationApplied</span>(<span class="code-params">adm, annotation, key</span>) </span>{
</code></td></tr><tr><td id="L5452" class="css-a4x74f"><span>5452</span></td><td id="LC5452" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _adm$target_$storedAn;
</code></td></tr><tr><td id="L5453" class="css-a4x74f"><span>5453</span></td><td id="LC5453" class="css-1dcdqdg"><code>      {
</code></td></tr><tr><td id="L5454" class="css-a4x74f"><span>5454</span></td><td id="LC5454" class="css-1dcdqdg"><code>        adm.appliedAnnotations_[key] = annotation;
</code></td></tr><tr><td id="L5455" class="css-a4x74f"><span>5455</span></td><td id="LC5455" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5456" class="css-a4x74f"><span>5456</span></td><td id="LC5456" class="css-1dcdqdg"><code>      <span class="code-comment">// Remove applied decorator annotation so we don't try to apply it again in subclass constructor</span>
</code></td></tr><tr><td id="L5457" class="css-a4x74f"><span>5457</span></td><td id="LC5457" class="css-1dcdqdg"><code>      (_adm$target_$storedAn = adm.target_[storedAnnotationsSymbol]) == <span class="code-literal">null</span> || <span class="code-keyword">delete</span> _adm$target_$storedAn[key];
</code></td></tr><tr><td id="L5458" class="css-a4x74f"><span>5458</span></td><td id="LC5458" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5459" class="css-a4x74f"><span>5459</span></td><td id="LC5459" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">assertAnnotable</span>(<span class="code-params">adm, annotation, key</span>) </span>{
</code></td></tr><tr><td id="L5460" class="css-a4x74f"><span>5460</span></td><td id="LC5460" class="css-1dcdqdg"><code>      <span class="code-comment">// Valid annotation</span>
</code></td></tr><tr><td id="L5461" class="css-a4x74f"><span>5461</span></td><td id="LC5461" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( !isAnnotation(annotation)) {
</code></td></tr><tr><td id="L5462" class="css-a4x74f"><span>5462</span></td><td id="LC5462" class="css-1dcdqdg"><code>        die(<span class="code-string">"Cannot annotate '"</span> + adm.name_ + <span class="code-string">"."</span> + key.toString() + <span class="code-string">"': Invalid annotation."</span>);
</code></td></tr><tr><td id="L5463" class="css-a4x74f"><span>5463</span></td><td id="LC5463" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5464" class="css-a4x74f"><span>5464</span></td><td id="LC5464" class="css-1dcdqdg"><code>      <span class="code-comment">/*
</span></code></td></tr><tr><td id="L5465" class="css-a4x74f"><span>5465</span></td><td id="LC5465" class="css-1dcdqdg"><code><span class="code-comment">      // Configurable, not sealed, not frozen
</span></code></td></tr><tr><td id="L5466" class="css-a4x74f"><span>5466</span></td><td id="LC5466" class="css-1dcdqdg"><code><span class="code-comment">      // Possibly not needed, just a little better error then the one thrown by engine.
</span></code></td></tr><tr><td id="L5467" class="css-a4x74f"><span>5467</span></td><td id="LC5467" class="css-1dcdqdg"><code><span class="code-comment">      // Cases where this would be useful the most (subclass field initializer) are not interceptable by this.
</span></code></td></tr><tr><td id="L5468" class="css-a4x74f"><span>5468</span></td><td id="LC5468" class="css-1dcdqdg"><code><span class="code-comment">      if (__DEV__) {
</span></code></td></tr><tr><td id="L5469" class="css-a4x74f"><span>5469</span></td><td id="LC5469" class="css-1dcdqdg"><code><span class="code-comment">          const configurable = getDescriptor(adm.target_, key)?.configurable
</span></code></td></tr><tr><td id="L5470" class="css-a4x74f"><span>5470</span></td><td id="LC5470" class="css-1dcdqdg"><code><span class="code-comment">          const frozen = Object.isFrozen(adm.target_)
</span></code></td></tr><tr><td id="L5471" class="css-a4x74f"><span>5471</span></td><td id="LC5471" class="css-1dcdqdg"><code><span class="code-comment">          const sealed = Object.isSealed(adm.target_)
</span></code></td></tr><tr><td id="L5472" class="css-a4x74f"><span>5472</span></td><td id="LC5472" class="css-1dcdqdg"><code><span class="code-comment">          if (!configurable || frozen || sealed) {
</span></code></td></tr><tr><td id="L5473" class="css-a4x74f"><span>5473</span></td><td id="LC5473" class="css-1dcdqdg"><code><span class="code-comment">              const fieldName = `${adm.name_}.${key.toString()}`
</span></code></td></tr><tr><td id="L5474" class="css-a4x74f"><span>5474</span></td><td id="LC5474" class="css-1dcdqdg"><code><span class="code-comment">              const requestedAnnotationType = annotation.annotationType_
</span></code></td></tr><tr><td id="L5475" class="css-a4x74f"><span>5475</span></td><td id="LC5475" class="css-1dcdqdg"><code><span class="code-comment">              let error = `Cannot apply '${requestedAnnotationType}' to '${fieldName}':`
</span></code></td></tr><tr><td id="L5476" class="css-a4x74f"><span>5476</span></td><td id="LC5476" class="css-1dcdqdg"><code><span class="code-comment">              if (frozen) {
</span></code></td></tr><tr><td id="L5477" class="css-a4x74f"><span>5477</span></td><td id="LC5477" class="css-1dcdqdg"><code><span class="code-comment">                  error += `\nObject is frozen.`
</span></code></td></tr><tr><td id="L5478" class="css-a4x74f"><span>5478</span></td><td id="LC5478" class="css-1dcdqdg"><code><span class="code-comment">              }
</span></code></td></tr><tr><td id="L5479" class="css-a4x74f"><span>5479</span></td><td id="LC5479" class="css-1dcdqdg"><code><span class="code-comment">              if (sealed) {
</span></code></td></tr><tr><td id="L5480" class="css-a4x74f"><span>5480</span></td><td id="LC5480" class="css-1dcdqdg"><code><span class="code-comment">                  error += `\nObject is sealed.`
</span></code></td></tr><tr><td id="L5481" class="css-a4x74f"><span>5481</span></td><td id="LC5481" class="css-1dcdqdg"><code><span class="code-comment">              }
</span></code></td></tr><tr><td id="L5482" class="css-a4x74f"><span>5482</span></td><td id="LC5482" class="css-1dcdqdg"><code><span class="code-comment">              if (!configurable) {
</span></code></td></tr><tr><td id="L5483" class="css-a4x74f"><span>5483</span></td><td id="LC5483" class="css-1dcdqdg"><code><span class="code-comment">                  error += `\nproperty is not configurable.`
</span></code></td></tr><tr><td id="L5484" class="css-a4x74f"><span>5484</span></td><td id="LC5484" class="css-1dcdqdg"><code><span class="code-comment">                  // Mention only if caused by us to avoid confusion
</span></code></td></tr><tr><td id="L5485" class="css-a4x74f"><span>5485</span></td><td id="LC5485" class="css-1dcdqdg"><code><span class="code-comment">                  if (hasProp(adm.appliedAnnotations!, key)) {
</span></code></td></tr><tr><td id="L5486" class="css-a4x74f"><span>5486</span></td><td id="LC5486" class="css-1dcdqdg"><code><span class="code-comment">                      error += `\nTo prevent accidental re-definition of a field by a subclass, `
</span></code></td></tr><tr><td id="L5487" class="css-a4x74f"><span>5487</span></td><td id="LC5487" class="css-1dcdqdg"><code><span class="code-comment">                      error += `all annotated fields of non-plain objects (classes) are not configurable.`
</span></code></td></tr><tr><td id="L5488" class="css-a4x74f"><span>5488</span></td><td id="LC5488" class="css-1dcdqdg"><code><span class="code-comment">                  }
</span></code></td></tr><tr><td id="L5489" class="css-a4x74f"><span>5489</span></td><td id="LC5489" class="css-1dcdqdg"><code><span class="code-comment">              }
</span></code></td></tr><tr><td id="L5490" class="css-a4x74f"><span>5490</span></td><td id="LC5490" class="css-1dcdqdg"><code><span class="code-comment">              die(error)
</span></code></td></tr><tr><td id="L5491" class="css-a4x74f"><span>5491</span></td><td id="LC5491" class="css-1dcdqdg"><code><span class="code-comment">          }
</span></code></td></tr><tr><td id="L5492" class="css-a4x74f"><span>5492</span></td><td id="LC5492" class="css-1dcdqdg"><code><span class="code-comment">      }
</span></code></td></tr><tr><td id="L5493" class="css-a4x74f"><span>5493</span></td><td id="LC5493" class="css-1dcdqdg"><code><span class="code-comment">      */</span>
</code></td></tr><tr><td id="L5494" class="css-a4x74f"><span>5494</span></td><td id="LC5494" class="css-1dcdqdg"><code>      <span class="code-comment">// Not annotated</span>
</code></td></tr><tr><td id="L5495" class="css-a4x74f"><span>5495</span></td><td id="LC5495" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> ( !isOverride(annotation) &amp;&amp; hasProp(adm.appliedAnnotations_, key)) {
</code></td></tr><tr><td id="L5496" class="css-a4x74f"><span>5496</span></td><td id="LC5496" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> fieldName = adm.name_ + <span class="code-string">"."</span> + key.toString();
</code></td></tr><tr><td id="L5497" class="css-a4x74f"><span>5497</span></td><td id="LC5497" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> currentAnnotationType = adm.appliedAnnotations_[key].annotationType_;
</code></td></tr><tr><td id="L5498" class="css-a4x74f"><span>5498</span></td><td id="LC5498" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> requestedAnnotationType = annotation.annotationType_;
</code></td></tr><tr><td id="L5499" class="css-a4x74f"><span>5499</span></td><td id="LC5499" class="css-1dcdqdg"><code>        die(<span class="code-string">"Cannot apply '"</span> + requestedAnnotationType + <span class="code-string">"' to '"</span> + fieldName + <span class="code-string">"':"</span> + (<span class="code-string">"\nThe field is already annotated with '"</span> + currentAnnotationType + <span class="code-string">"'."</span>) + <span class="code-string">"\nRe-annotating fields is not allowed."</span> + <span class="code-string">"\nUse 'override' annotation for methods overridden by subclass."</span>);
</code></td></tr><tr><td id="L5500" class="css-a4x74f"><span>5500</span></td><td id="LC5500" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5501" class="css-a4x74f"><span>5501</span></td><td id="LC5501" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5502" class="css-a4x74f"><span>5502</span></td><td id="LC5502" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5503" class="css-a4x74f"><span>5503</span></td><td id="LC5503" class="css-1dcdqdg"><code>    <span class="code-comment">// Bug in safari 9.* (or iOS 9 safari mobile). See #364</span>
</code></td></tr><tr><td id="L5504" class="css-a4x74f"><span>5504</span></td><td id="LC5504" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> ENTRY_0 = <span class="code-comment">/*#__PURE__*/</span>createArrayEntryDescriptor(<span class="code-number">0</span>);
</code></td></tr><tr><td id="L5505" class="css-a4x74f"><span>5505</span></td><td id="LC5505" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> safariPrototypeSetterInheritanceBug = <span class="code-comment">/*#__PURE__*/</span><span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5506" class="css-a4x74f"><span>5506</span></td><td id="LC5506" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> v = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5507" class="css-a4x74f"><span>5507</span></td><td id="LC5507" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> p = {};
</code></td></tr><tr><td id="L5508" class="css-a4x74f"><span>5508</span></td><td id="LC5508" class="css-1dcdqdg"><code>      <span class="code-built_in">Object</span>.defineProperty(p, <span class="code-string">"0"</span>, {
</code></td></tr><tr><td id="L5509" class="css-a4x74f"><span>5509</span></td><td id="LC5509" class="css-1dcdqdg"><code>        <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>() {
</code></td></tr><tr><td id="L5510" class="css-a4x74f"><span>5510</span></td><td id="LC5510" class="css-1dcdqdg"><code>          v = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L5511" class="css-a4x74f"><span>5511</span></td><td id="LC5511" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5512" class="css-a4x74f"><span>5512</span></td><td id="LC5512" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L5513" class="css-a4x74f"><span>5513</span></td><td id="LC5513" class="css-1dcdqdg"><code>      <span class="code-comment">/*#__PURE__*/</span><span class="code-built_in">Object</span>.create(p)[<span class="code-string">"0"</span>] = <span class="code-number">1</span>;
</code></td></tr><tr><td id="L5514" class="css-a4x74f"><span>5514</span></td><td id="LC5514" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> v === <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5515" class="css-a4x74f"><span>5515</span></td><td id="LC5515" class="css-1dcdqdg"><code>    }();
</code></td></tr><tr><td id="L5516" class="css-a4x74f"><span>5516</span></td><td id="LC5516" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L5517" class="css-a4x74f"><span>5517</span></td><td id="LC5517" class="css-1dcdqdg"><code><span class="code-comment">     * This array buffer contains two lists of properties, so that all arrays
</span></code></td></tr><tr><td id="L5518" class="css-a4x74f"><span>5518</span></td><td id="LC5518" class="css-1dcdqdg"><code><span class="code-comment">     * can recycle their property definitions, which significantly improves performance of creating
</span></code></td></tr><tr><td id="L5519" class="css-a4x74f"><span>5519</span></td><td id="LC5519" class="css-1dcdqdg"><code><span class="code-comment">     * properties on the fly.
</span></code></td></tr><tr><td id="L5520" class="css-a4x74f"><span>5520</span></td><td id="LC5520" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L5521" class="css-a4x74f"><span>5521</span></td><td id="LC5521" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> OBSERVABLE_ARRAY_BUFFER_SIZE = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L5522" class="css-a4x74f"><span>5522</span></td><td id="LC5522" class="css-1dcdqdg"><code>    <span class="code-comment">// Typescript workaround to make sure ObservableArray extends Array</span>
</code></td></tr><tr><td id="L5523" class="css-a4x74f"><span>5523</span></td><td id="LC5523" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> StubArray = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">StubArray</span>(<span class="code-params"></span>) </span>{};
</code></td></tr><tr><td id="L5524" class="css-a4x74f"><span>5524</span></td><td id="LC5524" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">inherit</span>(<span class="code-params">ctor, proto</span>) </span>{
</code></td></tr><tr><td id="L5525" class="css-a4x74f"><span>5525</span></td><td id="LC5525" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-built_in">Object</span>.setPrototypeOf) {
</code></td></tr><tr><td id="L5526" class="css-a4x74f"><span>5526</span></td><td id="LC5526" class="css-1dcdqdg"><code>        <span class="code-built_in">Object</span>.setPrototypeOf(ctor.prototype, proto);
</code></td></tr><tr><td id="L5527" class="css-a4x74f"><span>5527</span></td><td id="LC5527" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (ctor.prototype.__proto__ !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L5528" class="css-a4x74f"><span>5528</span></td><td id="LC5528" class="css-1dcdqdg"><code>        ctor.prototype.__proto__ = proto;
</code></td></tr><tr><td id="L5529" class="css-a4x74f"><span>5529</span></td><td id="LC5529" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L5530" class="css-a4x74f"><span>5530</span></td><td id="LC5530" class="css-1dcdqdg"><code>        ctor.prototype = proto;
</code></td></tr><tr><td id="L5531" class="css-a4x74f"><span>5531</span></td><td id="LC5531" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5532" class="css-a4x74f"><span>5532</span></td><td id="LC5532" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5533" class="css-a4x74f"><span>5533</span></td><td id="LC5533" class="css-1dcdqdg"><code>    inherit(StubArray, <span class="code-built_in">Array</span>.prototype);
</code></td></tr><tr><td id="L5534" class="css-a4x74f"><span>5534</span></td><td id="LC5534" class="css-1dcdqdg"><code>    <span class="code-comment">// Weex proto freeze protection was here,</span>
</code></td></tr><tr><td id="L5535" class="css-a4x74f"><span>5535</span></td><td id="LC5535" class="css-1dcdqdg"><code>    <span class="code-comment">// but it is unclear why the hack is need as MobX never changed the prototype</span>
</code></td></tr><tr><td id="L5536" class="css-a4x74f"><span>5536</span></td><td id="LC5536" class="css-1dcdqdg"><code>    <span class="code-comment">// anyway, so removed it in V6</span>
</code></td></tr><tr><td id="L5537" class="css-a4x74f"><span>5537</span></td><td id="LC5537" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> LegacyObservableArray = <span class="code-comment">/*#__PURE__*/</span><span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">_StubArray</span>) </span>{
</code></td></tr><tr><td id="L5538" class="css-a4x74f"><span>5538</span></td><td id="LC5538" class="css-1dcdqdg"><code>      <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">LegacyObservableArray</span>(<span class="code-params">initialValues, enhancer, name, owned</span>) </span>{
</code></td></tr><tr><td id="L5539" class="css-a4x74f"><span>5539</span></td><td id="LC5539" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> _this;
</code></td></tr><tr><td id="L5540" class="css-a4x74f"><span>5540</span></td><td id="LC5540" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (name === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L5541" class="css-a4x74f"><span>5541</span></td><td id="LC5541" class="css-1dcdqdg"><code>          name =  <span class="code-string">"ObservableArray@"</span> + getNextId() ;
</code></td></tr><tr><td id="L5542" class="css-a4x74f"><span>5542</span></td><td id="LC5542" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5543" class="css-a4x74f"><span>5543</span></td><td id="LC5543" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (owned === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L5544" class="css-a4x74f"><span>5544</span></td><td id="LC5544" class="css-1dcdqdg"><code>          owned = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5545" class="css-a4x74f"><span>5545</span></td><td id="LC5545" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5546" class="css-a4x74f"><span>5546</span></td><td id="LC5546" class="css-1dcdqdg"><code>        _this = _StubArray.call(<span class="code-keyword">this</span>) || <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5547" class="css-a4x74f"><span>5547</span></td><td id="LC5547" class="css-1dcdqdg"><code>        initObservable(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5548" class="css-a4x74f"><span>5548</span></td><td id="LC5548" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> adm = <span class="code-keyword">new</span> ObservableArrayAdministration(name, enhancer, owned, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L5549" class="css-a4x74f"><span>5549</span></td><td id="LC5549" class="css-1dcdqdg"><code>          adm.proxy_ = _this;
</code></td></tr><tr><td id="L5550" class="css-a4x74f"><span>5550</span></td><td id="LC5550" class="css-1dcdqdg"><code>          addHiddenFinalProp(_this, $mobx, adm);
</code></td></tr><tr><td id="L5551" class="css-a4x74f"><span>5551</span></td><td id="LC5551" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (initialValues &amp;&amp; initialValues.length) {
</code></td></tr><tr><td id="L5552" class="css-a4x74f"><span>5552</span></td><td id="LC5552" class="css-1dcdqdg"><code>            <span class="code-comment">// @ts-ignore</span>
</code></td></tr><tr><td id="L5553" class="css-a4x74f"><span>5553</span></td><td id="LC5553" class="css-1dcdqdg"><code>            _this.spliceWithArray(<span class="code-number">0</span>, <span class="code-number">0</span>, initialValues);
</code></td></tr><tr><td id="L5554" class="css-a4x74f"><span>5554</span></td><td id="LC5554" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5555" class="css-a4x74f"><span>5555</span></td><td id="LC5555" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (safariPrototypeSetterInheritanceBug) {
</code></td></tr><tr><td id="L5556" class="css-a4x74f"><span>5556</span></td><td id="LC5556" class="css-1dcdqdg"><code>            <span class="code-comment">// Seems that Safari won't use numeric prototype setter until any * numeric property is</span>
</code></td></tr><tr><td id="L5557" class="css-a4x74f"><span>5557</span></td><td id="LC5557" class="css-1dcdqdg"><code>            <span class="code-comment">// defined on the instance. After that it works fine, even if this property is deleted.</span>
</code></td></tr><tr><td id="L5558" class="css-a4x74f"><span>5558</span></td><td id="LC5558" class="css-1dcdqdg"><code>            <span class="code-built_in">Object</span>.defineProperty(_this, <span class="code-string">"0"</span>, ENTRY_0);
</code></td></tr><tr><td id="L5559" class="css-a4x74f"><span>5559</span></td><td id="LC5559" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5560" class="css-a4x74f"><span>5560</span></td><td id="LC5560" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L5561" class="css-a4x74f"><span>5561</span></td><td id="LC5561" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> _this;
</code></td></tr><tr><td id="L5562" class="css-a4x74f"><span>5562</span></td><td id="LC5562" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5563" class="css-a4x74f"><span>5563</span></td><td id="LC5563" class="css-1dcdqdg"><code>      _inheritsLoose(LegacyObservableArray, _StubArray);
</code></td></tr><tr><td id="L5564" class="css-a4x74f"><span>5564</span></td><td id="LC5564" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> _proto = LegacyObservableArray.prototype;
</code></td></tr><tr><td id="L5565" class="css-a4x74f"><span>5565</span></td><td id="LC5565" class="css-1dcdqdg"><code>      _proto.concat = <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">concat</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5566" class="css-a4x74f"><span>5566</span></td><td id="LC5566" class="css-1dcdqdg"><code>        <span class="code-keyword">this</span>[$mobx].atom_.reportObserved();
</code></td></tr><tr><td id="L5567" class="css-a4x74f"><span>5567</span></td><td id="LC5567" class="css-1dcdqdg"><code>        <span class="code-keyword">for</span> (<span class="code-keyword">var</span> _len = <span class="code-built_in">arguments</span>.length, arrays = <span class="code-keyword">new</span> <span class="code-built_in">Array</span>(_len), _key = <span class="code-number">0</span>; _key &lt; _len; _key++) {
</code></td></tr><tr><td id="L5568" class="css-a4x74f"><span>5568</span></td><td id="LC5568" class="css-1dcdqdg"><code>          arrays[_key] = <span class="code-built_in">arguments</span>[_key];
</code></td></tr><tr><td id="L5569" class="css-a4x74f"><span>5569</span></td><td id="LC5569" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5570" class="css-a4x74f"><span>5570</span></td><td id="LC5570" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-built_in">Array</span>.prototype.concat.apply(<span class="code-keyword">this</span>.slice(),
</code></td></tr><tr><td id="L5571" class="css-a4x74f"><span>5571</span></td><td id="LC5571" class="css-1dcdqdg"><code>        <span class="code-comment">//@ts-ignore</span>
</code></td></tr><tr><td id="L5572" class="css-a4x74f"><span>5572</span></td><td id="LC5572" class="css-1dcdqdg"><code>        arrays.map(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">a</span>) </span>{
</code></td></tr><tr><td id="L5573" class="css-a4x74f"><span>5573</span></td><td id="LC5573" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> isObservableArray(a) ? a.slice() : a;
</code></td></tr><tr><td id="L5574" class="css-a4x74f"><span>5574</span></td><td id="LC5574" class="css-1dcdqdg"><code>        }));
</code></td></tr><tr><td id="L5575" class="css-a4x74f"><span>5575</span></td><td id="LC5575" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L5576" class="css-a4x74f"><span>5576</span></td><td id="LC5576" class="css-1dcdqdg"><code>      _proto[<span class="code-built_in">Symbol</span>.iterator] = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5577" class="css-a4x74f"><span>5577</span></td><td id="LC5577" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> self = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5578" class="css-a4x74f"><span>5578</span></td><td id="LC5578" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> nextIndex = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L5579" class="css-a4x74f"><span>5579</span></td><td id="LC5579" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> makeIterable({
</code></td></tr><tr><td id="L5580" class="css-a4x74f"><span>5580</span></td><td id="LC5580" class="css-1dcdqdg"><code>          next: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">next</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5581" class="css-a4x74f"><span>5581</span></td><td id="LC5581" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> nextIndex &lt; self.length ? {
</code></td></tr><tr><td id="L5582" class="css-a4x74f"><span>5582</span></td><td id="LC5582" class="css-1dcdqdg"><code>              value: self[nextIndex++],
</code></td></tr><tr><td id="L5583" class="css-a4x74f"><span>5583</span></td><td id="LC5583" class="css-1dcdqdg"><code>              done: <span class="code-literal">false</span>
</code></td></tr><tr><td id="L5584" class="css-a4x74f"><span>5584</span></td><td id="LC5584" class="css-1dcdqdg"><code>            } : {
</code></td></tr><tr><td id="L5585" class="css-a4x74f"><span>5585</span></td><td id="LC5585" class="css-1dcdqdg"><code>              done: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L5586" class="css-a4x74f"><span>5586</span></td><td id="LC5586" class="css-1dcdqdg"><code>              value: <span class="code-literal">undefined</span>
</code></td></tr><tr><td id="L5587" class="css-a4x74f"><span>5587</span></td><td id="LC5587" class="css-1dcdqdg"><code>            };
</code></td></tr><tr><td id="L5588" class="css-a4x74f"><span>5588</span></td><td id="LC5588" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5589" class="css-a4x74f"><span>5589</span></td><td id="LC5589" class="css-1dcdqdg"><code>        });
</code></td></tr><tr><td id="L5590" class="css-a4x74f"><span>5590</span></td><td id="LC5590" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L5591" class="css-a4x74f"><span>5591</span></td><td id="LC5591" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> _createClass(LegacyObservableArray, [{
</code></td></tr><tr><td id="L5592" class="css-a4x74f"><span>5592</span></td><td id="LC5592" class="css-1dcdqdg"><code>        key: <span class="code-string">"length"</span>,
</code></td></tr><tr><td id="L5593" class="css-a4x74f"><span>5593</span></td><td id="LC5593" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L5594" class="css-a4x74f"><span>5594</span></td><td id="LC5594" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-keyword">this</span>[$mobx].getArrayLength_();
</code></td></tr><tr><td id="L5595" class="css-a4x74f"><span>5595</span></td><td id="LC5595" class="css-1dcdqdg"><code>        },
</code></td></tr><tr><td id="L5596" class="css-a4x74f"><span>5596</span></td><td id="LC5596" class="css-1dcdqdg"><code>        <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(newLength) {
</code></td></tr><tr><td id="L5597" class="css-a4x74f"><span>5597</span></td><td id="LC5597" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>[$mobx].setArrayLength_(newLength);
</code></td></tr><tr><td id="L5598" class="css-a4x74f"><span>5598</span></td><td id="LC5598" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5599" class="css-a4x74f"><span>5599</span></td><td id="LC5599" class="css-1dcdqdg"><code>      }, {
</code></td></tr><tr><td id="L5600" class="css-a4x74f"><span>5600</span></td><td id="LC5600" class="css-1dcdqdg"><code>        key: <span class="code-built_in">Symbol</span>.toStringTag,
</code></td></tr><tr><td id="L5601" class="css-a4x74f"><span>5601</span></td><td id="LC5601" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L5602" class="css-a4x74f"><span>5602</span></td><td id="LC5602" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-string">"Array"</span>;
</code></td></tr><tr><td id="L5603" class="css-a4x74f"><span>5603</span></td><td id="LC5603" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5604" class="css-a4x74f"><span>5604</span></td><td id="LC5604" class="css-1dcdqdg"><code>      }]);
</code></td></tr><tr><td id="L5605" class="css-a4x74f"><span>5605</span></td><td id="LC5605" class="css-1dcdqdg"><code>    }(StubArray);
</code></td></tr><tr><td id="L5606" class="css-a4x74f"><span>5606</span></td><td id="LC5606" class="css-1dcdqdg"><code>    <span class="code-built_in">Object</span>.entries(arrayExtensions).forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">_ref</span>) </span>{
</code></td></tr><tr><td id="L5607" class="css-a4x74f"><span>5607</span></td><td id="LC5607" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> prop = _ref[<span class="code-number">0</span>],
</code></td></tr><tr><td id="L5608" class="css-a4x74f"><span>5608</span></td><td id="LC5608" class="css-1dcdqdg"><code>        fn = _ref[<span class="code-number">1</span>];
</code></td></tr><tr><td id="L5609" class="css-a4x74f"><span>5609</span></td><td id="LC5609" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (prop !== <span class="code-string">"concat"</span>) {
</code></td></tr><tr><td id="L5610" class="css-a4x74f"><span>5610</span></td><td id="LC5610" class="css-1dcdqdg"><code>        addHiddenProp(LegacyObservableArray.prototype, prop, fn);
</code></td></tr><tr><td id="L5611" class="css-a4x74f"><span>5611</span></td><td id="LC5611" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5612" class="css-a4x74f"><span>5612</span></td><td id="LC5612" class="css-1dcdqdg"><code>    });
</code></td></tr><tr><td id="L5613" class="css-a4x74f"><span>5613</span></td><td id="LC5613" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createArrayEntryDescriptor</span>(<span class="code-params">index</span>) </span>{
</code></td></tr><tr><td id="L5614" class="css-a4x74f"><span>5614</span></td><td id="LC5614" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> {
</code></td></tr><tr><td id="L5615" class="css-a4x74f"><span>5615</span></td><td id="LC5615" class="css-1dcdqdg"><code>        enumerable: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L5616" class="css-a4x74f"><span>5616</span></td><td id="LC5616" class="css-1dcdqdg"><code>        configurable: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L5617" class="css-a4x74f"><span>5617</span></td><td id="LC5617" class="css-1dcdqdg"><code>        <span class="code-keyword">get</span>: function <span class="code-keyword">get</span>() {
</code></td></tr><tr><td id="L5618" class="css-a4x74f"><span>5618</span></td><td id="LC5618" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-keyword">this</span>[$mobx].get_(index);
</code></td></tr><tr><td id="L5619" class="css-a4x74f"><span>5619</span></td><td id="LC5619" class="css-1dcdqdg"><code>        },
</code></td></tr><tr><td id="L5620" class="css-a4x74f"><span>5620</span></td><td id="LC5620" class="css-1dcdqdg"><code>        <span class="code-keyword">set</span>: function <span class="code-keyword">set</span>(value) {
</code></td></tr><tr><td id="L5621" class="css-a4x74f"><span>5621</span></td><td id="LC5621" class="css-1dcdqdg"><code>          <span class="code-keyword">this</span>[$mobx].set_(index, value);
</code></td></tr><tr><td id="L5622" class="css-a4x74f"><span>5622</span></td><td id="LC5622" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5623" class="css-a4x74f"><span>5623</span></td><td id="LC5623" class="css-1dcdqdg"><code>      };
</code></td></tr><tr><td id="L5624" class="css-a4x74f"><span>5624</span></td><td id="LC5624" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5625" class="css-a4x74f"><span>5625</span></td><td id="LC5625" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createArrayBufferItem</span>(<span class="code-params">index</span>) </span>{
</code></td></tr><tr><td id="L5626" class="css-a4x74f"><span>5626</span></td><td id="LC5626" class="css-1dcdqdg"><code>      defineProperty(LegacyObservableArray.prototype, <span class="code-string">""</span> + index, createArrayEntryDescriptor(index));
</code></td></tr><tr><td id="L5627" class="css-a4x74f"><span>5627</span></td><td id="LC5627" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5628" class="css-a4x74f"><span>5628</span></td><td id="LC5628" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">reserveArrayBuffer</span>(<span class="code-params">max</span>) </span>{
</code></td></tr><tr><td id="L5629" class="css-a4x74f"><span>5629</span></td><td id="LC5629" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (max &gt; OBSERVABLE_ARRAY_BUFFER_SIZE) {
</code></td></tr><tr><td id="L5630" class="css-a4x74f"><span>5630</span></td><td id="LC5630" class="css-1dcdqdg"><code>        <span class="code-keyword">for</span> (<span class="code-keyword">var</span> index = OBSERVABLE_ARRAY_BUFFER_SIZE; index &lt; max + <span class="code-number">100</span>; index++) {
</code></td></tr><tr><td id="L5631" class="css-a4x74f"><span>5631</span></td><td id="LC5631" class="css-1dcdqdg"><code>          createArrayBufferItem(index);
</code></td></tr><tr><td id="L5632" class="css-a4x74f"><span>5632</span></td><td id="LC5632" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5633" class="css-a4x74f"><span>5633</span></td><td id="LC5633" class="css-1dcdqdg"><code>        OBSERVABLE_ARRAY_BUFFER_SIZE = max;
</code></td></tr><tr><td id="L5634" class="css-a4x74f"><span>5634</span></td><td id="LC5634" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5635" class="css-a4x74f"><span>5635</span></td><td id="LC5635" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5636" class="css-a4x74f"><span>5636</span></td><td id="LC5636" class="css-1dcdqdg"><code>    reserveArrayBuffer(<span class="code-number">1000</span>);
</code></td></tr><tr><td id="L5637" class="css-a4x74f"><span>5637</span></td><td id="LC5637" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createLegacyArray</span>(<span class="code-params">initialValues, enhancer, name</span>) </span>{
</code></td></tr><tr><td id="L5638" class="css-a4x74f"><span>5638</span></td><td id="LC5638" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-keyword">new</span> LegacyObservableArray(initialValues, enhancer, name);
</code></td></tr><tr><td id="L5639" class="css-a4x74f"><span>5639</span></td><td id="LC5639" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5640" class="css-a4x74f"><span>5640</span></td><td id="LC5640" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5641" class="css-a4x74f"><span>5641</span></td><td id="LC5641" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getAtom</span>(<span class="code-params">thing, property</span>) </span>{
</code></td></tr><tr><td id="L5642" class="css-a4x74f"><span>5642</span></td><td id="LC5642" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> thing === <span class="code-string">"object"</span> &amp;&amp; thing !== <span class="code-literal">null</span>) {
</code></td></tr><tr><td id="L5643" class="css-a4x74f"><span>5643</span></td><td id="LC5643" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isObservableArray(thing)) {
</code></td></tr><tr><td id="L5644" class="css-a4x74f"><span>5644</span></td><td id="LC5644" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (property !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L5645" class="css-a4x74f"><span>5645</span></td><td id="LC5645" class="css-1dcdqdg"><code>            die(<span class="code-number">23</span>);
</code></td></tr><tr><td id="L5646" class="css-a4x74f"><span>5646</span></td><td id="LC5646" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5647" class="css-a4x74f"><span>5647</span></td><td id="LC5647" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> thing[$mobx].atom_;
</code></td></tr><tr><td id="L5648" class="css-a4x74f"><span>5648</span></td><td id="LC5648" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5649" class="css-a4x74f"><span>5649</span></td><td id="LC5649" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isObservableSet(thing)) {
</code></td></tr><tr><td id="L5650" class="css-a4x74f"><span>5650</span></td><td id="LC5650" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> thing.atom_;
</code></td></tr><tr><td id="L5651" class="css-a4x74f"><span>5651</span></td><td id="LC5651" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5652" class="css-a4x74f"><span>5652</span></td><td id="LC5652" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isObservableMap(thing)) {
</code></td></tr><tr><td id="L5653" class="css-a4x74f"><span>5653</span></td><td id="LC5653" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (property === <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L5654" class="css-a4x74f"><span>5654</span></td><td id="LC5654" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> thing.keysAtom_;
</code></td></tr><tr><td id="L5655" class="css-a4x74f"><span>5655</span></td><td id="LC5655" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5656" class="css-a4x74f"><span>5656</span></td><td id="LC5656" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> observable = thing.data_.get(property) || thing.hasMap_.get(property);
</code></td></tr><tr><td id="L5657" class="css-a4x74f"><span>5657</span></td><td id="LC5657" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!observable) {
</code></td></tr><tr><td id="L5658" class="css-a4x74f"><span>5658</span></td><td id="LC5658" class="css-1dcdqdg"><code>            die(<span class="code-number">25</span>, property, getDebugName(thing));
</code></td></tr><tr><td id="L5659" class="css-a4x74f"><span>5659</span></td><td id="LC5659" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5660" class="css-a4x74f"><span>5660</span></td><td id="LC5660" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> observable;
</code></td></tr><tr><td id="L5661" class="css-a4x74f"><span>5661</span></td><td id="LC5661" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5662" class="css-a4x74f"><span>5662</span></td><td id="LC5662" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isObservableObject(thing)) {
</code></td></tr><tr><td id="L5663" class="css-a4x74f"><span>5663</span></td><td id="LC5663" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!property) {
</code></td></tr><tr><td id="L5664" class="css-a4x74f"><span>5664</span></td><td id="LC5664" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> die(<span class="code-number">26</span>);
</code></td></tr><tr><td id="L5665" class="css-a4x74f"><span>5665</span></td><td id="LC5665" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5666" class="css-a4x74f"><span>5666</span></td><td id="LC5666" class="css-1dcdqdg"><code>          <span class="code-keyword">var</span> _observable = thing[$mobx].values_.get(property);
</code></td></tr><tr><td id="L5667" class="css-a4x74f"><span>5667</span></td><td id="LC5667" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!_observable) {
</code></td></tr><tr><td id="L5668" class="css-a4x74f"><span>5668</span></td><td id="LC5668" class="css-1dcdqdg"><code>            die(<span class="code-number">27</span>, property, getDebugName(thing));
</code></td></tr><tr><td id="L5669" class="css-a4x74f"><span>5669</span></td><td id="LC5669" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5670" class="css-a4x74f"><span>5670</span></td><td id="LC5670" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> _observable;
</code></td></tr><tr><td id="L5671" class="css-a4x74f"><span>5671</span></td><td id="LC5671" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5672" class="css-a4x74f"><span>5672</span></td><td id="LC5672" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isAtom(thing) || isComputedValue(thing) || isReaction(thing)) {
</code></td></tr><tr><td id="L5673" class="css-a4x74f"><span>5673</span></td><td id="LC5673" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> thing;
</code></td></tr><tr><td id="L5674" class="css-a4x74f"><span>5674</span></td><td id="LC5674" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5675" class="css-a4x74f"><span>5675</span></td><td id="LC5675" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (isFunction(thing)) {
</code></td></tr><tr><td id="L5676" class="css-a4x74f"><span>5676</span></td><td id="LC5676" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (isReaction(thing[$mobx])) {
</code></td></tr><tr><td id="L5677" class="css-a4x74f"><span>5677</span></td><td id="LC5677" class="css-1dcdqdg"><code>          <span class="code-comment">// disposer function</span>
</code></td></tr><tr><td id="L5678" class="css-a4x74f"><span>5678</span></td><td id="LC5678" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> thing[$mobx];
</code></td></tr><tr><td id="L5679" class="css-a4x74f"><span>5679</span></td><td id="LC5679" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5680" class="css-a4x74f"><span>5680</span></td><td id="LC5680" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5681" class="css-a4x74f"><span>5681</span></td><td id="LC5681" class="css-1dcdqdg"><code>      die(<span class="code-number">28</span>);
</code></td></tr><tr><td id="L5682" class="css-a4x74f"><span>5682</span></td><td id="LC5682" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5683" class="css-a4x74f"><span>5683</span></td><td id="LC5683" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getAdministration</span>(<span class="code-params">thing, property</span>) </span>{
</code></td></tr><tr><td id="L5684" class="css-a4x74f"><span>5684</span></td><td id="LC5684" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!thing) {
</code></td></tr><tr><td id="L5685" class="css-a4x74f"><span>5685</span></td><td id="LC5685" class="css-1dcdqdg"><code>        die(<span class="code-number">29</span>);
</code></td></tr><tr><td id="L5686" class="css-a4x74f"><span>5686</span></td><td id="LC5686" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5687" class="css-a4x74f"><span>5687</span></td><td id="LC5687" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (property !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L5688" class="css-a4x74f"><span>5688</span></td><td id="LC5688" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> getAdministration(getAtom(thing, property));
</code></td></tr><tr><td id="L5689" class="css-a4x74f"><span>5689</span></td><td id="LC5689" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5690" class="css-a4x74f"><span>5690</span></td><td id="LC5690" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isAtom(thing) || isComputedValue(thing) || isReaction(thing)) {
</code></td></tr><tr><td id="L5691" class="css-a4x74f"><span>5691</span></td><td id="LC5691" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> thing;
</code></td></tr><tr><td id="L5692" class="css-a4x74f"><span>5692</span></td><td id="LC5692" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5693" class="css-a4x74f"><span>5693</span></td><td id="LC5693" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableMap(thing) || isObservableSet(thing)) {
</code></td></tr><tr><td id="L5694" class="css-a4x74f"><span>5694</span></td><td id="LC5694" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> thing;
</code></td></tr><tr><td id="L5695" class="css-a4x74f"><span>5695</span></td><td id="LC5695" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5696" class="css-a4x74f"><span>5696</span></td><td id="LC5696" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (thing[$mobx]) {
</code></td></tr><tr><td id="L5697" class="css-a4x74f"><span>5697</span></td><td id="LC5697" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> thing[$mobx];
</code></td></tr><tr><td id="L5698" class="css-a4x74f"><span>5698</span></td><td id="LC5698" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5699" class="css-a4x74f"><span>5699</span></td><td id="LC5699" class="css-1dcdqdg"><code>      die(<span class="code-number">24</span>, thing);
</code></td></tr><tr><td id="L5700" class="css-a4x74f"><span>5700</span></td><td id="LC5700" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5701" class="css-a4x74f"><span>5701</span></td><td id="LC5701" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getDebugName</span>(<span class="code-params">thing, property</span>) </span>{
</code></td></tr><tr><td id="L5702" class="css-a4x74f"><span>5702</span></td><td id="LC5702" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> named;
</code></td></tr><tr><td id="L5703" class="css-a4x74f"><span>5703</span></td><td id="LC5703" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (property !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L5704" class="css-a4x74f"><span>5704</span></td><td id="LC5704" class="css-1dcdqdg"><code>        named = getAtom(thing, property);
</code></td></tr><tr><td id="L5705" class="css-a4x74f"><span>5705</span></td><td id="LC5705" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (isAction(thing)) {
</code></td></tr><tr><td id="L5706" class="css-a4x74f"><span>5706</span></td><td id="LC5706" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> thing.name;
</code></td></tr><tr><td id="L5707" class="css-a4x74f"><span>5707</span></td><td id="LC5707" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (isObservableObject(thing) || isObservableMap(thing) || isObservableSet(thing)) {
</code></td></tr><tr><td id="L5708" class="css-a4x74f"><span>5708</span></td><td id="LC5708" class="css-1dcdqdg"><code>        named = getAdministration(thing);
</code></td></tr><tr><td id="L5709" class="css-a4x74f"><span>5709</span></td><td id="LC5709" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L5710" class="css-a4x74f"><span>5710</span></td><td id="LC5710" class="css-1dcdqdg"><code>        <span class="code-comment">// valid for arrays as well</span>
</code></td></tr><tr><td id="L5711" class="css-a4x74f"><span>5711</span></td><td id="LC5711" class="css-1dcdqdg"><code>        named = getAtom(thing);
</code></td></tr><tr><td id="L5712" class="css-a4x74f"><span>5712</span></td><td id="LC5712" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5713" class="css-a4x74f"><span>5713</span></td><td id="LC5713" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> named.name_;
</code></td></tr><tr><td id="L5714" class="css-a4x74f"><span>5714</span></td><td id="LC5714" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5715" class="css-a4x74f"><span>5715</span></td><td id="LC5715" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L5716" class="css-a4x74f"><span>5716</span></td><td id="LC5716" class="css-1dcdqdg"><code><span class="code-comment">     * Helper function for initializing observable structures, it applies:
</span></code></td></tr><tr><td id="L5717" class="css-a4x74f"><span>5717</span></td><td id="LC5717" class="css-1dcdqdg"><code><span class="code-comment">     * 1. allowStateChanges so we don't violate enforceActions.
</span></code></td></tr><tr><td id="L5718" class="css-a4x74f"><span>5718</span></td><td id="LC5718" class="css-1dcdqdg"><code><span class="code-comment">     * 2. untracked so we don't accidentaly subscribe to anything observable accessed during init in case the observable is created inside derivation.
</span></code></td></tr><tr><td id="L5719" class="css-a4x74f"><span>5719</span></td><td id="LC5719" class="css-1dcdqdg"><code><span class="code-comment">     * 3. batch to avoid state version updates
</span></code></td></tr><tr><td id="L5720" class="css-a4x74f"><span>5720</span></td><td id="LC5720" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L5721" class="css-a4x74f"><span>5721</span></td><td id="LC5721" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">initObservable</span>(<span class="code-params">cb</span>) </span>{
</code></td></tr><tr><td id="L5722" class="css-a4x74f"><span>5722</span></td><td id="LC5722" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> derivation = untrackedStart();
</code></td></tr><tr><td id="L5723" class="css-a4x74f"><span>5723</span></td><td id="LC5723" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> allowStateChanges = allowStateChangesStart(<span class="code-literal">true</span>);
</code></td></tr><tr><td id="L5724" class="css-a4x74f"><span>5724</span></td><td id="LC5724" class="css-1dcdqdg"><code>      startBatch();
</code></td></tr><tr><td id="L5725" class="css-a4x74f"><span>5725</span></td><td id="LC5725" class="css-1dcdqdg"><code>      <span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L5726" class="css-a4x74f"><span>5726</span></td><td id="LC5726" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> cb();
</code></td></tr><tr><td id="L5727" class="css-a4x74f"><span>5727</span></td><td id="LC5727" class="css-1dcdqdg"><code>      } <span class="code-keyword">finally</span> {
</code></td></tr><tr><td id="L5728" class="css-a4x74f"><span>5728</span></td><td id="LC5728" class="css-1dcdqdg"><code>        endBatch();
</code></td></tr><tr><td id="L5729" class="css-a4x74f"><span>5729</span></td><td id="LC5729" class="css-1dcdqdg"><code>        allowStateChangesEnd(allowStateChanges);
</code></td></tr><tr><td id="L5730" class="css-a4x74f"><span>5730</span></td><td id="LC5730" class="css-1dcdqdg"><code>        untrackedEnd(derivation);
</code></td></tr><tr><td id="L5731" class="css-a4x74f"><span>5731</span></td><td id="LC5731" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5732" class="css-a4x74f"><span>5732</span></td><td id="LC5732" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5733" class="css-a4x74f"><span>5733</span></td><td id="LC5733" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5734" class="css-a4x74f"><span>5734</span></td><td id="LC5734" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> toString = objectPrototype.toString;
</code></td></tr><tr><td id="L5735" class="css-a4x74f"><span>5735</span></td><td id="LC5735" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">deepEqual</span>(<span class="code-params">a, b, depth</span>) </span>{
</code></td></tr><tr><td id="L5736" class="css-a4x74f"><span>5736</span></td><td id="LC5736" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (depth === <span class="code-keyword">void</span> <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L5737" class="css-a4x74f"><span>5737</span></td><td id="LC5737" class="css-1dcdqdg"><code>        depth = <span class="code-number">-1</span>;
</code></td></tr><tr><td id="L5738" class="css-a4x74f"><span>5738</span></td><td id="LC5738" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5739" class="css-a4x74f"><span>5739</span></td><td id="LC5739" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> eq(a, b, depth);
</code></td></tr><tr><td id="L5740" class="css-a4x74f"><span>5740</span></td><td id="LC5740" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5741" class="css-a4x74f"><span>5741</span></td><td id="LC5741" class="css-1dcdqdg"><code>    <span class="code-comment">// Copied from https://github.com/jashkenas/underscore/blob/5c237a7c682fb68fd5378203f0bf22dce1624854/underscore.js#L1186-L1289</span>
</code></td></tr><tr><td id="L5742" class="css-a4x74f"><span>5742</span></td><td id="LC5742" class="css-1dcdqdg"><code>    <span class="code-comment">// Internal recursive comparison function for `isEqual`.</span>
</code></td></tr><tr><td id="L5743" class="css-a4x74f"><span>5743</span></td><td id="LC5743" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">eq</span>(<span class="code-params">a, b, depth, aStack, bStack</span>) </span>{
</code></td></tr><tr><td id="L5744" class="css-a4x74f"><span>5744</span></td><td id="LC5744" class="css-1dcdqdg"><code>      <span class="code-comment">// Identical objects are equal. `0 === -0`, but they aren't identical.</span>
</code></td></tr><tr><td id="L5745" class="css-a4x74f"><span>5745</span></td><td id="LC5745" class="css-1dcdqdg"><code>      <span class="code-comment">// See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).</span>
</code></td></tr><tr><td id="L5746" class="css-a4x74f"><span>5746</span></td><td id="LC5746" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (a === b) {
</code></td></tr><tr><td id="L5747" class="css-a4x74f"><span>5747</span></td><td id="LC5747" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> a !== <span class="code-number">0</span> || <span class="code-number">1</span> / a === <span class="code-number">1</span> / b;
</code></td></tr><tr><td id="L5748" class="css-a4x74f"><span>5748</span></td><td id="LC5748" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5749" class="css-a4x74f"><span>5749</span></td><td id="LC5749" class="css-1dcdqdg"><code>      <span class="code-comment">// `null` or `undefined` only equal to itself (strict comparison).</span>
</code></td></tr><tr><td id="L5750" class="css-a4x74f"><span>5750</span></td><td id="LC5750" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (a == <span class="code-literal">null</span> || b == <span class="code-literal">null</span>) {
</code></td></tr><tr><td id="L5751" class="css-a4x74f"><span>5751</span></td><td id="LC5751" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5752" class="css-a4x74f"><span>5752</span></td><td id="LC5752" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5753" class="css-a4x74f"><span>5753</span></td><td id="LC5753" class="css-1dcdqdg"><code>      <span class="code-comment">// `NaN`s are equivalent, but non-reflexive.</span>
</code></td></tr><tr><td id="L5754" class="css-a4x74f"><span>5754</span></td><td id="LC5754" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (a !== a) {
</code></td></tr><tr><td id="L5755" class="css-a4x74f"><span>5755</span></td><td id="LC5755" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> b !== b;
</code></td></tr><tr><td id="L5756" class="css-a4x74f"><span>5756</span></td><td id="LC5756" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5757" class="css-a4x74f"><span>5757</span></td><td id="LC5757" class="css-1dcdqdg"><code>      <span class="code-comment">// Exhaust primitive checks</span>
</code></td></tr><tr><td id="L5758" class="css-a4x74f"><span>5758</span></td><td id="LC5758" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> type = <span class="code-keyword">typeof</span> a;
</code></td></tr><tr><td id="L5759" class="css-a4x74f"><span>5759</span></td><td id="LC5759" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (type !== <span class="code-string">"function"</span> &amp;&amp; type !== <span class="code-string">"object"</span> &amp;&amp; <span class="code-keyword">typeof</span> b != <span class="code-string">"object"</span>) {
</code></td></tr><tr><td id="L5760" class="css-a4x74f"><span>5760</span></td><td id="LC5760" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5761" class="css-a4x74f"><span>5761</span></td><td id="LC5761" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5762" class="css-a4x74f"><span>5762</span></td><td id="LC5762" class="css-1dcdqdg"><code>      <span class="code-comment">// Compare `[[Class]]` names.</span>
</code></td></tr><tr><td id="L5763" class="css-a4x74f"><span>5763</span></td><td id="LC5763" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> className = toString.call(a);
</code></td></tr><tr><td id="L5764" class="css-a4x74f"><span>5764</span></td><td id="LC5764" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (className !== toString.call(b)) {
</code></td></tr><tr><td id="L5765" class="css-a4x74f"><span>5765</span></td><td id="LC5765" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5766" class="css-a4x74f"><span>5766</span></td><td id="LC5766" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5767" class="css-a4x74f"><span>5767</span></td><td id="LC5767" class="css-1dcdqdg"><code>      <span class="code-keyword">switch</span> (className) {
</code></td></tr><tr><td id="L5768" class="css-a4x74f"><span>5768</span></td><td id="LC5768" class="css-1dcdqdg"><code>        <span class="code-comment">// Strings, numbers, regular expressions, dates, and booleans are compared by value.</span>
</code></td></tr><tr><td id="L5769" class="css-a4x74f"><span>5769</span></td><td id="LC5769" class="css-1dcdqdg"><code>        <span class="code-keyword">case</span> <span class="code-string">"[object RegExp]"</span>:
</code></td></tr><tr><td id="L5770" class="css-a4x74f"><span>5770</span></td><td id="LC5770" class="css-1dcdqdg"><code>        <span class="code-comment">// RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')</span>
</code></td></tr><tr><td id="L5771" class="css-a4x74f"><span>5771</span></td><td id="LC5771" class="css-1dcdqdg"><code>        <span class="code-keyword">case</span> <span class="code-string">"[object String]"</span>:
</code></td></tr><tr><td id="L5772" class="css-a4x74f"><span>5772</span></td><td id="LC5772" class="css-1dcdqdg"><code>          <span class="code-comment">// Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is</span>
</code></td></tr><tr><td id="L5773" class="css-a4x74f"><span>5773</span></td><td id="LC5773" class="css-1dcdqdg"><code>          <span class="code-comment">// equivalent to `new String("5")`.</span>
</code></td></tr><tr><td id="L5774" class="css-a4x74f"><span>5774</span></td><td id="LC5774" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-string">""</span> + a === <span class="code-string">""</span> + b;
</code></td></tr><tr><td id="L5775" class="css-a4x74f"><span>5775</span></td><td id="LC5775" class="css-1dcdqdg"><code>        <span class="code-keyword">case</span> <span class="code-string">"[object Number]"</span>:
</code></td></tr><tr><td id="L5776" class="css-a4x74f"><span>5776</span></td><td id="LC5776" class="css-1dcdqdg"><code>          <span class="code-comment">// `NaN`s are equivalent, but non-reflexive.</span>
</code></td></tr><tr><td id="L5777" class="css-a4x74f"><span>5777</span></td><td id="LC5777" class="css-1dcdqdg"><code>          <span class="code-comment">// Object(NaN) is equivalent to NaN.</span>
</code></td></tr><tr><td id="L5778" class="css-a4x74f"><span>5778</span></td><td id="LC5778" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (+a !== +a) {
</code></td></tr><tr><td id="L5779" class="css-a4x74f"><span>5779</span></td><td id="LC5779" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> +b !== +b;
</code></td></tr><tr><td id="L5780" class="css-a4x74f"><span>5780</span></td><td id="LC5780" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5781" class="css-a4x74f"><span>5781</span></td><td id="LC5781" class="css-1dcdqdg"><code>          <span class="code-comment">// An `egal` comparison is performed for other numeric values.</span>
</code></td></tr><tr><td id="L5782" class="css-a4x74f"><span>5782</span></td><td id="LC5782" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> +a === <span class="code-number">0</span> ? <span class="code-number">1</span> / +a === <span class="code-number">1</span> / b : +a === +b;
</code></td></tr><tr><td id="L5783" class="css-a4x74f"><span>5783</span></td><td id="LC5783" class="css-1dcdqdg"><code>        <span class="code-keyword">case</span> <span class="code-string">"[object Date]"</span>:
</code></td></tr><tr><td id="L5784" class="css-a4x74f"><span>5784</span></td><td id="LC5784" class="css-1dcdqdg"><code>        <span class="code-keyword">case</span> <span class="code-string">"[object Boolean]"</span>:
</code></td></tr><tr><td id="L5785" class="css-a4x74f"><span>5785</span></td><td id="LC5785" class="css-1dcdqdg"><code>          <span class="code-comment">// Coerce dates and booleans to numeric primitive values. Dates are compared by their</span>
</code></td></tr><tr><td id="L5786" class="css-a4x74f"><span>5786</span></td><td id="LC5786" class="css-1dcdqdg"><code>          <span class="code-comment">// millisecond representations. Note that invalid dates with millisecond representations</span>
</code></td></tr><tr><td id="L5787" class="css-a4x74f"><span>5787</span></td><td id="LC5787" class="css-1dcdqdg"><code>          <span class="code-comment">// of `NaN` are not equivalent.</span>
</code></td></tr><tr><td id="L5788" class="css-a4x74f"><span>5788</span></td><td id="LC5788" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> +a === +b;
</code></td></tr><tr><td id="L5789" class="css-a4x74f"><span>5789</span></td><td id="LC5789" class="css-1dcdqdg"><code>        <span class="code-keyword">case</span> <span class="code-string">"[object Symbol]"</span>:
</code></td></tr><tr><td id="L5790" class="css-a4x74f"><span>5790</span></td><td id="LC5790" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span> !== <span class="code-string">"undefined"</span> &amp;&amp; <span class="code-built_in">Symbol</span>.valueOf.call(a) === <span class="code-built_in">Symbol</span>.valueOf.call(b);
</code></td></tr><tr><td id="L5791" class="css-a4x74f"><span>5791</span></td><td id="LC5791" class="css-1dcdqdg"><code>        <span class="code-keyword">case</span> <span class="code-string">"[object Map]"</span>:
</code></td></tr><tr><td id="L5792" class="css-a4x74f"><span>5792</span></td><td id="LC5792" class="css-1dcdqdg"><code>        <span class="code-keyword">case</span> <span class="code-string">"[object Set]"</span>:
</code></td></tr><tr><td id="L5793" class="css-a4x74f"><span>5793</span></td><td id="LC5793" class="css-1dcdqdg"><code>          <span class="code-comment">// Maps and Sets are unwrapped to arrays of entry-pairs, adding an incidental level.</span>
</code></td></tr><tr><td id="L5794" class="css-a4x74f"><span>5794</span></td><td id="LC5794" class="css-1dcdqdg"><code>          <span class="code-comment">// Hide this extra level by increasing the depth.</span>
</code></td></tr><tr><td id="L5795" class="css-a4x74f"><span>5795</span></td><td id="LC5795" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (depth &gt;= <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L5796" class="css-a4x74f"><span>5796</span></td><td id="LC5796" class="css-1dcdqdg"><code>            depth++;
</code></td></tr><tr><td id="L5797" class="css-a4x74f"><span>5797</span></td><td id="LC5797" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5798" class="css-a4x74f"><span>5798</span></td><td id="LC5798" class="css-1dcdqdg"><code>          <span class="code-keyword">break</span>;
</code></td></tr><tr><td id="L5799" class="css-a4x74f"><span>5799</span></td><td id="LC5799" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5800" class="css-a4x74f"><span>5800</span></td><td id="LC5800" class="css-1dcdqdg"><code>      <span class="code-comment">// Unwrap any wrapped objects.</span>
</code></td></tr><tr><td id="L5801" class="css-a4x74f"><span>5801</span></td><td id="LC5801" class="css-1dcdqdg"><code>      a = unwrap(a);
</code></td></tr><tr><td id="L5802" class="css-a4x74f"><span>5802</span></td><td id="LC5802" class="css-1dcdqdg"><code>      b = unwrap(b);
</code></td></tr><tr><td id="L5803" class="css-a4x74f"><span>5803</span></td><td id="LC5803" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> areArrays = className === <span class="code-string">"[object Array]"</span>;
</code></td></tr><tr><td id="L5804" class="css-a4x74f"><span>5804</span></td><td id="LC5804" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (!areArrays) {
</code></td></tr><tr><td id="L5805" class="css-a4x74f"><span>5805</span></td><td id="LC5805" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> a != <span class="code-string">"object"</span> || <span class="code-keyword">typeof</span> b != <span class="code-string">"object"</span>) {
</code></td></tr><tr><td id="L5806" class="css-a4x74f"><span>5806</span></td><td id="LC5806" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5807" class="css-a4x74f"><span>5807</span></td><td id="LC5807" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5808" class="css-a4x74f"><span>5808</span></td><td id="LC5808" class="css-1dcdqdg"><code>        <span class="code-comment">// Objects with different constructors are not equivalent, but `Object`s or `Array`s</span>
</code></td></tr><tr><td id="L5809" class="css-a4x74f"><span>5809</span></td><td id="LC5809" class="css-1dcdqdg"><code>        <span class="code-comment">// from different frames are.</span>
</code></td></tr><tr><td id="L5810" class="css-a4x74f"><span>5810</span></td><td id="LC5810" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> aCtor = a.constructor,
</code></td></tr><tr><td id="L5811" class="css-a4x74f"><span>5811</span></td><td id="LC5811" class="css-1dcdqdg"><code>          bCtor = b.constructor;
</code></td></tr><tr><td id="L5812" class="css-a4x74f"><span>5812</span></td><td id="LC5812" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (aCtor !== bCtor &amp;&amp; !(isFunction(aCtor) &amp;&amp; aCtor <span class="code-keyword">instanceof</span> aCtor &amp;&amp; isFunction(bCtor) &amp;&amp; bCtor <span class="code-keyword">instanceof</span> bCtor) &amp;&amp; <span class="code-string">"constructor"</span> <span class="code-keyword">in</span> a &amp;&amp; <span class="code-string">"constructor"</span> <span class="code-keyword">in</span> b) {
</code></td></tr><tr><td id="L5813" class="css-a4x74f"><span>5813</span></td><td id="LC5813" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5814" class="css-a4x74f"><span>5814</span></td><td id="LC5814" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5815" class="css-a4x74f"><span>5815</span></td><td id="LC5815" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5816" class="css-a4x74f"><span>5816</span></td><td id="LC5816" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (depth === <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L5817" class="css-a4x74f"><span>5817</span></td><td id="LC5817" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5818" class="css-a4x74f"><span>5818</span></td><td id="LC5818" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (depth &lt; <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L5819" class="css-a4x74f"><span>5819</span></td><td id="LC5819" class="css-1dcdqdg"><code>        depth = <span class="code-number">-1</span>;
</code></td></tr><tr><td id="L5820" class="css-a4x74f"><span>5820</span></td><td id="LC5820" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5821" class="css-a4x74f"><span>5821</span></td><td id="LC5821" class="css-1dcdqdg"><code>      <span class="code-comment">// Assume equality for cyclic structures. The algorithm for detecting cyclic</span>
</code></td></tr><tr><td id="L5822" class="css-a4x74f"><span>5822</span></td><td id="LC5822" class="css-1dcdqdg"><code>      <span class="code-comment">// structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.</span>
</code></td></tr><tr><td id="L5823" class="css-a4x74f"><span>5823</span></td><td id="LC5823" class="css-1dcdqdg"><code>      <span class="code-comment">// Initializing stack of traversed objects.</span>
</code></td></tr><tr><td id="L5824" class="css-a4x74f"><span>5824</span></td><td id="LC5824" class="css-1dcdqdg"><code>      <span class="code-comment">// It's done here since we only need them for objects and arrays comparison.</span>
</code></td></tr><tr><td id="L5825" class="css-a4x74f"><span>5825</span></td><td id="LC5825" class="css-1dcdqdg"><code>      aStack = aStack || [];
</code></td></tr><tr><td id="L5826" class="css-a4x74f"><span>5826</span></td><td id="LC5826" class="css-1dcdqdg"><code>      bStack = bStack || [];
</code></td></tr><tr><td id="L5827" class="css-a4x74f"><span>5827</span></td><td id="LC5827" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> length = aStack.length;
</code></td></tr><tr><td id="L5828" class="css-a4x74f"><span>5828</span></td><td id="LC5828" class="css-1dcdqdg"><code>      <span class="code-keyword">while</span> (length--) {
</code></td></tr><tr><td id="L5829" class="css-a4x74f"><span>5829</span></td><td id="LC5829" class="css-1dcdqdg"><code>        <span class="code-comment">// Linear search. Performance is inversely proportional to the number of</span>
</code></td></tr><tr><td id="L5830" class="css-a4x74f"><span>5830</span></td><td id="LC5830" class="css-1dcdqdg"><code>        <span class="code-comment">// unique nested structures.</span>
</code></td></tr><tr><td id="L5831" class="css-a4x74f"><span>5831</span></td><td id="LC5831" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (aStack[length] === a) {
</code></td></tr><tr><td id="L5832" class="css-a4x74f"><span>5832</span></td><td id="LC5832" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> bStack[length] === b;
</code></td></tr><tr><td id="L5833" class="css-a4x74f"><span>5833</span></td><td id="LC5833" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5834" class="css-a4x74f"><span>5834</span></td><td id="LC5834" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5835" class="css-a4x74f"><span>5835</span></td><td id="LC5835" class="css-1dcdqdg"><code>      <span class="code-comment">// Add the first object to the stack of traversed objects.</span>
</code></td></tr><tr><td id="L5836" class="css-a4x74f"><span>5836</span></td><td id="LC5836" class="css-1dcdqdg"><code>      aStack.push(a);
</code></td></tr><tr><td id="L5837" class="css-a4x74f"><span>5837</span></td><td id="LC5837" class="css-1dcdqdg"><code>      bStack.push(b);
</code></td></tr><tr><td id="L5838" class="css-a4x74f"><span>5838</span></td><td id="LC5838" class="css-1dcdqdg"><code>      <span class="code-comment">// Recursively compare objects and arrays.</span>
</code></td></tr><tr><td id="L5839" class="css-a4x74f"><span>5839</span></td><td id="LC5839" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (areArrays) {
</code></td></tr><tr><td id="L5840" class="css-a4x74f"><span>5840</span></td><td id="LC5840" class="css-1dcdqdg"><code>        <span class="code-comment">// Compare array lengths to determine if a deep comparison is necessary.</span>
</code></td></tr><tr><td id="L5841" class="css-a4x74f"><span>5841</span></td><td id="LC5841" class="css-1dcdqdg"><code>        length = a.length;
</code></td></tr><tr><td id="L5842" class="css-a4x74f"><span>5842</span></td><td id="LC5842" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (length !== b.length) {
</code></td></tr><tr><td id="L5843" class="css-a4x74f"><span>5843</span></td><td id="LC5843" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5844" class="css-a4x74f"><span>5844</span></td><td id="LC5844" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5845" class="css-a4x74f"><span>5845</span></td><td id="LC5845" class="css-1dcdqdg"><code>        <span class="code-comment">// Deep compare the contents, ignoring non-numeric properties.</span>
</code></td></tr><tr><td id="L5846" class="css-a4x74f"><span>5846</span></td><td id="LC5846" class="css-1dcdqdg"><code>        <span class="code-keyword">while</span> (length--) {
</code></td></tr><tr><td id="L5847" class="css-a4x74f"><span>5847</span></td><td id="LC5847" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!eq(a[length], b[length], depth - <span class="code-number">1</span>, aStack, bStack)) {
</code></td></tr><tr><td id="L5848" class="css-a4x74f"><span>5848</span></td><td id="LC5848" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5849" class="css-a4x74f"><span>5849</span></td><td id="LC5849" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5850" class="css-a4x74f"><span>5850</span></td><td id="LC5850" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5851" class="css-a4x74f"><span>5851</span></td><td id="LC5851" class="css-1dcdqdg"><code>      } <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L5852" class="css-a4x74f"><span>5852</span></td><td id="LC5852" class="css-1dcdqdg"><code>        <span class="code-comment">// Deep compare objects.</span>
</code></td></tr><tr><td id="L5853" class="css-a4x74f"><span>5853</span></td><td id="LC5853" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> keys = <span class="code-built_in">Object</span>.keys(a);
</code></td></tr><tr><td id="L5854" class="css-a4x74f"><span>5854</span></td><td id="LC5854" class="css-1dcdqdg"><code>        <span class="code-keyword">var</span> key;
</code></td></tr><tr><td id="L5855" class="css-a4x74f"><span>5855</span></td><td id="LC5855" class="css-1dcdqdg"><code>        length = keys.length;
</code></td></tr><tr><td id="L5856" class="css-a4x74f"><span>5856</span></td><td id="LC5856" class="css-1dcdqdg"><code>        <span class="code-comment">// Ensure that both objects contain the same number of properties before comparing deep equality.</span>
</code></td></tr><tr><td id="L5857" class="css-a4x74f"><span>5857</span></td><td id="LC5857" class="css-1dcdqdg"><code>        <span class="code-keyword">if</span> (<span class="code-built_in">Object</span>.keys(b).length !== length) {
</code></td></tr><tr><td id="L5858" class="css-a4x74f"><span>5858</span></td><td id="LC5858" class="css-1dcdqdg"><code>          <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5859" class="css-a4x74f"><span>5859</span></td><td id="LC5859" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5860" class="css-a4x74f"><span>5860</span></td><td id="LC5860" class="css-1dcdqdg"><code>        <span class="code-keyword">while</span> (length--) {
</code></td></tr><tr><td id="L5861" class="css-a4x74f"><span>5861</span></td><td id="LC5861" class="css-1dcdqdg"><code>          <span class="code-comment">// Deep compare each member</span>
</code></td></tr><tr><td id="L5862" class="css-a4x74f"><span>5862</span></td><td id="LC5862" class="css-1dcdqdg"><code>          key = keys[length];
</code></td></tr><tr><td id="L5863" class="css-a4x74f"><span>5863</span></td><td id="LC5863" class="css-1dcdqdg"><code>          <span class="code-keyword">if</span> (!(hasProp(b, key) &amp;&amp; eq(a[key], b[key], depth - <span class="code-number">1</span>, aStack, bStack))) {
</code></td></tr><tr><td id="L5864" class="css-a4x74f"><span>5864</span></td><td id="LC5864" class="css-1dcdqdg"><code>            <span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5865" class="css-a4x74f"><span>5865</span></td><td id="LC5865" class="css-1dcdqdg"><code>          }
</code></td></tr><tr><td id="L5866" class="css-a4x74f"><span>5866</span></td><td id="LC5866" class="css-1dcdqdg"><code>        }
</code></td></tr><tr><td id="L5867" class="css-a4x74f"><span>5867</span></td><td id="LC5867" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5868" class="css-a4x74f"><span>5868</span></td><td id="LC5868" class="css-1dcdqdg"><code>      <span class="code-comment">// Remove the first object from the stack of traversed objects.</span>
</code></td></tr><tr><td id="L5869" class="css-a4x74f"><span>5869</span></td><td id="LC5869" class="css-1dcdqdg"><code>      aStack.pop();
</code></td></tr><tr><td id="L5870" class="css-a4x74f"><span>5870</span></td><td id="LC5870" class="css-1dcdqdg"><code>      bStack.pop();
</code></td></tr><tr><td id="L5871" class="css-a4x74f"><span>5871</span></td><td id="LC5871" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L5872" class="css-a4x74f"><span>5872</span></td><td id="LC5872" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5873" class="css-a4x74f"><span>5873</span></td><td id="LC5873" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">unwrap</span>(<span class="code-params">a</span>) </span>{
</code></td></tr><tr><td id="L5874" class="css-a4x74f"><span>5874</span></td><td id="LC5874" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isObservableArray(a)) {
</code></td></tr><tr><td id="L5875" class="css-a4x74f"><span>5875</span></td><td id="LC5875" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> a.slice();
</code></td></tr><tr><td id="L5876" class="css-a4x74f"><span>5876</span></td><td id="LC5876" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5877" class="css-a4x74f"><span>5877</span></td><td id="LC5877" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isES6Map(a) || isObservableMap(a)) {
</code></td></tr><tr><td id="L5878" class="css-a4x74f"><span>5878</span></td><td id="LC5878" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-built_in">Array</span>.from(a.entries());
</code></td></tr><tr><td id="L5879" class="css-a4x74f"><span>5879</span></td><td id="LC5879" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5880" class="css-a4x74f"><span>5880</span></td><td id="LC5880" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (isES6Set(a) || isObservableSet(a)) {
</code></td></tr><tr><td id="L5881" class="css-a4x74f"><span>5881</span></td><td id="LC5881" class="css-1dcdqdg"><code>        <span class="code-keyword">return</span> <span class="code-built_in">Array</span>.from(a.entries());
</code></td></tr><tr><td id="L5882" class="css-a4x74f"><span>5882</span></td><td id="LC5882" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5883" class="css-a4x74f"><span>5883</span></td><td id="LC5883" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> a;
</code></td></tr><tr><td id="L5884" class="css-a4x74f"><span>5884</span></td><td id="LC5884" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5885" class="css-a4x74f"><span>5885</span></td><td id="LC5885" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5886" class="css-a4x74f"><span>5886</span></td><td id="LC5886" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> _getGlobal$Iterator;
</code></td></tr><tr><td id="L5887" class="css-a4x74f"><span>5887</span></td><td id="LC5887" class="css-1dcdqdg"><code>    <span class="code-comment">// safely get iterator prototype if available</span>
</code></td></tr><tr><td id="L5888" class="css-a4x74f"><span>5888</span></td><td id="LC5888" class="css-1dcdqdg"><code>    <span class="code-keyword">var</span> maybeIteratorPrototype = ((_getGlobal$Iterator = <span class="code-comment">/*#__PURE__*/</span>getGlobal().Iterator) == <span class="code-literal">null</span> ? <span class="code-keyword">void</span> <span class="code-number">0</span> : _getGlobal$Iterator.prototype) || {};
</code></td></tr><tr><td id="L5889" class="css-a4x74f"><span>5889</span></td><td id="LC5889" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">makeIterable</span>(<span class="code-params">iterator</span>) </span>{
</code></td></tr><tr><td id="L5890" class="css-a4x74f"><span>5890</span></td><td id="LC5890" class="css-1dcdqdg"><code>      iterator[<span class="code-built_in">Symbol</span>.iterator] = getSelf;
</code></td></tr><tr><td id="L5891" class="css-a4x74f"><span>5891</span></td><td id="LC5891" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(maybeIteratorPrototype), iterator);
</code></td></tr><tr><td id="L5892" class="css-a4x74f"><span>5892</span></td><td id="LC5892" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5893" class="css-a4x74f"><span>5893</span></td><td id="LC5893" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getSelf</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5894" class="css-a4x74f"><span>5894</span></td><td id="LC5894" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5895" class="css-a4x74f"><span>5895</span></td><td id="LC5895" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5896" class="css-a4x74f"><span>5896</span></td><td id="LC5896" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5897" class="css-a4x74f"><span>5897</span></td><td id="LC5897" class="css-1dcdqdg"><code>    <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isAnnotation</span>(<span class="code-params">thing</span>) </span>{
</code></td></tr><tr><td id="L5898" class="css-a4x74f"><span>5898</span></td><td id="LC5898" class="css-1dcdqdg"><code>      <span class="code-keyword">return</span> (
</code></td></tr><tr><td id="L5899" class="css-a4x74f"><span>5899</span></td><td id="LC5899" class="css-1dcdqdg"><code>        <span class="code-comment">// Can be function</span>
</code></td></tr><tr><td id="L5900" class="css-a4x74f"><span>5900</span></td><td id="LC5900" class="css-1dcdqdg"><code>        thing <span class="code-keyword">instanceof</span> <span class="code-built_in">Object</span> &amp;&amp; <span class="code-keyword">typeof</span> thing.annotationType_ === <span class="code-string">"string"</span> &amp;&amp; isFunction(thing.make_) &amp;&amp; isFunction(thing.extend_)
</code></td></tr><tr><td id="L5901" class="css-a4x74f"><span>5901</span></td><td id="LC5901" class="css-1dcdqdg"><code>      );
</code></td></tr><tr><td id="L5902" class="css-a4x74f"><span>5902</span></td><td id="LC5902" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5903" class="css-a4x74f"><span>5903</span></td><td id="LC5903" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5904" class="css-a4x74f"><span>5904</span></td><td id="LC5904" class="css-1dcdqdg"><code>    <span class="code-comment">/**
</span></code></td></tr><tr><td id="L5905" class="css-a4x74f"><span>5905</span></td><td id="LC5905" class="css-1dcdqdg"><code><span class="code-comment">     * (c) Michel Weststrate 2015 - 2020
</span></code></td></tr><tr><td id="L5906" class="css-a4x74f"><span>5906</span></td><td id="LC5906" class="css-1dcdqdg"><code><span class="code-comment">     * MIT Licensed
</span></code></td></tr><tr><td id="L5907" class="css-a4x74f"><span>5907</span></td><td id="LC5907" class="css-1dcdqdg"><code><span class="code-comment">     *
</span></code></td></tr><tr><td id="L5908" class="css-a4x74f"><span>5908</span></td><td id="LC5908" class="css-1dcdqdg"><code><span class="code-comment">     * Welcome to the mobx sources! To get a global overview of how MobX internally works,
</span></code></td></tr><tr><td id="L5909" class="css-a4x74f"><span>5909</span></td><td id="LC5909" class="css-1dcdqdg"><code><span class="code-comment">     * this is a good place to start:
</span></code></td></tr><tr><td id="L5910" class="css-a4x74f"><span>5910</span></td><td id="LC5910" class="css-1dcdqdg"><code><span class="code-comment">     * https://medium.com/@mweststrate/becoming-fully-reactive-an-in-depth-explanation-of-mobservable-55995262a254#.xvbh6qd74
</span></code></td></tr><tr><td id="L5911" class="css-a4x74f"><span>5911</span></td><td id="LC5911" class="css-1dcdqdg"><code><span class="code-comment">     *
</span></code></td></tr><tr><td id="L5912" class="css-a4x74f"><span>5912</span></td><td id="LC5912" class="css-1dcdqdg"><code><span class="code-comment">     * Source folders:
</span></code></td></tr><tr><td id="L5913" class="css-a4x74f"><span>5913</span></td><td id="LC5913" class="css-1dcdqdg"><code><span class="code-comment">     * ===============
</span></code></td></tr><tr><td id="L5914" class="css-a4x74f"><span>5914</span></td><td id="LC5914" class="css-1dcdqdg"><code><span class="code-comment">     *
</span></code></td></tr><tr><td id="L5915" class="css-a4x74f"><span>5915</span></td><td id="LC5915" class="css-1dcdqdg"><code><span class="code-comment">     * - api/     Most of the public static methods exposed by the module can be found here.
</span></code></td></tr><tr><td id="L5916" class="css-a4x74f"><span>5916</span></td><td id="LC5916" class="css-1dcdqdg"><code><span class="code-comment">     * - core/    Implementation of the MobX algorithm; atoms, derivations, reactions, dependency trees, optimizations. Cool stuff can be found here.
</span></code></td></tr><tr><td id="L5917" class="css-a4x74f"><span>5917</span></td><td id="LC5917" class="css-1dcdqdg"><code><span class="code-comment">     * - types/   All the magic that is need to have observable objects, arrays and values is in this folder. Including the modifiers like `asFlat`.
</span></code></td></tr><tr><td id="L5918" class="css-a4x74f"><span>5918</span></td><td id="LC5918" class="css-1dcdqdg"><code><span class="code-comment">     * - utils/   Utility stuff.
</span></code></td></tr><tr><td id="L5919" class="css-a4x74f"><span>5919</span></td><td id="LC5919" class="css-1dcdqdg"><code><span class="code-comment">     *
</span></code></td></tr><tr><td id="L5920" class="css-a4x74f"><span>5920</span></td><td id="LC5920" class="css-1dcdqdg"><code><span class="code-comment">     */</span>
</code></td></tr><tr><td id="L5921" class="css-a4x74f"><span>5921</span></td><td id="LC5921" class="css-1dcdqdg"><code>    [<span class="code-string">"Symbol"</span>, <span class="code-string">"Map"</span>, <span class="code-string">"Set"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">m</span>) </span>{
</code></td></tr><tr><td id="L5922" class="css-a4x74f"><span>5922</span></td><td id="LC5922" class="css-1dcdqdg"><code>      <span class="code-keyword">var</span> g = getGlobal();
</code></td></tr><tr><td id="L5923" class="css-a4x74f"><span>5923</span></td><td id="LC5923" class="css-1dcdqdg"><code>      <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> g[m] === <span class="code-string">"undefined"</span>) {
</code></td></tr><tr><td id="L5924" class="css-a4x74f"><span>5924</span></td><td id="LC5924" class="css-1dcdqdg"><code>        die(<span class="code-string">"MobX requires global '"</span> + m + <span class="code-string">"' to be available or polyfilled"</span>);
</code></td></tr><tr><td id="L5925" class="css-a4x74f"><span>5925</span></td><td id="LC5925" class="css-1dcdqdg"><code>      }
</code></td></tr><tr><td id="L5926" class="css-a4x74f"><span>5926</span></td><td id="LC5926" class="css-1dcdqdg"><code>    });
</code></td></tr><tr><td id="L5927" class="css-a4x74f"><span>5927</span></td><td id="LC5927" class="css-1dcdqdg"><code>    <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> __MOBX_DEVTOOLS_GLOBAL_HOOK__ === <span class="code-string">"object"</span>) {
</code></td></tr><tr><td id="L5928" class="css-a4x74f"><span>5928</span></td><td id="LC5928" class="css-1dcdqdg"><code>      <span class="code-comment">// See: https://github.com/andykog/mobx-devtools/</span>
</code></td></tr><tr><td id="L5929" class="css-a4x74f"><span>5929</span></td><td id="LC5929" class="css-1dcdqdg"><code>      __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({
</code></td></tr><tr><td id="L5930" class="css-a4x74f"><span>5930</span></td><td id="LC5930" class="css-1dcdqdg"><code>        spy: spy,
</code></td></tr><tr><td id="L5931" class="css-a4x74f"><span>5931</span></td><td id="LC5931" class="css-1dcdqdg"><code>        extras: {
</code></td></tr><tr><td id="L5932" class="css-a4x74f"><span>5932</span></td><td id="LC5932" class="css-1dcdqdg"><code>          getDebugName: getDebugName
</code></td></tr><tr><td id="L5933" class="css-a4x74f"><span>5933</span></td><td id="LC5933" class="css-1dcdqdg"><code>        },
</code></td></tr><tr><td id="L5934" class="css-a4x74f"><span>5934</span></td><td id="LC5934" class="css-1dcdqdg"><code>        $mobx: $mobx
</code></td></tr><tr><td id="L5935" class="css-a4x74f"><span>5935</span></td><td id="LC5935" class="css-1dcdqdg"><code>      });
</code></td></tr><tr><td id="L5936" class="css-a4x74f"><span>5936</span></td><td id="LC5936" class="css-1dcdqdg"><code>    }
</code></td></tr><tr><td id="L5937" class="css-a4x74f"><span>5937</span></td><td id="LC5937" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5938" class="css-a4x74f"><span>5938</span></td><td id="LC5938" class="css-1dcdqdg"><code>    exports.$mobx = $mobx;
</code></td></tr><tr><td id="L5939" class="css-a4x74f"><span>5939</span></td><td id="LC5939" class="css-1dcdqdg"><code>    exports.FlowCancellationError = FlowCancellationError;
</code></td></tr><tr><td id="L5940" class="css-a4x74f"><span>5940</span></td><td id="LC5940" class="css-1dcdqdg"><code>    exports.ObservableMap = ObservableMap;
</code></td></tr><tr><td id="L5941" class="css-a4x74f"><span>5941</span></td><td id="LC5941" class="css-1dcdqdg"><code>    exports.ObservableSet = ObservableSet;
</code></td></tr><tr><td id="L5942" class="css-a4x74f"><span>5942</span></td><td id="LC5942" class="css-1dcdqdg"><code>    exports.Reaction = Reaction;
</code></td></tr><tr><td id="L5943" class="css-a4x74f"><span>5943</span></td><td id="LC5943" class="css-1dcdqdg"><code>    exports._allowStateChanges = allowStateChanges;
</code></td></tr><tr><td id="L5944" class="css-a4x74f"><span>5944</span></td><td id="LC5944" class="css-1dcdqdg"><code>    exports._allowStateChangesInsideComputed = runInAction;
</code></td></tr><tr><td id="L5945" class="css-a4x74f"><span>5945</span></td><td id="LC5945" class="css-1dcdqdg"><code>    exports._allowStateReadsEnd = allowStateReadsEnd;
</code></td></tr><tr><td id="L5946" class="css-a4x74f"><span>5946</span></td><td id="LC5946" class="css-1dcdqdg"><code>    exports._allowStateReadsStart = allowStateReadsStart;
</code></td></tr><tr><td id="L5947" class="css-a4x74f"><span>5947</span></td><td id="LC5947" class="css-1dcdqdg"><code>    exports._autoAction = autoAction;
</code></td></tr><tr><td id="L5948" class="css-a4x74f"><span>5948</span></td><td id="LC5948" class="css-1dcdqdg"><code>    exports._endAction = _endAction;
</code></td></tr><tr><td id="L5949" class="css-a4x74f"><span>5949</span></td><td id="LC5949" class="css-1dcdqdg"><code>    exports._getAdministration = getAdministration;
</code></td></tr><tr><td id="L5950" class="css-a4x74f"><span>5950</span></td><td id="LC5950" class="css-1dcdqdg"><code>    exports._getGlobalState = getGlobalState;
</code></td></tr><tr><td id="L5951" class="css-a4x74f"><span>5951</span></td><td id="LC5951" class="css-1dcdqdg"><code>    exports._interceptReads = interceptReads;
</code></td></tr><tr><td id="L5952" class="css-a4x74f"><span>5952</span></td><td id="LC5952" class="css-1dcdqdg"><code>    exports._isComputingDerivation = isComputingDerivation;
</code></td></tr><tr><td id="L5953" class="css-a4x74f"><span>5953</span></td><td id="LC5953" class="css-1dcdqdg"><code>    exports._resetGlobalState = resetGlobalState;
</code></td></tr><tr><td id="L5954" class="css-a4x74f"><span>5954</span></td><td id="LC5954" class="css-1dcdqdg"><code>    exports._startAction = _startAction;
</code></td></tr><tr><td id="L5955" class="css-a4x74f"><span>5955</span></td><td id="LC5955" class="css-1dcdqdg"><code>    exports.action = action;
</code></td></tr><tr><td id="L5956" class="css-a4x74f"><span>5956</span></td><td id="LC5956" class="css-1dcdqdg"><code>    exports.autorun = autorun;
</code></td></tr><tr><td id="L5957" class="css-a4x74f"><span>5957</span></td><td id="LC5957" class="css-1dcdqdg"><code>    exports.comparer = comparer;
</code></td></tr><tr><td id="L5958" class="css-a4x74f"><span>5958</span></td><td id="LC5958" class="css-1dcdqdg"><code>    exports.computed = computed;
</code></td></tr><tr><td id="L5959" class="css-a4x74f"><span>5959</span></td><td id="LC5959" class="css-1dcdqdg"><code>    exports.configure = configure;
</code></td></tr><tr><td id="L5960" class="css-a4x74f"><span>5960</span></td><td id="LC5960" class="css-1dcdqdg"><code>    exports.createAtom = createAtom;
</code></td></tr><tr><td id="L5961" class="css-a4x74f"><span>5961</span></td><td id="LC5961" class="css-1dcdqdg"><code>    exports.defineProperty = apiDefineProperty;
</code></td></tr><tr><td id="L5962" class="css-a4x74f"><span>5962</span></td><td id="LC5962" class="css-1dcdqdg"><code>    exports.entries = entries;
</code></td></tr><tr><td id="L5963" class="css-a4x74f"><span>5963</span></td><td id="LC5963" class="css-1dcdqdg"><code>    exports.extendObservable = extendObservable;
</code></td></tr><tr><td id="L5964" class="css-a4x74f"><span>5964</span></td><td id="LC5964" class="css-1dcdqdg"><code>    exports.flow = flow;
</code></td></tr><tr><td id="L5965" class="css-a4x74f"><span>5965</span></td><td id="LC5965" class="css-1dcdqdg"><code>    exports.flowResult = flowResult;
</code></td></tr><tr><td id="L5966" class="css-a4x74f"><span>5966</span></td><td id="LC5966" class="css-1dcdqdg"><code>    exports.get = <span class="code-keyword">get</span>;
</code></td></tr><tr><td id="L5967" class="css-a4x74f"><span>5967</span></td><td id="LC5967" class="css-1dcdqdg"><code>    exports.getAtom = getAtom;
</code></td></tr><tr><td id="L5968" class="css-a4x74f"><span>5968</span></td><td id="LC5968" class="css-1dcdqdg"><code>    exports.getDebugName = getDebugName;
</code></td></tr><tr><td id="L5969" class="css-a4x74f"><span>5969</span></td><td id="LC5969" class="css-1dcdqdg"><code>    exports.getDependencyTree = getDependencyTree;
</code></td></tr><tr><td id="L5970" class="css-a4x74f"><span>5970</span></td><td id="LC5970" class="css-1dcdqdg"><code>    exports.getObserverTree = getObserverTree;
</code></td></tr><tr><td id="L5971" class="css-a4x74f"><span>5971</span></td><td id="LC5971" class="css-1dcdqdg"><code>    exports.has = has;
</code></td></tr><tr><td id="L5972" class="css-a4x74f"><span>5972</span></td><td id="LC5972" class="css-1dcdqdg"><code>    exports.intercept = intercept;
</code></td></tr><tr><td id="L5973" class="css-a4x74f"><span>5973</span></td><td id="LC5973" class="css-1dcdqdg"><code>    exports.isAction = isAction;
</code></td></tr><tr><td id="L5974" class="css-a4x74f"><span>5974</span></td><td id="LC5974" class="css-1dcdqdg"><code>    exports.isBoxedObservable = isObservableValue;
</code></td></tr><tr><td id="L5975" class="css-a4x74f"><span>5975</span></td><td id="LC5975" class="css-1dcdqdg"><code>    exports.isComputed = isComputed;
</code></td></tr><tr><td id="L5976" class="css-a4x74f"><span>5976</span></td><td id="LC5976" class="css-1dcdqdg"><code>    exports.isComputedProp = isComputedProp;
</code></td></tr><tr><td id="L5977" class="css-a4x74f"><span>5977</span></td><td id="LC5977" class="css-1dcdqdg"><code>    exports.isFlow = isFlow;
</code></td></tr><tr><td id="L5978" class="css-a4x74f"><span>5978</span></td><td id="LC5978" class="css-1dcdqdg"><code>    exports.isFlowCancellationError = isFlowCancellationError;
</code></td></tr><tr><td id="L5979" class="css-a4x74f"><span>5979</span></td><td id="LC5979" class="css-1dcdqdg"><code>    exports.isObservable = isObservable;
</code></td></tr><tr><td id="L5980" class="css-a4x74f"><span>5980</span></td><td id="LC5980" class="css-1dcdqdg"><code>    exports.isObservableArray = isObservableArray;
</code></td></tr><tr><td id="L5981" class="css-a4x74f"><span>5981</span></td><td id="LC5981" class="css-1dcdqdg"><code>    exports.isObservableMap = isObservableMap;
</code></td></tr><tr><td id="L5982" class="css-a4x74f"><span>5982</span></td><td id="LC5982" class="css-1dcdqdg"><code>    exports.isObservableObject = isObservableObject;
</code></td></tr><tr><td id="L5983" class="css-a4x74f"><span>5983</span></td><td id="LC5983" class="css-1dcdqdg"><code>    exports.isObservableProp = isObservableProp;
</code></td></tr><tr><td id="L5984" class="css-a4x74f"><span>5984</span></td><td id="LC5984" class="css-1dcdqdg"><code>    exports.isObservableSet = isObservableSet;
</code></td></tr><tr><td id="L5985" class="css-a4x74f"><span>5985</span></td><td id="LC5985" class="css-1dcdqdg"><code>    exports.keys = keys;
</code></td></tr><tr><td id="L5986" class="css-a4x74f"><span>5986</span></td><td id="LC5986" class="css-1dcdqdg"><code>    exports.makeAutoObservable = makeAutoObservable;
</code></td></tr><tr><td id="L5987" class="css-a4x74f"><span>5987</span></td><td id="LC5987" class="css-1dcdqdg"><code>    exports.makeObservable = makeObservable;
</code></td></tr><tr><td id="L5988" class="css-a4x74f"><span>5988</span></td><td id="LC5988" class="css-1dcdqdg"><code>    exports.observable = observable;
</code></td></tr><tr><td id="L5989" class="css-a4x74f"><span>5989</span></td><td id="LC5989" class="css-1dcdqdg"><code>    exports.observe = observe;
</code></td></tr><tr><td id="L5990" class="css-a4x74f"><span>5990</span></td><td id="LC5990" class="css-1dcdqdg"><code>    exports.onBecomeObserved = onBecomeObserved;
</code></td></tr><tr><td id="L5991" class="css-a4x74f"><span>5991</span></td><td id="LC5991" class="css-1dcdqdg"><code>    exports.onBecomeUnobserved = onBecomeUnobserved;
</code></td></tr><tr><td id="L5992" class="css-a4x74f"><span>5992</span></td><td id="LC5992" class="css-1dcdqdg"><code>    exports.onReactionError = onReactionError;
</code></td></tr><tr><td id="L5993" class="css-a4x74f"><span>5993</span></td><td id="LC5993" class="css-1dcdqdg"><code>    exports.override = override;
</code></td></tr><tr><td id="L5994" class="css-a4x74f"><span>5994</span></td><td id="LC5994" class="css-1dcdqdg"><code>    exports.ownKeys = apiOwnKeys;
</code></td></tr><tr><td id="L5995" class="css-a4x74f"><span>5995</span></td><td id="LC5995" class="css-1dcdqdg"><code>    exports.reaction = reaction;
</code></td></tr><tr><td id="L5996" class="css-a4x74f"><span>5996</span></td><td id="LC5996" class="css-1dcdqdg"><code>    exports.remove = remove;
</code></td></tr><tr><td id="L5997" class="css-a4x74f"><span>5997</span></td><td id="LC5997" class="css-1dcdqdg"><code>    exports.runInAction = runInAction;
</code></td></tr><tr><td id="L5998" class="css-a4x74f"><span>5998</span></td><td id="LC5998" class="css-1dcdqdg"><code>    exports.<span class="code-keyword">set</span> = <span class="code-keyword">set</span>;
</code></td></tr><tr><td id="L5999" class="css-a4x74f"><span>5999</span></td><td id="LC5999" class="css-1dcdqdg"><code>    exports.spy = spy;
</code></td></tr><tr><td id="L6000" class="css-a4x74f"><span>6000</span></td><td id="LC6000" class="css-1dcdqdg"><code>    exports.toJS = toJS;
</code></td></tr><tr><td id="L6001" class="css-a4x74f"><span>6001</span></td><td id="LC6001" class="css-1dcdqdg"><code>    exports.trace = trace;
</code></td></tr><tr><td id="L6002" class="css-a4x74f"><span>6002</span></td><td id="LC6002" class="css-1dcdqdg"><code>    exports.transaction = transaction;
</code></td></tr><tr><td id="L6003" class="css-a4x74f"><span>6003</span></td><td id="LC6003" class="css-1dcdqdg"><code>    exports.untracked = untracked;
</code></td></tr><tr><td id="L6004" class="css-a4x74f"><span>6004</span></td><td id="LC6004" class="css-1dcdqdg"><code>    exports.values = values;
</code></td></tr><tr><td id="L6005" class="css-a4x74f"><span>6005</span></td><td id="LC6005" class="css-1dcdqdg"><code>    exports.when = when;
</code></td></tr><tr><td id="L6006" class="css-a4x74f"><span>6006</span></td><td id="LC6006" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6007" class="css-a4x74f"><span>6007</span></td><td id="LC6007" class="css-1dcdqdg"><code>    Object.defineProperty(exports, '__esModule', { value: <span class="code-literal">true</span> });
</code></td></tr><tr><td id="L6008" class="css-a4x74f"><span>6008</span></td><td id="LC6008" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6009" class="css-a4x74f"><span>6009</span></td><td id="LC6009" class="css-1dcdqdg"><code>})));
</code></td></tr><tr><td id="L6010" class="css-a4x74f"><span>6010</span></td><td id="LC6010" class="css-1dcdqdg"><code><span class="code-comment">//# sourceMappingURL=mobx.umd.development.js.map</span>
</code></td></tr></tbody></table></div></div></div></div><style data-emotion-css="1teho9j">.css-1teho9j{margin-top:5rem;background:black;color:#aaa;}</style><footer class="css-1teho9j"><style data-emotion-css="1ui8put">.css-1ui8put{max-width:940px;padding:10px 20px;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><div class="css-1ui8put"><p><span>Build: <!-- -->a7ebffa</span></p><p><span> <!-- -->2024<!-- --> UNPKG</span></p><style data-emotion-css="la3nd4">.css-la3nd4{font-size:1.5rem;}</style><p class="css-la3nd4"><style data-emotion-css="bogekj">.css-bogekj{color:#aaa;display:inline-block;}.css-bogekj:hover{color:white;}</style><a href="https://twitter.com/unpkg" class="css-bogekj"><style data-emotion-css="i6dzq1">.css-i6dzq1{vertical-align:text-bottom;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="css-i6dzq1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><style data-emotion-css="3czw03">.css-3czw03{color:#aaa;display:inline-block;margin-left:1rem;}.css-3czw03:hover{color:white;}</style><a href="https://github.com/mjackson/unpkg" class="css-3czw03"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="css-i6dzq1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></p></div></footer></div><script src="/react@16.8.6/umd/react.production.min.js"></script><script src="/react-dom@16.8.6/umd/react-dom.production.min.js"></script><script src="/@emotion/core@10.0.6/dist/core.umd.min.js"></script><script>'use strict';(function(t,A,c){function w(){w=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var e=arguments[b],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}return a};return w.apply(this,arguments)}function P(a,b){if(null==a)return{};var e={},c=Object.keys(a),d;for(d=0;d<c.length;d++){var h=c[d];0<=b.indexOf(h)||(e[h]=a[h])}return e}function Q(a,b){b||(b=a.slice(0));a.raw=b;return a}function R(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,
"default")?a["default"]:a}function D(a,b){return b={exports:{}},a(b,b.exports),b.exports}function J(a,b,e,c,d){for(var g in a)if(ua(a,g)){try{if("function"!==typeof a[g]){var r=Error((c||"React class")+": "+e+" type `"+g+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[g]+"`.");r.name="Invariant Violation";throw r;}var k=a[g](b,g,c,e,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(q){k=q}!k||k instanceof Error||K((c||"React class")+": type specification of "+
e+" `"+g+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof k+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).");if(k instanceof Error&&!(k.message in L)){L[k.message]=!0;var B=d?d():"";K("Failed "+e+" type: "+k.message+(null!=B?B:""))}}}function G(){return null}function S(a){var b,e=a.children;a=a.css;return c.jsx("div",{css:w((b={border:"1px solid #dfe2e5",
borderRadius:3},b["@media (max-width: 700px)"]={borderRightWidth:0,borderLeftWidth:0},b),a)},e)}function T(a){var b,e=a.children;a=a.css;return c.jsx("div",{css:w((b={padding:10,background:"#f6f8fa",color:"#424242",border:"1px solid #d1d5da",borderTopLeftRadius:3,borderTopRightRadius:3,margin:"-1px -1px 0",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},b["@media (max-width: 700px)"]={paddingRight:20,paddingLeft:20},b),a)},e)}function U(a){return a&&a.map(function(a,
c){return t.createElement(a.tag,z({key:c},a.attr),U(a.child))})}function E(a){return function(b){return t.createElement(va,z({attr:z({},a.attr)},b),U(a.child))}}function va(a){var b=function(b){var c=a.size||b.size||"1em";if(b.className)var e=b.className;a.className&&(e=(e?e+" ":"")+a.className);var h=a.attr,r=a.title,k=["attr","title"],B={},q;for(q in a)Object.prototype.hasOwnProperty.call(a,q)&&0>k.indexOf(q)&&(B[q]=a[q]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var p=0;for(q=
Object.getOwnPropertySymbols(a);p<q.length;p++)0>k.indexOf(q[p])&&(B[q[p]]=a[q[p]])}return t.createElement("svg",z({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},b.attr,h,B,{className:e,style:z({color:a.color||b.color},b.style,a.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),r&&t.createElement("title",null,r),a.children)};return void 0!==V?t.createElement(V.Consumer,null,function(a){return b(a)}):b(W)}function F(a,b){var e=b.css;b=P(b,["css"]);return c.jsx(a,w({css:w({},
e,{verticalAlign:"text-bottom"})},b))}function wa(a){return F(X,a)}function xa(a){return F(Y,a)}function ya(a){return F(Z,a)}function za(a){return F(aa,a)}function Aa(a){return F(ba,a)}function ca(a){var b=a.path,e=a.details,g=Object.keys(e).reduce(function(a,b){var c=a.subdirs,g=a.files;b=e[b];"directory"===b.type?c.push(b):"file"===b.type&&g.push(b);return a},{subdirs:[],files:[]});a=g.subdirs;g=g.files;a.sort(da("path"));g.sort(da("path"));var d=[];"/"!==b&&d.push(c.jsx("tr",{key:".."},c.jsx("td",
{css:M}),c.jsx("td",{css:y},c.jsx("a",{title:"Parent directory",href:"../",css:N},"..")),c.jsx("td",{css:y}),c.jsx("td",{css:O})));a.forEach(function(a){a=a.path.substr(1<b.length?b.length+1:1);var e=a+"/";d.push(c.jsx("tr",{key:a},c.jsx("td",{css:M},c.jsx(ya,null)),c.jsx("td",{css:y},c.jsx("a",{title:a,href:e,css:N},a)),c.jsx("td",{css:y},"-"),c.jsx("td",{css:O},"-")))});g.forEach(function(a){var e=a.size,g=a.contentType;a=a.path.substr(1<b.length?b.length+1:1);d.push(c.jsx("tr",{key:a},c.jsx("td",
{css:M},"text/plain"===g||"text/markdown"===g?c.jsx(wa,null):c.jsx(xa,null)),c.jsx("td",{css:y},c.jsx("a",{title:a,href:a,css:N},a)),c.jsx("td",{css:y},ea(e)),c.jsx("td",{css:O},g)))});var h=[];0<g.length&&h.push(g.length+" file"+(1===g.length?"":"s"));0<a.length&&h.push(a.length+" folder"+(1===a.length?"":"s"));return c.jsx(S,null,c.jsx(T,null,c.jsx("span",null,h.join(", "))),c.jsx("table",{css:{width:"100%",borderCollapse:"collapse",borderRadius:2,background:"#fff","@media (max-width: 700px)":{"& th + th + th + th, & td + td + td + td":{display:"none"}},
"& tr:first-of-type td":{borderTop:0}}},c.jsx("thead",null,c.jsx("tr",null,c.jsx("th",null,c.jsx(H,null,"Icon")),c.jsx("th",null,c.jsx(H,null,"Name")),c.jsx("th",null,c.jsx(H,null,"Size")),c.jsx("th",null,c.jsx(H,null,"Content Type")))),c.jsx("tbody",null,d)))}function Ba(a){a=a.split("/");return a[a.length-1]}function Ca(a){var b=a.uri;return c.jsx("div",{css:{padding:20,textAlign:"center"}},c.jsx("img",{alt:Ba(a.path),src:b}))}function Da(a){a=a.highlights.slice(0);var b=a.length&&""===a[a.length-
1];b&&a.pop();return c.jsx("div",{className:"code-listing",css:{overflowX:"auto",overflowY:"hidden",paddingTop:5,paddingBottom:5}},c.jsx("table",{css:{border:"none",borderCollapse:"collapse",borderSpacing:0}},c.jsx("tbody",null,a.map(function(a,b){var e=b+1;return c.jsx("tr",{key:b},c.jsx("td",{id:"L"+e,css:{paddingLeft:10,paddingRight:10,color:"rgba(27,31,35,.3)",textAlign:"right",verticalAlign:"top",width:"1%",minWidth:50,userSelect:"none"}},c.jsx("span",null,e)),c.jsx("td",{id:"LC"+e,css:{paddingLeft:10,
paddingRight:10,color:"#24292e",whiteSpace:"pre"}},c.jsx("code",{dangerouslySetInnerHTML:{__html:a}})))}),!b&&c.jsx("tr",{key:"no-newline"},c.jsx("td",{css:{paddingLeft:10,paddingRight:10,color:"rgba(27,31,35,.3)",textAlign:"right",verticalAlign:"top",width:"1%",minWidth:50,userSelect:"none"}},"\\"),c.jsx("td",{css:{paddingLeft:10,color:"rgba(27,31,35,.3)",userSelect:"none"}},"No newline at end of file")))))}function Ea(){return c.jsx("div",{css:{padding:20}},c.jsx("p",{css:{textAlign:"center"}},
"No preview available."))}function fa(a){var b=a.packageName,e=a.packageVersion,g=a.path;a=a.details;var d=a.highlights,h=a.uri,r=a.language;return c.jsx(S,null,c.jsx(T,null,c.jsx("span",null,ea(a.size)),c.jsx("span",null,r),c.jsx("span",null,c.jsx("a",{href:"/"+b+"@"+e+g,css:{display:"inline-block",marginLeft:8,padding:"2px 8px",textDecoration:"none",fontWeight:600,fontSize:"0.9rem",color:"#24292e",backgroundColor:"#eff3f6",border:"1px solid rgba(27,31,35,.2)",borderRadius:3,":hover":{backgroundColor:"#e6ebf1",
borderColor:"rgba(27,31,35,.35)"},":active":{backgroundColor:"#e9ecef",borderColor:"rgba(27,31,35,.35)",boxShadow:"inset 0 0.15em 0.3em rgba(27,31,35,.15)"}}},"View Raw"))),d?c.jsx(Da,{highlights:d}):h?c.jsx(Ca,{path:g,uri:h}):c.jsx(Ea,null))}function ha(){var a=Q(["\n  .code-listing {\n    background: #fbfdff;\n    color: #383a42;\n  }\n  .code-comment,\n  .code-quote {\n    color: #a0a1a7;\n    font-style: italic;\n  }\n  .code-doctag,\n  .code-keyword,\n  .code-link,\n  .code-formula {\n    color: #a626a4;\n  }\n  .code-section,\n  .code-name,\n  .code-selector-tag,\n  .code-deletion,\n  .code-subst {\n    color: #e45649;\n  }\n  .code-literal {\n    color: #0184bb;\n  }\n  .code-string,\n  .code-regexp,\n  .code-addition,\n  .code-attribute,\n  .code-meta-string {\n    color: #50a14f;\n  }\n  .code-built_in,\n  .code-class .code-title {\n    color: #c18401;\n  }\n  .code-attr,\n  .code-variable,\n  .code-template-variable,\n  .code-type,\n  .code-selector-class,\n  .code-selector-attr,\n  .code-selector-pseudo,\n  .code-number {\n    color: #986801;\n  }\n  .code-symbol,\n  .code-bullet,\n  .code-meta,\n  .code-selector-id,\n  .code-title {\n    color: #4078f2;\n  }\n  .code-emphasis {\n    font-style: italic;\n  }\n  .code-strong {\n    font-weight: bold;\n  }\n"]);
ha=function(){return a};return a}function ia(){var a=Q(["\n  html {\n    box-sizing: border-box;\n  }\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n\n  html,\n  body,\n  #root {\n    height: 100%;\n    margin: 0;\n  }\n\n  body {\n    ","\n    font-size: 16px;\n    line-height: 1.5;\n    overflow-wrap: break-word;\n    background: white;\n    color: black;\n  }\n\n  code {\n    ","\n  }\n\n  th,\n  td {\n    padding: 0;\n  }\n\n  select {\n    font-size: inherit;\n  }\n\n  #root {\n    display: flex;\n    flex-direction: column;\n  }\n"]);
ia=function(){return a};return a}function ja(a){var b=a.css;a=P(a,["css"]);return c.jsx("a",w({},a,{css:w({color:"#0076ff",textDecoration:"none",":hover":{textDecoration:"underline"}},b)}))}function Fa(){return c.jsx("header",{css:{marginTop:"2rem"}},c.jsx("h1",{css:{textAlign:"center",fontSize:"3rem",letterSpacing:"0.05em"}},c.jsx("a",{href:"/",css:{color:"#000",textDecoration:"none"}},"UNPKG")))}function Ga(a){var b=a.packageName,e=a.packageVersion,g=a.availableVersions;a=a.filename;var d=[];if("/"===
a)d.push(b);else{var h="/browse/"+b+"@"+e;d.push(c.jsx(ja,{href:h+"/"},b));b=a.replace(/^\/+/,"").replace(/\/+$/,"").split("/");a=b.pop();b.forEach(function(a){h+="/"+a;d.push(c.jsx(ja,{href:h+"/"},a))});d.push(a)}return c.jsx("header",{css:{display:"flex",flexDirection:"row",alignItems:"center","@media (max-width: 700px)":{flexDirection:"column-reverse",alignItems:"flex-start"}}},c.jsx("h1",{css:{fontSize:"1.5rem",fontWeight:"normal",flex:1,wordBreak:"break-all"}},c.jsx("nav",null,d.map(function(a,
b,e){return c.jsx(t.Fragment,{key:b},0!==b&&c.jsx("span",{css:{paddingLeft:5,paddingRight:5}},"/"),b===e.length-1?c.jsx("strong",null,a):a)}))),c.jsx(Ha,{packageVersion:e,availableVersions:g,onChange:function(a){window.location.href=window.location.href.replace("@"+e,"@"+a)}}))}function Ha(a){var b=a.onChange;return c.jsx("p",{css:{marginLeft:20,"@media (max-width: 700px)":{marginLeft:0,marginBottom:0}}},c.jsx("label",null,"Version:"," ",c.jsx("select",{name:"version",defaultValue:a.packageVersion,
onChange:function(a){b&&b(a.target.value)},css:{appearance:"none",cursor:"pointer",padding:"4px 24px 4px 8px",fontWeight:600,fontSize:"0.9em",color:"#24292e",border:"1px solid rgba(27,31,35,.2)",borderRadius:3,backgroundColor:"#eff3f6",backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAARFJREFUKBVjZAACNS39RhBNKrh17WI9o4quoT3Dn78HSNUMUs/CzOTI/O7Vi4dCYpJ3/jP+92BkYGAlyiBGhm8MjIxJt65e3MQM0vDu9YvLYmISILYZELOBxHABRkaGr0yMzF23r12YDFIDNgDEePv65SEhEXENBkYGFSAXuyGMjF8Z/jOsvX3tYiFIDwgwQSgIaaijnvj/P8M5IO8HsjiY/f//D4b//88A1SQhywG9jQr09PS4v/1mPAeUUPzP8B8cJowMjL+Bqu6xMQmaXL164AuyDgwDQJLa2qYSP//9vARkCoMVMzK8YeVkNbh+9uxzMB+JwGoASF5Vx0jz/98/18BqmZi171w9D2EjaaYKEwAEK00XQLdJuwAAAABJRU5ErkJggg==)",
backgroundPosition:"right 8px center",backgroundRepeat:"no-repeat",backgroundSize:"auto 25%",":hover":{backgroundColor:"#e6ebf1",borderColor:"rgba(27,31,35,.35)"},":active":{backgroundColor:"#e9ecef",borderColor:"rgba(27,31,35,.35)",boxShadow:"inset 0 0.15em 0.3em rgba(27,31,35,.15)"}}},a.availableVersions.map(function(a){return c.jsx("option",{key:a,value:a},a)}))))}function Ia(a){var b=a.packageName,e=a.packageVersion;a=a.target;return"directory"===a.type?c.jsx(ca,{path:a.path,details:a.details}):
"file"===a.type?c.jsx(fa,{packageName:b,packageVersion:e,path:a.path,details:a.details}):null}function ka(a){var b=a.packageName,e=a.packageVersion,g=a.availableVersions;g=void 0===g?[]:g;var d=a.filename;a=a.target;return c.jsx(t.Fragment,null,c.jsx(c.Global,{styles:Ja}),c.jsx(c.Global,{styles:Ka}),c.jsx("div",{css:{flex:"1 0 auto"}},c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto"}},c.jsx(Fa,null)),c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto"}},c.jsx(Ga,{packageName:b,
packageVersion:e,availableVersions:g,filename:d})),c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto","@media (max-width: 700px)":{padding:0,margin:0}}},c.jsx(Ia,{packageName:b,packageVersion:e,target:a}))),c.jsx("footer",{css:{marginTop:"5rem",background:"black",color:"#aaa"}},c.jsx("div",{css:{maxWidth:940,padding:"10px 20px",margin:"0 auto",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},c.jsx("p",null,c.jsx("span",null,"Build: ","a7ebffa")),
c.jsx("p",null,c.jsx("span",null,"\u00a9 ",(new Date).getFullYear()," UNPKG")),c.jsx("p",{css:{fontSize:"1.5rem"}},c.jsx("a",{href:"https://twitter.com/unpkg",css:{color:"#aaa",display:"inline-block",":hover":{color:"white"}}},c.jsx(za,null)),c.jsx("a",{href:"https://github.com/mjackson/unpkg",css:{color:"#aaa",display:"inline-block",":hover":{color:"white"},marginLeft:"1rem"}},c.jsx(Aa,null))))))}var la="default"in t?t["default"]:t;A=A&&A.hasOwnProperty("default")?A["default"]:A;var La="undefined"!==
typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},m=D(function(a,b){function c(a){if("object"===typeof a&&null!==a){var b=a.$$typeof;switch(b){case d:switch(a=a.type,a){case l:case f:case r:case m:case k:case v:return a;default:switch(a=a&&a.$$typeof,a){case p:case n:case q:return a;default:return b}}case x:case u:case h:return b}}}function g(a){return c(a)===f}Object.defineProperty(b,"__esModule",{value:!0});var d=
(a="function"===typeof Symbol&&Symbol.for)?Symbol.for("react.element"):60103,h=a?Symbol.for("react.portal"):60106,r=a?Symbol.for("react.fragment"):60107,k=a?Symbol.for("react.strict_mode"):60108,m=a?Symbol.for("react.profiler"):60114,q=a?Symbol.for("react.provider"):60109,p=a?Symbol.for("react.context"):60110,l=a?Symbol.for("react.async_mode"):60111,f=a?Symbol.for("react.concurrent_mode"):60111,n=a?Symbol.for("react.forward_ref"):60112,v=a?Symbol.for("react.suspense"):60113,u=a?Symbol.for("react.memo"):
60115,x=a?Symbol.for("react.lazy"):60116;b.typeOf=c;b.AsyncMode=l;b.ConcurrentMode=f;b.ContextConsumer=p;b.ContextProvider=q;b.Element=d;b.ForwardRef=n;b.Fragment=r;b.Lazy=x;b.Memo=u;b.Portal=h;b.Profiler=m;b.StrictMode=k;b.Suspense=v;b.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===r||a===f||a===m||a===k||a===v||"object"===typeof a&&null!==a&&(a.$$typeof===x||a.$$typeof===u||a.$$typeof===q||a.$$typeof===p||a.$$typeof===n)};b.isAsyncMode=function(a){return g(a)||
c(a)===l};b.isConcurrentMode=g;b.isContextConsumer=function(a){return c(a)===p};b.isContextProvider=function(a){return c(a)===q};b.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===d};b.isForwardRef=function(a){return c(a)===n};b.isFragment=function(a){return c(a)===r};b.isLazy=function(a){return c(a)===x};b.isMemo=function(a){return c(a)===u};b.isPortal=function(a){return c(a)===h};b.isProfiler=function(a){return c(a)===m};b.isStrictMode=function(a){return c(a)===k};b.isSuspense=
function(a){return c(a)===v}});R(m);var na=D(function(a,b){(function(){function a(a){if("object"===typeof a&&null!==a){var b=a.$$typeof;switch(b){case h:switch(a=a.type,a){case f:case n:case k:case q:case m:case u:return a;default:switch(a=a&&a.$$typeof,a){case l:case v:case p:return a;default:return b}}case I:case x:case r:return b}}}function c(b){return a(b)===n}Object.defineProperty(b,"__esModule",{value:!0});var d="function"===typeof Symbol&&Symbol.for,h=d?Symbol.for("react.element"):60103,r=
d?Symbol.for("react.portal"):60106,k=d?Symbol.for("react.fragment"):60107,m=d?Symbol.for("react.strict_mode"):60108,q=d?Symbol.for("react.profiler"):60114,p=d?Symbol.for("react.provider"):60109,l=d?Symbol.for("react.context"):60110,f=d?Symbol.for("react.async_mode"):60111,n=d?Symbol.for("react.concurrent_mode"):60111,v=d?Symbol.for("react.forward_ref"):60112,u=d?Symbol.for("react.suspense"):60113,x=d?Symbol.for("react.memo"):60115,I=d?Symbol.for("react.lazy"):60116;d=function(){};var Ma=function(a){for(var b=
arguments.length,f=Array(1<b?b-1:0),c=1;c<b;c++)f[c-1]=arguments[c];var n=0;b="Warning: "+a.replace(/%s/g,function(){return f[n++]});"undefined"!==typeof console&&console.warn(b);try{throw Error(b);}catch(Xa){}},Na=d=function(a,b){if(void 0===b)throw Error("`lowPriorityWarning(condition, format, ...args)` requires a warning message argument");if(!a){for(var f=arguments.length,c=Array(2<f?f-2:0),n=2;n<f;n++)c[n-2]=arguments[n];Ma.apply(void 0,[b].concat(c))}},ma=!1;b.typeOf=a;b.AsyncMode=f;b.ConcurrentMode=
n;b.ContextConsumer=l;b.ContextProvider=p;b.Element=h;b.ForwardRef=v;b.Fragment=k;b.Lazy=I;b.Memo=x;b.Portal=r;b.Profiler=q;b.StrictMode=m;b.Suspense=u;b.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===k||a===n||a===q||a===m||a===u||"object"===typeof a&&null!==a&&(a.$$typeof===I||a.$$typeof===x||a.$$typeof===p||a.$$typeof===l||a.$$typeof===v)};b.isAsyncMode=function(b){ma||(ma=!0,Na(!1,"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API."));
return c(b)||a(b)===f};b.isConcurrentMode=c;b.isContextConsumer=function(b){return a(b)===l};b.isContextProvider=function(b){return a(b)===p};b.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===h};b.isForwardRef=function(b){return a(b)===v};b.isFragment=function(b){return a(b)===k};b.isLazy=function(b){return a(b)===I};b.isMemo=function(b){return a(b)===x};b.isPortal=function(b){return a(b)===r};b.isProfiler=function(b){return a(b)===q};b.isStrictMode=function(b){return a(b)===
m};b.isSuspense=function(b){return a(b)===u}})()});R(na);var oa=D(function(a){a.exports=na}),pa=Object.getOwnPropertySymbols,Oa=Object.prototype.hasOwnProperty,Pa=Object.prototype.propertyIsEnumerable,Qa=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;var b={};for(a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=
a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?!1:!0}catch(g){return!1}}()?Object.assign:function(a,b){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");var c=Object(a);for(var g,d=1;d<arguments.length;d++){var h=Object(arguments[d]);for(var r in h)Oa.call(h,r)&&(c[r]=h[r]);if(pa){g=pa(h);for(var k=0;k<g.length;k++)Pa.call(h,g[k])&&(c[g[k]]=h[g[k]])}}return c},K=function(){},L={},ua=Function.call.bind(Object.prototype.hasOwnProperty);
K=function(a){a="Warning: "+a;"undefined"!==typeof console&&console.error(a);try{throw Error(a);}catch(b){}};J.resetWarningCache=function(){L={}};var Ra=Function.call.bind(Object.prototype.hasOwnProperty),C=function(){};C=function(a){a="Warning: "+a;"undefined"!==typeof console&&console.error(a);try{throw Error(a);}catch(b){}};var Sa=function(a,b){function c(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}function g(a){this.message=a;this.stack=""}function d(a){function c(c,n,v,d,e,u,h){d=d||"<<anonymous>>";
u=u||v;if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==h){if(b)throw c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),c.name="Invariant Violation",c;"undefined"!==typeof console&&(h=d+":"+v,!f[h]&&3>l&&(C("You are manually calling a React.PropTypes validation function for the `"+u+"` prop on `"+d+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),
f[h]=!0,l++))}return null==n[v]?c?null===n[v]?new g("The "+e+" `"+u+"` is marked as required "+("in `"+d+"`, but its value is `null`.")):new g("The "+e+" `"+u+"` is marked as required in "+("`"+d+"`, but its value is `undefined`.")):null:a(n,v,d,e,u)}var f={},l=0,d=c.bind(null,!1);d.isRequired=c.bind(null,!0);return d}function h(a){return d(function(b,c,f,d,l,e){b=b[c];return k(b)!==a?(b=m(b),new g("Invalid "+d+" `"+l+"` of type "+("`"+b+"` supplied to `"+f+"`, expected ")+("`"+a+"`."))):null})}function r(b){switch(typeof b){case "number":case "string":case "undefined":return!0;
case "boolean":return!b;case "object":if(Array.isArray(b))return b.every(r);if(null===b||a(b))return!0;var c=b&&(p&&b[p]||b["@@iterator"]);var f="function"===typeof c?c:void 0;if(f)if(c=f.call(b),f!==b.entries)for(;!(b=c.next()).done;){if(!r(b.value))return!1}else for(;!(b=c.next()).done;){if((b=b.value)&&!r(b[1]))return!1}else return!1;return!0;default:return!1}}function k(a){var b=typeof a;return Array.isArray(a)?"array":a instanceof RegExp?"object":"symbol"===b||a&&("Symbol"===a["@@toStringTag"]||
"function"===typeof Symbol&&a instanceof Symbol)?"symbol":b}function m(a){if("undefined"===typeof a||null===a)return""+a;var b=k(a);if("object"===b){if(a instanceof Date)return"date";if(a instanceof RegExp)return"regexp"}return b}function q(a){a=m(a);switch(a){case "array":case "object":return"an "+a;case "boolean":case "date":case "regexp":return"a "+a;default:return a}}var p="function"===typeof Symbol&&Symbol.iterator,l={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),
string:h("string"),symbol:h("symbol"),any:d(G),arrayOf:function(a){return d(function(b,c,f,d,l){if("function"!==typeof a)return new g("Property `"+l+"` of component `"+f+"` has invalid PropType notation inside arrayOf.");b=b[c];if(!Array.isArray(b))return b=k(b),new g("Invalid "+d+" `"+l+"` of type "+("`"+b+"` supplied to `"+f+"`, expected an array."));for(c=0;c<b.length;c++){var n=a(b,c,f,d,l+"["+c+"]","SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");if(n instanceof Error)return n}return null})},
element:function(){return d(function(b,c,d,l,e){b=b[c];return a(b)?null:(b=k(b),new g("Invalid "+l+" `"+e+"` of type "+("`"+b+"` supplied to `"+d+"`, expected a single ReactElement.")))})}(),elementType:function(){return d(function(a,b,c,d,l){a=a[b];return oa.isValidElementType(a)?null:(a=k(a),new g("Invalid "+d+" `"+l+"` of type "+("`"+a+"` supplied to `"+c+"`, expected a single ReactElement type.")))})}(),instanceOf:function(a){return d(function(b,c,f,d,l){if(!(b[c]instanceof a)){var n=a.name||
"<<anonymous>>";b=b[c];b=b.constructor&&b.constructor.name?b.constructor.name:"<<anonymous>>";return new g("Invalid "+d+" `"+l+"` of type "+("`"+b+"` supplied to `"+f+"`, expected ")+("instance of `"+n+"`."))}return null})},node:function(){return d(function(a,b,c,d,l){return r(a[b])?null:new g("Invalid "+d+" `"+l+"` supplied to "+("`"+c+"`, expected a ReactNode."))})}(),objectOf:function(a){return d(function(b,c,f,d,l){if("function"!==typeof a)return new g("Property `"+l+"` of component `"+f+"` has invalid PropType notation inside objectOf.");
b=b[c];c=k(b);if("object"!==c)return new g("Invalid "+d+" `"+l+"` of type "+("`"+c+"` supplied to `"+f+"`, expected an object."));for(var n in b)if(Ra(b,n)&&(c=a(b,n,f,d,l+"."+n,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"),c instanceof Error))return c;return null})},oneOf:function(a){return Array.isArray(a)?d(function(b,f,d,l,e){b=b[f];for(f=0;f<a.length;f++)if(c(b,a[f]))return null;f=JSON.stringify(a,function(a,b){return"symbol"===m(b)?String(b):b});return new g("Invalid "+l+" `"+e+"` of value `"+
String(b)+"` "+("supplied to `"+d+"`, expected one of "+f+"."))}):(1<arguments.length?C("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):C("Invalid argument supplied to oneOf, expected an array."),G)},oneOfType:function(a){if(!Array.isArray(a))return C("Invalid argument supplied to oneOfType, expected an instance of array."),G;for(var b=0;b<a.length;b++){var c=a[b];if("function"!==
typeof c)return C("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+q(c)+" at index "+b+"."),G}return d(function(b,c,f,d,l){for(var e=0;e<a.length;e++)if(null==(0,a[e])(b,c,f,d,l,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return null;return new g("Invalid "+d+" `"+l+"` supplied to "+("`"+f+"`."))})},shape:function(a){return d(function(b,c,d,l,f){b=b[c];c=k(b);if("object"!==c)return new g("Invalid "+l+" `"+f+"` of type `"+c+"` "+("supplied to `"+d+"`, expected `object`."));
for(var e in a)if(c=a[e])if(c=c(b,e,d,l,f+"."+e,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return c;return null})},exact:function(a){return d(function(b,c,d,l,f){var e=b[c],n=k(e);if("object"!==n)return new g("Invalid "+l+" `"+f+"` of type `"+n+"` "+("supplied to `"+d+"`, expected `object`."));n=Qa({},b[c],a);for(var h in n){n=a[h];if(!n)return new g("Invalid "+l+" `"+f+"` key `"+h+"` supplied to `"+d+"`.\nBad object: "+JSON.stringify(b[c],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(a),
null,"  "));if(n=n(e,h,d,l,f+"."+h,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return n}return null})}};g.prototype=Error.prototype;l.checkPropTypes=J;l.resetWarningCache=J.resetWarningCache;return l.PropTypes=l};m=D(function(a){a.exports=Sa(oa.isElement,!0)});var Ta=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],g;for(g in c)Object.prototype.hasOwnProperty.call(c,g)&&(a[g]=c[g])}return a},Ua={border:0,clip:"rect(0 0 0 0)",height:"1px",width:"1px",margin:"-1px",
padding:0,overflow:"hidden",position:"absolute"},H=function(a){return la.createElement("div",Ta({style:Ua},a))},qa=D(function(a){(function(b,c){a.exports=c()})(La,function(){function a(a){if(!a)return!0;if(!d(a)||0!==a.length)for(var b in a)if(q.call(a,b))return!1;return!0}function c(a){return"number"===typeof a||"[object Number]"===t.call(a)}function g(a){return"string"===typeof a||"[object String]"===t.call(a)}function d(a){return"object"===typeof a&&"number"===typeof a.length&&"[object Array]"===
t.call(a)}function h(a){var b=parseInt(a);return b.toString()===a?b:a}function m(b,d,e,k){c(d)&&(d=[d]);if(a(d))return b;if(g(d))return m(b,d.split("."),e,k);var f=h(d[0]);if(1===d.length)return d=b[f],void 0!==d&&k||(b[f]=e),d;void 0===b[f]&&(c(f)?b[f]=[]:b[f]={});return m(b[f],d.slice(1),e,k)}function k(b,f){c(f)&&(f=[f]);if(!a(b)){if(a(f))return b;if(g(f))return k(b,f.split("."));var e=h(f[0]),l=b[e];if(1===f.length)void 0!==l&&(d(b)?b.splice(e,1):delete b[e]);else if(void 0!==b[e])return k(b[e],
f.slice(1));return b}}var t=Object.prototype.toString,q=Object.prototype.hasOwnProperty,p={ensureExists:function(a,b,c){return m(a,b,c,!0)},set:function(a,b,c,d){return m(a,b,c,d)},insert:function(a,b,c,e){var f=p.get(a,b);e=~~e;d(f)||(f=[],p.set(a,b,f));f.splice(e,0,c)},empty:function(b,f){if(a(f))return b;if(!a(b)){var e,h;if(!(e=p.get(b,f)))return b;if(g(e))return p.set(b,f,"");if("boolean"===typeof e||"[object Boolean]"===t.call(e))return p.set(b,f,!1);if(c(e))return p.set(b,f,0);if(d(e))e.length=
0;else if("object"===typeof e&&"[object Object]"===t.call(e))for(h in e)q.call(e,h)&&delete e[h];else return p.set(b,f,null)}},push:function(a,b){var c=p.get(a,b);d(c)||(c=[],p.set(a,b,c));c.push.apply(c,Array.prototype.slice.call(arguments,2))},coalesce:function(a,b,c){for(var d,e=0,f=b.length;e<f;e++)if(void 0!==(d=p.get(a,b[e])))return d;return c},get:function(b,d,e){c(d)&&(d=[d]);if(a(d))return b;if(a(b))return e;if(g(d))return p.get(b,d.split("."),e);var f=h(d[0]);return 1===d.length?void 0===
b[f]?e:b[f]:p.get(b[f],d.slice(1),e)},del:function(a,b){return k(a,b)}};return p})});var ra=function(a){return function(b){return typeof b===a}};var Va=function(a,b){var c=1,g=b||function(a,b){return b};"-"===a[0]&&(c=-1,a=a.substr(1));return function(b,e){var d;b=g(a,qa.get(b,a));e=g(a,qa.get(e,a));b<e&&(d=-1);b>e&&(d=1);b===e&&(d=0);return d*c}};var da=function(){var a=Array.prototype.slice.call(arguments),b=a.filter(ra("string")),c=a.filter(ra("function"))[0];return function(a,d){for(var e=b.length,
g=0,k=0;0===g&&k<e;)g=Va(b[k],c)(a,d),k++;return g}};let sa="B kB MB GB TB PB EB ZB YB".split(" "),ta=(a,b)=>{let c=a;"string"===typeof b?c=a.toLocaleString(b):!0===b&&(c=a.toLocaleString());return c};var ea=(a,b)=>{if(!Number.isFinite(a))throw new TypeError(`Expected a finite number, got ${typeof a}: ${a}`);b=Object.assign({},b);if(b.signed&&0===a)return" 0 B";var c=0>a;let g=c?"-":b.signed?"+":"";c&&(a=-a);if(1>a)return a=ta(a,b.locale),g+a+" B";c=Math.min(Math.floor(Math.log10(a)/3),sa.length-
1);a=Number((a/Math.pow(1E3,c)).toPrecision(3));a=ta(a,b.locale);return g+a+" "+sa[c]},W={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},V=t.createContext&&t.createContext(W),z=function(){z=Object.assign||function(a){for(var b,c=1,g=arguments.length;c<g;c++){b=arguments[c];for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])}return a};return z.apply(this,arguments)},Y=function(a){return E({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",
d:"M8.5 1H1c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V4.5L8.5 1zM11 14H1V2h7l3 3v9zM5 6.98L3.5 8.5 5 10l-.5 1L2 8.5 4.5 6l.5.98zM7.5 6L10 8.5 7.5 11l-.5-.98L8.5 8.5 7 7l.5-1z"}}]})(a)};Y.displayName="GoFileCode";var Z=function(a){return E({tag:"svg",attr:{viewBox:"0 0 14 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M13 4H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zM6 4H1V3h5v1z"}}]})(a)};Z.displayName="GoFileDirectory";var X=function(a){return E({tag:"svg",
attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"}}]})(a)};X.displayName="GoFile";var ba=function(a){return E({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(a)};
ba.displayName="FaGithub";var aa=function(a){return E({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(a)};
aa.displayName="FaTwitter";var N={color:"#0076ff",textDecoration:"none",":hover":{textDecoration:"underline"}},y={paddingTop:6,paddingRight:3,paddingBottom:6,paddingLeft:3,borderTop:"1px solid #eaecef"},M=w({},y,{color:"#424242",width:17,paddingRight:2,paddingLeft:10,"@media (max-width: 700px)":{paddingLeft:20}}),O=w({},y,{textAlign:"right",paddingRight:10,"@media (max-width: 700px)":{paddingRight:20}});ca.propTypes={path:m.string.isRequired,details:m.objectOf(m.shape({path:m.string.isRequired,type:m.oneOf(["directory",
"file"]).isRequired,contentType:m.string,integrity:m.string,size:m.number})).isRequired};fa.propTypes={path:m.string.isRequired,details:m.shape({contentType:m.string.isRequired,highlights:m.arrayOf(m.string),uri:m.string,integrity:m.string.isRequired,language:m.string.isRequired,size:m.number.isRequired}).isRequired};var Ja=c.css(ia(),'\nfont-family: -apple-system,\n  BlinkMacSystemFont,\n  "Segoe UI",\n  "Roboto",\n  "Oxygen",\n  "Ubuntu",\n  "Cantarell",\n  "Fira Sans",\n  "Droid Sans",\n  "Helvetica Neue",\n  sans-serif;\n',
"\nfont-family: Menlo,\n  Monaco,\n  Lucida Console,\n  Liberation Mono,\n  DejaVu Sans Mono,\n  Bitstream Vera Sans Mono,\n  Courier New,\n  monospace;\n"),Ka=c.css(ha()),Wa=m.shape({path:m.string.isRequired,type:m.oneOf(["directory","file"]).isRequired,details:m.object.isRequired});ka.propTypes={packageName:m.string.isRequired,packageVersion:m.string.isRequired,availableVersions:m.arrayOf(m.string),filename:m.string.isRequired,target:Wa.isRequired};A.hydrate(la.createElement(ka,window.__DATA__||
{}),document.getElementById("root"))})(React,ReactDOM,emotionCore);
</script></body></html>